# node_modules vs Source Code - Clarification

**Date:** 2026-01-24  
**Question:** Does `front-end/node_modules` contain what's necessary to run `npm run dev`?

---

## Answer: Partially, but NOT completely

### What `node_modules` Contains

- ✅ **135,562 files** - npm dependencies (packages from `package.json`)
- ✅ **Third-party libraries** - React, Material-UI, Vite, etc.
- ✅ **Build tools** - TypeScript, ESLint, Prettier, etc.
- ✅ **Runtime dependencies** - Everything needed to **run** the application

### What `node_modules` Does NOT Contain

- ❌ **Your source code** - `front-end/src/` files (your application code)
- ❌ **Missing directories** - `views/`, `hooks/` (if they're part of your source)
- ❌ **Application logic** - Your React components, pages, features, etc.

---

## The Real Issue

### Current State

1. **`node_modules` is fine** ✅
   - Contains all dependencies
   - Can run `npm install` successfully
   - Dependencies are installed

2. **`front-end/src/` is incomplete** ⚠️
   - Missing `hooks/` directory (15 files)
   - Missing `views/` directory (233 files)
   - **34 files import from `@/hooks/`** - These will **FAIL**

### What Happens When You Run `npm run dev`

1. ✅ **Dependencies load** - `node_modules` provides React, Vite, etc.
2. ❌ **Import errors occur** - 34 files try to import from `@/hooks/` which doesn't exist
3. ❌ **Build fails** - Missing hooks cause compilation errors
4. ❌ **Application won't run** - Missing source code breaks the app

---

## Import Analysis

### Files Importing from `@/hooks/` (34 files)

These files **will fail** without the `hooks/` directory:

- `useClientManagement` - Used in 4 files
- `useComponentRegistry` - Used in 8 files
- `useLiturgicalCalendar` - Used in 1 file
- `useAuth` - Used in 1 file
- `useGlobalErrorStore` - Used in 3 files
- `useInspectorState` - Used in 1 file
- `useOcrJobs` - Used in 2 files
- And more...

### Hooks Available in `old-src/src/hooks/` (15 files)

1. `useClientManagement.ts`
2. `useComponentRegistry.ts`
3. `useDynamicMenuPermissions.ts`
4. `useFilteredMenuItems.ts`
5. `useGlobalErrorStore.tsx`
6. `useInspectorState.ts`
7. `useLiturgicalCalendar.ts`
8. `useLogFilter.ts`
9. `useLogStats.ts`
10. `useLogStream.ts`
11. `useOcrJobs.ts`
12. `useOcrSettings.ts`
13. `useOcrTests.ts`
14. `useOrthodoxCalendar.ts`
15. `useProfileSync.ts`

### Files Importing from `views/` (0 files)

- ✅ **No imports found** - `views/` directory may not be needed
- Router.tsx uses `features/` structure instead
- `views/` might be legacy code that's been migrated

---

## Conclusion

### What You Need to Run `npm run dev`

1. ✅ **`node_modules`** - Already present (dependencies)
2. ❌ **`front-end/src/hooks/`** - **MISSING** - **CRITICAL**
3. ⚠️ **`front-end/src/views/`** - Missing, but may not be needed

### Immediate Action Required

**Restore `hooks/` directory** from `front-end/old-src/src/hooks/` to `front-end/src/hooks/`

Without it, 34 files will fail to import, causing:
- Build errors
- Runtime errors
- Application won't start

### Optional Action

**`views/` directory** - Check if needed:
- No imports found in current codebase
- Router.tsx uses `features/` structure
- May be legacy code that's been migrated
- Can test without it first

---

## Summary

| Component | Status | Needed? | Impact if Missing |
|-----------|--------|---------|-------------------|
| `node_modules` | ✅ Present | ✅ Yes | Can't install dependencies |
| `hooks/` | ❌ Missing | ✅ **YES** | **34 imports will fail** |
| `views/` | ❌ Missing | ⚠️ Maybe | No imports found, may be legacy |

**Bottom Line:** `node_modules` has the dependencies, but you need your **source code** (`hooks/` directory) for the application to actually work.
