Cursor Prompt: Restore Full Records Displays (All Record Types, Full UI, Not Bare Minimum)

Goal: Restore the full “Records” UI (Baptism / Marriage / Funeral + any others you previously supported) with the professional-grade table experience (columns, search/filter, pagination, row actions, and the AG Grid/advanced mode where applicable). Right now the app is showing a bare-minimum display and only one record type.

Hard Requirements

Phase 1 must document current setup before changing anything. Identify what currently renders the bare-minimum view and why only one record type is reachable.

Restore all record types in the same UX style and routing pattern.

Preserve church context via church_id query param and ensure it works across all record types.

Do not introduce new “temporary” UIs. This must be production-grade.

If any new routes/pages are created, add them to Router.tsx and MenuItems.ts under Devel Tools (only if new pages are introduced).

Phase 1 — Current-State Mapping (Required)

Find the current route used by the screenshot URL:

/apps/records/baptism?church_id=46

Identify which component renders this page (file path + key render branch).

Determine why it’s “bare minimum”:

feature flag?

fallback component?

missing imports?

broken centralized records module?

Identify what the “full” records pages used to be:

search for prior implementations in:

front-end/src/features/records-centralized/...

front-end/src/features/records.old/...

Identify which one is the last known good “full display”.

Deliverable: docs/records/RECORDS_RESTORE_STATUS.md including:

current route → component → data hook

which “full UI” implementation should be restored (centralized vs old)

a table of record types and their current working/broken state

Phase 2 — Restore Multi Record-Type Routing

Ensure these routes work and render full UI:

/apps/records/baptism?church_id=:id

/apps/records/marriage?church_id=:id

/apps/records/funeral?church_id=:id
(plus any other record types you support)

Restore the navigation/selector so users can switch record type without changing URL manually.

Acceptance:

Each record type renders a fully populated table for church 46.

Switching record type does not lose church context.

Phase 3 — Restore “Full Display” Table Feature Set

For each record type page, restore:

consistent column sets (not truncated)

sorting + pagination

quick search + advanced filters (where previously supported)

row actions (view/edit/delete if previously present)

“Quick Facts” and any header widgets you previously had

optional “Advanced Grid / AG Grid” toggle if that existed and worked

Important: if you have two modes (normal vs AG), ensure:

both modes load data correctly

no infinite loading loops

no repeated fetch loops

unified data mapping layer used by both modes

Phase 4 — Verify Backend Data Contract Per Record Type

Identify backend endpoints used by the current UI for each record type.

Ensure each endpoint returns the expected schema for the restored UI.

If the UI expects fields that are currently missing, fix backend-first (preferred).

Acceptance:

Baptism/Marriage/Funeral tables all show real records (not empty).

No console errors from missing fields.

API responses match UI expectations.

Phase 5 — Regression Proof (Required)

Add a small dev-only smoke test helper (or a simple script) to hit:

baptism list

marriage list

funeral list
for church 46, and confirm:

200 responses

non-empty arrays (where data exists)

Update docs/records/RECORDS_RESTORE_STATUS.md with:

what was changed

what was verified

remaining known gaps (if any)

Stop when all record types are restored and the UI is no longer “bare minimum”.
