{"version":3,"file":"formatDate-DhH_eSW_.js","sources":["../../src/utils/formatDate.ts"],"sourcesContent":["/**\r\n * Centralized Date Formatting Utility\r\n * Safely formats date values for display in record grids\r\n * \r\n * Handles:\r\n * - ISO datetime strings (e.g., \"2005-01-03T05:00:00.000Z\")\r\n * - Date objects\r\n * - YYYY-MM-DD strings\r\n * - Null/undefined values\r\n * \r\n * Prevents timezone drift by extracting date portion only\r\n */\r\n\r\n/**\r\n * Format a record date value for display\r\n * Returns YYYY-MM-DD format (or empty string for null/undefined)\r\n * \r\n * @param value - Date value (ISO string, Date object, YYYY-MM-DD string, or null/undefined)\r\n * @returns Formatted date string (YYYY-MM-DD) or empty string\r\n */\r\nexport function formatRecordDate(value: string | Date | null | undefined): string {\r\n  // Handle null/undefined\r\n  if (value === null || value === undefined) {\r\n    return '';\r\n  }\r\n\r\n  // Handle empty string\r\n  if (typeof value === 'string' && value.trim() === '') {\r\n    return '';\r\n  }\r\n\r\n  // If already in YYYY-MM-DD format, return as-is\r\n  if (typeof value === 'string' && /^\\d{4}-\\d{2}-\\d{2}$/.test(value)) {\r\n    return value;\r\n  }\r\n\r\n  // Handle ISO datetime strings (e.g., \"2005-01-03T05:00:00.000Z\")\r\n  if (typeof value === 'string' && value.includes('T')) {\r\n    // Extract date portion before 'T' (safe, no timezone shift)\r\n    const datePart = value.split('T')[0];\r\n    // Validate it's a valid date format\r\n    if (/^\\d{4}-\\d{2}-\\d{2}$/.test(datePart)) {\r\n      return datePart;\r\n    }\r\n  }\r\n\r\n  // Handle Date objects\r\n  if (value instanceof Date) {\r\n    // Check if valid date\r\n    if (isNaN(value.getTime())) {\r\n      return '';\r\n    }\r\n    // Use UTC methods to prevent timezone drift\r\n    const year = value.getUTCFullYear();\r\n    const month = String(value.getUTCMonth() + 1).padStart(2, '0');\r\n    const day = String(value.getUTCDate()).padStart(2, '0');\r\n    return `${year}-${month}-${day}`;\r\n  }\r\n\r\n  // Try to parse as date string\r\n  if (typeof value === 'string') {\r\n    // Try parsing as ISO date first\r\n    const isoMatch = value.match(/^(\\d{4}-\\d{2}-\\d{2})/);\r\n    if (isoMatch) {\r\n      return isoMatch[1];\r\n    }\r\n\r\n    // Try creating a Date object and extracting UTC date\r\n    try {\r\n      const date = new Date(value);\r\n      if (!isNaN(date.getTime())) {\r\n        const year = date.getUTCFullYear();\r\n        const month = String(date.getUTCMonth() + 1).padStart(2, '0');\r\n        const day = String(date.getUTCDate()).padStart(2, '0');\r\n        return `${year}-${month}-${day}`;\r\n      }\r\n    } catch (e) {\r\n      // If parsing fails, return empty string\r\n      return '';\r\n    }\r\n  }\r\n\r\n  // Fallback: return empty string for unhandled types\r\n  return '';\r\n}\r\n\r\n/**\r\n * Format a record date with a fallback display value\r\n * Returns formatted date or \"—\" for empty values\r\n * \r\n * @param value - Date value\r\n * @param emptyDisplay - What to display for empty values (default: \"—\")\r\n * @returns Formatted date string or emptyDisplay\r\n */\r\nexport function formatRecordDateWithFallback(\r\n  value: string | Date | null | undefined,\r\n  emptyDisplay: string = '—'\r\n): string {\r\n  const formatted = formatRecordDate(value);\r\n  return formatted || emptyDisplay;\r\n}\r\n"],"names":["formatRecordDate","value","datePart","year","month","day","isoMatch","date","e"],"mappings":"AAoBO,SAASA,EAAiBC,EAAiD,CAOhF,GALIA,GAAU,MAKV,OAAOA,GAAU,UAAYA,EAAM,KAAA,IAAW,GAChD,MAAO,GAIT,GAAI,OAAOA,GAAU,UAAY,sBAAsB,KAAKA,CAAK,EAC/D,OAAOA,EAIT,GAAI,OAAOA,GAAU,UAAYA,EAAM,SAAS,GAAG,EAAG,CAEpD,MAAMC,EAAWD,EAAM,MAAM,GAAG,EAAE,CAAC,EAEnC,GAAI,sBAAsB,KAAKC,CAAQ,EACrC,OAAOA,CAEX,CAGA,GAAID,aAAiB,KAAM,CAEzB,GAAI,MAAMA,EAAM,QAAA,CAAS,EACvB,MAAO,GAGT,MAAME,EAAOF,EAAM,eAAA,EACbG,EAAQ,OAAOH,EAAM,YAAA,EAAgB,CAAC,EAAE,SAAS,EAAG,GAAG,EACvDI,EAAM,OAAOJ,EAAM,WAAA,CAAY,EAAE,SAAS,EAAG,GAAG,EACtD,MAAO,GAAGE,CAAI,IAAIC,CAAK,IAAIC,CAAG,EAChC,CAGA,GAAI,OAAOJ,GAAU,SAAU,CAE7B,MAAMK,EAAWL,EAAM,MAAM,sBAAsB,EACnD,GAAIK,EACF,OAAOA,EAAS,CAAC,EAInB,GAAI,CACF,MAAMC,EAAO,IAAI,KAAKN,CAAK,EAC3B,GAAI,CAAC,MAAMM,EAAK,QAAA,CAAS,EAAG,CAC1B,MAAMJ,EAAOI,EAAK,eAAA,EACZH,EAAQ,OAAOG,EAAK,YAAA,EAAgB,CAAC,EAAE,SAAS,EAAG,GAAG,EACtDF,EAAM,OAAOE,EAAK,WAAA,CAAY,EAAE,SAAS,EAAG,GAAG,EACrD,MAAO,GAAGJ,CAAI,IAAIC,CAAK,IAAIC,CAAG,EAChC,CACF,OAASG,EAAG,CAEV,MAAO,EACT,CACF,CAGA,MAAO,EACT"}