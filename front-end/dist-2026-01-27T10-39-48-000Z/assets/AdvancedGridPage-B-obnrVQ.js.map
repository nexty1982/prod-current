{"version":3,"file":"AdvancedGridPage-B-obnrVQ.js","sources":["../../src/components/AdvancedGridDialog.tsx","../../src/features/tables/AdvancedGridPage.tsx"],"sourcesContent":["/**\r\n * AdvancedGridDialog Component\r\n * \r\n * Dialog component for displaying advanced records grid with tabs for different record types.\r\n * This is a placeholder component that can be enhanced with full functionality.\r\n */\r\n\r\nimport React from 'react';\r\nimport { Dialog, DialogTitle, DialogContent, Box, Typography, CircularProgress } from '@mui/material';\r\n\r\ninterface AdvancedGridDialogProps {\r\n  open: boolean;\r\n  onClose: () => void;\r\n  datasets?: {\r\n    baptism?: any[];\r\n    marriage?: any[];\r\n    funeral?: any[];\r\n  };\r\n  counts?: {\r\n    baptism?: number;\r\n    marriage?: number;\r\n    funeral?: number;\r\n  };\r\n  recordType?: string;\r\n  loading?: boolean;\r\n  records?: any[]; // Legacy prop for backward compatibility\r\n}\r\n\r\nconst AdvancedGridDialog: React.FC<AdvancedGridDialogProps> = ({\r\n  open,\r\n  onClose,\r\n  datasets,\r\n  counts,\r\n  recordType = 'baptism',\r\n  loading = false,\r\n  records = []\r\n}) => {\r\n  const displayRecords = datasets?.[recordType as keyof typeof datasets] || records;\r\n  const recordCount = counts?.[recordType as keyof typeof counts] || records.length;\r\n\r\n  return (\r\n    <Dialog open={open} onClose={onClose} maxWidth=\"lg\" fullWidth>\r\n      <DialogTitle>\r\n        Records Grid - {recordType.charAt(0).toUpperCase() + recordType.slice(1)}\r\n      </DialogTitle>\r\n      <DialogContent>\r\n        {loading ? (\r\n          <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"200px\">\r\n            <CircularProgress />\r\n          </Box>\r\n        ) : (\r\n          <Box>\r\n            <Typography variant=\"body1\" gutterBottom>\r\n              Total Records: {recordCount}\r\n            </Typography>\r\n            <Typography variant=\"body2\" color=\"text.secondary\">\r\n              {displayRecords.length > 0 \r\n                ? `Displaying ${displayRecords.length} records`\r\n                : 'No records found'}\r\n            </Typography>\r\n            {/* TODO: Add actual grid/table component here when available */}\r\n          </Box>\r\n        )}\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default AdvancedGridDialog;\r\nexport { AdvancedGridDialog };\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useLocation, useSearchParams } from 'react-router-dom';\r\nimport { AdvancedGridDialog } from '@/components/AdvancedGridDialog';\r\n\r\ntype GridDatasets = {\r\n  baptism: any[];\r\n  marriage: any[];\r\n  funeral: any[];\r\n};\r\ntype GridCounts = { baptism: number; marriage: number; funeral: number };\r\n\r\nconst AdvancedGridPage: React.FC = () => {\r\n  const { state } = useLocation() as { state?: any };\r\n  const [sp] = useSearchParams();\r\n\r\n  const initialTab = (state?.table || sp.get('table') || 'baptism') as string;\r\n  const churchId = Number(state?.churchId || sp.get('churchId') || sp.get('church_id') || 46);\r\n  const search = String(state?.search || sp.get('search') || '');\r\n  const sortField = (state?.sortField || sp.get('sortField') || undefined) as string | undefined;\r\n  const sortDirection = (state?.sortDirection || sp.get('sortDirection') || 'desc') as 'asc' | 'desc';\r\n\r\n  const [datasets, setDatasets] = useState<GridDatasets>({ baptism: [], marriage: [], funeral: [] });\r\n  const [counts, setCounts] = useState<GridCounts>({ baptism: 0, marriage: 0, funeral: 0 });\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    // TODO: Restore recordsApi integration when available\r\n    // For now, set loading to false immediately with empty datasets\r\n    setLoading(false);\r\n  }, [churchId, search, sortField, sortDirection]);\r\n\r\n  return (\r\n    <AdvancedGridDialog\r\n      open={true}\r\n      onClose={() => window.history.back()}\r\n      datasets={datasets}\r\n      counts={counts}\r\n      recordType={initialTab}\r\n      loading={loading}\r\n    />\r\n  );\r\n};\r\n\r\nexport default AdvancedGridPage;\r\n"],"names":["AdvancedGridDialog","open","onClose","datasets","counts","recordType","loading","records","displayRecords","recordCount","Dialog","jsxs","DialogTitle","DialogContent","Box","jsx","CircularProgress","Typography","AdvancedGridPage","state","useLocation","sp","useSearchParams","initialTab","churchId","search","sortField","sortDirection","setDatasets","useState","setCounts","setLoading","useEffect"],"mappings":"0IA4BA,MAAMA,EAAwD,CAAC,CAC7D,KAAAC,EACA,QAAAC,EACA,SAAAC,EACA,OAAAC,EACA,WAAAC,EAAa,UACb,QAAAC,EAAU,GACV,QAAAC,EAAU,CAAA,CACZ,IAAM,CACJ,MAAMC,GAAiBL,GAAA,YAAAA,EAAWE,KAAwCE,EACpEE,GAAcL,GAAA,YAAAA,EAASC,KAAsCE,EAAQ,OAE3E,cACGG,EAAA,CAAO,KAAAT,EAAY,QAAAC,EAAkB,SAAS,KAAK,UAAS,GAC3D,SAAA,CAAAS,OAACC,EAAA,CAAY,SAAA,CAAA,kBACKP,EAAW,OAAO,CAAC,EAAE,cAAgBA,EAAW,MAAM,CAAC,CAAA,EACzE,QACCQ,EAAA,CACE,SAAAP,QACEQ,EAAA,CAAI,QAAQ,OAAO,eAAe,SAAS,WAAW,SAAS,UAAU,QACxE,SAAAC,EAAAA,IAACC,IAAiB,CAAA,CACpB,SAECF,EAAA,CACC,SAAA,CAAAH,EAAAA,KAACM,EAAA,CAAW,QAAQ,QAAQ,aAAY,GAAC,SAAA,CAAA,kBACvBR,CAAA,EAClB,EACAM,EAAAA,IAACE,EAAA,CAAW,QAAQ,QAAQ,MAAM,iBAC/B,SAAAT,EAAe,OAAS,EACrB,cAAcA,EAAe,MAAM,WACnC,kBAAA,CACN,CAAA,CAAA,CAEF,CAAA,CAEJ,CAAA,EACF,CAEJ,ECvDMU,EAA6B,IAAM,CACvC,KAAM,CAAE,MAAAC,CAAA,EAAUC,EAAA,EACZ,CAACC,CAAE,EAAIC,EAAA,EAEPC,GAAcJ,GAAA,YAAAA,EAAO,QAASE,EAAG,IAAI,OAAO,GAAK,UACjDG,EAAW,QAAOL,GAAA,YAAAA,EAAO,WAAYE,EAAG,IAAI,UAAU,GAAKA,EAAG,IAAI,WAAW,GAAK,EAAE,EACpFI,EAAS,QAAON,GAAA,YAAAA,EAAO,SAAUE,EAAG,IAAI,QAAQ,GAAK,EAAE,EACvDK,GAAaP,GAAA,YAAAA,EAAO,YAAaE,EAAG,IAAI,WAAW,GAAK,OACxDM,GAAiBR,GAAA,YAAAA,EAAO,gBAAiBE,EAAG,IAAI,eAAe,GAAK,OAEpE,CAAClB,EAAUyB,CAAW,EAAIC,EAAAA,SAAuB,CAAE,QAAS,CAAA,EAAI,SAAU,CAAA,EAAI,QAAS,CAAA,EAAI,EAC3F,CAACzB,EAAQ0B,CAAS,EAAID,EAAAA,SAAqB,CAAE,QAAS,EAAG,SAAU,EAAG,QAAS,CAAA,CAAG,EAClF,CAACvB,EAASyB,CAAU,EAAIF,EAAAA,SAAS,EAAI,EAE3CG,OAAAA,EAAAA,UAAU,IAAM,CAGdD,EAAW,EAAK,CAClB,EAAG,CAACP,EAAUC,EAAQC,EAAWC,CAAa,CAAC,EAG7CZ,EAAAA,IAACf,EAAA,CACC,KAAM,GACN,QAAS,IAAM,OAAO,QAAQ,KAAA,EAC9B,SAAAG,EACA,OAAAC,EACA,WAAYmB,EACZ,QAAAjB,CAAA,CAAA,CAGN"}