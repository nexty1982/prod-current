var f=Object.defineProperty,S=Object.defineProperties;var _=Object.getOwnPropertyDescriptors;var d=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var c=(o,e,s)=>e in o?f(o,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[e]=s,l=(o,e)=>{for(var s in e||(e={}))L.call(e,s)&&c(o,s,e[s]);if(d)for(var s of d(e))I.call(e,s)&&c(o,s,e[s]);return o},u=(o,e)=>S(o,_(e));var i=(o,e,s)=>c(o,typeof e!="symbol"?e+"":e,s);var p=(o,e,s)=>new Promise((t,a)=>{var h=n=>{try{r(s.next(n))}catch(g){a(g)}},m=n=>{try{r(s.throw(n))}catch(g){a(g)}},r=n=>n.done?t(n.value):Promise.resolve(n.value).then(h,m);r((s=s.apply(o,e)).next())});class ${constructor(){i(this,"apiUrl");i(this,"defaultSource");i(this,"defaultOrigin");this.apiUrl="/api/logger",this.defaultSource="frontend",this.defaultOrigin="browser"}sendLog(e){return p(this,null,function*(){try{const s=u(l({},e),{source:e.source||this.defaultSource,origin:e.origin||this.defaultOrigin,session_id:this.getSessionId(),user_agent:navigator.userAgent}),t=yield fetch(this.apiUrl,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(s)});t.ok||console.warn("Logger API error:",t.status)}catch(s){console.warn("Logger send failed:",s)}})}success(e,s,t){this.sendLog({log_level:"SUCCESS",message:e,details:s,source_component:t})}debug(e,s,t){this.sendLog({log_level:"DEBUG",message:e,details:s,source_component:t})}info(e,s,t){this.sendLog({log_level:"INFO",message:e,details:s,source_component:t})}warn(e,s,t){this.sendLog({log_level:"WARN",message:e,details:s,source_component:t})}error(e,s,t){this.sendLog({log_level:"ERROR",message:e,details:s,source_component:t})}getSessionId(){const e=sessionStorage.getItem("sessionId");if(e)return e;const s=`temp_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;return sessionStorage.setItem("sessionId",s),s}componentMounted(e,s){this.debug(`Component ${e} mounted`,s?`Props: ${JSON.stringify(s)}`:void 0,e)}componentUnmounted(e){this.debug(`Component ${e} unmounted`,void 0,e)}apiSuccess(e,s){this.success("API request completed successfully",`Endpoint: ${e}, Duration: ${s}ms`,"ApiClient")}pageLoaded(e,s){this.success("Page loaded successfully",`Page: ${e}, Load time: ${s}ms`,"PageLoader")}}const O=new $;export{O as l};
//# sourceMappingURL=logger-Du9b5RCj.js.map
