var w=Object.defineProperty,P=Object.defineProperties;var q=Object.getOwnPropertyDescriptors;var m=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable;var d=(r,e,t)=>e in r?w(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,c=(r,e)=>{for(var t in e||(e={}))I.call(e,t)&&d(r,t,e[t]);if(m)for(var t of m(e))$.call(e,t)&&d(r,t,e[t]);return r},p=(r,e)=>P(r,q(e));var E=(r,e,t)=>d(r,typeof e!="symbol"?e+"":e,t);var l=(r,e,t)=>new Promise((s,a)=>{var n=u=>{try{i(t.next(u))}catch(h){a(h)}},o=u=>{try{i(t.throw(u))}catch(h){a(h)}},i=u=>u.done?s(u.value):Promise.resolve(u.value).then(n,o);i((t=t.apply(r,e)).next())});import{c3 as y}from"./index-CNFXvQ6i.js";import{A as U}from"./api.config-C9UNSeTF.js";const R=U.BASE_URL,T=U.TIMEOUT;class A{constructor(){E(this,"instance");console.log(`ðŸ”§ Initializing API Client with baseURL: "${R}"`),console.log("ðŸŒ Environment: DEV=false, PROD=true"),this.instance=y.create({baseURL:R,timeout:T,withCredentials:!0,headers:{"Content-Type":"application/json"}}),this.setupInterceptors()}setupInterceptors(){this.instance.interceptors.request.use(e=>{var s;e.url&&!e.url.startsWith("http")&&!e.url.startsWith("/api")&&(e.url=`/api${e.url}`);const t=e.baseURL?`${e.baseURL}${e.url}`:e.url;return console.log(`ðŸŒ API Request: ${(s=e.method)==null?void 0:s.toUpperCase()} ${t}`),console.log(`ðŸ”§ BaseURL: "${e.baseURL||"none"}", URL: "${e.url}"`),e},e=>(console.error("âŒ Request Error:",e),Promise.reject(e))),this.instance.interceptors.response.use(e=>(console.log(`âœ… API Response: ${e.status} ${e.config.url}`),e),e=>{var s,a,n,o,i,u;console.error("âŒ Response Error:",(s=e.response)==null?void 0:s.status,(a=e.response)==null?void 0:a.data),((n=e.response)==null?void 0:n.status)===401&&(window.location.pathname.includes("/frontend-pages/homepage")||(localStorage.removeItem("auth_user"),window.location.href="/frontend-pages/homepage"));const t=new Error(((i=(o=e.response)==null?void 0:o.data)==null?void 0:i.message)||e.message||"Request failed");throw t.status=(u=e.response)==null?void 0:u.status,t.code=e.code,t.isNetworkError=!e.response,t.originalError=e,t})}request(e){return l(this,null,function*(){try{return(yield this.instance.request(e)).data}catch(t){throw t}})}get(e,t){return l(this,null,function*(){return this.request(p(c({},t),{method:"GET",url:e}))})}post(e,t,s){return l(this,null,function*(){return this.request(p(c({},s),{method:"POST",url:e,data:t}))})}put(e,t,s){return l(this,null,function*(){return this.request(p(c({},s),{method:"PUT",url:e,data:t}))})}patch(e,t,s){return l(this,null,function*(){return this.request(p(c({},s),{method:"PATCH",url:e,data:t}))})}delete(e,t){return l(this,null,function*(){return this.request(p(c({},t),{method:"DELETE",url:e}))})}uploadFile(e,t,s,a){return l(this,null,function*(){const n=new FormData;return n.append("file",t),s&&Object.entries(s).forEach(([o,i])=>{n.append(o,i)}),this.request({method:"POST",url:e,data:n,headers:{"Content-Type":"multipart/form-data"},onUploadProgress:o=>{if(a&&o.total){const i=Math.round(o.loaded*100/o.total);a(i)}}})})}buildQueryString(e){if(!e)return"";const t=new URLSearchParams;Object.entries(e).forEach(([a,n])=>{n!=null&&t.append(a,String(n))});const s=t.toString();return s?`?${s}`:""}}const C=new A;export{C as a};
//# sourceMappingURL=axiosInstance-DiLk_FFB.js.map
