{"version":3,"file":"RouterMenuStudioPage-As38MFOl.js","sources":["../../node_modules/@tabler/icons-react/dist/esm/icons/IconBrandReact.mjs","../../node_modules/@tabler/icons-react/dist/esm/icons/IconRouter.mjs","../../node_modules/@mui/x-data-grid/components/cell/GridActionsCellItem.js","../../node_modules/@mui/x-data-grid/components/containers/GridToolbarContainer.js","../../node_modules/@mui/x-data-grid/components/toolbar/GridToolbarColumnsButton.js","../../node_modules/@mui/x-data-grid/components/toolbar/GridToolbarFilterButton.js","../../src/features/devel-tools/RouterMenuStudio/api.ts","../../src/features/devel-tools/RouterMenuStudio/components/RouteGrid.tsx","../../src/features/devel-tools/RouterMenuStudio/components/MenuTree.tsx","../../src/features/devel-tools/RouterMenuStudio/RouterMenuStudioPage.tsx"],"sourcesContent":["/**\n * @license @tabler/icons-react v3.34.1 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createReactComponent from '../createReactComponent.mjs';\n\nconst __iconNode = [[\"path\", { \"d\": \"M6.306 8.711c-2.602 .723 -4.306 1.926 -4.306 3.289c0 2.21 4.477 4 10 4c.773 0 1.526 -.035 2.248 -.102\", \"key\": \"svg-0\" }], [\"path\", { \"d\": \"M17.692 15.289c2.603 -.722 4.308 -1.926 4.308 -3.289c0 -2.21 -4.477 -4 -10 -4c-.773 0 -1.526 .035 -2.25 .102\", \"key\": \"svg-1\" }], [\"path\", { \"d\": \"M6.305 15.287c-.676 2.615 -.485 4.693 .695 5.373c1.913 1.105 5.703 -1.877 8.464 -6.66c.387 -.67 .733 -1.339 1.036 -2\", \"key\": \"svg-2\" }], [\"path\", { \"d\": \"M17.694 8.716c.677 -2.616 .487 -4.696 -.694 -5.376c-1.913 -1.105 -5.703 1.877 -8.464 6.66c-.387 .67 -.733 1.34 -1.037 2\", \"key\": \"svg-3\" }], [\"path\", { \"d\": \"M12 5.424c-1.925 -1.892 -3.82 -2.766 -5 -2.084c-1.913 1.104 -1.226 5.877 1.536 10.66c.386 .67 .793 1.304 1.212 1.896\", \"key\": \"svg-4\" }], [\"path\", { \"d\": \"M12 18.574c1.926 1.893 3.821 2.768 5 2.086c1.913 -1.104 1.226 -5.877 -1.536 -10.66c-.375 -.65 -.78 -1.283 -1.212 -1.897\", \"key\": \"svg-5\" }], [\"path\", { \"d\": \"M11.5 12.866a1 1 0 1 0 1 -1.732a1 1 0 0 0 -1 1.732z\", \"key\": \"svg-6\" }]];\nconst IconBrandReact = createReactComponent(\"outline\", \"brand-react\", \"BrandReact\", __iconNode);\n\nexport { __iconNode, IconBrandReact as default };\n//# sourceMappingURL=IconBrandReact.mjs.map\n","/**\n * @license @tabler/icons-react v3.34.1 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createReactComponent from '../createReactComponent.mjs';\n\nconst __iconNode = [[\"path\", { \"d\": \"M3 13m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v4a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z\", \"key\": \"svg-0\" }], [\"path\", { \"d\": \"M17 17l0 .01\", \"key\": \"svg-1\" }], [\"path\", { \"d\": \"M13 17l0 .01\", \"key\": \"svg-2\" }], [\"path\", { \"d\": \"M15 13l0 -2\", \"key\": \"svg-3\" }], [\"path\", { \"d\": \"M11.75 8.75a4 4 0 0 1 6.5 0\", \"key\": \"svg-4\" }], [\"path\", { \"d\": \"M8.5 6.5a8 8 0 0 1 13 0\", \"key\": \"svg-5\" }]];\nconst IconRouter = createReactComponent(\"outline\", \"router\", \"Router\", __iconNode);\n\nexport { __iconNode, IconRouter as default };\n//# sourceMappingURL=IconRouter.mjs.map\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"label\", \"icon\", \"showInMenu\", \"onClick\"],\n  _excluded2 = [\"label\", \"icon\", \"showInMenu\", \"onClick\", \"closeMenuOnClick\", \"closeMenu\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport MenuItem from '@mui/material/MenuItem';\nimport ListItemIcon from '@mui/material/ListItemIcon';\nimport { useGridRootProps } from '../../hooks/utils/useGridRootProps';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst GridActionsCellItem = /*#__PURE__*/React.forwardRef((props, ref) => {\n  const rootProps = useGridRootProps();\n  if (!props.showInMenu) {\n    var _rootProps$slotProps;\n    const {\n        label,\n        icon,\n        onClick\n      } = props,\n      other = _objectWithoutPropertiesLoose(props, _excluded);\n    const handleClick = event => {\n      onClick == null || onClick(event);\n    };\n    return /*#__PURE__*/_jsx(rootProps.slots.baseIconButton, _extends({\n      ref: ref,\n      size: \"small\",\n      role: \"menuitem\",\n      \"aria-label\": label\n    }, other, {\n      onClick: handleClick\n    }, (_rootProps$slotProps = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps.baseIconButton, {\n      children: /*#__PURE__*/React.cloneElement(icon, {\n        fontSize: 'small'\n      })\n    }));\n  }\n  const {\n      label,\n      icon,\n      onClick,\n      closeMenuOnClick = true,\n      closeMenu\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded2);\n  const handleClick = event => {\n    onClick == null || onClick(event);\n    if (closeMenuOnClick) {\n      closeMenu == null || closeMenu();\n    }\n  };\n  return /*#__PURE__*/_jsxs(MenuItem, _extends({\n    ref: ref\n  }, other, {\n    onClick: handleClick,\n    children: [icon && /*#__PURE__*/_jsx(ListItemIcon, {\n      children: icon\n    }), label]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? GridActionsCellItem.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // | To update them edit the TypeScript types and run \"yarn proptypes\"  |\n  // ----------------------------------------------------------------------\n  /**\n   * from https://mui.com/material-ui/api/button-base/#ButtonBase-prop-component\n   */\n  component: PropTypes.elementType,\n  icon: PropTypes.element,\n  label: PropTypes.string.isRequired,\n  showInMenu: PropTypes.bool\n} : void 0;\nexport { GridActionsCellItem };","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"className\", \"children\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { styled } from '@mui/system';\nimport { unstable_composeClasses as composeClasses } from '@mui/utils';\nimport { getDataGridUtilityClass } from '../../constants/gridClasses';\nimport { useGridRootProps } from '../../hooks/utils/useGridRootProps';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['toolbarContainer']\n  };\n  return composeClasses(slots, getDataGridUtilityClass, classes);\n};\nconst GridToolbarContainerRoot = styled('div', {\n  name: 'MuiDataGrid',\n  slot: 'ToolbarContainer',\n  overridesResolver: (_, styles) => styles.toolbarContainer\n})(({\n  theme\n}) => ({\n  display: 'flex',\n  alignItems: 'center',\n  flexWrap: 'wrap',\n  gap: theme.spacing(1),\n  padding: theme.spacing(0.5, 0.5, 0)\n}));\nconst GridToolbarContainer = /*#__PURE__*/React.forwardRef(function GridToolbarContainer(props, ref) {\n  const {\n      className,\n      children\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const rootProps = useGridRootProps();\n  const classes = useUtilityClasses(rootProps);\n  if (!children) {\n    return null;\n  }\n  return /*#__PURE__*/_jsx(GridToolbarContainerRoot, _extends({\n    ref: ref,\n    className: clsx(className, classes.root),\n    ownerState: rootProps\n  }, other, {\n    children: children\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? GridToolbarContainer.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // | To update them edit the TypeScript types and run \"yarn proptypes\"  |\n  // ----------------------------------------------------------------------\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport { GridToolbarContainer };","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"onClick\"];\nimport * as React from 'react';\nimport { unstable_useId as useId } from '@mui/material/utils';\nimport { useGridSelector } from '../../hooks/utils/useGridSelector';\nimport { gridPreferencePanelStateSelector } from '../../hooks/features/preferencesPanel/gridPreferencePanelSelector';\nimport { GridPreferencePanelsValue } from '../../hooks/features/preferencesPanel/gridPreferencePanelsValue';\nimport { useGridApiContext } from '../../hooks/utils/useGridApiContext';\nimport { useGridRootProps } from '../../hooks/utils/useGridRootProps';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const GridToolbarColumnsButton = /*#__PURE__*/React.forwardRef(function GridToolbarColumnsButton(props, ref) {\n  var _rootProps$slotProps;\n  const {\n      onClick\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const columnButtonId = useId();\n  const columnPanelId = useId();\n  const apiRef = useGridApiContext();\n  const rootProps = useGridRootProps();\n  const preferencePanel = useGridSelector(apiRef, gridPreferencePanelStateSelector);\n  const showColumns = event => {\n    if (preferencePanel.open && preferencePanel.openedPanelValue === GridPreferencePanelsValue.columns) {\n      apiRef.current.hidePreferences();\n    } else {\n      apiRef.current.showPreferences(GridPreferencePanelsValue.columns, columnPanelId, columnButtonId);\n    }\n    onClick == null || onClick(event);\n  };\n\n  // Disable the button if the corresponding is disabled\n  if (rootProps.disableColumnSelector) {\n    return null;\n  }\n  const isOpen = preferencePanel.open && preferencePanel.panelId === columnPanelId;\n  return /*#__PURE__*/_jsx(rootProps.slots.baseButton, _extends({\n    ref: ref,\n    id: columnButtonId,\n    size: \"small\",\n    \"aria-label\": apiRef.current.getLocaleText('toolbarColumnsLabel'),\n    \"aria-haspopup\": \"menu\",\n    \"aria-expanded\": isOpen,\n    \"aria-controls\": isOpen ? columnPanelId : undefined,\n    startIcon: /*#__PURE__*/_jsx(rootProps.slots.columnSelectorIcon, {})\n  }, other, {\n    onClick: showColumns\n  }, (_rootProps$slotProps = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps.baseButton, {\n    children: apiRef.current.getLocaleText('toolbarColumns')\n  }));\n});","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"componentsProps\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { styled } from '@mui/material/styles';\nimport { unstable_composeClasses as composeClasses, unstable_capitalize as capitalize, unstable_useId as useId } from '@mui/utils';\nimport Badge from '@mui/material/Badge';\nimport { gridColumnLookupSelector } from '../../hooks/features/columns/gridColumnsSelector';\nimport { useGridSelector } from '../../hooks/utils/useGridSelector';\nimport { gridFilterActiveItemsSelector } from '../../hooks/features/filter/gridFilterSelector';\nimport { gridPreferencePanelStateSelector } from '../../hooks/features/preferencesPanel/gridPreferencePanelSelector';\nimport { GridPreferencePanelsValue } from '../../hooks/features/preferencesPanel/gridPreferencePanelsValue';\nimport { useGridApiContext } from '../../hooks/utils/useGridApiContext';\nimport { useGridRootProps } from '../../hooks/utils/useGridRootProps';\nimport { getDataGridUtilityClass } from '../../constants/gridClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['toolbarFilterList']\n  };\n  return composeClasses(slots, getDataGridUtilityClass, classes);\n};\nconst GridToolbarFilterListRoot = styled('ul', {\n  name: 'MuiDataGrid',\n  slot: 'ToolbarFilterList',\n  overridesResolver: (_props, styles) => styles.toolbarFilterList\n})(({\n  theme\n}) => ({\n  margin: theme.spacing(1, 1, 0.5),\n  padding: theme.spacing(0, 1)\n}));\nconst GridToolbarFilterButton = /*#__PURE__*/React.forwardRef(function GridToolbarFilterButton(props, ref) {\n  var _rootProps$slotProps, _rootProps$slotProps2;\n  const {\n      componentsProps = {}\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const buttonProps = componentsProps.button || {};\n  const apiRef = useGridApiContext();\n  const rootProps = useGridRootProps();\n  const activeFilters = useGridSelector(apiRef, gridFilterActiveItemsSelector);\n  const lookup = useGridSelector(apiRef, gridColumnLookupSelector);\n  const preferencePanel = useGridSelector(apiRef, gridPreferencePanelStateSelector);\n  const classes = useUtilityClasses(rootProps);\n  const filterButtonId = useId();\n  const filterPanelId = useId();\n  const tooltipContentNode = React.useMemo(() => {\n    if (preferencePanel.open) {\n      return apiRef.current.getLocaleText('toolbarFiltersTooltipHide');\n    }\n    if (activeFilters.length === 0) {\n      return apiRef.current.getLocaleText('toolbarFiltersTooltipShow');\n    }\n    const getOperatorLabel = item => lookup[item.field].filterOperators.find(operator => operator.value === item.operator).label || apiRef.current.getLocaleText(`filterOperator${capitalize(item.operator)}`).toString();\n    const getFilterItemValue = item => {\n      const {\n        getValueAsString\n      } = lookup[item.field].filterOperators.find(operator => operator.value === item.operator);\n      return getValueAsString ? getValueAsString(item.value) : item.value;\n    };\n    return /*#__PURE__*/_jsxs(\"div\", {\n      children: [apiRef.current.getLocaleText('toolbarFiltersTooltipActive')(activeFilters.length), /*#__PURE__*/_jsx(GridToolbarFilterListRoot, {\n        className: classes.root,\n        ownerState: rootProps,\n        children: activeFilters.map((item, index) => _extends({}, lookup[item.field] && /*#__PURE__*/_jsx(\"li\", {\n          children: `${lookup[item.field].headerName || item.field}\n                  ${getOperatorLabel(item)}\n                  ${\n          // implicit check for null and undefined\n          item.value != null ? getFilterItemValue(item) : ''}`\n        }, index)))\n      })]\n    });\n  }, [apiRef, rootProps, preferencePanel.open, activeFilters, lookup, classes]);\n  const toggleFilter = event => {\n    var _buttonProps$onClick;\n    const {\n      open,\n      openedPanelValue\n    } = preferencePanel;\n    if (open && openedPanelValue === GridPreferencePanelsValue.filters) {\n      apiRef.current.hidePreferences();\n    } else {\n      apiRef.current.showPreferences(GridPreferencePanelsValue.filters, filterPanelId, filterButtonId);\n    }\n    (_buttonProps$onClick = buttonProps.onClick) == null || _buttonProps$onClick.call(buttonProps, event);\n  };\n\n  // Disable the button if the corresponding is disabled\n  if (rootProps.disableColumnFilter) {\n    return null;\n  }\n  const isOpen = preferencePanel.open && preferencePanel.panelId === filterPanelId;\n  return /*#__PURE__*/_jsx(rootProps.slots.baseTooltip, _extends({\n    title: tooltipContentNode,\n    enterDelay: 1000\n  }, other, (_rootProps$slotProps = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps.baseTooltip, {\n    children: /*#__PURE__*/_jsx(rootProps.slots.baseButton, _extends({\n      ref: ref,\n      id: filterButtonId,\n      size: \"small\",\n      \"aria-label\": apiRef.current.getLocaleText('toolbarFiltersLabel'),\n      \"aria-controls\": isOpen ? filterPanelId : undefined,\n      \"aria-expanded\": isOpen,\n      \"aria-haspopup\": true,\n      startIcon: /*#__PURE__*/_jsx(Badge, {\n        badgeContent: activeFilters.length,\n        color: \"primary\",\n        children: /*#__PURE__*/_jsx(rootProps.slots.openFilterButtonIcon, {})\n      })\n    }, buttonProps, {\n      onClick: toggleFilter\n    }, (_rootProps$slotProps2 = rootProps.slotProps) == null ? void 0 : _rootProps$slotProps2.baseButton, {\n      children: apiRef.current.getLocaleText('toolbarFilters')\n    }))\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? GridToolbarFilterButton.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // | To update them edit the TypeScript types and run \"yarn proptypes\"  |\n  // ----------------------------------------------------------------------\n  /**\n   * The props used for each slot inside.\n   * @default {}\n   */\n  componentsProps: PropTypes.object\n} : void 0;\nexport { GridToolbarFilterButton };","/**\r\n * Router/Menu Studio API Client\r\n * Frontend API client for Router/Menu Studio functionality\r\n */\r\n\r\n// Types for the API responses\r\nexport interface Route {\r\n  id: number;\r\n  path: string;\r\n  component: string;\r\n  title: string | null;\r\n  description?: string | null;\r\n  layout?: string | null;\r\n  roles: string[];\r\n  is_active: boolean;\r\n  order_index: number;\r\n  tags?: string[] | null;\r\n  meta?: Record<string, unknown> | null;\r\n  created_at: string | Date;\r\n  updated_at: string | Date;\r\n  updated_by?: string | null;\r\n}\r\n\r\nexport interface MenuNode {\r\n  id: number;\r\n  parent_id?: number | null;\r\n  key_name: string;\r\n  label: string;\r\n  icon?: string | null;\r\n  path?: string | null;\r\n  roles: string[];\r\n  is_active: boolean;\r\n  order_index: number;\r\n  meta?: Record<string, unknown> | null;\r\n  created_at: string | Date;\r\n  updated_at: string | Date;\r\n  updated_by?: string | null;\r\n  children?: MenuNode[];\r\n}\r\n\r\nexport interface ApiResponse<T> {\r\n  ok: boolean;\r\n  reason?: string;\r\n  errors?: any[];\r\n  routes?: Route[]; // For routes endpoints\r\n  menus?: MenuNode[]; // For menus list endpoint\r\n  tree?: MenuNode[]; // For menu tree endpoint\r\n  route?: Route; // For single route\r\n  menu?: MenuNode; // For single menu\r\n}\r\n\r\nexport interface CreateRouteData {\r\n  path: string;\r\n  component: string;\r\n  title: string | null;\r\n  description?: string | null;\r\n  layout?: string | null;\r\n  roles: string[];\r\n  is_active: boolean;\r\n  order_index: number;\r\n  tags?: string[] | null;\r\n  meta?: Record<string, unknown> | null;\r\n}\r\n\r\nexport interface UpdateRouteData extends Partial<CreateRouteData> {}\r\n\r\nexport interface CreateMenuData {\r\n  parent_id?: number | null;\r\n  key_name: string;\r\n  label: string;\r\n  icon?: string | null;\r\n  path?: string | null;\r\n  roles: string[];\r\n  is_active: boolean;\r\n  order_index: number;\r\n  meta?: Record<string, unknown> | null;\r\n}\r\n\r\nexport interface UpdateMenuData extends Partial<CreateMenuData> {}\r\n\r\nexport interface ReorderMenuData {\r\n  items: Array<{\r\n    id: number;\r\n    parent_id?: number | null;\r\n    order_index: number;\r\n  }>;\r\n}\r\n\r\nexport interface RoutesQuery {\r\n  q?: string;\r\n  is_active?: string | null;\r\n  limit?: string;\r\n  offset?: string;\r\n  sort?: string;\r\n  dir?: string;\r\n}\r\n\r\nexport interface MenusQuery extends RoutesQuery {}\r\n\r\nclass RouterMenuStudioAPI {\r\n  private baseURL = '/api/studio';\r\n\r\n  private async request<T = any>(\r\n    endpoint: string,\r\n    options: RequestInit = {}\r\n  ): Promise<ApiResponse<T>> {\r\n    const url = `${this.baseURL}${endpoint}`;\r\n    \r\n    const config: RequestInit = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        ...options.headers,\r\n      },\r\n      ...options,\r\n    };\r\n\r\n    try {\r\n      const response = await fetch(url, config);\r\n      const data = await response.json();\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(data.reason || `HTTP ${response.status}`);\r\n      }\r\n      \r\n      return data;\r\n    } catch (error) {\r\n      console.error(`API request failed for ${endpoint}:`, error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Routes API\r\n  async getRoutes(query: RoutesQuery = {}): Promise<Route[]> {\r\n    const params = new URLSearchParams();\r\n    Object.entries(query).forEach(([key, value]) => {\r\n      if (value !== null && value !== undefined) {\r\n        params.append(key, value.toString());\r\n      }\r\n    });\r\n    \r\n    const endpoint = params.toString() ? `/routes?${params.toString()}` : '/routes';\r\n    const response = await this.request<Route[]>(endpoint);\r\n    return response.routes || [];\r\n  }\r\n\r\n  async createRoute(data: CreateRouteData): Promise<Route> {\r\n    const response = await this.request<Route>('/routes', {\r\n      method: 'POST',\r\n      body: JSON.stringify(data),\r\n    });\r\n    return response.route!;\r\n  }\r\n\r\n  async updateRoute(id: number, data: UpdateRouteData): Promise<Route> {\r\n    const response = await this.request<Route>(`/routes/${id}`, {\r\n      method: 'PUT',\r\n      body: JSON.stringify(data),\r\n    });\r\n    return response.route!;\r\n  }\r\n\r\n  async deleteRoute(id: number, hard = false): Promise<void> {\r\n    const endpoint = hard ? `/routes/${id}?hard=1` : `/routes/${id}`;\r\n    await this.request(endpoint, {\r\n      method: 'DELETE',\r\n    });\r\n  }\r\n\r\n  // Menus API\r\n  async getMenuTree(): Promise<MenuNode[]> {\r\n    const response = await this.request<MenuNode[]>('/menus/tree');\r\n    return response.tree || [];\r\n  }\r\n\r\n  async getMenus(query: MenusQuery = {}): Promise<MenuNode[]> {\r\n    const params = new URLSearchParams();\r\n    Object.entries(query).forEach(([key, value]) => {\r\n      if (value !== null && value !== undefined) {\r\n        params.append(key, value.toString());\r\n      }\r\n    });\r\n    \r\n    const endpoint = params.toString() ? `/menus?${params.toString()}` : '/menus';\r\n    const response = await this.request<MenuNode[]>(endpoint);\r\n    return response.menus || [];\r\n  }\r\n\r\n  async createMenu(data: CreateMenuData): Promise<MenuNode> {\r\n    const response = await this.request<MenuNode>('/menus', {\r\n      method: 'POST',\r\n      body: JSON.stringify(data),\r\n    });\r\n    return response.menu!;\r\n  }\r\n\r\n  async updateMenu(id: number, data: UpdateMenuData): Promise<MenuNode> {\r\n    const response = await this.request<MenuNode>(`/menus/${id}`, {\r\n      method: 'PUT',\r\n      body: JSON.stringify(data),\r\n    });\r\n\r\n    return response.menu!;\r\n  }\r\n\r\n  async deleteMenu(id: number, hard = false): Promise<void> {\r\n    const endpoint = hard ? `/menus/${id}?hard=1` : `/menus/${id}`;\r\n    await this.request(endpoint, {\r\n      method: 'DELETE',\r\n    });\r\n  }\r\n\r\n  async reorderMenus(data: ReorderMenuData): Promise<void> {\r\n    await this.request('/menus/reorder', {\r\n      method: 'POST',\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n}\r\n\r\n// Export singleton instance\r\nexport const routerMenuStudioAPI = new RouterMenuStudioAPI();\r\n\r\n// Export individual methods for convenience\r\nexport const {\r\n  getRoutes,\r\n  createRoute,\r\n  updateRoute,\r\n  deleteRoute,\r\n  getMenuTree,\r\n  getMenus,\r\n  createMenu,\r\n  updateMenu,\r\n  deleteMenu,\r\n  reorderMenus,\r\n} = routerMenuStudioAPI;\r\n","/**\r\n * Route Grid Component\r\n * MUI DataGrid for displaying and editing routes\r\n */\r\n\r\nimport React, { useState } from 'react';\r\nimport {\r\n  DataGrid,\r\n  GridColDef,\r\n  GridActionsCellItem,\r\n  GridRowParams,\r\n  GridToolbarContainer,\r\n  GridToolbarExport,\r\n  GridToolbarFilterButton,\r\n  GridToolbarColumnsButton,\r\n} from '@mui/x-data-grid';\r\nimport {\r\n  Box,\r\n  Button,\r\n  Chip,\r\n  IconButton,\r\n  Tooltip,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  TextField,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n  FormControlLabel,\r\n  Switch,\r\n  Stack,\r\n  Typography,\r\n  Alert,\r\n} from '@mui/material';\r\nimport {\r\n  IconEdit,\r\n  IconTrash,\r\n  IconPlus,\r\n  IconRefresh,\r\n  IconCheck,\r\n  IconX,\r\n} from '@tabler/icons-react';\r\nimport { useMutation, useQueryClient, useQuery } from '@tanstack/react-query';\r\nimport {\r\n  Route as RouteType,\r\n  CreateRouteData,\r\n  UpdateRouteData,\r\n  routerMenuStudioAPI,\r\n} from '../api';\r\nimport { toast } from 'react-toastify';\r\n\r\ninterface RouteGridProps {\r\n  onSelectRoute?: (route: RouteType) => void;\r\n}\r\n\r\ninterface EditDialogState {\r\n  open: boolean;\r\n  mode: 'create' | 'edit';\r\n  route?: RouteType;\r\n}\r\n\r\nconst RouteGrid: React.FC<RouteGridProps> = ({ onSelectRoute }) => {\r\n  const queryClient = useQueryClient();\r\n  const [editDialog, setEditDialog] = useState<EditDialogState>({ open: false, mode: 'create' });\r\n  const [selectedIds, setSelectedIds] = useState<number[]>([]);\r\n\r\n  // Queries\r\n  const { data: routes = [], isLoading, error, refetch } = useQuery({\r\n    queryKey: ['routes'],\r\n    queryFn: () => routerMenuStudioAPI.getRoutes(),\r\n  });\r\n\r\n  // Mutations\r\n  const createMutation = useMutation({\r\n    mutationFn: (data: CreateRouteData) => routerMenuStudioAPI.createRoute(data),\r\n    onSuccess: () => {\r\n      toast.success('Route created successfully');\r\n      queryClient.invalidateQueries({ queryKey: ['routes'] });\r\n      setEditDialog({ open: false, mode: 'create' });\r\n    },\r\n    onError: (error: any) => {\r\n      toast.error(`Failed to create route: ${error.message}`);\r\n    },\r\n  });\r\n\r\n  const updateMutation = useMutation({\r\n    mutationFn: ({ id, data }: { id: number; data: UpdateRouteData }) =>\r\n      routerMenuStudioAPI.updateRoute(id, data),\r\n    onSuccess: () => {\r\n      toast.success('Route updated successfully');\r\n      queryClient.invalidateQueries({ queryKey: ['routes'] });\r\n      setEditDialog({ open: false, mode: 'create' });\r\n    },\r\n    onError: (error: any) => {\r\n      toast.error(`Failed to update route: ${error.message}`);\r\n    },\r\n  });\r\n\r\n  const deleteMutation = useMutation({\r\n    mutationFn: ({ id, hard = false }: { id: number; hard?: boolean }) =>\r\n      routerMenuStudioAPI.deleteRoute(id, hard),\r\n    onSuccess: () => {\r\n      toast.success('Route deleted successfully');\r\n      queryClient.invalidateQueries({ queryKey: ['routes'] });\r\n    },\r\n    onError: (error: any) => {\r\n      toast.error(`Failed to delete route: ${error.message}`);\r\n    },\r\n  });\r\n\r\n  const handleEdit = (route: RouteType) => {\r\n    setEditDialog({ open: true, mode: 'edit', route });\r\n  };\r\n\r\n  const handleDelete = (id: number) => {\r\n    if (window.confirm('Are you sure you want to delete this route?')) {\r\n      deleteMutation.mutate({ id });\r\n    }\r\n  };\r\n\r\n  const handleHardDelete = (id: number) => {\r\n    if (window.confirm('Are you sure you want to permanently delete this route? This action cannot be undone.')) {\r\n      deleteMutation.mutate({ id, hard: true });\r\n    }\r\n  };\r\n\r\n  const formatRoles = (roles: string[]) => {\r\n    if (!roles || roles.length === 0) return 'None';\r\n    \r\n    const roleColors: Record<string, string> = {\r\n      super_admin: 'error',\r\n      admin: 'warning',\r\n      user: 'info',\r\n      guest: 'default',\r\n    };\r\n\r\n    return (\r\n      <Box sx={{ display: 'flex', gap: 0.5, flexWrap: 'wrap' }}>\r\n        {roles.map((role) => (\r\n          <Chip\r\n            key={role}\r\n            label={role}\r\n            size=\"small\"\r\n            color={roleColors[role] || 'default'}\r\n            variant=\"outlined\"\r\n          />\r\n        ))}\r\n      </Box>\r\n    );\r\n  };\r\n\r\n  const formatDate = (date: string | Date) => {\r\n    return new Date(date).toLocaleDateString() + ' ' + new Date(date).toLocaleTimeString();\r\n  };\r\n\r\n  const columns: GridColDef[] = [\r\n    { field: 'id', headerName: 'ID', width: 70, type: 'number' },\r\n    {\r\n      field: 'path',\r\n      headerName: 'Path',\r\n      width: 200,\r\n      renderCell: (params) => (\r\n        <Typography variant=\"body2\" fontFamily=\"monospace\" fontSize=\"0.85rem\">\r\n          {params.value}\r\n        </Typography>\r\n      ),\r\n    },\r\n    {\r\n      field: 'component',\r\n      headerName: 'Component',\r\n      width: 250,\r\n      renderCell: (params) => (\r\n        <Typography variant=\"body2\" fontFamily=\"monospace\" fontSize=\"0.85rem\">\r\n          {params.value}\r\n        </Typography>\r\n      ),\r\n    },\r\n    {\r\n      field: 'title',\r\n      headerName: 'Title',\r\n      width: 200,\r\n      renderCell: (params) => params.value || <em style={{ color: '#666' }}>No title</em>,\r\n    },\r\n    {\r\n      field: 'layout',\r\n      headerName: 'Layout',\r\n      width: 120,\r\n      renderCell: (params) => (\r\n        <Chip\r\n          label={params.value || 'default'}\r\n          size=\"small\"\r\n          variant=\"outlined\"\r\n          color={params.value === 'vertical' ? 'primary' : 'default'}\r\n        />\r\n      ),\r\n    },\r\n    {\r\n      field: 'roles',\r\n      headerName: 'Roles',\r\n      width: 180,\r\n      renderCell: (params) => formatRoles(params.value),\r\n      sortable: false,\r\n    },\r\n    {\r\n      field: 'is_active',\r\n      headerName: 'Active',\r\n      width: 100,\r\n      type: 'boolean',\r\n      renderCell: (params) => (\r\n        <Chip\r\n          label={params.value ? 'Active' : 'Inactive'}\r\n          size=\"small\"\r\n          color={params.value ? 'success' : 'default'}\r\n          variant={params.value ? 'filled' : 'outlined'}\r\n        />\r\n      ),\r\n    },\r\n    {\r\n      field: 'order_index',\r\n      headerName: 'Order',\r\n      width: 80,\r\n      type: 'number',\r\n    },\r\n    {\r\n      field: 'updated_at',\r\n      headerName: 'Updated',\r\n      width: 160,\r\n      renderCell: (params) => (\r\n        <Typography variant=\"caption\">\r\n          {formatDate(params.value)}\r\n        </Typography>\r\n      ),\r\n    },\r\n    {\r\n      field: 'updated_by',\r\n      headerName: 'Updated By',\r\n      width: 120,\r\n      renderCell: (params) => (\r\n        <Typography variant=\"caption\">\r\n          {params.value || 'system'}\r\n        </Typography>\r\n      ),\r\n    },\r\n    {\r\n      field: 'actions',\r\n      type: 'actions',\r\n      headerName: 'Actions',\r\n      width: 120,\r\n      getActions: (params: GridRowParams) => [\r\n        <GridActionsCellItem\r\n          key=\"edit\"\r\n          icon={<IconEdit size={16} />}\r\n          label=\"Edit\"\r\n          onClick={() => handleEdit(params.row)}\r\n        />,\r\n        <GridActionsCellItem\r\n          key=\"delete\"\r\n          icon={<IconTrash size={16} />}\r\n          label=\"Delete\"\r\n          onClick={() => handleDelete(params.row.id)}\r\n          disabled={deleteMutation.isPending}\r\n        />,\r\n      ],\r\n    },\r\n  ];\r\n\r\n  const CustomToolbar = () => (\r\n    <GridToolbarContainer>\r\n      <Button\r\n        startIcon={<IconPlus size={16} />}\r\n        onClick={() => setEditDialog({ open: true, mode: 'create' })}\r\n        variant=\"contained\"\r\n        size=\"small\"\r\n      >\r\n        Add Route\r\n      </Button>\r\n      <Button\r\n        startIcon={<IconRefresh size={16} />}\r\n        onClick={() => refetch()}\r\n        variant=\"outlined\"\r\n        size=\"small\"\r\n      >\r\n        Refresh\r\n      </Button>\r\n      <GridToolbarColumnsButton />\r\n      <GridToolbarFilterButton />\r\n      <GridToolbarExport />\r\n    </GridToolbarContainer>\r\n  );\r\n\r\n  return (\r\n    <Box sx={{ height: '600px', width: '100%' }}>\r\n      {error && (\r\n        <Alert severity=\"error\" sx={{ mb: 2 }}>\r\n          Failed to load routes: {(error as Error).message}\r\n        </Alert>\r\n      )}\r\n\r\n      <DataGrid\r\n        rows={routes}\r\n        columns={columns}\r\n        loading={isLoading}\r\n        checkboxSelection\r\n        disableRowSelectionOnClick\r\n        onRowSelectionModelChange={(model) => setSelectedIds(model as number[])}\r\n        rowSelectionModel={selectedIds}\r\n        slots={{\r\n          toolbar: CustomToolbar,\r\n        }}\r\n        initialState={{\r\n          pagination: {\r\n            paginationModel: { page: 0, pageSize: 25 },\r\n          },\r\n        }}\r\n        pageSizeOptions={[10, 25, 50, 100]}\r\n      />\r\n\r\n      {/* Edit Dialog */}\r\n      <RouteEditDialog\r\n        open={editDialog.open}\r\n        mode={editDialog.mode}\r\n        route={editDialog.route}\r\n        onSubmit={(data) => {\r\n          if (editDialog.mode === 'create') {\r\n            createMutation.mutate(data as CreateRouteData);\r\n          } else if (editDialog.route) {\r\n            updateMutation.mutate({ id: editDialog.route.id, data });\r\n          }\r\n        }}\r\n        onClose={() => setEditDialog({ open: false, mode: 'create' })}\r\n        isLoading={createMutation.isPending || updateMutation.isPending}\r\n      />\r\n    </Box>\r\n  );\r\n};\r\n\r\ninterface RouteEditDialogProps {\r\n  open: boolean;\r\n  mode: 'create' | 'edit';\r\n  route?: RouteType;\r\n  onSubmit: (data: CreateRouteData | UpdateRouteData) => void;\r\n  onClose: () => void;\r\n  isLoading?: boolean;\r\n}\r\n\r\nconst RouteEditDialog: React.FC<RouteEditDialogProps> = ({\r\n  open,\r\n  mode,\r\n  route,\r\n  onSubmit,\r\n  onClose,\r\n  isLoading,\r\n}) => {\r\n  const [formData, setFormData] = useState<CreateRouteData>({\r\n    path: '',\r\n    component: '',\r\n    title: null,\r\n    description: null,\r\n    layout: 'vertical',\r\n    roles: ['user'],\r\n    is_active: true,\r\n    order_index: 0,\r\n    tags: null,\r\n    meta: null,\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    if (route) {\r\n      setFormData({\r\n        path: route.path,\r\n        component: route.component,\r\n        title: route.title,\r\n        description: route.description || '',\r\n        layout: route.layout || 'vertical',\r\n        roles: route.roles,\r\n        is_active: route.is_active,\r\n        order_index: route.order_index,\r\n        tags: route.tags || null,\r\n        meta: route.meta || null,\r\n      });\r\n    } else {\r\n      setFormData({\r\n        path: '',\r\n        component: '',\r\n        title: null,\r\n        description: '',\r\n        layout: 'vertical',\r\n        roles: ['user'],\r\n        is_active: true,\r\n        order_index: 0,\r\n        tags: null,\r\n        meta: null,\r\n      });\r\n    }\r\n  }, [route, open]);\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    onSubmit(formData);\r\n  };\r\n\r\n  const handleAddRole = () => {\r\n    const newRole = prompt('Enter role name:');\r\n    if (newRole && !formData.roles.includes(newRole)) {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        roles: [...prev.roles, newRole]\r\n      }));\r\n    }\r\n  };\r\n\r\n  const handleRemoveRole = (roleToRemove: string) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      roles: prev.roles.filter(role => role !== roleToRemove)\r\n    }));\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onClose={onClose} maxWidth=\"md\" fullWidth>\r\n      <form onSubmit={handleSubmit}>\r\n        <DialogTitle>\r\n          {mode === 'create' ? 'Create Route' : 'Edit Route'}\r\n        </DialogTitle>\r\n        \r\n        <DialogContent>\r\n          <Stack spacing={3} sx={{ mt: 1 }}>\r\n            <TextField\r\n              required\r\n              fullWidth\r\n              label=\"Path\"\r\n              value={formData.path}\r\n              onChange={(e) => setFormData(prev => ({ ...prev, path: e.target.value }))}\r\n              placeholder=\"/example/path\"\r\n              helperText=\"Route path (must start with /)\"\r\n            />\r\n\r\n            <TextField\r\n              required\r\n              fullWidth\r\n              label=\"Component\"\r\n              value={formData.component}\r\n              onChange={(e) => setFormData(prev => ({ ...prev, component: e.target.value }))}\r\n              placeholder=\"src/components/ExampleComponent\"\r\n              helperText=\"Component file path\"\r\n            />\r\n\r\n            <TextField\r\n              fullWidth\r\n              label=\"Title\"\r\n              value={formData.title || ''}\r\n              onChange={(e) => setFormData(prev => ({ ...prev, title: e.target.value || null }))}\r\n              placeholder=\"Human-readable title\"\r\n            />\r\n\r\n            <TextField\r\n              fullWidth\r\n              multiline\r\n              rows={2}\r\n              label=\"Description\"\r\n              value={formData.description || ''}\r\n              onChange={(e) => setFormData(prev => ({ ...prev, description: e.target.value || null }))}\r\n              placeholder=\"Route description\"\r\n            />\r\n\r\n            <FormControl fullWidth>\r\n              <InputLabel>Layout</InputLabel>\r\n              <Select\r\n                value={formData.layout}\r\n                onChange={(e) => setFormData(prev => ({ ...prev, layout: e.target.value }))}\r\n                label=\"Layout\"\r\n              >\r\n                <MenuItem value=\"vertical\">Vertical</MenuItem>\r\n                <MenuItem value=\"horizontal\">Horizontal</MenuItem>\r\n                <MenuItem value=\"fullscreen\">Fullscreen</MenuItem>\r\n                <MenuItem value=\"\">Default</MenuItem>\r\n              </Select>\r\n            </FormControl>\r\n\r\n            <Box>\r\n              <Typography variant=\"subtitle2\" gutterBottom>\r\n                Roles Required\r\n              </Typography>\r\n              <Box sx={{ display: 'flex', gap: 1, flexWrap: 'wrap', mb: 1 }}>\r\n                {formData.roles.map((role) => (\r\n                  <Chip\r\n                    key={role}\r\n                    label={role}\r\n                    onDelete={() => handleRemoveRole(role)}\r\n                    size=\"small\"\r\n                  />\r\n                ))}\r\n              </Box>\r\n              <Button\r\n                size=\"small\"\r\n                onClick={handleAddRole}\r\n                startIcon={<IconPlus size={14} />}\r\n              >\r\n                Add Role\r\n              </Button>\r\n            </Box>\r\n\r\n            <Stack direction=\"row\" spacing={3}>\r\n              <TextField\r\n                type=\"number\"\r\n                label=\"Order Index\"\r\n                value={formData.order_index}\r\n                onChange={(e) => setFormData(prev => ({ ...prev, order_index: parseInt(e.target.value) || 0 }))}\r\n                inputProps={{ min: 0 }}\r\n                sx={{ width: 150 }}\r\n              />\r\n\r\n              <FormControlLabel\r\n                control={\r\n                  <Switch\r\n                    checked={formData.is_active}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, is_active: e.target.checked }))}\r\n                  />\r\n                }\r\n                label=\"Active\"\r\n              />\r\n            </Stack>\r\n          </Stack>\r\n        </DialogContent>\r\n\r\n        <DialogActions>\r\n          <Button onClick={onClose} disabled={isLoading}>\r\n            <IconX size={16} style={{ marginRight: 8 }} />\r\n            Cancel\r\n          </Button>\r\n          <Button\r\n            type=\"submit\"\r\n            variant=\"contained\"\r\n            disabled={isLoading}\r\n            startIcon={<IconCheck size={16} />}\r\n          >\r\n            {isLoading ? 'Saving...' : (mode === 'create' ? 'Create' : 'Update')}\r\n          </Button>\r\n        </DialogActions>\r\n      </form>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default RouteGrid;\r\n","/**\r\n * Menu Tree Component\r\n * MUI TreeView for displaying and editing menu hierarchy\r\n */\r\n\r\nimport React, { useState } from 'react';\r\nimport {\r\n  Box,\r\n  IconButton,\r\n  Button,\r\n  Chip,\r\n  Typography,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  TextField,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n  FormControlLabel,\r\n  Switch,\r\n  Stack,\r\n  Alert,\r\n  Paper,\r\n  Tooltip,\r\n  Accordion,\r\n  AccordionSummary,\r\n  AccordionDetails,\r\n  List,\r\n  ListItem,\r\n  Collapse,\r\n} from '@mui/material';\r\n// import { TreeView, TreeItem } from '@mui/x-tree-view'; // Not working, using custom tree instead\r\nimport {\r\n  IconFolder,\r\n  IconFolderOpen,\r\n  IconChevronDown,\r\n  IconChevronRight,\r\n  IconEdit,\r\n  IconTrash,\r\n  IconPlus,\r\n  IconRefresh,\r\n  IconCheck,\r\n  IconX,\r\n  IconMenu2,\r\n} from '@tabler/icons-react';\r\nimport { useMutation, useQueryClient, useQuery } from '@tanstack/react-query';\r\nimport {\r\n  MenuNode,\r\n  CreateMenuData,\r\n  UpdateMenuData,\r\n  ReorderMenuData,\r\n  routerMenuStudioAPI,\r\n} from '../api';\r\nimport { toast } from 'react-toastify';\r\n\r\ninterface MenuTreeProps {\r\n  onSelectMenu?: (menu: MenuNode) => void;\r\n}\r\n\r\ninterface EditDialogState {\r\n  open: boolean;\r\n  mode: 'create' | 'edit';\r\n  menu?: MenuNode;\r\n  parentId?: number;\r\n}\r\n\r\nconst MenuTree: React.FC<MenuTreeProps> = ({ onSelectMenu }) => {\r\n  const queryClient = useQueryClient();\r\n  const [editDialog, setEditDialog] = useState<EditDialogState>({ open: false, mode: 'create' });\r\n  const [selectedMenu, setSelectedMenu] = useState<MenuNode | null>(null);\r\n  const [draggedItem, setDraggedItem] = useState<MenuNode | null>(null);\r\n\r\n  // Queries\r\n  const { data: menuTree = [], isLoading, error, refetch } = useQuery({\r\n    queryKey: ['menu-tree'],\r\n    queryFn: () => routerMenuStudioAPI.getMenuTree(),\r\n  });\r\n\r\n  const { data: flatMenus = [] } = useQuery({\r\n    queryKey: ['menus'],\r\n    queryFn: () => routerMenuStudioAPI.getMenus(),\r\n  });\r\n\r\n  // Mutations\r\n  const createMutation = useMutation({\r\n    mutationFn: (data: CreateMenuData) => routerMenuStudioAPI.createMenu(data),\r\n    onSuccess: () => {\r\n      toast.success('Menu item created successfully');\r\n      queryClient.invalidateQueries({ queryKey: ['menu-tree'] });\r\n      queryClient.invalidateQueries({ queryKey: ['menus'] });\r\n      setEditDialog({ open: false, mode: 'create' });\r\n    },\r\n    onError: (error: any) => {\r\n      toast.error(`Failed to create menu item: ${error.message}`);\r\n    },\r\n  });\r\n\r\n  const updateMutation = useMutation({\r\n    mutationFn: ({ id, data }: { id: number; data: UpdateMenuData }) =>\r\n      routerMenuStudioAPI.updateMenu(id, data),\r\n    onSuccess: () => {\r\n      toast.success('Menu item updated successfully');\r\n      queryClient.invalidateQueries({ queryKey: ['menu-tree'] });\r\n      queryClient.invalidateQueries({ queryKey: ['menus'] });\r\n      setEditDialog({ open: false, mode: 'create' });\r\n    },\r\n    onError: (error: any) => {\r\n      toast.error(`Failed to update menu item: ${error.message}`);\r\n    },\r\n  });\r\n\r\n  const deleteMutation = useMutation({\r\n    mutationFn: ({ id, hard = false }: { id: number; hard?: boolean }) =>\r\n      routerMenuStudioAPI.deleteMenu(id, hard),\r\n    onSuccess: () => {\r\n      toast.success('Menu item deleted successfully');\r\n      queryClient.invalidateQueries({ queryKey: ['menu-tree'] });\r\n      queryClient.invalidateQueries({ queryKey: ['menus'] });\r\n      setSelectedMenu(null);\r\n    },\r\n    onError: (error: any) => {\r\n      toast.error(`Failed to delete menu item: ${error.message}`);\r\n    },\r\n  });\r\n\r\n  const reorderMutation = useMutation({\r\n    mutationFn: (data: ReorderMenuData) => routerMenuStudioAPI.reorderMenus(data),\r\n    onSuccess: () => {\r\n      toast.success('Menu order updated successfully');\r\n      queryClient.invalidateQueries({ queryKey: ['menu-tree'] });\r\n      queryClient.invalidateQueries({ queryKey: ['menus'] });\r\n    },\r\n    onError: (error: any) => {\r\n      toast.error(`Failed to reorder menu items: ${error.message}`);\r\n    },\r\n  });\r\n\r\n  const renderMenuItem = (menu: MenuNode): React.ReactNode => {\r\n    const hasChildren = menu.children && menu.children.length > 0;\r\n    const isSelected = selectedMenu?.id === menu.id;\r\n\r\n    return (\r\n      <Box key={menu.id} sx={{ mb: 0.5 }}>\r\n        <Box\r\n          sx={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'space-between',\r\n              p: 1,\r\n              borderRadius: 1,\r\n              backgroundColor: isSelected ? 'action.selected' : 'transparent',\r\n              '&:hover': {\r\n                backgroundColor: 'action.hover',\r\n              },\r\n              cursor: 'pointer',\r\n            }}\r\n            onClick={() => {\r\n              setSelectedMenu(menu);\r\n              onSelectMenu?.(menu);\r\n            }}\r\n            draggable\r\n            onDragStart={(e) => {\r\n              setDraggedItem(menu);\r\n              e.dataTransfer.effectAllowed = 'move';\r\n            }}\r\n            onDragOver={(e) => {\r\n              e.preventDefault();\r\n              e.dataTransfer.dropEffect = 'move';\r\n            }}\r\n            onDrop={(e) => {\r\n              e.preventDefault();\r\n              if (draggedItem && draggedItem.id !== menu.id) {\r\n                handleReorder(draggedItem, menu);\r\n              }\r\n            }}\r\n          >\r\n            <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n              <IconMenu2 size={16} />\r\n              <Typography variant=\"body2\" fontWeight={menu.is_active ? 'medium' : 'normal'}>\r\n                {menu.label}\r\n              </Typography>\r\n              {!menu.is_active && (\r\n                <Chip label=\"Inactive\" size=\"small\" color=\"default\" variant=\"outlined\" />\r\n              )}\r\n              {menu.path && (\r\n                <Typography variant=\"caption\" color=\"text.secondary\" fontFamily=\"monospace\">\r\n                  {menu.path}\r\n                </Typography>\r\n              )}\r\n            </Box>\r\n\r\n            <Box sx={{ display: 'flex', alignItems: 'center', gap: 0.5 }}>\r\n              {menu.roles && menu.roles.length > 0 && (\r\n                <Chip\r\n                  label={`${menu.roles.length} role${menu.roles.length > 1 ? 's' : ''}`}\r\n                  size=\"small\"\r\n                  variant=\"outlined\"\r\n                  color=\"info\"\r\n                />\r\n              )}\r\n              \r\n              <Tooltip title=\"Add Child\">\r\n                <IconButton\r\n                  size=\"small\"\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    setEditDialog({ open: true, mode: 'create', parentId: menu.id });\r\n                  }}\r\n                >\r\n                  <IconPlus size={14} />\r\n                </IconButton>\r\n              </Tooltip>\r\n\r\n              <Tooltip title=\"Edit\">\r\n                <IconButton\r\n                  size=\"small\"\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    setEditDialog({ open: true, mode: 'edit', menu });\r\n                  }}\r\n                >\r\n                  <IconEdit size={14} />\r\n                </IconButton>\r\n              </Tooltip>\r\n\r\n              <Tooltip title=\"Delete\">\r\n                <IconButton\r\n                  size=\"small\"\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    handleDelete(menu.id!);\r\n                  }}\r\n                >\r\n                  <IconTrash size={14} />\r\n                </IconButton>\r\n              </Tooltip>\r\n            </Box>\r\n          </Box>\r\n        {hasChildren && (\r\n          <Box sx={{ ml: 2 }}>\r\n            {menu.children!.map(child => renderMenuItem(child))}\r\n          </Box>\r\n        )}\r\n      </Box>\r\n    );\r\n  };\r\n\r\n  const handleDelete = (id: number) => {\r\n    if (window.confirm('Are you sure you want to delete this menu item?')) {\r\n      deleteMutation.mutate({ id });\r\n    }\r\n  };\r\n\r\n  const handleReorder = (draggedItem: MenuNode, targetItem: MenuNode) => {\r\n    // Find all items that need to be updated\r\n    const allItems = flatMenus.filter(item => item.parent_id === targetItem.parent_id);\r\n    \r\n    // Remove the dragged item from its original position\r\n    const remainingItems = allItems.filter(item => item.id !== draggedItem.id);\r\n    \r\n    // Insert the dragged item at the target position\r\n    const targetIndex = remainingItems.findIndex(item => item.id === targetItem.id);\r\n    remainingItems.splice(targetIndex, 0, draggedItem);\r\n    \r\n    // Update order indexes\r\n    const reorderData: ReorderMenuData = {\r\n      items: remainingItems.map((item, index) => ({\r\n        id: item.id!,\r\n        parent_id: item.parent_id,\r\n        order_index: index,\r\n      })),\r\n    };\r\n    \r\n    // Also update the parent relationship if needed\r\n    if (targetItem.id !== draggedItem.id) {\r\n      reorderData.items.forEach(item => {\r\n        if (item.id === draggedItem.id) {\r\n          item.parent_id = targetItem.parent_id;\r\n        }\r\n      });\r\n    }\r\n    \r\n    reorderMutation.mutate(reorderData);\r\n  };\r\n\r\n  const formatRoles = (roles: string[]) => {\r\n    if (!roles || roles.length === 0) return 'None';\r\n    \r\n    const roleColors: Record<string, string> = {\r\n      super_admin: 'error',\r\n      admin: 'warning', \r\n      user: 'info',\r\n      guest: 'default',\r\n    };\r\n\r\n    return (\r\n      <Box sx={{ display: 'flex', gap: 0.5, flexWrap: 'wrap' }}>\r\n        {roles.map((role) => (\r\n          <Chip\r\n            key={role}\r\n            label={role}\r\n            size=\"small\"\r\n            color={roleColors[role] || 'default'}\r\n            variant=\"filled\"\r\n          />\r\n        ))}\r\n      </Box>\r\n    );\r\n  };\r\n\r\n  if (error) {\r\n    return (\r\n      <Box sx={{ p: 2 }}>\r\n        <Alert severity=\"error\" sx={{ mb: 2 }}>\r\n          Failed to load menu tree: {(error as Error).message}\r\n        </Alert>\r\n        <Button onClick={() => refetch()} startIcon={<IconRefresh size={16} />}>\r\n          Retry\r\n        </Button>\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Box sx={{ height: '100%', display: 'flex', flexDirection: 'column' }}>\r\n      {/* Toolbar */}\r\n      <Box sx={{ p: 2, borderBottom: 1, borderColor: 'divider' }}>\r\n        <Stack direction=\"row\" spacing={1} alignItems=\"center\" justifyContent=\"space-between\">\r\n          <Typography variant=\"h6\" display=\"flex\" alignItems=\"center\" gap={1}>\r\n            <IconMenu2 size={20} />\r\n            Menu Tree\r\n          </Typography>\r\n          \r\n          <Box sx={{ display: 'flex', gap: 1 }}>\r\n            <Button\r\n              startIcon={<IconPlus size={16} />}\r\n              onClick={() => setEditDialog({ open: true, mode: 'create' })}\r\n              variant=\"contained\"\r\n              size=\"small\"\r\n            >\r\n              Add Root Item\r\n            </Button>\r\n            <Button\r\n              startIcon={<IconRefresh size={16} />}\r\n              onClick={() => refetch()}\r\n              variant=\"outlined\"\r\n              size=\"small\"\r\n            >\r\n              Refresh\r\n            </Button>\r\n          </Box>\r\n        </Stack>\r\n      </Box>\r\n\r\n      {/* Tree View */}\r\n      <Box sx={{ flex: 1, overflow: 'auto', p: 1 }}>\r\n        {isLoading ? (\r\n          <Box sx={{ display: 'flex', justifyContent: 'center', p: 4 }}>\r\n            <Typography>Loading menu tree...</Typography>\r\n          </Box>\r\n        ) : (\r\n          <Box sx={{ height: '100%', flexGrow: 1 }}>\r\n            {menuTree.map(renderMenuItem)}\r\n          </Box>\r\n        )}\r\n      </Box>\r\n\r\n      {/* Details Panel */}\r\n      {selectedMenu && (\r\n        <Paper elevation={3} sx={{ p: 2, mt: 2 }}>\r\n          <Typography variant=\"h6\" gutterBottom>\r\n            Menu Details\r\n          </Typography>\r\n          \r\n          <Stack spacing={2}>\r\n            <Box>\r\n              <Typography variant=\"subtitle2\" color=\"text.secondary\">\r\n                Label\r\n              </Typography>\r\n              <Typography>{selectedMenu.label}</Typography>\r\n            </Box>\r\n\r\n            <Box>\r\n              <Typography variant=\"subtitle2\" color=\"text.secondary\">\r\n                Key Name\r\n              </Typography>\r\n              <Typography fontFamily=\"monospace\">{selectedMenu.key_name}</Typography>\r\n            </Box>\r\n\r\n            {selectedMenu.path && (\r\n              <Box>\r\n                <Typography variant=\"subtitle2\" color=\"text.secondary\">\r\n                  Target Path\r\n                </Typography>\r\n                <Typography fontFamily=\"monospace\">{selectedMenu.path}</Typography>\r\n              </Box>\r\n            )}\r\n\r\n            <Box>\r\n              <Typography variant=\"subtitle2\" color=\"text.secondary\">\r\n                Roles Required\r\n              </Typography>\r\n              {formatRoles(selectedMenu.roles)}\r\n            </Box>\r\n\r\n            <Box>\r\n              <Typography variant=\"subtitle2\" color=\"text.secondary\">\r\n                Status\r\n              </Typography>\r\n              <Chip\r\n                label={selectedMenu.is_active ? 'Active' : 'Inactive'}\r\n                color={selectedMenu.is_active ? 'success' : 'default'}\r\n                size=\"small\"\r\n              />\r\n            </Box>\r\n\r\n            <Box>\r\n              <Typography variant=\"subtitle2\" color=\"text.secondary\">\r\n                Order Index\r\n              </Typography>\r\n              <Typography>{selectedMenu.order_index}</Typography>\r\n            </Box>\r\n\r\n            <Box>\r\n              <Typography variant=\"subtitle2\" color=\"text.secondary\">\r\n                Last Updated\r\n              </Typography>\r\n              <Typography variant=\"caption\">\r\n                {new Date(selectedMenu.updated_at).toLocaleString()}\r\n              </Typography>\r\n            </Box>\r\n          </Stack>\r\n        </Paper>\r\n      )}\r\n\r\n      {/* Edit Dialog */}\r\n      <MenuEditDialog\r\n        open={editDialog.open}\r\n        mode={editDialog.mode}\r\n        menu={editDialog.menu}\r\n        parentId={editDialog.parentId}\r\n        onSubmit={(data) => {\r\n          if (editDialog.mode === 'create') {\r\n            createMutation.mutate(data as CreateMenuData);\r\n          } else if (editDialog.menu) {\r\n            updateMutation.mutate({ id: editDialog.menu.id, data });\r\n          }\r\n        }}\r\n        onClose={() => setEditDialog({ open: false, mode: 'create' })}\r\n        isLoading={createMutation.isPending || updateMutation.isPending}\r\n        availableParents={flatMenus.filter(m => !m.parent_id && (!editDialog.menu || m.id !== editDialog.menu.id))}\r\n      />\r\n    </Box>\r\n  );\r\n};\r\n\r\ninterface MenuEditDialogProps {\r\n  open: boolean;\r\n  mode: 'create' | 'edit';\r\n  menu?: MenuNode;\r\n  parentId?: number;\r\n  onSubmit: (data: CreateMenuData | UpdateMenuData) => void;\r\n  onClose: () => void;\r\n  isLoading?: boolean;\r\n  availableParents: MenuNode[];\r\n}\r\n\r\nconst MenuEditDialog: React.FC<MenuEditDialogProps> = ({\r\n  open,\r\n  mode,\r\n  menu,\r\n  parentId,\r\n  onSubmit,\r\n  onClose,\r\n  isLoading,\r\n  availableParents,\r\n}) => {\r\n  const [formData, setFormData] = useState({\r\n    parent_id: parentId || null,\r\n    key_name: '',\r\n    label: '',\r\n    icon: '',\r\n    path: '',\r\n    roles: ['user'],\r\n    is_active: true,\r\n    order_index: 0,\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    if (menu) {\r\n      setFormData({\r\n        parent_id: menu.parent_id || null,\r\n        key_name: menu.key_name,\r\n        label: menu.label,\r\n        icon: menu.icon || '',\r\n        path: menu.path || '',\r\n        roles: menu.roles,\r\n        is_active: menu.is_active,\r\n        order_index: menu.order_index,\r\n      });\r\n    } else {\r\n      setFormData({\r\n        parent_id: parentId || null,\r\n        key_name: '',\r\n        label: '',\r\n        icon: '',\r\n        path: '',\r\n        roles: ['user'],\r\n        is_active: true,\r\n        order_index: 0,\r\n      });\r\n    }\r\n  }, [menu, parentId, open]);\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    onSubmit(formData);\r\n  };\r\n\r\n  const handleAddRole = () => {\r\n    const newRole = prompt('Enter role name:');\r\n    if (newRole && !formData.roles.includes(newRole)) {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        roles: [...prev.roles, newRole]\r\n      }));\r\n    }\r\n  };\r\n\r\n  const handleRemoveRole = (roleToRemove: string) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      roles: prev.roles.filter(role => role !== roleToRemove)\r\n    }));\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onClose={onClose} maxWidth=\"md\" fullWidth>\r\n      <form onSubmit={handleSubmit}>\r\n        <DialogTitle>\r\n          {mode === 'create' ? 'Create Menu Item' : 'Edit Menu Item'}\r\n        </DialogTitle>\r\n        \r\n        <DialogContent>\r\n          <Stack spacing={3} sx={{ mt: 1 }}>\r\n            <TextField\r\n              required\r\n              fullWidth\r\n              label=\"Label\"\r\n              value={formData.label}\r\n              onChange={(e) => setFormData(prev => ({ ...prev, label: e.target.value }))}\r\n              placeholder=\"Menu item label\"\r\n            />\r\n\r\n            <TextField\r\n              required\r\n              fullWidth\r\n              label=\"Key Name\"\r\n              value={formData.key_name}\r\n              onChange={(e) => setFormData(prev => ({ ...prev, key_name: e.target.value }))}\r\n              placeholder=\"unique-key-name\"\r\n              helperText=\"Unique key for this menu item (used internally)\"\r\n            />\r\n\r\n            <TextField\r\n              fullWidth\r\n              label=\"Icon\"\r\n              value={formData.icon}\r\n              onChange={(e) => setFormData(prev => ({ ...prev, icon: e.target.value }))}\r\n              placeholder=\"IconName\"\r\n              helperText=\"Icon name (from icon library)\"\r\n            />\r\n\r\n            <TextField\r\n              fullWidth\r\n              label=\"Path\"\r\n              value={formData.path}\r\n              onChange={(e) => setFormData(prev => ({ ...prev, path: e.target.value }))}\r\n              placeholder=\"/target/path\"\r\n              helperText=\"Target route path (optional)\"\r\n            />\r\n\r\n            <FormControl fullWidth>\r\n              <InputLabel>Parent Menu</InputLabel>\r\n              <Select\r\n                value={formData.parent_id || ''}\r\n                onChange={(e) => setFormData(prev => ({ ...prev, parent_id: e.target.value || null }))}\r\n                label=\"Parent Menu\"\r\n              >\r\n                <MenuItem value=\"\">Root Level</MenuItem>\r\n                {availableParents.map((parent) => (\r\n                  <MenuItem key={parent.id} value={parent.id}>\r\n                    {parent.label}\r\n                  </MenuItem>\r\n                ))}\r\n              </Select>\r\n            </FormControl>\r\n\r\n            <Box>\r\n              <Typography variant=\"subtitle2\" gutterBottom>\r\n                Roles Required\r\n              </Typography>\r\n              <Box sx={{ display: 'flex', gap: 1, flexWrap: 'wrap', mb: 1 }}>\r\n                {formData.roles.map((role) => (\r\n                  <Chip\r\n                    key={role}\r\n                    label={role}\r\n                    onDelete={() => handleRemoveRole(role)}\r\n                    size=\"small\"\r\n                  />\r\n                ))}\r\n              </Box>\r\n              <Button\r\n                size=\"small\"\r\n                onClick={handleAddRole}\r\n                startIcon={<IconPlus size={14} />}\r\n              >\r\n                Add Role\r\n              </Button>\r\n            </Box>\r\n\r\n            <Stack direction=\"row\" spacing={3}>\r\n              <TextField\r\n                type=\"number\"\r\n                label=\"Order Index\"\r\n                value={formData.order_index}\r\n                onChange={(e) => setFormData(prev => ({ ...prev, order_index: parseInt(e.target.value) || 0 }))}\r\n                inputProps={{ min: 0 }}\r\n                sx={{ width: 150 }}\r\n              />\r\n\r\n              <FormControlLabel\r\n                control={\r\n                  <Switch\r\n                    checked={formData.is_active}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, is_active: e.target.checked }))}\r\n                  />\r\n                }\r\n                label=\"Active\"\r\n              />\r\n            </Stack>\r\n          </Stack>\r\n        </DialogContent>\r\n\r\n        <DialogActions>\r\n          <Button onClick={onClose} disabled={isLoading}>\r\n            <IconX size={16} style={{ marginRight: 8 }} />\r\n            Cancel\r\n          </Button>\r\n          <Button\r\n            type=\"submit\"\r\n            variant=\"contained\"\r\n            disabled={isLoading}\r\n            startIcon={<IconCheck size={16} />}\r\n          >\r\n            {isLoading ? 'Saving...' : (mode === 'create' ? 'Create' : 'Update')}\r\n          </Button>\r\n        </DialogActions>\r\n      </form>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default MenuTree;\r\n","/**\r\n * Router Menu Studio Page\r\n * Complete Router/Menu Studio with MUI DataGrid and TreeView\r\n */\r\n\r\nimport React from 'react';\r\nimport {\r\n  Box,\r\n  Grid,\r\n  Paper,\r\n  Typography,\r\n  AppBar,\r\n  Toolbar,\r\n  Chip,\r\n  Button,\r\n  Tabs,\r\n  Tab,\r\n  Alert,\r\n  Stack,\r\n} from '@mui/material';\r\nimport {\r\n  IconDeviceDesktop,\r\n  IconRouter,\r\n  IconMenu2,\r\n  IconBrandReact,\r\n  IconDatabase,\r\n} from '@tabler/icons-react';\r\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\r\nimport { toast } from 'react-toastify';\r\nimport RouteGrid from './components/RouteGrid';\r\nimport MenuTree from './components/MenuTree';\r\n\r\n// Create React Query client with default settings\r\nconst queryClient = new QueryClient({\r\n  defaultOptions: {\r\n    queries: {\r\n      retry: 1,\r\n      refetchOnWindowFocus: false,\r\n      staleTime: 5 * 60 * 1000, // 5 minutes\r\n    },\r\n    mutations: {\r\n      retry: 0,\r\n    },\r\n  },\r\n});\r\n\r\ninterface TabPanelProps {\r\n  children?: React.ReactNode;\r\n  index: number;\r\n  value: number;\r\n}\r\n\r\nfunction TabPanel(props: TabPanelProps) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`studio-tabpanel-${index}`}\r\n      aria-labelledby={`studio-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && <Box sx={{ height: '100%' }}>{children}</Box>}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst RouterMenuStudioPage: React.FC = () => {\r\n  const [tabValue, setTabValue] = React.useState(0);\r\n\r\n  const handleTabChange = (_event: React.SyntheticEvent, newValue: number) => {\r\n    setTabValue(newValue);\r\n  };\r\n\r\n  // Auto-refresh indicator\r\n  const [lastRefresh, setLastRefresh] = React.useState(new Date());\r\n\r\n  React.useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      setLastRefresh(new Date());\r\n    }, 30000); // Update every 30 seconds\r\n\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  return (\r\n    <QueryClientProvider client={queryClient}>\r\n      <Box sx={{ height: '100vh', display: 'flex', flexDirection: 'column' }}>\r\n        {/* Header */}\r\n        <AppBar position=\"static\" color=\"default\" elevation={1}>\r\n          <Toolbar>\r\n            <IconDeviceDesktop size={24} style={{ marginRight: 16 }} />\r\n            <Typography variant=\"h6\" component=\"div\" sx={{ flexGrow: 1 }}>\r\n              Router/Menu Studio\r\n            </Typography>\r\n            \r\n            <Box sx={{ display: 'flex', gap: 1, alignItems: 'center' }}>\r\n              <Chip\r\n                label=\"Role: super_admin\"\r\n                color=\"primary\"\r\n                variant=\"outlined\"\r\n                size=\"small\"\r\n              />\r\n              <Typography variant=\"caption\" color=\"text.secondary\">\r\n                Last updated: {lastRefresh.toLocaleTimeString()}\r\n              </Typography>\r\n            </Box>\r\n          </Toolbar>\r\n        </AppBar>\r\n\r\n        {/* Main content area */}\r\n        <Box sx={{ flex: 1, overflow: 'hidden', p: 0 }}>\r\n          {/* Status Banner */}\r\n          <Alert severity=\"success\" sx={{ borderRadius: 0 }}>\r\n            <Stack direction=\"row\" spacing={2} alignItems=\"center\">\r\n              <IconDatabase size={20} />\r\n              <Typography variant=\"body2\">\r\n                 Database connected   API endpoints active   Studio ready for use\r\n              </Typography>\r\n              <Button\r\n                variant=\"outlined\"\r\n                size=\"small\"\r\n                onClick={() => {\r\n                  queryClient.invalidateQueries();\r\n                  toast.success('Data refreshed');\r\n                }}\r\n                sx={{ ml: 'auto' }}\r\n                startIcon={<IconBrandReact size={14} />}\r\n              >\r\n                Refresh All\r\n              </Button>\r\n            </Stack>\r\n          </Alert>\r\n\r\n          {/* Tabbed Interface */}\r\n          <Box sx={{ height: 'calc(100vh - 140px)' }}>\r\n            <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\r\n              <Tabs value={tabValue} onChange={handleTabChange}>\r\n                <Tab\r\n                  label={\r\n                    <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                      <IconRouter size={16} />\r\n                      Routes Management\r\n                    </Box>\r\n                  }\r\n                  id=\"studio-tab-0\"\r\n                  aria-controls=\"studio-tabpanel-0\"\r\n                />\r\n                <Tab\r\n                  label={\r\n                    <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                      <IconMenu2 size={16} />\r\n                      Menu Management\r\n                    </Box>\r\n                  }\r\n                  id=\"studio-tab-1\"\r\n                  aria-controls=\"studio-tabpanel-1\"\r\n                />\r\n                <Tab\r\n                  label={\r\n                    <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                      <IconDeviceDesktop size={16} />\r\n                      Combined View\r\n                    </Box>\r\n                  }\r\n                  id=\"studio-tab-2\"\r\n                  aria-controls=\"studio-tabpanel-2\"\r\n                />\r\n              </Tabs>\r\n            </Box>\r\n\r\n            {/* Tab Panels */}\r\n            <TabPanel value={tabValue} index={0}>\r\n              <Box sx={{ height: '100%', p: 2 }}>\r\n                <RouteGrid />\r\n              </Box>\r\n            </TabPanel>\r\n\r\n            <TabPanel value={tabValue} index={1}>\r\n              <Box sx={{ height: '100%', p: 2 }}>\r\n                <MenuTree />\r\n              </Box>\r\n            </TabPanel>\r\n\r\n            <TabPanel value={tabValue} index={2}>\r\n              <Box sx={{ height: '100%', p: 2 }}>\r\n                <Grid container spacing={2} sx={{ height: '100%' }}>\r\n                  <Grid item xs={12} md={7}>\r\n                    <Paper\r\n                      elevation={2}\r\n                      sx={{\r\n                        height: '100%',\r\n                        display: 'flex',\r\n                        flexDirection: 'column',\r\n                        p: 2,\r\n                      }}\r\n                    >\r\n                      <Typography variant=\"h6\" gutterBottom>\r\n                        Routes (Live Database)\r\n                      </Typography>\r\n                      <Box sx={{ flex: 1, overflow: 'hidden' }}>\r\n                        <RouteGrid />\r\n                      </Box>\r\n                    </Paper>\r\n                  </Grid>\r\n                  <Grid item xs={12} md={5}>\r\n                    <Paper\r\n                      elevation={2}\r\n                      sx={{\r\n                        height: '100%',\r\n                        display: 'flex',\r\n                        flexDirection: 'column',\r\n                        p: 2,\r\n                      }}\r\n                    >\r\n                      <Typography variant=\"h6\" gutterBottom>\r\n                        Menu Tree (Live Database)\r\n                      </Typography>\r\n                      <Box sx={{ flex: 1, overflow: 'hidden' }}>\r\n                        <MenuTree />\r\n                      </Box>\r\n                    </Paper>\r\n                  </Grid>\r\n                </Grid>\r\n              </Box>\r\n            </TabPanel>\r\n          </Box>\r\n        </Box>\r\n      </Box>\r\n    </QueryClientProvider>\r\n  );\r\n};\r\n\r\nexport default RouterMenuStudioPage;\r\n"],"names":["__iconNode","IconBrandReact","createReactComponent","IconRouter","_excluded","_excluded2","GridActionsCellItem","React.forwardRef","props","ref","rootProps","useGridRootProps","_rootProps$slotProps","label","icon","onClick","other","_objectWithoutPropertiesLoose","handleClick","event","_jsx","_extends","React.cloneElement","closeMenuOnClick","closeMenu","_jsxs","MenuItem","ListItemIcon","useUtilityClasses","ownerState","classes","composeClasses","getDataGridUtilityClass","GridToolbarContainerRoot","styled","_","styles","theme","GridToolbarContainer","className","children","clsx","GridToolbarColumnsButton","columnButtonId","useId","columnPanelId","apiRef","useGridApiContext","preferencePanel","useGridSelector","gridPreferencePanelStateSelector","showColumns","GridPreferencePanelsValue","isOpen","GridToolbarFilterListRoot","_props","GridToolbarFilterButton","_rootProps$slotProps2","componentsProps","buttonProps","activeFilters","gridFilterActiveItemsSelector","lookup","gridColumnLookupSelector","filterButtonId","filterPanelId","tooltipContentNode","React.useMemo","getOperatorLabel","item","operator","capitalize","getFilterItemValue","getValueAsString","index","toggleFilter","_buttonProps$onClick","open","openedPanelValue","Badge","RouterMenuStudioAPI","__publicField","_0","__async","endpoint","options","url","config","__spreadValues","response","data","error","query","params","key","value","id","hard","routerMenuStudioAPI","getRoutes","createRoute","updateRoute","deleteRoute","getMenuTree","getMenus","createMenu","updateMenu","deleteMenu","reorderMenus","RouteGrid","onSelectRoute","queryClient","useQueryClient","editDialog","setEditDialog","useState","selectedIds","setSelectedIds","routes","isLoading","refetch","useQuery","createMutation","useMutation","toast","updateMutation","deleteMutation","handleEdit","route","handleDelete","formatRoles","roles","roleColors","jsx","Box","role","Chip","formatDate","date","columns","Typography","IconEdit","IconTrash","CustomToolbar","jsxs","Button","IconPlus","IconRefresh","GridToolbarExport","Alert","DataGrid","model","RouteEditDialog","mode","onSubmit","onClose","formData","setFormData","React","handleSubmit","e","handleAddRole","newRole","prev","__spreadProps","handleRemoveRole","roleToRemove","Dialog","DialogTitle","DialogContent","Stack","TextField","FormControl","InputLabel","Select","FormControlLabel","Switch","DialogActions","IconX","IconCheck","MenuTree","onSelectMenu","selectedMenu","setSelectedMenu","draggedItem","setDraggedItem","menuTree","flatMenus","reorderMutation","renderMenuItem","menu","hasChildren","isSelected","handleReorder","IconMenu2","Tooltip","IconButton","child","targetItem","remainingItems","targetIndex","reorderData","Paper","MenuEditDialog","m","parentId","availableParents","parent","QueryClient","TabPanel","_a","__objRest","RouterMenuStudioPage","tabValue","setTabValue","handleTabChange","_event","newValue","lastRefresh","setLastRefresh","interval","QueryClientProvider","AppBar","Toolbar","IconDeviceDesktop","IconDatabase","Tabs","Tab","Grid"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5]}