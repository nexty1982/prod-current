{"version":3,"file":"LoggerDashboard-o6rqUBAg.js","sources":["../../src/features/logs/HeaderBar.tsx","../../src/features/system/logs/ConsoleCard.tsx","../../src/features/system/logs/LogCard.tsx","../../src/features/logs/RealTimeConsole.tsx","../../src/features/system/logs/CriticalAlert.tsx","../../src/features/system/logs/GitHubIssueModal.tsx","../../src/features/logs/CriticalConsole.tsx","../../src/features/system/logs/SystemMessageCard.tsx","../../src/features/logs/SystemMessagesConsole.tsx","../../src/features/system/logs/HistoricalLogItem.tsx","../../src/features/logs/DateLogsConsole.tsx","../../src/features/logs/Footer.tsx","../../src/features/devel-tools/om-ultimatelogger/LoggerDashboard.tsx"],"sourcesContent":["import React from 'react';\n\ninterface HeaderBarProps {\n  title: string;\n  isLive: boolean;\n  onToggleLive: () => void;\n  isDarkMode: boolean;\n  onToggleDarkMode: (value: boolean) => void;\n  activeFilters: number;\n  onPause: () => void;\n  onRefresh: () => void;\n  isPaused: boolean;\n  logFilter: string;\n  onLogFilterChange: (filter: string) => void;\n  realTimeLogCount?: number;\n  onRealTimeLogCountChange?: (count: number) => void;\n  debugMode?: boolean;\n  onDebugModeToggle?: (enabled: boolean) => void;\n  showInfoLogs?: boolean;\n  onShowInfoLogsToggle?: (show: boolean) => void;\n}\n\nexport const HeaderBar: React.FC<HeaderBarProps> = ({\n  title,\n  isLive,\n  onToggleLive,\n  isDarkMode,\n  onToggleDarkMode,\n  activeFilters,\n  onPause,\n  onRefresh,\n  isPaused,\n  logFilter,\n  onLogFilterChange,\n  realTimeLogCount = 25,\n  onRealTimeLogCountChange,\n  debugMode = false,\n  onDebugModeToggle,\n  showInfoLogs = false,\n  onShowInfoLogsToggle\n}) => {\n  return (\n    <header className={`border-b backdrop-blur-sm sticky top-0 z-50 ${\n      isDarkMode \n        ? 'border-gray-700 bg-gray-900/50' \n        : 'border-gray-300 bg-gray-100/90'\n    }`}>\n      <div className=\"container mx-auto px-4 py-3\">\n        <div className=\"flex items-center justify-between\">\n          {/* Left: Title & Live Status */}\n          <div className=\"flex items-center space-x-4\">\n            <h1 className={`text-2xl font-mono font-medium ${\n              isDarkMode ? 'text-white' : 'text-gray-900'\n            }`}>\n              {title}\n            </h1>\n            \n            {/* Live Status Badge */}\n            <button\n              onClick={onToggleLive}\n              className={`flex items-center space-x-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${\n                isLive \n                  ? 'bg-green-500/20 text-green-400 border border-green-500/30' \n                  : 'bg-red-500/20 text-red-400 border border-red-500/30'\n              }`}\n            >\n              <div \n                className={`w-2 h-2 rounded-full ${\n                  isLive ? 'bg-green-400 animate-pulse' : 'bg-red-400'\n                }`} \n              />\n              <span>{isLive ? 'LIVE' : 'OFFLINE'}</span>\n            </button>\n          </div>\n\n          {/* Right: Controls */}\n          <div className=\"flex items-center space-x-4\">\n            {/* Log Filter Dropdown */}\n            <select \n              value={logFilter}\n              onChange={(e) => onLogFilterChange(e.target.value)}\n              className=\"px-3 py-2 rounded-lg text-sm border bg-gray-800 border-gray-600 text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              style={{ \n                color: 'white',\n                backgroundColor: '#1f2937',\n                borderColor: '#4b5563'\n              }}\n            >\n              <option value=\"All Logs\" style={{ color: 'white', backgroundColor: '#1f2937' }}>All Logs</option>\n              <option value=\"Errors Only\" style={{ color: 'white', backgroundColor: '#1f2937' }}>Errors Only</option>\n              <option value=\"Warnings Only\" style={{ color: 'white', backgroundColor: '#1f2937' }}>Warnings Only</option>\n              <option value=\"Info Only\" style={{ color: 'white', backgroundColor: '#1f2937' }}>Info Only</option>\n              <option value=\"Success Only\" style={{ color: 'white', backgroundColor: '#1f2937' }}>Success Only</option>\n              <option value=\"Debug Only\" style={{ color: 'white', backgroundColor: '#1f2937' }}>Debug Only</option>\n            </select>\n\n            {/* Pause Button */}\n            <button\n              onClick={onPause}\n              className={`px-3 py-2 rounded-lg text-sm font-bold transition-colors border ${\n                isPaused\n                  ? 'bg-red-500 hover:bg-red-600 border-red-600'\n                  : isDarkMode\n                  ? 'bg-gray-700 hover:bg-gray-600 border-gray-600'\n                  : 'bg-gray-600 hover:bg-gray-700 border-gray-700'\n              }`}\n              style={{ \n                color: 'white',\n                fontWeight: 'bold'\n              }}\n            >\n              {isPaused ? '‚ñ∂Ô∏è Resume' : '‚è∏Ô∏è Pause'}\n            </button>\n\n            {/* Refresh Button */}\n            <button\n              onClick={onRefresh}\n              className={`px-3 py-2 rounded-lg text-sm font-bold transition-colors border ${\n                isDarkMode\n                  ? 'bg-gray-700 hover:bg-gray-600 border-gray-600'\n                  : 'bg-gray-600 hover:bg-gray-700 border-gray-700'\n              }`}\n              style={{ \n                color: 'white',\n                fontWeight: 'bold'\n              }}\n            >\n              üîÑ Refresh\n            </button>\n\n            {/* Real-Time Log Count Selector */}\n            <select\n              value={realTimeLogCount}\n              onChange={(e) => onRealTimeLogCountChange && onRealTimeLogCountChange(Number(e.target.value))}\n              className=\"px-3 py-2 rounded-lg text-sm border bg-gray-800 border-gray-600 text-white focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n              style={{ \n                color: 'white',\n                backgroundColor: '#1f2937',\n                borderColor: '#4b5563'\n              }}\n              title=\"Real-Time Log Count\"\n            >\n              <option value={5} style={{ color: 'white', backgroundColor: '#1f2937' }}>5 logs</option>\n              <option value={10} style={{ color: 'white', backgroundColor: '#1f2937' }}>10 logs</option>\n              <option value={25} style={{ color: 'white', backgroundColor: '#1f2937' }}>25 logs</option>\n              <option value={50} style={{ color: 'white', backgroundColor: '#1f2937' }}>50 logs</option>\n            </select>\n\n            {/* Debug Mode Toggle */}\n            <button\n              onClick={() => onDebugModeToggle && onDebugModeToggle(!debugMode)}\n              className={`px-3 py-2 rounded-lg text-sm font-bold transition-colors border ${\n                debugMode\n                  ? 'bg-orange-500 hover:bg-orange-600 border-orange-600 animate-pulse'\n                  : isDarkMode\n                  ? 'bg-gray-700 hover:bg-gray-600 border-gray-600'\n                  : 'bg-gray-600 hover:bg-gray-700 border-gray-700'\n              }`}\n              style={{ \n                color: 'white',\n                fontWeight: 'bold'\n              }}\n              title=\"Toggle Debug Mode Capture\"\n            >\n              {debugMode ? 'üü† Debug ON' : 'üîß Debug OFF'}\n            </button>\n\n            {/* Show Info Logs Toggle */}\n            <button\n              onClick={() => onShowInfoLogsToggle && onShowInfoLogsToggle(!showInfoLogs)}\n              className={`px-3 py-2 rounded-lg text-sm font-bold transition-colors border ${\n                showInfoLogs\n                  ? 'bg-blue-500 hover:bg-blue-600 border-blue-600'\n                  : isDarkMode\n                  ? 'bg-gray-700 hover:bg-gray-600 border-gray-600'\n                  : 'bg-gray-600 hover:bg-gray-700 border-gray-700'\n              }`}\n              style={{ \n                color: 'white',\n                fontWeight: 'bold'\n              }}\n              title={showInfoLogs ? 'Hide INFO logs' : 'Show INFO logs (hidden by default)'}\n            >\n              {showInfoLogs ? 'üìÑ Info ON' : 'üìÑ Info OFF'}\n            </button>\n\n            {/* Dark Mode Toggle */}\n            <button\n              onClick={() => onToggleDarkMode(!isDarkMode)}\n              className={`px-3 py-2 rounded-lg text-sm font-bold transition-colors border ${\n                isDarkMode\n                  ? 'bg-gray-700 hover:bg-gray-600 border-gray-600'\n                  : 'bg-gray-600 hover:bg-gray-700 border-gray-700'\n              }`}\n              style={{ \n                color: 'white',\n                fontWeight: 'bold'\n              }}\n            >\n              {isDarkMode ? '‚òÄÔ∏è Light' : 'üåô Dark'}\n            </button>\n          </div>\n        </div>\n      </div>\n    </header>\n  );\n};\n\nexport default HeaderBar;","import React from 'react';\n\ninterface ConsoleCardProps {\n  title: string;\n  titleColor: string;\n  icon: React.ReactNode;\n  badge?: {\n    text: string;\n    color: string;\n  };\n  children: React.ReactNode;\n  className?: string;\n  isDarkMode?: boolean;\n}\n\nexport const ConsoleCard: React.FC<ConsoleCardProps> = ({\n  title,\n  titleColor,\n  icon,\n  badge,\n  children,\n  className = '',\n  isDarkMode = true\n}) => {\n  return (\n    <div className={`console-card h-full flex flex-col border rounded-lg shadow-lg ${className} ${\n      isDarkMode \n        ? 'bg-gray-900 border-gray-700' \n        : 'bg-white border-gray-300'\n    }`}>\n      {/* Header - Fixed height */}\n      <div className={`flex-shrink-0 p-4 pb-3 border-b ${\n        isDarkMode ? 'border-gray-700' : 'border-gray-300'\n      }`}>\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-3\">\n            <div className={`p-1.5 rounded-lg ${titleColor}`}>\n              {icon}\n            </div>\n            <h3 className={`text-lg font-medium ${titleColor}`}>\n              {title}\n            </h3>\n          </div>\n          \n          {badge && (\n            <div className={`px-3 py-1 rounded-full text-sm font-medium border ${badge.color}`}>\n              {badge.text}\n            </div>\n          )}\n        </div>\n      </div>\n      \n      {/* Content - Flex-grow with scrollbar */}\n      <div className=\"flex-1 min-h-0 overflow-hidden\">\n        {children}\n      </div>\n    </div>\n  );\n};\n\nexport default ConsoleCard;","import React from 'react';\n\ninterface LogCardProps {\n  timestamp: Date;\n  level: 'INFO' | 'WARN' | 'ERROR' | 'DEBUG' | 'SUCCESS';\n  source: 'frontend' | 'backend' | 'dev';\n  message: string;\n  service?: string;\n  meta?: any;\n  isDarkMode?: boolean;\n}\n\nexport const LogCard: React.FC<LogCardProps> = ({\n  timestamp,\n  level,\n  source,\n  message,\n  service,\n  meta,\n  isDarkMode = true\n}) => {\n  const formatTimestamp = (date: Date) => {\n    return date.toLocaleTimeString('en-US', {\n      hour: '2-digit',\n      minute: '2-digit',\n      second: '2-digit',\n      hour12: false\n    });\n  };\n\n  const getLevelStyles = (level: string) => {\n    if (isDarkMode) {\n      switch (level) {\n        case 'ERROR':\n          return 'text-red-400 bg-red-900/20 border-red-700/50';\n        case 'WARN':\n          return 'text-yellow-400 bg-yellow-900/20 border-yellow-700/50';\n        case 'SUCCESS':\n          return 'text-green-400 bg-green-900/20 border-green-700/50';\n        case 'INFO':\n          return 'text-blue-400 bg-blue-900/20 border-blue-700/50';\n        case 'DEBUG':\n          return 'text-gray-400 bg-gray-900/20 border-gray-700/50';\n        default:\n          return 'text-gray-400 bg-gray-900/20 border-gray-700/50';\n      }\n    } else {\n      switch (level) {\n        case 'ERROR':\n          return 'text-red-600 bg-red-50 border-red-300';\n        case 'WARN':\n          return 'text-yellow-600 bg-yellow-50 border-yellow-300';\n        case 'SUCCESS':\n          return 'text-green-600 bg-green-50 border-green-300';\n        case 'INFO':\n          return 'text-blue-600 bg-blue-50 border-blue-300';\n        case 'DEBUG':\n          return 'text-gray-600 bg-gray-50 border-gray-300';\n        default:\n          return 'text-gray-600 bg-gray-50 border-gray-300';\n      }\n    }\n  };\n\n  const getSourceStyles = (source: string) => {\n    if (isDarkMode) {\n      switch (source) {\n        case 'frontend':\n          return 'text-green-400';\n        case 'backend':\n          return 'text-purple-400';\n        case 'dev':\n          return 'text-orange-400';\n        default:\n          return 'text-gray-400';\n      }\n    } else {\n      switch (source) {\n        case 'frontend':\n          return 'text-green-600';\n        case 'backend':\n          return 'text-purple-600';\n        case 'dev':\n          return 'text-orange-600';\n        default:\n          return 'text-gray-600';\n      }\n    }\n  };\n\n  return (\n    <div className={`log-entry flex items-start space-x-3 p-1 rounded ${\n      isDarkMode \n        ? 'text-gray-300 hover:bg-gray-800/50' \n        : 'text-gray-700 hover:bg-gray-100'\n    }`}>\n      {/* Timestamp */}\n      <span className={`text-xs w-20 flex-shrink-0 font-mono ${\n        isDarkMode ? 'text-gray-500' : 'text-gray-400'\n      }`}>\n        {formatTimestamp(timestamp)}\n      </span>\n      \n      {/* Level Badge */}\n      <span className={`px-2 py-0.5 rounded text-xs font-medium border w-16 flex-shrink-0 text-center ${getLevelStyles(level)}`}>\n        {level}\n      </span>\n      \n      {/* Source */}\n      <span className={`text-xs w-16 flex-shrink-0 font-mono ${getSourceStyles(source)}`}>\n        [{source}]\n      </span>\n      \n      {/* Message */}\n      <div className={`flex-1 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n        <div className=\"text-sm font-mono leading-relaxed\">\n          {message}\n        </div>\n        \n        {/* Service Info */}\n        {service && (\n          <div className={`text-xs mt-1 ${\n            isDarkMode ? 'text-gray-400' : 'text-gray-500'\n          }`}>\n            Service: <span className=\"font-medium\">{service}</span>\n          </div>\n        )}\n        \n        {/* Meta Data */}\n        {meta && (\n          <div className={`text-xs mt-1 ${\n            isDarkMode ? 'text-gray-500' : 'text-gray-400'\n          }`}>\n            <details className=\"cursor-pointer\">\n              <summary className={`hover:opacity-80 ${\n                isDarkMode ? 'text-gray-400' : 'text-gray-600'\n              }`}>Details</summary>\n              <pre className={`mt-1 p-2 rounded text-xs overflow-x-auto ${\n                isDarkMode \n                  ? 'bg-gray-800/50' \n                  : 'bg-gray-100'\n              }`}>\n                {JSON.stringify(meta, null, 2)}\n              </pre>\n            </details>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default LogCard;","import React, { useState, useEffect, useRef } from 'react';\nimport ConsoleCard from '../system/logs/ConsoleCard';\nimport LogCard from '../system/logs/LogCard';\n\ninterface LogEntry {\n  id: number;\n  timestamp: Date;\n  level: 'INFO' | 'WARN' | 'ERROR' | 'DEBUG' | 'SUCCESS';\n  source: 'frontend' | 'backend' | 'dev' | 'browser';\n  message: string;\n  service?: string;\n  origin?: string;\n  source_component?: string;\n  meta?: any;\n}\n\ninterface RealTimeConsoleProps {\n  isLive: boolean;\n  logFilter?: string;\n  maxLogs?: number;\n  showInfoLogs?: boolean;\n  isDarkMode?: boolean;\n}\n\nexport const RealTimeConsole: React.FC<RealTimeConsoleProps> = ({ isLive, logFilter = 'All Logs', maxLogs = 25, showInfoLogs = false, isDarkMode = true }) => {\n  const [logs, setLogs] = useState<LogEntry[]>([]);\n  const [autoScroll, setAutoScroll] = useState(true);\n  const scrollAreaRef = useRef<HTMLDivElement>(null);\n  const endRef = useRef<HTMLDivElement>(null);\n\n  // Debug: Log when filter changes\n  useEffect(() => {\n    console.log('RealTimeConsole: Filter changed to:', logFilter);\n  }, [logFilter]);\n\n  // Filter logs based on the selected filter\n  const getFilteredLogs = () => {\n    console.log('RealTimeConsole filter:', logFilter, 'Total logs:', logs.length, 'showInfoLogs:', showInfoLogs);\n    \n    // Start with all logs\n    let baseFilteredLogs = logs;\n    \n    // Hide INFO logs by default unless showInfoLogs is true\n    if (!showInfoLogs) {\n      baseFilteredLogs = logs.filter(log => log.level !== 'INFO');\n      console.log('Hiding INFO logs, remaining:', baseFilteredLogs.length);\n    }\n    \n    if (!logFilter || logFilter === 'All Logs') {\n      console.log('Showing all logs before maxLogs filter:', baseFilteredLogs.length);\n      const result = baseFilteredLogs.slice(-maxLogs); // Apply maxLogs limit\n      console.log('Final logs after maxLogs filter:', result.length, 'maxLogs:', maxLogs);\n      return result;\n    }\n    \n    let filtered;\n    switch (logFilter) {\n      case 'Errors Only':\n        filtered = baseFilteredLogs.filter(log => log.level === 'ERROR');\n        console.log('Filtered ERROR logs:', filtered.length);\n        break;\n      case 'Warnings Only':\n        filtered = baseFilteredLogs.filter(log => log.level === 'WARN');\n        console.log('Filtered WARN logs:', filtered.length);\n        break;\n      case 'Info Only':\n        // For Info Only filter, always show INFO logs regardless of showInfoLogs setting\n        filtered = logs.filter(log => log.level === 'INFO');\n        console.log('Filtered INFO logs:', filtered.length);\n        break;\n      case 'Success Only':\n        filtered = baseFilteredLogs.filter(log => log.level === 'SUCCESS');\n        console.log('Filtered SUCCESS logs:', filtered.length);\n        break;\n      case 'Debug Only':\n        filtered = baseFilteredLogs.filter(log => log.level === 'DEBUG');\n        console.log('Filtered DEBUG logs:', filtered.length);\n        break;\n      default:\n        filtered = baseFilteredLogs;\n        break;\n    }\n    \n    return filtered.slice(-maxLogs); // Keep only the most recent maxLogs entries\n  };\n\n  // Auto-scroll to bottom when new logs arrive\n  useEffect(() => {\n    if (autoScroll && scrollAreaRef.current) {\n      const scrollContainer = scrollAreaRef.current;\n      scrollContainer.scrollTo({\n        top: scrollContainer.scrollHeight,\n        behavior: 'smooth'\n      });\n    }\n  }, [logs, autoScroll]);\n\n  // Fetch logs from API\n  useEffect(() => {\n    const fetchLogs = async () => {\n      try {\n        const apiUrl = process.env.NODE_ENV === 'production' \n          ? '/api/admin/logs/database?limit=100&sort=desc'\n          : 'http://localhost:3002/api/admin/logs/database?limit=100&sort=desc';\n        \n        const response = await fetch(apiUrl);\n        const data = await response.json();\n        \n        if (data.logs && Array.isArray(data.logs)) {\n          const formattedLogs: LogEntry[] = data.logs.map((log: any, index: number) => ({\n            id: log.id || index,\n            timestamp: new Date(log.timestamp),\n            level: log.level || 'INFO',\n            source: log.source || 'backend',\n            message: log.message || 'No message',\n            service: log.service,\n            meta: log.meta\n          }));\n          setLogs(formattedLogs.reverse()); // Show newest at bottom\n        }\n      } catch (error) {\n        console.warn('Failed to fetch logs, using mock data');\n        // Mock data for demonstration with SUCCESS and DEBUG support\n        const mockLogs: LogEntry[] = [\n          {\n            id: 1,\n            timestamp: new Date(),\n            level: 'INFO',\n            source: 'backend',\n            message: 'User authentication successful',\n            service: 'auth-service',\n            origin: 'server',\n            source_component: 'AuthController'\n          },\n          {\n            id: 2,\n            timestamp: new Date(Date.now() - 2000),\n            level: 'SUCCESS',\n            source: 'frontend',\n            message: 'Page loaded successfully',\n            service: 'ui-service',\n            origin: 'browser',\n            source_component: 'PageLoader'\n          },\n          {\n            id: 3,\n            timestamp: new Date(Date.now() - 4000),\n            level: 'WARN',\n            source: 'frontend',\n            message: 'API response time exceeded threshold',\n            service: 'api-gateway',\n            origin: 'browser',\n            source_component: 'ApiClient'\n          },\n          {\n            id: 4,\n            timestamp: new Date(Date.now() - 6000),\n            level: 'WARN',\n            source: 'backend',\n            message: 'Memory usage approaching limit',\n            service: 'monitoring',\n            origin: 'server',\n            source_component: 'MemoryMonitor'\n          },\n          {\n            id: 5,\n            timestamp: new Date(Date.now() - 8000),\n            level: 'ERROR',\n            source: 'backend',\n            message: 'Database connection failed',\n            service: 'db-service',\n            origin: 'server',\n            source_component: 'DatabasePool'\n          },\n          {\n            id: 6,\n            timestamp: new Date(Date.now() - 10000),\n            level: 'ERROR',\n            source: 'backend',\n            message: 'Payment processing failure',\n            service: 'payment-service',\n            origin: 'server',\n            source_component: 'PaymentProcessor'\n          },\n          {\n            id: 7,\n            timestamp: new Date(Date.now() - 12000),\n            level: 'SUCCESS',\n            source: 'backend',\n            message: 'Backup completed successfully',\n            service: 'backup-service',\n            origin: 'server',\n            source_component: 'BackupManager'\n          },\n          {\n            id: 8,\n            timestamp: new Date(Date.now() - 14000),\n            level: 'DEBUG',\n            source: 'browser',\n            message: 'Component state updated',\n            service: 'ui-service',\n            origin: 'browser',\n            source_component: 'ReactComponent'\n          },\n          {\n            id: 9,\n            timestamp: new Date(Date.now() - 16000),\n            level: 'DEBUG',\n            source: 'dev',\n            message: 'Component mounted and initialized',\n            service: 'logger-service',\n            origin: 'devtools',\n            source_component: 'DevLogger'\n          },\n          {\n            id: 10,\n            timestamp: new Date(Date.now() - 18000),\n            level: 'SUCCESS',\n            source: 'backend',\n            message: 'Session cleanup completed',\n            service: 'session-service',\n            origin: 'server',\n            source_component: 'SessionManager'\n          },\n          {\n            id: 11,\n            timestamp: new Date(Date.now() - 20000),\n            level: 'DEBUG',\n            source: 'frontend',\n            message: 'Network request initiated',\n            service: 'api-client',\n            origin: 'browser',\n            source_component: 'HttpClient'\n          },\n          {\n            id: 12,\n            timestamp: new Date(Date.now() - 22000),\n            level: 'INFO',\n            source: 'backend',\n            message: 'Health check passed',\n            service: 'monitoring',\n            origin: 'server',\n            source_component: 'HealthMonitor'\n          }\n        ];\n        setLogs(mockLogs);\n      }\n    };\n\n    fetchLogs();\n\n    // Setup real-time updates if live\n    if (isLive) {\n      const interval = setInterval(fetchLogs, 2000);\n      return () => clearInterval(interval);\n    }\n  }, [isLive]);\n\n  const icon = (\n    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n    </svg>\n  );\n\n  return (\n    <ConsoleCard\n      title=\"Real-Time Logs\"\n      titleColor={isDarkMode ? \"text-green-400\" : \"text-green-600\"}\n      icon={icon}\n      badge={{\n        text: `${getFilteredLogs().length} logs`,\n        color: isDarkMode \n          ? \"bg-green-500/20 text-green-400 border-green-500/30\"\n          : \"bg-green-100 text-green-700 border-green-300\"\n      }}\n      isDarkMode={isDarkMode}\n    >\n      <div className=\"h-full flex flex-col\">\n        {/* Controls */}\n        <div className={`p-4 border-b ${\n          isDarkMode \n            ? 'border-gray-700 bg-gray-800/30' \n            : 'border-gray-300 bg-gray-50'\n        }`}>\n          <div className=\"flex items-center justify-between\">\n            <label className=\"flex items-center space-x-2 cursor-pointer\">\n              <input\n                type=\"checkbox\"\n                checked={autoScroll}\n                onChange={(e) => setAutoScroll(e.target.checked)}\n                className={`rounded text-green-500 focus:ring-green-500 ${\n                  isDarkMode \n                    ? 'border-gray-600 bg-gray-700' \n                    : 'border-gray-300 bg-white'\n                }`}\n              />\n              <span className={`text-sm ${\n                isDarkMode ? 'text-gray-300' : 'text-gray-700'\n              }`}>Auto-scroll</span>\n            </label>\n            \n            <div className=\"flex items-center space-x-2\">\n              <span className={`w-2 h-2 rounded-full ${isLive ? 'bg-green-400 animate-pulse' : 'bg-red-400'}`} />\n              <span className={`text-xs ${isLive ? 'text-green-400' : 'text-red-400'}`}>\n                {isLive ? 'LIVE' : 'PAUSED'}\n              </span>\n            </div>\n          </div>\n        </div>\n        \n        {/* Log Stream */}\n        <div \n          ref={scrollAreaRef}\n          className={`console-scroll-area flex-1 overflow-y-auto p-4 space-y-1 ${\n            isDarkMode ? '' : 'bg-white'\n          }`}\n        >\n          {getFilteredLogs().length === 0 ? (\n            <div className={`flex items-center justify-center h-full ${\n              isDarkMode ? 'text-gray-400' : 'text-gray-500'\n            }`}>\n              <div className=\"text-center\">\n                <div className={`w-12 h-12 mx-auto mb-3 rounded-full flex items-center justify-center ${\n                  isDarkMode ? 'bg-gray-700/50' : 'bg-gray-200'\n                }`}>\n                  <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                  </svg>\n                </div>\n                <p className={`text-sm font-medium mb-1 ${\n                  isDarkMode ? 'text-gray-300' : 'text-gray-700'\n                }`}>\n                  {logs.length === 0 ? (isLive ? 'Waiting for logs...' : 'No logs available') : `No ${logFilter?.toLowerCase().replace(' only', '')} logs`}\n                </p>\n                <p className={`text-xs ${\n                  isDarkMode ? 'text-gray-400' : 'text-gray-500'\n                }`}>\n                  {logs.length === 0 ? (isLive ? 'New entries will appear automatically' : 'Click refresh to load logs') : 'Try changing the filter or refreshing'}\n                </p>\n              </div>\n            </div>\n          ) : (\n            <>\n              {getFilteredLogs().map((log) => (\n                <LogCard\n                  key={log.id}\n                  timestamp={log.timestamp}\n                  level={log.level}\n                  source={log.source}\n                  message={log.message}\n                  service={log.service}\n                  meta={log.meta}\n                  isDarkMode={isDarkMode}\n                />\n              ))}\n              {/* Terminal cursor effect */}\n              {isLive && (\n                <div className={`flex items-center space-x-2 opacity-70 ${\n                  isDarkMode ? 'text-green-400' : 'text-green-600'\n                }`}>\n                  <span className=\"text-xs font-mono\">\n                    {new Date().toLocaleTimeString('en-US', { hour12: false })}\n                  </span>\n                  <span className=\"terminal-cursor\">‚ñä</span>\n                </div>\n              )}\n              <div ref={endRef} />\n            </>\n          )}\n        </div>\n      </div>\n    </ConsoleCard>\n  );\n};\n\nexport default RealTimeConsole;","import React from 'react';\n\ninterface CriticalAlertProps {\n  level: 'WARN' | 'ERROR' | 'CRITICAL';\n  source: 'frontend' | 'backend' | 'dev' | 'browser';\n  message: string;\n  icon: string;\n  timestamp: Date;\n  onDismiss: () => void;\n  onCreateGitHubIssue?: () => void;\n  canCreateGitHubIssue?: boolean;\n  isDarkMode?: boolean;\n}\n\nexport const CriticalAlert: React.FC<CriticalAlertProps> = ({\n  level,\n  source,\n  message,\n  icon,\n  timestamp,\n  onDismiss,\n  onCreateGitHubIssue,\n  canCreateGitHubIssue = false,\n  isDarkMode = true\n}) => {\n  const formatTimestamp = (date: Date) => {\n    return date.toLocaleString('en-US', {\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit',\n      second: '2-digit'\n    });\n  };\n\n  const getAlertStyles = (level: string) => {\n    if (isDarkMode) {\n      switch (level) {\n        case 'CRITICAL':\n          return {\n            container: 'bg-red-950/30 border-red-600/70 border-2 animate-pulse',\n            text: 'text-red-300',\n            badge: 'bg-red-800 text-red-200 animate-pulse'\n          };\n        case 'ERROR':\n          return {\n            container: 'bg-red-900/20 border-red-700/50 border',\n            text: 'text-red-400',\n            badge: 'bg-red-900 text-red-400'\n          };\n        case 'WARN':\n          return {\n            container: 'bg-yellow-900/20 border-yellow-700/50 border',\n            text: 'text-yellow-400',\n            badge: 'bg-yellow-900 text-yellow-400'\n          };\n        default:\n          return {\n            container: 'bg-gray-900/20 border-gray-700/50 border',\n            text: 'text-gray-400',\n            badge: 'bg-gray-900 text-gray-400'\n          };\n      }\n    } else {\n      switch (level) {\n        case 'CRITICAL':\n          return {\n            container: 'bg-red-50 border-red-400 border-2 animate-pulse',\n            text: 'text-red-700',\n            badge: 'bg-red-200 text-red-800 animate-pulse'\n          };\n        case 'ERROR':\n          return {\n            container: 'bg-red-50 border-red-300 border',\n            text: 'text-red-600',\n            badge: 'bg-red-100 text-red-700'\n          };\n        case 'WARN':\n          return {\n            container: 'bg-yellow-50 border-yellow-300 border',\n            text: 'text-yellow-600',\n            badge: 'bg-yellow-100 text-yellow-700'\n          };\n        default:\n          return {\n            container: 'bg-gray-50 border-gray-300 border',\n            text: 'text-gray-600',\n            badge: 'bg-gray-100 text-gray-700'\n          };\n      }\n    }\n  };\n\n  const getSourceColor = (source: string) => {\n    if (isDarkMode) {\n      switch (source) {\n        case 'frontend':\n          return 'text-green-400';\n        case 'backend':\n          return 'text-purple-400';\n        case 'dev':\n          return 'text-orange-400';\n        default:\n          return 'text-gray-400';\n      }\n    } else {\n      switch (source) {\n        case 'frontend':\n          return 'text-green-600';\n        case 'backend':\n          return 'text-purple-600';\n        case 'dev':\n          return 'text-orange-600';\n        default:\n          return 'text-gray-600';\n      }\n    }\n  };\n\n  const styles = getAlertStyles(level);\n\n  return (\n    <div className={`rounded-lg p-3 relative group hover:shadow-lg transition-all duration-200 ${styles.container}`}>\n      <div className=\"flex items-start space-x-3\">\n        {/* Icon */}\n        <div className=\"text-lg flex-shrink-0\">\n          {icon}\n        </div>\n        \n        <div className=\"flex-1 min-w-0\">\n          {/* Level Badge and Source */}\n          <div className=\"flex items-center space-x-2 mb-2\">\n            <span className={`px-2 py-0.5 rounded text-xs font-medium ${styles.badge}`}>\n              {level}\n            </span>\n            <span className={`text-xs font-mono ${getSourceColor(source)}`}>\n              [{source}]\n            </span>\n            <span className=\"text-xs text-gray-400\">\n              {formatTimestamp(timestamp)}\n            </span>\n          </div>\n          \n          {/* Message */}\n          <div className={`font-medium text-sm ${styles.text}`}>\n            {message}\n          </div>\n        </div>\n        \n        {/* Action Buttons */}\n        <div className=\"flex items-center space-x-1\">\n          {/* GitHub Issue Button */}\n          {canCreateGitHubIssue && onCreateGitHubIssue && (\n            <button\n              onClick={onCreateGitHubIssue}\n              className=\"opacity-0 group-hover:opacity-100 transition-opacity text-orange-400 hover:text-orange-300 p-1 rounded\"\n              title=\"Create GitHub Issue\"\n            >\n              <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path fillRule=\"evenodd\" d=\"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z\" clipRule=\"evenodd\" />\n              </svg>\n            </button>\n          )}\n          \n          {/* Dismiss Button */}\n          <button\n            onClick={onDismiss}\n            className=\"opacity-0 group-hover:opacity-100 transition-opacity text-gray-400 hover:text-gray-200 p-1 rounded\"\n            title=\"Dismiss alert\"\n          >\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n            </svg>\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CriticalAlert;","import React, { useState } from 'react';\nimport { Dialog, DialogContent, DialogTitle, DialogActions } from '@mui/material';\nimport { Button, TextField, Typography, Box, Alert, CircularProgress, Chip } from '@mui/material';\nimport { IconBrandGithub, IconX, IconCheck } from '@tabler/icons-react';\n\ninterface LogEntry {\n  id: number;\n  timestamp: Date;\n  level: 'ERROR' | 'CRITICAL' | 'WARN';\n  source: string;\n  message: string;\n  details?: string;\n  hash?: string;\n  occurrences?: number;\n  source_component?: string;\n}\n\ninterface GitHubIssueModalProps {\n  open: boolean;\n  onClose: () => void;\n  logEntry: LogEntry | null;\n}\n\nexport const GitHubIssueModal: React.FC<GitHubIssueModalProps> = ({\n  open,\n  onClose,\n  logEntry\n}) => {\n  const [isCreating, setIsCreating] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [success, setSuccess] = useState<{ url: string; number: number } | null>(null);\n  const [customTitle, setCustomTitle] = useState('');\n  const [customDescription, setCustomDescription] = useState('');\n\n  const handleCreateIssue = async () => {\n    if (!logEntry) return;\n\n    setIsCreating(true);\n    setError(null);\n\n    try {\n      const payload = {\n        error_hash: logEntry.hash || `temp_${Date.now()}`,\n        log_message: logEntry.message,\n        log_details: logEntry.details || '',\n        log_level: logEntry.level,\n        source_component: logEntry.source_component || logEntry.source,\n        occurrence_count: logEntry.occurrences || 1,\n        custom_title: customTitle.trim(),\n        custom_description: customDescription.trim()\n      };\n\n      const apiUrl = process.env.NODE_ENV === 'production' \n        ? '/api/errors/report-to-github'\n        : 'http://localhost:3002/api/errors/report-to-github';\n\n      const response = await fetch(apiUrl, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        credentials: 'include',\n        body: JSON.stringify(payload)\n      });\n\n      const data = await response.json();\n\n      if (!response.ok) {\n        throw new Error(data.message || 'Failed to create GitHub issue');\n      }\n\n      setSuccess({\n        url: data.github_url,\n        number: data.issue_number\n      });\n\n    } catch (err: any) {\n      console.error('GitHub Issue Creation Error:', err);\n      setError(err.message || 'Failed to create GitHub issue');\n    } finally {\n      setIsCreating(false);\n    }\n  };\n\n  const handleClose = () => {\n    setError(null);\n    setSuccess(null);\n    setCustomTitle('');\n    setCustomDescription('');\n    onClose();\n  };\n\n  const getLogLevelColor = (level: string) => {\n    switch (level) {\n      case 'CRITICAL': return 'error';\n      case 'ERROR': return 'warning';\n      case 'WARN': return 'info';\n      default: return 'default';\n    }\n  };\n\n  const generateIssueTitle = () => {\n    if (customTitle.trim()) return customTitle;\n    if (!logEntry) return '';\n    \n    const truncatedMessage = logEntry.message.substring(0, 60);\n    return `[${logEntry.level}] ${truncatedMessage}${logEntry.message.length > 60 ? '...' : ''}`;\n  };\n\n  return (\n    <Dialog \n      open={open} \n      onClose={handleClose}\n      maxWidth=\"md\"\n      fullWidth\n      PaperProps={{\n        sx: {\n          backgroundColor: '#1e293b',\n          color: 'white',\n          border: '1px solid #475569'\n        }\n      }}\n    >\n      <DialogTitle sx={{ \n        backgroundColor: '#0f172a', \n        borderBottom: '1px solid #475569',\n        display: 'flex',\n        alignItems: 'center',\n        gap: 2,\n        color: 'white', \n        fontSize: '1.25rem', \n        fontWeight: 'bold'\n      }}>\n        <IconBrandGithub size={24} color=\"#f59e0b\" />\n        Create GitHub Issue\n      </DialogTitle>\n\n      <DialogContent sx={{ padding: 3 }}>\n        {logEntry && (\n          <Box>\n            {/* Log Entry Summary */}\n            <Box sx={{ marginBottom: 3, padding: 2, backgroundColor: '#374151', borderRadius: 2 }}>\n              <Box sx={{ display: 'flex', alignItems: 'center', gap: 2, marginBottom: 2 }}>\n                <Chip \n                  label={logEntry.level}\n                  color={getLogLevelColor(logEntry.level) as any}\n                  size=\"small\"\n                  sx={{ fontWeight: 'bold' }}\n                />\n                <Typography variant=\"body2\" sx={{ color: '#9ca3af' }}>\n                  {logEntry.source_component || logEntry.source} ‚Ä¢ {logEntry.occurrences || 1} occurrence(s)\n                </Typography>\n              </Box>\n              \n              <Typography variant=\"h6\" sx={{ color: 'white', marginBottom: 1 }}>\n                {logEntry.message}\n              </Typography>\n              \n              {logEntry.details && (\n                <Typography variant=\"body2\" sx={{ color: '#d1d5db', fontFamily: 'monospace' }}>\n                  {logEntry.details}\n                </Typography>\n              )}\n            </Box>\n\n            {/* Custom Title */}\n            <TextField\n              fullWidth\n              label=\"Issue Title (Optional)\"\n              placeholder={generateIssueTitle()}\n              value={customTitle}\n              onChange={(e) => setCustomTitle(e.target.value)}\n              sx={{ \n                marginBottom: 2,\n                '& .MuiOutlinedInput-root': {\n                  color: 'white',\n                  '& fieldset': { borderColor: '#6b7280' },\n                  '&:hover fieldset': { borderColor: '#9ca3af' },\n                  '&.Mui-focused fieldset': { borderColor: '#3b82f6' }\n                },\n                '& .MuiInputLabel-root': { color: '#9ca3af' }\n              }}\n            />\n\n            {/* Custom Description */}\n            <TextField\n              fullWidth\n              multiline\n              rows={3}\n              label=\"Additional Description (Optional)\"\n              placeholder=\"Add any additional context or steps to reproduce...\"\n              value={customDescription}\n              onChange={(e) => setCustomDescription(e.target.value)}\n              sx={{ \n                marginBottom: 2,\n                '& .MuiOutlinedInput-root': {\n                  color: 'white',\n                  '& fieldset': { borderColor: '#6b7280' },\n                  '&:hover fieldset': { borderColor: '#9ca3af' },\n                  '&.Mui-focused fieldset': { borderColor: '#3b82f6' }\n                },\n                '& .MuiInputLabel-root': { color: '#9ca3af' }\n              }}\n            />\n\n            {/* Preview */}\n            <Box sx={{ marginBottom: 2, padding: 2, backgroundColor: '#111827', borderRadius: 2 }}>\n              <Typography variant=\"subtitle2\" sx={{ color: '#f59e0b', marginBottom: 1 }}>\n                Preview Issue:\n              </Typography>\n              <Typography variant=\"body2\" sx={{ color: '#e5e7eb', fontWeight: 'bold' }}>\n                {generateIssueTitle()}\n              </Typography>\n            </Box>\n\n            {/* Error Message */}\n            {error && (\n              <Alert severity=\"error\" sx={{ marginBottom: 2, backgroundColor: '#7f1d1d', color: 'white' }}>\n                {error}\n              </Alert>\n            )}\n\n            {/* Success Message */}\n            {success && (\n              <Alert \n                severity=\"success\" \n                sx={{ marginBottom: 2, backgroundColor: '#14532d', color: 'white' }}\n                action={\n                  <Button\n                    size=\"small\"\n                    href={success.url}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    sx={{ color: 'white' }}\n                  >\n                    View Issue #{success.number}\n                  </Button>\n                }\n              >\n                GitHub issue created successfully!\n              </Alert>\n            )}\n          </Box>\n        )}\n      </DialogContent>\n\n      <DialogActions sx={{ \n        padding: 3, \n        backgroundColor: '#0f172a', \n        borderTop: '1px solid #475569',\n        gap: 2\n      }}>\n        <Button\n          onClick={handleClose}\n          variant=\"outlined\"\n          startIcon={<IconX size={16} />}\n          sx={{ \n            color: 'white', \n            borderColor: '#6b7280',\n            '&:hover': { borderColor: '#9ca3af', backgroundColor: '#374151' }\n          }}\n        >\n          Cancel\n        </Button>\n        \n        {!success && (\n          <Button\n            onClick={handleCreateIssue}\n            disabled={isCreating || !logEntry}\n            variant=\"contained\"\n            startIcon={isCreating ? <CircularProgress size={16} /> : <IconBrandGithub size={16} />}\n            sx={{ \n              backgroundColor: '#f59e0b',\n              color: 'black',\n              fontWeight: 'bold',\n              '&:hover': { backgroundColor: '#d97706' },\n              '&:disabled': { backgroundColor: '#6b7280', color: '#9ca3af' }\n            }}\n          >\n            {isCreating ? 'Creating...' : 'Create GitHub Issue'}\n          </Button>\n        )}\n      </DialogActions>\n    </Dialog>\n  );\n};","import React, { useState, useEffect } from 'react';\nimport ConsoleCard from '../system/logs/ConsoleCard';\nimport CriticalAlert from '../system/logs/CriticalAlert';\nimport { GitHubIssueModal } from '../system/logs/GitHubIssueModal';\n\ninterface CriticalEvent {\n  id: number;\n  level: 'WARN' | 'ERROR' | 'CRITICAL';\n  source: 'frontend' | 'backend' | 'dev' | 'browser';\n  message: string;\n  timestamp: Date;\n  icon: string;\n  severity?: 'high' | 'medium' | 'low';\n  details?: string;\n  hash?: string;\n  occurrences?: number;\n  source_component?: string;\n}\n\ninterface CriticalConsoleProps {\n  isLive: boolean;\n  logFilter?: string;\n  showInfoLogs?: boolean;\n  isDarkMode?: boolean;\n}\n\nexport const CriticalConsole: React.FC<CriticalConsoleProps> = ({ isLive, logFilter = 'All Logs', showInfoLogs = false, isDarkMode = true }) => {\n  const [events, setEvents] = useState<CriticalEvent[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [githubModalOpen, setGithubModalOpen] = useState(false);\n  const [selectedEvent, setSelectedEvent] = useState<CriticalEvent | null>(null);\n\n  // Critical Events should always show ERROR and WARN regardless of global filter\n  const getFilteredEvents = () => {\n    console.log('CriticalConsole: Always showing all critical events (ERROR + WARN)');\n    console.log('Total critical events:', events.length);\n    \n    // Critical Events console always shows both ERROR and WARN\n    // This is intentional - critical events are always important to see\n    return events;\n  };\n\n  const handleCreateGitHubIssue = (event: CriticalEvent) => {\n    if (event.level === 'ERROR' || event.level === 'CRITICAL') {\n      setSelectedEvent(event);\n      setGithubModalOpen(true);\n    }\n  };\n\n  const handleCloseGitHubModal = () => {\n    setGithubModalOpen(false);\n    setSelectedEvent(null);\n  };\n\n  useEffect(() => {\n    const fetchCriticalEvents = async () => {\n      setLoading(true);\n      try {\n        const apiUrl = process.env.NODE_ENV === 'production' \n          ? '/api/admin/logs/database/critical?limit=20'\n          : 'http://localhost:3002/api/admin/logs/database/critical?limit=20';\n        \n        const response = await fetch(apiUrl);\n        const data = await response.json();\n        \n        if (data.events && Array.isArray(data.events) && data.events.length > 0) {\n          const formattedEvents: CriticalEvent[] = data.events.map((event: any, index: number) => ({\n            id: event.id || index,\n            level: event.level === 'ERROR' ? 'ERROR' : 'WARN',\n            source: event.source || 'backend',\n            message: event.message || 'Critical event occurred',\n            timestamp: new Date(event.timestamp),\n            icon: event.level === 'ERROR' ? 'üî¥' : 'üü°',\n            severity: event.severity || 'medium'\n          }));\n          setEvents(formattedEvents);\n        } else {\n          // Use mock data to show functionality\n          setEvents(getMockEvents());\n        }\n      } catch (error) {\n        console.warn('Failed to fetch critical events, using mock data');\n        setEvents(getMockEvents());\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    const getMockEvents = (): CriticalEvent[] => {\n      return [\n          {\n            id: 1,\n            level: 'CRITICAL',\n            source: 'backend',\n            message: 'System memory usage exceeded 95%',\n            timestamp: new Date(),\n            icon: 'üÜò',\n            severity: 'high',\n            details: 'Memory usage: 96.2%, Swap usage: 89%, System stability compromised',\n            hash: 'critical_memory_exhaustion',\n            occurrences: 1,\n            source_component: 'SystemMonitor'\n          },\n          {\n            id: 2,\n            level: 'ERROR',\n            source: 'backend',\n            message: 'Database connection pool exhausted',\n            timestamp: new Date(Date.now() - 180000),\n            icon: 'üî¥',\n            severity: 'high',\n            details: 'All 50 connections in use, new requests timing out',\n            hash: 'db_connection_pool_exhausted',\n            occurrences: 3,\n            source_component: 'DatabaseManager'\n          },\n          {\n            id: 3,\n            level: 'WARN',\n            source: 'frontend',\n            message: 'API response time exceeded threshold',\n            timestamp: new Date(Date.now() - 300000),\n            icon: 'üü°',\n            severity: 'medium',\n            details: 'Average response time: 2.8s, Threshold: 2.0s',\n            hash: 'api_response_time_slow',\n            occurrences: 12,\n            source_component: 'ApiClient'\n          },\n          {\n            id: 4,\n            level: 'ERROR',\n            source: 'backend',\n            message: 'Payment processing failure detected',\n            timestamp: new Date(Date.now() - 600000),\n            icon: 'üî¥',\n            severity: 'high',\n            details: 'Payment gateway returned error 500, transaction ID: txn_1234567890',\n            hash: 'payment_gateway_error',\n            occurrences: 2,\n            source_component: 'PaymentProcessor'\n          },\n          {\n            id: 5,\n            level: 'CRITICAL',\n            source: 'backend',\n            message: 'Security breach attempt detected',\n            timestamp: new Date(Date.now() - 900000),\n            icon: 'üÜò',\n            severity: 'high',\n            details: 'Multiple failed authentication attempts from IP: 192.168.1.100',\n            hash: 'security_breach_attempt',\n            occurrences: 1,\n            source_component: 'SecurityMonitor'\n          }\n        ];\n      };\n\n    fetchCriticalEvents();\n\n    // Setup real-time updates if live\n    if (isLive) {\n      const interval = setInterval(fetchCriticalEvents, 30000); // Check every 30 seconds\n      return () => clearInterval(interval);\n    }\n  }, [isLive]);\n\n  const handleDismiss = (eventId: number) => {\n    setEvents(prev => prev.filter(event => event.id !== eventId));\n  };\n\n  const icon = (\n    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.99-.833-2.598 0L4.732 15.5c-.77.833.192 2.5 1.732 2.5z\" />\n    </svg>\n  );\n\n  return (\n    <ConsoleCard\n      title=\"Critical Events\"\n      titleColor={isDarkMode ? \"text-red-400\" : \"text-red-600\"}\n      icon={icon}\n      badge={{\n        text: `${events.length} alerts`,\n        color: isDarkMode\n          ? \"bg-red-500/20 text-red-400 border-red-500/30\"\n          : \"bg-red-100 text-red-700 border-red-300\"\n      }}\n      isDarkMode={isDarkMode}\n    >\n      <div className={`h-full overflow-y-auto console-scroll-area ${\n        isDarkMode ? '' : 'bg-white'\n      }`}>\n        {loading ? (\n          <div className=\"flex items-center justify-center h-full\">\n            <div className={`text-center ${\n              isDarkMode ? 'text-gray-400' : 'text-gray-600'\n            }`}>\n              <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-red-500 mx-auto mb-2\"></div>\n              <div className=\"text-sm\">Loading critical events...</div>\n            </div>\n          </div>\n        ) : getFilteredEvents().length === 0 ? (\n          <div className=\"flex items-center justify-center h-full p-4\">\n            <div className={`text-center ${\n              isDarkMode ? 'text-gray-400' : 'text-gray-600'\n            }`}>\n              <div className=\"text-6xl mb-4\">‚úÖ</div>\n              <div className={`text-lg font-medium mb-2 ${\n                isDarkMode ? 'text-gray-300' : 'text-gray-700'\n              }`}>\n                {events.length === 0 ? 'No critical events detected' : `No ${logFilter?.toLowerCase().replace(' only', '')} events`}\n              </div>\n              <div className=\"text-sm\">\n                {events.length === 0 ? 'System is running normally' : 'Try changing the filter or refreshing'}\n              </div>\n              <div className=\"text-xs mt-2 opacity-60\">Critical Console Active</div>\n            </div>\n          </div>\n        ) : (\n          <div className=\"p-4 space-y-3\">\n            {getFilteredEvents().map((event) => (\n              <CriticalAlert\n                key={event.id}\n                level={event.level}\n                source={event.source}\n                message={event.message}\n                icon={event.icon}\n                timestamp={event.timestamp}\n                onDismiss={() => handleDismiss(event.id)}\n                onCreateGitHubIssue={() => handleCreateGitHubIssue(event)}\n                canCreateGitHubIssue={event.level === 'ERROR' || event.level === 'CRITICAL'}\n                isDarkMode={isDarkMode}\n              />\n            ))}\n          </div>\n        )}\n      </div>\n      \n      {/* GitHub Issue Creation Modal */}\n      <GitHubIssueModal\n        open={githubModalOpen}\n        onClose={handleCloseGitHubModal}\n        logEntry={selectedEvent ? {\n          id: selectedEvent.id,\n          timestamp: selectedEvent.timestamp,\n          level: selectedEvent.level as 'ERROR' | 'CRITICAL' | 'WARN',\n          source: selectedEvent.source,\n          message: selectedEvent.message,\n          details: selectedEvent.details,\n          hash: selectedEvent.hash,\n          occurrences: selectedEvent.occurrences,\n          source_component: selectedEvent.source_component\n        } : null}\n      />\n    </ConsoleCard>\n  );\n};\n\nexport default CriticalConsole;","import React from 'react';\n\ninterface SystemMessageCardProps {\n  type: 'info' | 'success' | 'warning' | 'error';\n  category: 'service' | 'security' | 'backup' | 'notification' | 'config' | 'performance';\n  title: string;\n  description: string;\n  timestamp: Date;\n  onDismiss: () => void;\n  isDarkMode?: boolean;\n}\n\nexport const SystemMessageCard: React.FC<SystemMessageCardProps> = ({\n  type,\n  category,\n  title,\n  description,\n  timestamp,\n  onDismiss,\n  isDarkMode = true\n}) => {\n  const formatTimestamp = (date: Date) => {\n    return date.toLocaleString('en-US', {\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  const getTypeStyles = (type: string) => {\n    if (isDarkMode) {\n      switch (type) {\n        case 'success':\n          return {\n            container: 'bg-green-900/30 border-green-700/50',\n            icon: '‚úÖ',\n            badge: 'bg-green-900 text-green-400',\n            text: 'text-green-400'\n          };\n        case 'info':\n          return {\n            container: 'bg-blue-900/30 border-blue-700/50',\n            icon: '‚ÑπÔ∏è',\n            badge: 'bg-blue-900 text-blue-400',\n            text: 'text-blue-400'\n          };\n        case 'warning':\n          return {\n            container: 'bg-yellow-900/30 border-yellow-700/50',\n            icon: '‚ö†Ô∏è',\n            badge: 'bg-yellow-900 text-yellow-400',\n            text: 'text-yellow-400'\n          };\n        case 'error':\n          return {\n            container: 'bg-red-900/30 border-red-700/50',\n            icon: '‚ùå',\n            badge: 'bg-red-900 text-red-400',\n            text: 'text-red-400'\n          };\n        default:\n          return {\n            container: 'bg-gray-900/30 border-gray-700/50',\n            icon: 'üìã',\n            badge: 'bg-gray-900 text-gray-400',\n            text: 'text-gray-400'\n          };\n      }\n    } else {\n      switch (type) {\n        case 'success':\n          return {\n            container: 'bg-green-50 border-green-300',\n            icon: '‚úÖ',\n            badge: 'bg-green-100 text-green-700',\n            text: 'text-green-600'\n          };\n        case 'info':\n          return {\n            container: 'bg-blue-50 border-blue-300',\n            icon: '‚ÑπÔ∏è',\n            badge: 'bg-blue-100 text-blue-700',\n            text: 'text-blue-600'\n          };\n        case 'warning':\n          return {\n            container: 'bg-yellow-50 border-yellow-300',\n            icon: '‚ö†Ô∏è',\n            badge: 'bg-yellow-100 text-yellow-700',\n            text: 'text-yellow-600'\n          };\n        case 'error':\n          return {\n            container: 'bg-red-50 border-red-300',\n            icon: '‚ùå',\n            badge: 'bg-red-100 text-red-700',\n            text: 'text-red-600'\n          };\n        default:\n          return {\n            container: 'bg-gray-50 border-gray-300',\n            icon: 'üìã',\n            badge: 'bg-gray-100 text-gray-700',\n            text: 'text-gray-600'\n          };\n      }\n    }\n  };\n\n  const getCategoryIcon = (category: string) => {\n    switch (category) {\n      case 'service': return 'üîß';\n      case 'security': return 'üîí';\n      case 'backup': return 'üíæ';\n      case 'notification': return 'üîî';\n      case 'config': return '‚öôÔ∏è';\n      case 'performance': return 'üìà';\n      default: return 'üìã';\n    }\n  };\n\n  const styles = getTypeStyles(type);\n\n  return (\n    <div \n      className={`p-4 rounded-lg border transition-all duration-300 hover:shadow-lg group ${styles.container}`}\n      // Add animation classes for future Framer Motion integration\n      // initial={{ opacity: 0, x: -20, scale: 0.95 }}\n      // animate={{ opacity: 1, x: 0, scale: 1 }}\n      // exit={{ opacity: 0, x: 20, scale: 0.95 }}\n    >\n      <div className=\"flex items-start space-x-3\">\n        {/* Category Icon */}\n        <div className=\"text-xl flex-shrink-0\">\n          {getCategoryIcon(category)}\n        </div>\n        \n        <div className=\"flex-1 min-w-0\">\n          {/* Header */}\n          <div className=\"flex items-center justify-between mb-2\">\n            <div className=\"flex items-center space-x-2\">\n              <span className={`px-2 py-0.5 rounded text-xs font-medium border ${styles.badge}`}>\n                {type.toUpperCase()}\n              </span>\n              <span className={`text-xs capitalize ${\n                isDarkMode ? 'text-gray-400' : 'text-gray-600'\n              }`}>\n                {category}\n              </span>\n            </div>\n            <span className={`text-xs ${\n              isDarkMode ? 'text-gray-500' : 'text-gray-400'\n            }`}>\n              {formatTimestamp(timestamp)}\n            </span>\n          </div>\n          \n          {/* Title */}\n          <div className={`font-medium text-sm mb-1 ${styles.text}`}>\n            {title}\n          </div>\n          \n          {/* Description */}\n          <div className={`text-sm leading-relaxed ${\n            isDarkMode ? 'text-gray-300' : 'text-gray-700'\n          }`}>\n            {description}\n          </div>\n        </div>\n        \n        {/* Dismiss Button */}\n        <button\n          onClick={onDismiss}\n          className={`opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0 p-1 rounded ${\n            isDarkMode \n              ? 'text-gray-400 hover:text-gray-200' \n              : 'text-gray-500 hover:text-gray-700'\n          }`}\n          title=\"Dismiss message\"\n        >\n          <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n          </svg>\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default SystemMessageCard;","import React, { useState, useEffect } from 'react';\nimport ConsoleCard from '../system/logs/ConsoleCard';\nimport SystemMessageCard from '../system/logs/SystemMessageCard';\n\ninterface SystemMessage {\n  id: number;\n  type: 'info' | 'success' | 'warning' | 'error';\n  category: 'service' | 'security' | 'backup' | 'notification' | 'config' | 'performance';\n  title: string;\n  description: string;\n  timestamp: Date;\n}\n\ninterface SystemMessagesConsoleProps {\n  isLive: boolean;\n  logFilter?: string;\n  showInfoLogs?: boolean;\n  isDarkMode?: boolean;\n}\n\nexport const SystemMessagesConsole: React.FC<SystemMessagesConsoleProps> = ({ isLive, logFilter = 'All Logs', showInfoLogs = false, isDarkMode = true }) => {\n  const [messages, setMessages] = useState<SystemMessage[]>([]);\n  const [loading, setLoading] = useState(false);\n\n  // Filter messages based on the selected filter\n  const getFilteredMessages = () => {\n    console.log('SystemMessagesConsole filter:', logFilter, 'Total messages:', messages.length);\n    \n    if (!logFilter || logFilter === 'All Logs') {\n      console.log('Showing all system messages:', messages.length);\n      return messages;\n    }\n    \n    let filtered;\n    switch (logFilter) {\n      case 'Errors Only':\n        filtered = []; // System messages console doesn't show ERROR logs\n        console.log('Filtered ERROR messages: 0 (system console)');\n        break;\n      case 'Warnings Only':\n        filtered = []; // System messages console doesn't show WARN logs\n        console.log('Filtered WARN messages: 0 (system console)');\n        break;\n      case 'Info Only':\n        filtered = messages.filter(message => message.type === 'info');\n        console.log('Filtered INFO messages:', filtered.length);\n        break;\n      case 'Success Only':\n        filtered = messages.filter(message => message.type === 'success');\n        console.log('Filtered SUCCESS messages:', filtered.length);\n        break;\n      case 'Debug Only':\n        filtered = []; // System messages console doesn't show DEBUG logs\n        console.log('Filtered DEBUG messages: 0 (system console)');\n        break;\n      default:\n        filtered = messages;\n        break;\n    }\n    \n    return filtered;\n  };\n\n  useEffect(() => {\n    const fetchSystemMessages = async () => {\n      setLoading(true);\n      try {\n        const apiUrl = process.env.NODE_ENV === 'production' \n          ? '/api/admin/logs/database?level=INFO,SUCCESS&source=system&limit=15&sort=desc'\n          : 'http://localhost:3002/api/admin/logs/database?level=INFO,SUCCESS&source=system&limit=15&sort=desc';\n        \n        console.log('SystemMessagesConsole: Fetching from', apiUrl);\n        const response = await fetch(apiUrl);\n        const data = await response.json();\n        console.log('SystemMessagesConsole: Received data', data);\n        \n        if (data.logs && Array.isArray(data.logs)) {\n          const formattedMessages: SystemMessage[] = data.logs.map((log: any, index: number) => ({\n            id: log.id || index,\n            type: log.level?.toLowerCase() === 'success' ? 'success' : 'info',\n            category: log.service ? getCategory(log.service) : 'service',\n            title: extractTitle(log.message),\n            description: log.message,\n            timestamp: new Date(log.timestamp)\n          }));\n          console.log('SystemMessagesConsole: Formatted messages', formattedMessages);\n          setMessages(formattedMessages);\n        } else {\n          console.log('SystemMessagesConsole: No logs found, using mock data');\n          // Use mock data if no system logs found\n          setMessages(getMockMessages());\n        }\n      } catch (error) {\n        console.warn('SystemMessagesConsole: Failed to fetch, using mock data', error);\n        setMessages(getMockMessages());\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    const getMockMessages = (): SystemMessage[] => {\n      return [\n        {\n          id: 1,\n          type: 'success',\n          category: 'backup',\n          title: 'Database Backup Completed',\n          description: 'Daily database backup completed successfully. 2.4GB archived.',\n          timestamp: new Date()\n        },\n        {\n          id: 2,\n          type: 'info',\n          category: 'service',\n          title: 'Maintenance Window Started',\n          description: 'Weekly maintenance window has begun. Expected duration: 2 hours.',\n          timestamp: new Date(Date.now() - 900000)\n        },\n        {\n          id: 3,\n          type: 'success',\n          category: 'security',\n          title: 'SSL Certificates Renewed',\n          description: 'All SSL certificates have been automatically renewed. Valid until 2026.',\n          timestamp: new Date(Date.now() - 1800000)\n        },\n        {\n          id: 4,\n          type: 'info',\n          category: 'performance',\n          title: 'Cache Optimization Complete',\n          description: 'Redis cache optimization finished. Hit rate improved to 98.7%.',\n          timestamp: new Date(Date.now() - 3600000)\n        }\n      ];\n    };\n\n    fetchSystemMessages();\n\n    // Setup real-time updates if live\n    if (isLive) {\n      const interval = setInterval(fetchSystemMessages, 60000); // Check every minute\n      return () => clearInterval(interval);\n    }\n  }, [isLive]);\n\n  const getCategory = (service: string): SystemMessage['category'] => {\n    const serviceMap: Record<string, SystemMessage['category']> = {\n      'backup-service': 'backup',\n      'auth-service': 'security',\n      'security': 'security',\n      'cache': 'performance',\n      'redis': 'performance',\n      'scheduler': 'service',\n      'maintenance': 'service',\n      'notification': 'notification',\n      'config': 'config'\n    };\n    return serviceMap[service] || 'service';\n  };\n\n  const extractTitle = (message: string): string => {\n    // Extract a title from the message (first sentence or up to 50 chars)\n    const firstSentence = message.split('.')[0];\n    return firstSentence.length > 50 ? firstSentence.substring(0, 47) + '...' : firstSentence;\n  };\n\n  const handleDismiss = (messageId: number) => {\n    setMessages(prev => prev.filter(message => message.id !== messageId));\n  };\n\n  const icon = (\n    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\" />\n    </svg>\n  );\n\n  return (\n    <ConsoleCard\n      title=\"System Messages\"\n      titleColor={isDarkMode ? \"text-blue-400\" : \"text-blue-600\"}\n      icon={icon}\n      badge={{\n        text: `${getFilteredMessages().length} messages`,\n        color: isDarkMode\n          ? \"bg-blue-500/20 text-blue-400 border-blue-500/30\"\n          : \"bg-blue-100 text-blue-700 border-blue-300\"\n      }}\n      isDarkMode={isDarkMode}\n    >\n      <div className={`h-full overflow-y-auto console-scroll-area ${\n        isDarkMode ? '' : 'bg-white'\n      }`}>\n        {loading ? (\n          <div className=\"flex items-center justify-center h-full\">\n            <div className={`text-center ${\n              isDarkMode ? 'text-gray-400' : 'text-gray-600'\n            }`}>\n              <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-2\"></div>\n              <div className=\"text-sm\">Loading system messages...</div>\n            </div>\n          </div>\n        ) : getFilteredMessages().length === 0 ? (\n          <div className=\"flex items-center justify-center h-full p-4\">\n            <div className={`text-center ${\n              isDarkMode ? 'text-gray-400' : 'text-gray-600'\n            }`}>\n              <div className=\"text-4xl mb-4\">üì≠</div>\n              <div className={`text-lg font-medium mb-2 ${\n                isDarkMode ? 'text-gray-300' : 'text-gray-700'\n              }`}>\n                {messages.length === 0 ? 'No system messages' : `No ${logFilter?.toLowerCase().replace(' only', '')} system messages`}\n              </div>\n              <div className=\"text-sm\">\n                {messages.length === 0 ? 'All systems operating normally' : 'Try changing the filter or refreshing'}\n              </div>\n              <div className=\"text-xs mt-2 opacity-60\">System Console Active</div>\n            </div>\n          </div>\n        ) : (\n          <div className=\"p-4 space-y-3\">\n            {getFilteredMessages().map((message) => (\n              <SystemMessageCard\n                key={message.id}\n                type={message.type}\n                category={message.category}\n                title={message.title}\n                description={message.description}\n                timestamp={message.timestamp}\n                onDismiss={() => handleDismiss(message.id)}\n                isDarkMode={isDarkMode}\n              />\n            ))}\n          </div>\n        )}\n      </div>\n    </ConsoleCard>\n  );\n};\n\nexport default SystemMessagesConsole;","import React from 'react';\n\ninterface HistoricalLogItemProps {\n  level: 'INFO' | 'WARN' | 'ERROR';\n  source: 'frontend' | 'backend' | 'dev';\n  description: string;\n  firstOccurrence: Date;\n  occurrences: number;\n  details: string[];\n  expanded: boolean;\n  onToggleExpand: () => void;\n  isDarkMode?: boolean;\n}\n\nexport const HistoricalLogItem: React.FC<HistoricalLogItemProps> = ({\n  level,\n  source,\n  description,\n  firstOccurrence,\n  occurrences,\n  details,\n  expanded,\n  onToggleExpand,\n  isDarkMode = true\n}) => {\n  const formatTimestamp = (date: Date) => {\n    return date.toLocaleString('en-US', {\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  const getLevelStyles = (level: string) => {\n    if (isDarkMode) {\n      switch (level) {\n        case 'ERROR':\n          return {\n            badge: 'text-red-400 bg-red-900/20 border-red-700/50',\n            text: 'text-red-400'\n          };\n        case 'WARN':\n          return {\n            badge: 'text-yellow-400 bg-yellow-900/20 border-yellow-700/50',\n            text: 'text-yellow-400'\n          };\n        case 'INFO':\n          return {\n            badge: 'text-blue-400 bg-blue-900/20 border-blue-700/50',\n            text: 'text-blue-400'\n          };\n        default:\n          return {\n            badge: 'text-gray-400 bg-gray-900/20 border-gray-700/50',\n            text: 'text-gray-400'\n          };\n      }\n    } else {\n      switch (level) {\n        case 'ERROR':\n          return {\n            badge: 'text-red-600 bg-red-50 border-red-300',\n            text: 'text-red-600'\n          };\n        case 'WARN':\n          return {\n            badge: 'text-yellow-600 bg-yellow-50 border-yellow-300',\n            text: 'text-yellow-600'\n          };\n        case 'INFO':\n          return {\n            badge: 'text-blue-600 bg-blue-50 border-blue-300',\n            text: 'text-blue-600'\n          };\n        default:\n          return {\n            badge: 'text-gray-600 bg-gray-50 border-gray-300',\n            text: 'text-gray-600'\n          };\n      }\n    }\n  };\n\n  const getSourceColor = (source: string) => {\n    if (isDarkMode) {\n      switch (source) {\n        case 'frontend':\n          return 'text-green-400';\n        case 'backend':\n          return 'text-purple-400';\n        case 'dev':\n          return 'text-orange-400';\n        default:\n          return 'text-gray-400';\n      }\n    } else {\n      switch (source) {\n        case 'frontend':\n          return 'text-green-600';\n        case 'backend':\n          return 'text-purple-600';\n        case 'dev':\n          return 'text-orange-600';\n        default:\n          return 'text-gray-600';\n      }\n    }\n  };\n\n  const styles = getLevelStyles(level);\n\n  return (\n    <div className={`rounded-lg border transition-all duration-200 hover:shadow-lg ${\n      isDarkMode \n        ? 'bg-gray-900/50 border-gray-700' \n        : 'bg-white border-gray-300'\n    }`}>\n      {/* Collapsible Header */}\n      <div \n        className={`p-4 cursor-pointer transition-colors ${\n          isDarkMode \n            ? 'hover:bg-gray-800/30' \n            : 'hover:bg-gray-50'\n        }`}\n        onClick={onToggleExpand}\n      >\n        <div className=\"flex items-start justify-between\">\n          <div className=\"flex-1 min-w-0\">\n            {/* Badges and Meta */}\n            <div className=\"flex items-center space-x-2 mb-2\">\n              <span className={`px-2 py-0.5 rounded text-xs font-medium border ${styles.badge}`}>\n                {level}\n              </span>\n              <span className={`text-xs font-mono ${getSourceColor(source)}`}>\n                [{source}]\n              </span>\n              <span className={`text-xs ${\n                isDarkMode ? 'text-gray-400' : 'text-gray-500'\n              }`}>\n                {formatTimestamp(firstOccurrence)}\n              </span>\n              {occurrences > 1 && (\n                <span className={`px-2 py-0.5 rounded text-xs font-medium ${\n                  isDarkMode \n                    ? 'bg-orange-500/20 text-orange-400' \n                    : 'bg-orange-100 text-orange-700'\n                }`}>\n                  Occurred {occurrences} times\n                </span>\n              )}\n            </div>\n            \n            {/* Description */}\n            <div className={`font-medium text-sm ${\n              isDarkMode ? 'text-white' : 'text-gray-900'\n            }`}>\n              {description}\n            </div>\n          </div>\n          \n          {/* Expand/Collapse Chevron */}\n          <div className={`ml-4 text-lg transition-transform duration-200 ${\n            isDarkMode ? 'text-gray-400' : 'text-gray-500'\n          }`}\n               style={{ transform: expanded ? 'rotate(90deg)' : 'rotate(0deg)' }}>\n            ‚ñ∂\n          </div>\n        </div>\n      </div>\n      \n      {/* Collapsible Content */}\n      {expanded && (\n        <div className={`border-t p-4 ${\n          isDarkMode \n            ? 'border-gray-700 bg-gray-800/30' \n            : 'border-gray-300 bg-gray-50'\n        }`}>\n          <div className=\"space-y-3\">\n            <div className={`text-xs font-medium ${\n              isDarkMode ? 'text-gray-300' : 'text-gray-700'\n            }`}>\n              Additional Details:\n            </div>\n            \n            {details.length > 0 ? (\n              <div className=\"space-y-2\">\n                {details.map((detail, index) => (\n                  <div key={index} className={`text-sm p-2 rounded border-l-2 ${\n                    isDarkMode \n                      ? 'text-gray-400 bg-gray-900/50 border-gray-600' \n                      : 'text-gray-600 bg-gray-100 border-gray-400'\n                  }`}>\n                    {detail}\n                  </div>\n                ))}\n              </div>\n            ) : (\n              <div className={`text-sm italic ${\n                isDarkMode ? 'text-gray-500' : 'text-gray-400'\n              }`}>\n                No additional details available\n              </div>\n            )}\n            \n            {/* Occurrence Statistics */}\n            <div className={`pt-2 border-t ${\n              isDarkMode ? 'border-gray-700/50' : 'border-gray-300'\n            }`}>\n              <div className={`text-xs ${\n                isDarkMode ? 'text-gray-400' : 'text-gray-500'\n              }`}>\n                <span className=\"font-medium\">First seen:</span> {formatTimestamp(firstOccurrence)}\n              </div>\n              <div className={`text-xs ${\n                isDarkMode ? 'text-gray-400' : 'text-gray-500'\n              }`}>\n                <span className=\"font-medium\">Total occurrences:</span> {occurrences}\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default HistoricalLogItem;","import React, { useState, useEffect } from 'react';\nimport ConsoleCard from '../system/logs/ConsoleCard';\nimport HistoricalLogItem from '../system/logs/HistoricalLogItem';\n\ninterface HistoricalLog {\n  id: number;\n  level: 'INFO' | 'WARN' | 'ERROR' | 'DEBUG' | 'SUCCESS';\n  source: 'frontend' | 'backend' | 'dev' | 'browser';\n  description: string;\n  firstOccurrence: Date;\n  occurrences: number;\n  details: string[];\n  origin?: string;\n  source_component?: string;\n}\n\ntype TimeFilter = 'yesterday' | 'today' | '24h' | 'week' | 'month';\n\ninterface DateLogsConsoleProps {\n  logFilter?: string;\n  showInfoLogs?: boolean;\n  isDarkMode?: boolean;\n}\n\nexport const DateLogsConsole: React.FC<DateLogsConsoleProps> = ({ logFilter = 'All Logs', showInfoLogs = false, isDarkMode = true }) => {\n  const [logs, setLogs] = useState<HistoricalLog[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [timeFilter, setTimeFilter] = useState<TimeFilter>('today');\n  const [expandedLogs, setExpandedLogs] = useState<Set<number>>(new Set());\n\n  // Filter logs based on the selected filter\n  const getFilteredLogs = () => {\n    console.log('DateLogsConsole filter:', logFilter, 'Total logs:', logs.length);\n    \n    if (!logFilter || logFilter === 'All Logs') {\n      console.log('Showing all historical logs:', logs.length);\n      return logs;\n    }\n    \n    let filtered;\n    switch (logFilter) {\n      case 'Errors Only':\n        filtered = logs.filter(log => log.level === 'ERROR');\n        console.log('Filtered historical ERROR logs:', filtered.length);\n        break;\n      case 'Warnings Only':\n        filtered = logs.filter(log => log.level === 'WARN');\n        console.log('Filtered historical WARN logs:', filtered.length);\n        break;\n      case 'Info Only':\n        filtered = logs.filter(log => log.level === 'INFO');\n        console.log('Filtered historical INFO logs:', filtered.length);\n        break;\n      case 'Success Only':\n        filtered = logs.filter(log => log.level === 'SUCCESS');\n        console.log('Filtered historical SUCCESS logs:', filtered.length);\n        break;\n      case 'Debug Only':\n        filtered = logs.filter(log => log.level === 'DEBUG');\n        console.log('Filtered historical DEBUG logs:', filtered.length);\n        break;\n      default:\n        filtered = logs;\n        break;\n    }\n    \n    return filtered;\n  };\n\n  const getDateRange = (filter: TimeFilter) => {\n    const now = new Date();\n    const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());\n    \n    switch (filter) {\n      case 'yesterday':\n        const yesterday = new Date(today.getTime() - 24 * 60 * 60 * 1000);\n        return { start: yesterday, end: today };\n      case 'today':\n        return { start: today, end: new Date(today.getTime() + 24 * 60 * 60 * 1000) };\n      case '24h':\n        return { start: new Date(now.getTime() - 24 * 60 * 60 * 1000), end: now };\n      case 'week':\n        return { start: new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000), end: now };\n      case 'month':\n        return { start: new Date(now.getTime() - 30 * 24 * 60 * 60 * 1000), end: now };\n      default:\n        return { start: yesterday, end: today };\n    }\n  };\n\n  useEffect(() => {\n    const fetchHistoricalLogs = async () => {\n      setLoading(true);\n      try {\n        const { start, end } = getDateRange(timeFilter);\n        const startDate = start.toISOString();\n        const endDate = end.toISOString();\n        \n        const apiUrl = process.env.NODE_ENV === 'production' \n          ? `/api/admin/logs/database?start_date=${startDate}&end_date=${endDate}&limit=50&sort=desc&group_similar=true`\n          : `http://localhost:3002/api/admin/logs/database?start_date=${startDate}&end_date=${endDate}&limit=50&sort=desc&group_similar=true`;\n        \n        const response = await fetch(apiUrl);\n        const data = await response.json();\n        \n        if (data.logs && Array.isArray(data.logs) && data.logs.length > 0) {\n          const formattedLogs: HistoricalLog[] = data.logs.map((log: any, index: number) => ({\n            id: log.id || index,\n            level: log.level || 'INFO',\n            source: log.source || 'backend',\n            description: log.message || 'No description available',\n            firstOccurrence: new Date(log.latest_timestamp || log.timestamp),\n            occurrences: log.occurrence_count || 1,\n            details: log.details || []\n          }));\n          setLogs(formattedLogs);\n        } else {\n          // Use mock data if no logs found\n          setLogs(getMockLogs());\n        }\n      } catch (error) {\n        console.warn('Failed to fetch historical logs, using mock data');\n        setLogs(getMockLogs());\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    const getMockLogs = (): HistoricalLog[] => {\n      return [\n          {\n            id: 1,\n            level: 'ERROR',\n            source: 'backend',\n            description: 'Database connection timeout',\n            firstOccurrence: new Date(Date.now() - 3600000),\n            occurrences: 27,\n            details: [\n              'Connection timeout after 30 seconds',\n              'Query: SELECT * FROM users WHERE active = 1',\n              'Database host: db-primary-01.internal',\n              'Connection pool: exhausted (50/50)'\n            ]\n          },\n          {\n            id: 2,\n            level: 'WARN',\n            source: 'frontend',\n            description: 'API response time exceeded threshold',\n            firstOccurrence: new Date(Date.now() - 7200000),\n            occurrences: 15,\n            details: [\n              'Response time: 2.3 seconds (threshold: 2.0s)',\n              'Endpoint: /api/users/profile',\n              'User agent: Mozilla/5.0...',\n              'Client IP: 192.168.1.100'\n            ]\n          },\n          {\n            id: 3,\n            level: 'INFO',\n            source: 'backend',\n            description: 'User session expired',\n            firstOccurrence: new Date(Date.now() - 10800000),\n            occurrences: 8,\n            details: [\n              'Session ID: sess_abc123def456',\n              'User ID: 1234',\n              'Last activity: 2 hours ago',\n              'Expiry reason: inactivity timeout'\n            ]\n          }\n        ];\n      };\n\n    fetchHistoricalLogs();\n  }, [timeFilter]);\n\n  const toggleLogExpansion = (logId: number) => {\n    setExpandedLogs(prev => {\n      const newSet = new Set(prev);\n      if (newSet.has(logId)) {\n        newSet.delete(logId);\n      } else {\n        newSet.add(logId);\n      }\n      return newSet;\n    });\n  };\n\n  const getTimeFilterLabel = (filter: TimeFilter) => {\n    switch (filter) {\n      case 'yesterday': return 'Yesterday';\n      case 'today': return 'Today';\n      case '24h': return 'Last 24h';\n      case 'week': return 'This Week';\n      case 'month': return 'This Month';\n      default: return 'Yesterday';\n    }\n  };\n\n  const icon = (\n    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\n    </svg>\n  );\n\n  return (\n    <ConsoleCard\n      title=\"Historical Logs\"\n      titleColor={isDarkMode ? \"text-purple-400\" : \"text-purple-600\"}\n      icon={icon}\n      badge={{\n        text: `${getFilteredLogs().length} entries`,\n        color: isDarkMode\n          ? \"bg-purple-500/20 text-purple-400 border-purple-500/30\"\n          : \"bg-purple-100 text-purple-700 border-purple-300\"\n      }}\n      isDarkMode={isDarkMode}\n    >\n      <div className=\"h-full flex flex-col\">\n        {/* Date Filter Controls */}\n        <div className={`p-4 border-b ${\n          isDarkMode \n            ? 'border-gray-700 bg-gray-800/30' \n            : 'border-gray-300 bg-gray-50'\n        }`}>\n          <div className=\"flex items-center justify-between\">\n            <select\n              value={timeFilter}\n              onChange={(e) => setTimeFilter(e.target.value as TimeFilter)}\n              className={`px-3 py-1 rounded text-sm border focus:ring-2 focus:ring-purple-500 ${\n                isDarkMode\n                  ? 'bg-gray-800 border-gray-600 text-white'\n                  : 'bg-white border-gray-300 text-gray-900'\n              }`}\n            >\n              <option value=\"today\">Today</option>\n              <option value=\"yesterday\">Yesterday</option>\n              <option value=\"24h\">Last 24h</option>\n              <option value=\"week\">This Week</option>\n              <option value=\"month\">This Month</option>\n            </select>\n            \n            <div className={`text-xs ${\n              isDarkMode ? 'text-gray-400' : 'text-gray-600'\n            }`}>\n              Filter: {getTimeFilterLabel(timeFilter)}\n            </div>\n          </div>\n        </div>\n        \n        {/* Historical Logs */}\n        <div className={`flex-1 overflow-y-auto console-scroll-area ${\n          isDarkMode ? '' : 'bg-white'\n        }`}>\n          {loading ? (\n            <div className=\"flex items-center justify-center h-full\">\n              <div className={`text-center ${\n                isDarkMode ? 'text-gray-400' : 'text-gray-600'\n              }`}>\n                <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-500 mx-auto mb-2\"></div>\n                <div className=\"text-sm\">Loading historical logs...</div>\n              </div>\n            </div>\n          ) : getFilteredLogs().length === 0 ? (\n            <div className=\"flex items-center justify-center h-full p-4\">\n              <div className={`text-center ${\n                isDarkMode ? 'text-gray-400' : 'text-gray-600'\n              }`}>\n                <div className=\"text-4xl mb-4\">üìà</div>\n                <div className={`text-lg font-medium mb-2 ${\n                  isDarkMode ? 'text-gray-300' : 'text-gray-700'\n                }`}>\n                  {logs.length === 0 ? 'No logs found' : `No ${logFilter?.toLowerCase().replace(' only', '')} logs`}\n                </div>\n                <div className=\"text-sm\">\n                  {logs.length === 0 ? `No entries for ${getTimeFilterLabel(timeFilter).toLowerCase()}` : 'Try changing the filter or time period'}\n                </div>\n                <div className=\"text-xs mt-2 opacity-60\">Historical Console Active</div>\n              </div>\n            </div>\n          ) : (\n            <div className=\"p-4 space-y-3\">\n              {getFilteredLogs().map((log) => (\n                <HistoricalLogItem\n                  key={log.id}\n                  level={log.level}\n                  source={log.source}\n                  description={log.description}\n                  firstOccurrence={log.firstOccurrence}\n                  occurrences={log.occurrences}\n                  details={log.details}\n                  expanded={expandedLogs.has(log.id)}\n                  onToggleExpand={() => toggleLogExpansion(log.id)}\n                  isDarkMode={isDarkMode}\n                />\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n    </ConsoleCard>\n  );\n};\n\nexport default DateLogsConsole;","// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nimport React from 'react';\n\ninterface FooterProps {\n  isLive?: boolean;\n  activeFilters?: number;\n  isDarkMode?: boolean;\n}\n\nconst Footer: React.FC<FooterProps> = ({ isLive = true, activeFilters = 0, isDarkMode = true }) => {\n  return (\n    <footer className={`border-t px-4 py-2 flex-shrink-0 ${\n      isDarkMode \n        ? 'border-gray-700 bg-gray-900/50' \n        : 'border-gray-300 bg-gray-50'\n    }`}>\n      <div className={`flex items-center justify-between text-xs ${\n        isDarkMode ? 'text-gray-400' : 'text-gray-600'\n      }`}>\n        <div className=\"flex items-center gap-4\">\n          <span>Status: <span className={isLive ? 'text-green-400' : 'text-red-400'}>{isLive ? 'Live' : 'Paused'}</span></span>\n          <span>Active filters: {activeFilters}</span>\n        </div>\n        <div className=\"flex items-center gap-4\">\n          <span>OrthodoxMetrics.com</span>\n          <span>{new Date().toLocaleTimeString()}</span>\n        </div>\n      </div>\n    </footer>\n  );\n};\n\nexport default Footer;\n","import React, { useState, useCallback, useEffect } from 'react';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport { ThemeProvider, createTheme } from '@mui/material/styles';\r\nimport CssBaseline from '@mui/material/CssBaseline';\r\nimport HeaderBar from '@/features/logs/HeaderBar';\r\nimport RealTimeConsole from '@/features/logs/RealTimeConsole';\r\nimport CriticalConsole from '@/features/logs/CriticalConsole';\r\nimport SystemMessagesConsole from '@/features/logs/SystemMessagesConsole';\r\nimport DateLogsConsole from '@/features/logs/DateLogsConsole';\r\nimport Footer from '@/features/logs/Footer';\r\n\r\nexport interface LoggerDashboardProps {\r\n  autoScroll?: boolean;\r\n  defaultFilter?: any;\r\n  refreshInterval?: number;\r\n}\r\n\r\nexport const LoggerDashboard: React.FC<LoggerDashboardProps> = ({\r\n  autoScroll = true,\r\n  defaultFilter = {},\r\n  refreshInterval = 30000\r\n}) => {\r\n  const [isLive, setIsLive] = useState(true);\r\n  const [isPaused, setIsPaused] = useState(false);\r\n  const [isDarkMode, setIsDarkMode] = useState(true);\r\n  const [activeFilters, setActiveFilters] = useState(0);\r\n  const [logFilter, setLogFilter] = useState('All Logs');\r\n  const [activeTab, setActiveTab] = useState('realtime'); // For mobile tabs\r\n  const [realTimeLogCount, setRealTimeLogCount] = useState(25);\r\n  const [debugMode, setDebugMode] = useState(false);\r\n  const [showInfoLogs, setShowInfoLogs] = useState(false); // Hide INFO logs by default\r\n\r\n  // Create Material-UI theme based on dark/light mode\r\n  const muiTheme = React.useMemo(\r\n    () =>\r\n      createTheme({\r\n        palette: {\r\n          mode: isDarkMode ? 'dark' : 'light',\r\n          primary: {\r\n            main: isDarkMode ? '#3b82f6' : '#2563eb',\r\n          },\r\n          background: {\r\n            default: isDarkMode ? '#0f172a' : '#f8fafc',\r\n            paper: isDarkMode ? '#1e293b' : '#ffffff',\r\n          },\r\n          text: {\r\n            primary: isDarkMode ? '#f1f5f9' : '#0f172a',\r\n            secondary: isDarkMode ? '#94a3b8' : '#64748b',\r\n          },\r\n        },\r\n      }),\r\n    [isDarkMode]\r\n  );\r\n\r\n  // Dark mode effect\r\n  useEffect(() => {\r\n    if (isDarkMode) {\r\n      document.documentElement.classList.add('dark');\r\n    } else {\r\n      document.documentElement.classList.remove('dark');\r\n    }\r\n  }, [isDarkMode]);\r\n\r\n  const handleToggleLive = useCallback(() => {\r\n    setIsLive(prev => !prev);\r\n  }, []);\r\n\r\n  const handleTogglePause = useCallback(() => {\r\n    setIsPaused(prev => !prev);\r\n    // Also toggle live when pausing\r\n    if (!isPaused) {\r\n      setIsLive(false);\r\n    } else {\r\n      setIsLive(true);\r\n    }\r\n  }, [isPaused]);\r\n\r\n  const handleRefresh = useCallback(() => {\r\n    // Trigger refresh for all components\r\n    window.dispatchEvent(new CustomEvent('logsRefresh'));\r\n  }, []);\r\n\r\n  const handleToggleDarkMode = useCallback((value: boolean) => {\r\n    setIsDarkMode(value);\r\n  }, []);\r\n\r\n  const handleLogFilterChange = useCallback((filter: string) => {\r\n    setLogFilter(filter);\r\n    // Update active filters count based on selected filter and INFO log visibility\r\n    const filterCount = (filter === 'All Logs' ? 0 : 1) + (showInfoLogs ? 0 : 1);\r\n    setActiveFilters(filterCount);\r\n  }, [showInfoLogs]);\r\n\r\n  const handleShowInfoLogsToggle = useCallback((show: boolean) => {\r\n    setShowInfoLogs(show);\r\n    // Update active filters count\r\n    const filterCount = (logFilter === 'All Logs' ? 0 : 1) + (show ? 0 : 1);\r\n    setActiveFilters(filterCount);\r\n  }, [logFilter]);\r\n\r\n  const handleRealTimeLogCountChange = useCallback((count: number) => {\r\n    console.log('LoggerDashboard: Real-time log count changed to:', count);\r\n    setRealTimeLogCount(count);\r\n  }, []);\r\n\r\n  const handleDebugModeToggle = useCallback((enabled: boolean) => {\r\n    console.log('LoggerDashboard: Debug mode toggled:', enabled);\r\n    setDebugMode(enabled);\r\n    \r\n    if (enabled) {\r\n      startDebugCapture();\r\n    } else {\r\n      stopDebugCapture();\r\n    }\r\n  }, []);\r\n\r\n  const startDebugCapture = () => {\r\n    console.log('üü† Starting debug capture mode...');\r\n    // Store in session storage that debug mode is active\r\n    sessionStorage.setItem('omaiDebugMode', 'true');\r\n    sessionStorage.setItem('omaiDebugStartTime', Date.now().toString());\r\n    \r\n    // Initialize debug logs array\r\n    sessionStorage.setItem('omaiDebugLogs', JSON.stringify([]));\r\n    \r\n    // Store performance mark\r\n    if (performance && performance.mark) {\r\n      performance.mark('debug-capture-start');\r\n    }\r\n  };\r\n\r\n  const stopDebugCapture = () => {\r\n    console.log('‚èπÔ∏è Stopping debug capture mode...');\r\n    sessionStorage.setItem('omaiDebugMode', 'false');\r\n    \r\n    // TODO: Upload batch debug logs to backend\r\n    const debugLogs = JSON.parse(sessionStorage.getItem('omaiDebugLogs') || '[]');\r\n    if (debugLogs.length > 0) {\r\n      console.log(`Uploading ${debugLogs.length} debug logs...`);\r\n      // Batch upload implementation will be added\r\n    }\r\n  };\r\n\r\n  const captureDebugLog = (level: string, message: string) => {\r\n    if (!debugMode) return;\r\n    \r\n    // Store in session storage for batch upload\r\n    const debugLogs = JSON.parse(sessionStorage.getItem('omaiDebugLogs') || '[]');\r\n    debugLogs.push({\r\n      timestamp: Date.now(),\r\n      level,\r\n      message,\r\n      url: window.location.href,\r\n      userAgent: navigator.userAgent,\r\n      source_component: 'DebugCapture'\r\n    });\r\n    sessionStorage.setItem('omaiDebugLogs', JSON.stringify(debugLogs));\r\n  };\r\n\r\n  // Mobile tab configuration\r\n  const tabs = [\r\n    { id: 'realtime', name: 'Real-Time', component: <RealTimeConsole isLive={isLive && !isPaused} /> },\r\n    { id: 'critical', name: 'Critical', component: <CriticalConsole isLive={isLive && !isPaused} /> },\r\n    { id: 'system', name: 'System', component: <SystemMessagesConsole isLive={isLive && !isPaused} /> },\r\n    { id: 'historical', name: 'Historical', component: <DateLogsConsole /> }\r\n  ];\r\n\r\n  return (\r\n    <ThemeProvider theme={muiTheme}>\r\n      <CssBaseline />\r\n      <div className={`h-screen flex flex-col logger-page-container ${\r\n        isDarkMode ? 'bg-slate-950 text-white' : 'bg-slate-50 text-gray-900'\r\n      }`}>\r\n        {/* Header */}\r\n        <HeaderBar\r\n          title=\"OMAI Ultimate Logger\"\r\n          isLive={isLive}\r\n          onToggleLive={handleToggleLive}\r\n          isDarkMode={isDarkMode}\r\n          onToggleDarkMode={handleToggleDarkMode}\r\n          activeFilters={activeFilters}\r\n          onPause={handleTogglePause}\r\n          onRefresh={handleRefresh}\r\n          isPaused={isPaused}\r\n          logFilter={logFilter}\r\n          onLogFilterChange={handleLogFilterChange}\r\n          realTimeLogCount={realTimeLogCount}\r\n          onRealTimeLogCountChange={handleRealTimeLogCountChange}\r\n          debugMode={debugMode}\r\n          onDebugModeToggle={handleDebugModeToggle}\r\n          showInfoLogs={showInfoLogs}\r\n          onShowInfoLogsToggle={handleShowInfoLogsToggle}\r\n        />\r\n\r\n        {/* Main Content - Flex-grow to fill remaining space */}\r\n        <main className=\"flex-1 flex flex-col p-4 min-h-0\">\r\n          {/* Always show 4-console grid layout */}\r\n          <div className=\"grid grid-cols-2 grid-rows-2 gap-4 h-full min-h-0 logger-grid\">\r\n            {/* Top Left: Real-Time Logs */}\r\n            <RealTimeConsole isLive={isLive && !isPaused} logFilter={logFilter} maxLogs={realTimeLogCount} showInfoLogs={showInfoLogs} isDarkMode={isDarkMode} />\r\n            \r\n            {/* Top Right: Critical Events */}\r\n            <CriticalConsole isLive={isLive && !isPaused} logFilter={logFilter} showInfoLogs={showInfoLogs} isDarkMode={isDarkMode} />\r\n            \r\n            {/* Bottom Left: System Messages */}\r\n            <SystemMessagesConsole isLive={isLive && !isPaused} logFilter={logFilter} showInfoLogs={showInfoLogs} isDarkMode={isDarkMode} />\r\n            \r\n            {/* Bottom Right: Historical Logs */}\r\n            <DateLogsConsole logFilter={logFilter} showInfoLogs={showInfoLogs} isDarkMode={isDarkMode} />\r\n          </div>\r\n\r\n        {/* Mobile: Tabbed Interface (hidden for now) */}\r\n        <div className=\"hidden flex flex-col h-full\">\r\n          {/* Tab Navigation */}\r\n          <div className=\"border-b border-gray-700 mb-4 flex-shrink-0\">\r\n            <nav className=\"flex space-x-1 overflow-x-auto\">\r\n              {tabs.map((tab) => (\r\n                <button\r\n                  key={tab.id}\r\n                  onClick={() => setActiveTab(tab.id)}\r\n                  className={`py-2 px-3 border-b-2 font-medium text-sm transition-colors whitespace-nowrap ${\r\n                    activeTab === tab.id\r\n                      ? 'border-blue-500 text-blue-400'\r\n                      : 'border-transparent text-gray-400 hover:text-gray-300 hover:border-gray-300'\r\n                  }`}\r\n                >\r\n                  {tab.name}\r\n                </button>\r\n              ))}\r\n            </nav>\r\n          </div>\r\n          \r\n          {/* Tab Content - Takes remaining height */}\r\n          <div className=\"flex-1 min-h-0\">\r\n            {activeTab === 'realtime' && <RealTimeConsole isLive={isLive && !isPaused} logFilter={logFilter} maxLogs={realTimeLogCount} showInfoLogs={showInfoLogs} />}\r\n            {activeTab === 'critical' && <CriticalConsole isLive={isLive && !isPaused} logFilter={logFilter} showInfoLogs={showInfoLogs} />}\r\n            {activeTab === 'system' && <SystemMessagesConsole isLive={isLive && !isPaused} logFilter={logFilter} showInfoLogs={showInfoLogs} />}\r\n            {activeTab === 'historical' && <DateLogsConsole logFilter={logFilter} showInfoLogs={showInfoLogs} />}\r\n          </div>\r\n        </div>\r\n      </main>\r\n\r\n        {/* Footer - Fixed at bottom */}\r\n        <Footer isLive={isLive} activeFilters={activeFilters} isDarkMode={isDarkMode} />\r\n      </div>\r\n    </ThemeProvider>\r\n  );\r\n};\r\n\r\nexport default LoggerDashboard;\r\n\r\n"],"names":["HeaderBar","title","isLive","onToggleLive","isDarkMode","onToggleDarkMode","activeFilters","onPause","onRefresh","isPaused","logFilter","onLogFilterChange","realTimeLogCount","onRealTimeLogCountChange","debugMode","onDebugModeToggle","showInfoLogs","onShowInfoLogsToggle","jsx","jsxs","e","ConsoleCard","titleColor","icon","badge","children","className","LogCard","timestamp","level","source","message","service","meta","formatTimestamp","date","getLevelStyles","getSourceStyles","RealTimeConsole","maxLogs","logs","setLogs","useState","autoScroll","setAutoScroll","scrollAreaRef","useRef","endRef","useEffect","getFilteredLogs","baseFilteredLogs","log","result","filtered","scrollContainer","fetchLogs","__async","data","formattedLogs","index","error","mockLogs","interval","Fragment","CriticalAlert","onDismiss","onCreateGitHubIssue","canCreateGitHubIssue","getAlertStyles","getSourceColor","styles","GitHubIssueModal","open","onClose","logEntry","isCreating","setIsCreating","setError","success","setSuccess","customTitle","setCustomTitle","customDescription","setCustomDescription","handleCreateIssue","payload","response","err","handleClose","getLogLevelColor","generateIssueTitle","truncatedMessage","Dialog","DialogTitle","IconBrandGithub","DialogContent","Box","Chip","Typography","TextField","Alert","Button","DialogActions","IconX","CircularProgress","CriticalConsole","events","setEvents","loading","setLoading","githubModalOpen","setGithubModalOpen","selectedEvent","setSelectedEvent","getFilteredEvents","handleCreateGitHubIssue","event","handleCloseGitHubModal","fetchCriticalEvents","formattedEvents","getMockEvents","handleDismiss","eventId","prev","SystemMessageCard","type","category","description","getTypeStyles","getCategoryIcon","SystemMessagesConsole","messages","setMessages","getFilteredMessages","fetchSystemMessages","apiUrl","formattedMessages","_a","getCategory","extractTitle","getMockMessages","firstSentence","messageId","HistoricalLogItem","firstOccurrence","occurrences","details","expanded","onToggleExpand","detail","DateLogsConsole","timeFilter","setTimeFilter","expandedLogs","setExpandedLogs","getDateRange","filter","now","today","yesterday","fetchHistoricalLogs","start","end","startDate","endDate","getMockLogs","toggleLogExpansion","logId","newSet","getTimeFilterLabel","Footer","LoggerDashboard","defaultFilter","refreshInterval","setIsLive","setIsPaused","setIsDarkMode","setActiveFilters","setLogFilter","activeTab","setActiveTab","setRealTimeLogCount","setDebugMode","setShowInfoLogs","muiTheme","React","createTheme","handleToggleLive","useCallback","handleTogglePause","handleRefresh","handleToggleDarkMode","value","handleLogFilterChange","filterCount","handleShowInfoLogsToggle","show","handleRealTimeLogCountChange","count","handleDebugModeToggle","enabled","startDebugCapture","stopDebugCapture","debugLogs","tabs","ThemeProvider","CssBaseline","tab"],"mappings":"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"}