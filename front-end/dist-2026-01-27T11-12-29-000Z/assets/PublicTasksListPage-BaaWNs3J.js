var g=(h,c,i)=>new Promise((m,n)=>{var d=s=>{try{o(i.next(s))}catch(l){n(l)}},x=s=>{try{o(i.throw(s))}catch(l){n(l)}},o=s=>s.done?m(s.value):Promise.resolve(s.value).then(d,x);o((i=i.apply(h,c)).next())});import{l as v,j as e,B as t,C as T,$ as f,d as a,G as y,U as w,Q as P,h as j}from"./index-CHjTtHW2.js";import{r as p}from"./vendor-DgfDxsY7.js";import{C}from"./Container-DQ6QG2MT.js";import{T as S}from"./Assignment-DpXc3smd.js";import{C as D}from"./CardActionArea-RafMETud.js";import{P as k}from"./Person-vrhfrW1o.js";import{C as A}from"./CalendarToday-Hf-8sf11.js";const $=()=>{const h=v(),[c,i]=p.useState([]),[m,n]=p.useState(!0),[d,x]=p.useState(null);p.useEffect(()=>{g(void 0,null,function*(){n(!0);try{yield new Promise(b=>setTimeout(b,500)),i([{id:1,title:"Update Church Records",description:"Review and update baptism records for Q1 2024",assignedTo:"John Doe",dueDate:"2024-02-15",status:"in_progress",priority:"high"},{id:2,title:"Prepare Annual Report",description:"Compile annual statistics and prepare report",assignedTo:"Jane Smith",dueDate:"2024-03-01",status:"pending",priority:"medium"},{id:3,title:"Archive Old Records",description:"Archive records older than 10 years",status:"completed",priority:"low"}]),x(null)}catch(u){x("Failed to load tasks. Please try again later."),console.error("Error fetching tasks:",u)}finally{n(!1)}})},[]);const o=r=>{switch(r){case"completed":return"success";case"in_progress":return"info";case"pending":return"warning";default:return"default"}},s=r=>{switch(r){case"high":return"error";case"medium":return"warning";case"low":return"info";default:return"default"}},l=r=>{h(`/tasks/${r}`)};return m?e.jsx(t,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},children:e.jsx(T,{})}):d?e.jsx(C,{maxWidth:"lg",sx:{py:8},children:e.jsx(f,{severity:"error",children:d})}):e.jsx(t,{sx:{py:8},children:e.jsxs(C,{maxWidth:"lg",children:[e.jsxs(t,{sx:{textAlign:"center",mb:6},children:[e.jsx(S,{sx:{fontSize:64,color:"primary.main",mb:2}}),e.jsx(a,{variant:"h3",gutterBottom:!0,children:"Public Tasks"}),e.jsx(a,{variant:"body1",color:"text.secondary",children:"View and manage public tasks"})]}),c.length===0?e.jsx(f,{severity:"info",children:"No tasks available at this time."}):e.jsx(y,{container:!0,spacing:3,children:c.map(r=>e.jsx(y,{item:!0,xs:12,md:6,lg:4,children:e.jsx(w,{sx:{height:"100%",transition:"transform 0.2s, box-shadow 0.2s","&:hover":{transform:"translateY(-4px)",boxShadow:4}},children:e.jsx(D,{onClick:()=>l(r.id),sx:{height:"100%"},children:e.jsxs(P,{children:[e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",alignItems:"start",mb:2},children:[e.jsx(a,{variant:"h6",component:"div",children:r.title}),e.jsx(j,{label:r.status.replace("_"," "),color:o(r.status),size:"small"})]}),e.jsx(a,{variant:"body2",color:"text.secondary",sx:{mb:2},children:r.description}),e.jsx(t,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:1},children:r.priority&&e.jsx(j,{label:`Priority: ${r.priority}`,color:s(r.priority),size:"small",variant:"outlined"})}),e.jsxs(t,{sx:{display:"flex",flexDirection:"column",gap:.5,mt:2},children:[r.assignedTo&&e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:.5},children:[e.jsx(k,{fontSize:"small",color:"action"}),e.jsx(a,{variant:"caption",color:"text.secondary",children:r.assignedTo})]}),r.dueDate&&e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:.5},children:[e.jsx(A,{fontSize:"small",color:"action"}),e.jsxs(a,{variant:"caption",color:"text.secondary",children:["Due: ",new Date(r.dueDate).toLocaleDateString()]})]})]})]})})})},r.id))})]})})};export{$ as default};
//# sourceMappingURL=PublicTasksListPage-BaaWNs3J.js.map
