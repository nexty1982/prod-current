var Q=Object.defineProperty,V=Object.defineProperties;var q=Object.getOwnPropertyDescriptors;var P=Object.getOwnPropertySymbols;var J=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable;var S=(o,s,r)=>s in o?Q(o,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[s]=r,z=(o,s)=>{for(var r in s||(s={}))J.call(s,r)&&S(o,r,s[r]);if(P)for(var r of P(s))K.call(s,r)&&S(o,r,s[r]);return o},L=(o,s)=>V(o,q(s));import{j as e,B as g,G as j,d as u,L as w,Q as T,S as l,T as k,h as I,s as b,aV as O,w as y}from"./index-CHjTtHW2.js";import{P as U}from"./PageContainer-DmS_qDLp.js";import{H as X,a as Y,C as Z,F as _,S as ee}from"./index-RGovmqFj.js";import{C as E}from"./Container-DQ6QG2MT.js";import{r as a}from"./vendor-DgfDxsY7.js";import{B as F}from"./BlankCard-Bo6pbGAQ.js";import{C as te}from"./CardMedia-BRFDhm_z.js";import{A}from"./Avatar-D2sTLy3N.js";import{I as M}from"./IconEye-WSFv2Grr.js";import{I as D}from"./IconMessage2-CDQtVyJK.js";import{I as H}from"./IconPoint-o1xgBFUX.js";import{f as $}from"./index-B8Cm0CAq.js";import{u as re}from"./index-B5AtgTPY.js";import{g as se}from"./globalFetcher-qMb07D1K.js";import"./Helmet-DNWYwtrp.js";import"./index-BvdvJza9.js";import"./index-BUiSEnyI.js";import"./Logo-CrmdEuKm.js";import"./AppBar-BEQL_9wz.js";import"./Toolbar-B-d8hTWp.js";import"./IconMenu2-DdzlNb8m.js";import"./Drawer-KDy3Y4l9.js";import"./Fab-i57ecDKb.js";import"./IconArrowUp-DoTyhGLt.js";import"./typeof-QjJsDpFa.js";import"./index-B9SIr0Qh.js";const oe=()=>e.jsx(e.Fragment,{children:e.jsx(g,{bgcolor:"primary.light",sx:{paddingTop:{xs:"40px",lg:"100px"},paddingBottom:{xs:"40px",lg:"100px"}},children:e.jsx(E,{maxWidth:"lg",children:e.jsx(j,{container:!0,spacing:3,justifyContent:"center",children:e.jsxs(j,{alignItems:"center",textAlign:"center",size:{xs:12,lg:8},children:[e.jsx(u,{color:"primary.main",textTransform:"uppercase",fontSize:"13px",children:"Blog Page"}),e.jsx(u,{variant:"h1",mb:3,lineHeight:1.4,fontWeight:700,sx:{fontSize:{xs:"34px",sm:"48px",lg:"56px"}},children:"Latest blog & news"})]})})})})}),ne=({post:o})=>{const{coverImg:s,title:r,view:m,comments:c,category:d,author:t,createdAt:n}=o,i=r.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,"");return e.jsx(j,{display:"flex",alignItems:"stretch",size:{xs:12,lg:4,md:4,sm:6},children:e.jsx(F,{className:"hoverCard",children:e.jsxs(e.Fragment,{children:[e.jsx(u,{component:w,to:`/frontend-pages/blog/detail/${i}`,children:e.jsx(te,{component:"img",height:"240",image:s,alt:"green iguana"})}),e.jsxs(T,{children:[e.jsxs(l,{direction:"row",sx:{marginTop:"-45px"},children:[e.jsx(k,{title:t==null?void 0:t.name,placement:"top",children:e.jsx(A,{"aria-label":"recipe",src:t==null?void 0:t.avatar})}),e.jsx(I,{sx:{marginLeft:"auto",marginTop:"-21px",backgroundColor:p=>p.palette.mode==="dark"?"#262e3f":"white"},label:"2 min Read",size:"small"})]}),e.jsx(I,{label:d,size:"small",sx:{marginTop:2}}),e.jsx(g,{my:3,children:e.jsx(u,{gutterBottom:!0,variant:"h5",color:"inherit",sx:{textDecoration:"none"},component:w,to:`/frontend-pages/blog/detail/${i}`,children:r})}),e.jsxs(l,{direction:"row",gap:3,alignItems:"center",children:[e.jsxs(l,{direction:"row",gap:1,alignItems:"center",children:[e.jsx(M,{size:"18"})," ",m]}),e.jsxs(l,{direction:"row",gap:1,alignItems:"center",children:[e.jsx(D,{size:"18"})," ",c==null?void 0:c.length]}),e.jsxs(l,{direction:"row",ml:"auto",alignItems:"center",children:[e.jsx(H,{size:"16"}),e.jsx("small",{children:$(new Date(n),"E, MMM d")})]})]})]})]})})})},v=a.createContext({posts:[],sortBy:"newest",selectedPost:null,isLoading:!0,setPosts:()=>{},setSortBy:()=>{},setSelectedPost:()=>{},setLoading:()=>{},addComment:()=>{},error:null}),ie=({children:o})=>{const[s,r]=a.useState([]),[m,c]=a.useState("newest"),[d,t]=a.useState(null),[n,i]=a.useState(!0),[p,B]=a.useState(null),{data:f,isLoading:h,error:x}=re("/api/data/blog/BlogPosts",se);a.useEffect(()=>{f?(r(f.data),i(h)):(x&&B(x),i(h))},[f,x,h]);const W={posts:s,sortBy:m,selectedPost:d,isLoading:n,setPosts:r,setSortBy:c,setSelectedPost:t,setLoading:i,addComment:(R,G)=>{r(N=>N.map(C=>C.id===R?L(z({},C),{comments:[G,...C.comments||[]]}):C))},error:p};return e.jsx(v.Provider,{value:W,children:o})},ae=b(T)({position:"absolute",top:"0",left:"0",zIndex:1,width:"100%",height:"100%",color:"white"}),le=b(g)({top:0,content:"''",width:"100%",height:"100%",position:"absolute"}),ce=({post:o,index:s})=>{const{coverImg:r,title:m,view:c,comments:d,category:t,author:n,createdAt:i}=o,p=m.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,""),B=s===0,f=b(F)({p:0,height:"400px",position:"relative",background:`url(${r}) no-repeat center`,backgroundSize:"cover"}),{setLoading:h}=a.useContext(v);return a.useEffect(()=>{const x=setTimeout(()=>{h(!1)},700);return()=>clearTimeout(x)},[]),e.jsx(e.Fragment,{children:o?e.jsx(j,{display:"flex",alignItems:"stretch",size:{xs:12,lg:B?8:4,md:12,sm:12},children:e.jsx(f,{className:"hoverCard",children:e.jsxs(e.Fragment,{children:[e.jsx(u,{component:w,to:`/frontend-pages/blog/detail/${p}`,children:e.jsx(le,{sx:{backgroundColor:x=>O(x.palette.grey[900],.6)}})}),e.jsx(ae,{children:e.jsxs(g,{height:"100%",display:"flex",justifyContent:"space-between",flexDirection:"column",children:[e.jsx(g,{children:e.jsxs(l,{direction:"row",children:[e.jsx(k,{title:n==null?void 0:n.name,placement:"top",children:e.jsx(A,{"aria-label":"recipe",src:n==null?void 0:n.avatar})}),e.jsx(I,{sx:{marginLeft:"auto"},label:t,size:"small",color:"primary"})]})}),e.jsxs(g,{children:[e.jsx(g,{my:3,children:e.jsx(u,{gutterBottom:!0,variant:"h3",color:"inherit",sx:{textDecoration:"none"},component:w,to:`/frontend-pages/blog/detail/${p}`,children:m})}),e.jsxs(l,{direction:"row",gap:3,alignItems:"center",children:[e.jsxs(l,{direction:"row",gap:1,alignItems:"center",children:[e.jsx(M,{size:"18"})," ",c]}),e.jsxs(l,{direction:"row",gap:1,alignItems:"center",children:[e.jsx(D,{size:"18"})," ",d==null?void 0:d.length]}),e.jsxs(l,{direction:"row",ml:"auto",alignItems:"center",children:[e.jsx(H,{size:"16"}),e.jsx("small",{children:$(new Date(i),"E, MMM d")})]})]})]})]})})]})})}):""})},de=()=>{const{posts:o,sortBy:s}=a.useContext(v),r=(t,n)=>(n==="newest"&&(t=y.orderBy(t,["createdAt"],["desc"])),n==="oldest"&&(t=y.orderBy(t,["createdAt"],["asc"])),n==="popular"&&(t=y.orderBy(t,["view"],["desc"])),t.filter(i=>!i.featured)),m=t=>t=t.filter(n=>n.featured),c=r(o,s),d=m(o);return e.jsxs(j,{container:!0,spacing:3,children:[d.map((t,n)=>e.jsx(ce,{index:n,post:t},t.title)),c.map(t=>e.jsx(ne,{post:t},t.id)),e.jsx(j,{mt:3,size:{lg:12,sm:12}})]})},We=()=>e.jsx(ie,{children:e.jsxs(U,{title:"Blog",description:"Latest news, updates, and guides",children:[e.jsx(X,{}),e.jsx(Y,{}),e.jsx(oe,{}),e.jsx(E,{maxWidth:"lg",sx:{mt:5},children:e.jsx(de,{})}),e.jsx(Z,{}),e.jsx(_,{}),e.jsx(ee,{})]})});export{We as default};
//# sourceMappingURL=Blog-CI94ybRu.js.map
