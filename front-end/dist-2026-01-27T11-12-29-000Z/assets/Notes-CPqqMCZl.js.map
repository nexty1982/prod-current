{"version":3,"file":"Notes-CPqqMCZl.js","sources":["../../src/context/NotesContext/index.tsx","../../src/components/apps/notes/NoteList.tsx","../../src/components/apps/notes/NoteSidebar.tsx","../../src/components/apps/notes/AddNotes.tsx","../../src/components/apps/notes/NoteContent.tsx","../../src/features/apps/notes/Notes.tsx"],"sourcesContent":["\r\nimport React, { createContext, useContext, useState, useEffect } from 'react';\r\nimport type { NotesType } from '../../types/apps/note';\r\nimport { useAuth } from '../AuthContext';\r\nimport { ensureArray } from '../../utils/arrayUtils';\r\n\r\ninterface NotesFilters {\r\n    category: string;\r\n    search: string;\r\n    archived: boolean;\r\n    pinned: boolean;\r\n}\r\n\r\n// Define context type\r\ninterface NotesContextType {\r\n    notes: NotesType[];\r\n    categories: any[];\r\n    loading: boolean;\r\n    error: string | null;\r\n    selectedNoteId: number | null;\r\n    filters: NotesFilters;\r\n    selectNote: (id: number) => void;\r\n    addNote: (newNote: Partial<NotesType>) => Promise<void>;\r\n    updateNote: (id: number, updates: Partial<NotesType>) => Promise<void>;\r\n    deleteNote: (id: number) => Promise<void>;\r\n    bulkDeleteNotes: (noteIds: number[]) => Promise<void>;\r\n    togglePin: (id: number) => Promise<void>;\r\n    toggleArchive: (id: number) => Promise<void>;\r\n    setFilter: (filterType: string, value: any) => void;\r\n    refreshNotes: () => Promise<void>;\r\n    shareNote: (id: number, userId: number, permission: string) => Promise<void>;\r\n}\r\n\r\n// Initial context values\r\nconst initialContext: NotesContextType = {\r\n    notes: [],\r\n    categories: [],\r\n    loading: true,\r\n    error: null,\r\n    selectedNoteId: null,\r\n    filters: {\r\n        category: 'all',\r\n        search: '',\r\n        archived: false,\r\n        pinned: false,\r\n    },\r\n    selectNote: () => { },\r\n    addNote: async () => { },\r\n    updateNote: async () => { },\r\n    deleteNote: async () => { },\r\n    bulkDeleteNotes: async () => { },\r\n    togglePin: async () => { },\r\n    toggleArchive: async () => { },\r\n    setFilter: () => { },\r\n    refreshNotes: async () => { },\r\n    shareNote: async () => { },\r\n};\r\n\r\n// Create context\r\nexport const NotesContext = createContext<NotesContextType>(initialContext);\r\n\r\n// Provider component\r\nexport const NotesProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\r\n    const [notes, setNotes] = useState<NotesType[]>([]);\r\n    const [categories, setCategories] = useState<any[]>([]);\r\n    const [loading, setLoading] = useState<boolean>(true);\r\n    const [error, setError] = useState<string | null>(null);\r\n    const [selectedNoteId, setSelectedNoteId] = useState<number | null>(null);\r\n    const [filters, setFilters] = useState(initialContext.filters);\r\n\r\n    const { authenticated, user } = useAuth();\r\n\r\n    // Fetch notes from the backend\r\n    const fetchNotes = async () => {\r\n        if (!authenticated) return;\r\n\r\n        try {\r\n            setLoading(true);\r\n            setError(null);\r\n\r\n            const queryParams = new URLSearchParams();\r\n            if (filters.category !== 'all') queryParams.append('category', filters.category);\r\n            if (filters.search) queryParams.append('search', filters.search);\r\n            if (filters.archived) queryParams.append('archived', 'true');\r\n            if (filters.pinned) queryParams.append('pinned', 'true');\r\n\r\n            const response = await fetch(`/api/notes?${queryParams.toString()}`, {\r\n                method: 'GET',\r\n                credentials: 'include',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error(`Failed to fetch notes: ${response.status}`);\r\n            }\r\n\r\n            const data = await response.json();\r\n\r\n            if (data.success) {\r\n                // Transform notes to include backward compatibility fields\r\n                const transformedNotes = data.notes.map((note: any) => ({\r\n                    ...note,\r\n                    tags: Array.isArray(note.tags) ? note.tags : (note.tags ? JSON.parse(note.tags) : []),\r\n                    datef: note.created_at || note.updated_at, // For backward compatibility\r\n                }));\r\n\r\n                setNotes(transformedNotes);\r\n                // Auto-select first note if none selected\r\n                if (!selectedNoteId && transformedNotes.length > 0) {\r\n                    setSelectedNoteId(transformedNotes[0].id);\r\n                }\r\n            } else {\r\n                setError(data.message || 'Failed to fetch notes');\r\n            }\r\n        } catch (err: any) {\r\n            setError(err.message || 'Failed to fetch notes');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    // Fetch categories\r\n    const fetchCategories = async () => {\r\n        if (!authenticated) return;\r\n\r\n        try {\r\n            const response = await fetch('/api/notes/categories', {\r\n                method: 'GET',\r\n                credentials: 'include',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n            });\r\n\r\n            if (response.ok) {\r\n                const data = await response.json();\r\n                if (data.success) {\r\n                    setCategories(data.categories);\r\n                }\r\n            }\r\n        } catch (err) {\r\n            console.error('Error fetching categories:', err);\r\n        }\r\n    };\r\n\r\n    // Load data when authenticated or filters change\r\n    useEffect(() => {\r\n        if (authenticated) {\r\n            fetchNotes();\r\n            fetchCategories();\r\n        } else {\r\n            setNotes([]);\r\n            setCategories([]);\r\n            setLoading(false);\r\n        }\r\n    }, [authenticated, filters]);\r\n\r\n    // Select a note by its ID\r\n    const selectNote = (id: number) => {\r\n        setSelectedNoteId(id);\r\n    };\r\n\r\n    // Add a new note\r\n    const addNote = async (newNote: Partial<NotesType>) => {\r\n        try {\r\n            const response = await fetch('/api/notes', {\r\n                method: 'POST',\r\n                credentials: 'include',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify(newNote),\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error(`Failed to create note: ${response.status}`);\r\n            }\r\n\r\n            const data = await response.json();\r\n\r\n            if (data.success) {\r\n                const transformedNote = {\r\n                    ...data.note,\r\n                    tags: Array.isArray(data.note.tags) ? data.note.tags : (data.note.tags ? JSON.parse(data.note.tags) : []),\r\n                    datef: data.note.created_at || data.note.updated_at, // For backward compatibility\r\n                };\r\n                setNotes(prev => [transformedNote, ...prev]);\r\n                setSelectedNoteId(transformedNote.id);\r\n            } else {\r\n                throw new Error(data.message || 'Failed to create note');\r\n            }\r\n        } catch (err: any) {\r\n            setError(err.message || 'Failed to create note');\r\n            throw err;\r\n        }\r\n    };\r\n\r\n    // Update a note by its ID\r\n    const updateNote = async (id: number, updates: Partial<NotesType>) => {\r\n        try {\r\n            const response = await fetch(`/api/notes/${id}`, {\r\n                method: 'PUT',\r\n                credentials: 'include',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify(updates),\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error(`Failed to update note: ${response.status}`);\r\n            }\r\n\r\n            const data = await response.json();\r\n\r\n            if (data.success) {\r\n                const transformedNote = {\r\n                    ...data.note,\r\n                    tags: Array.isArray(data.note.tags) ? data.note.tags : (data.note.tags ? JSON.parse(data.note.tags) : []),\r\n                    datef: data.note.created_at || data.note.updated_at, // For backward compatibility\r\n                };\r\n                setNotes(prev => prev.map(note =>\r\n                    note.id === id ? transformedNote : note\r\n                ));\r\n            } else {\r\n                throw new Error(data.message || 'Failed to update note');\r\n            }\r\n        } catch (err: any) {\r\n            setError(err.message || 'Failed to update note');\r\n            throw err;\r\n        }\r\n    };\r\n\r\n    // Delete a note by its ID\r\n    const deleteNote = async (id: number) => {\r\n        try {\r\n            const response = await fetch(`/api/notes/${id}`, {\r\n                method: 'DELETE',\r\n                credentials: 'include',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error(`Failed to delete note: ${response.status}`);\r\n            }\r\n\r\n            const data = await response.json();\r\n\r\n            if (data.success) {\r\n                setNotes(prev => prev.filter(note => note.id !== id));\r\n                if (selectedNoteId === id) {\r\n                    const remaining = notes.filter(note => note.id !== id);\r\n                    setSelectedNoteId(remaining.length > 0 ? remaining[0].id : null);\r\n                }\r\n            } else {\r\n                throw new Error(data.message || 'Failed to delete note');\r\n            }\r\n        } catch (err: any) {\r\n            setError(err.message || 'Failed to delete note');\r\n            throw err;\r\n        }\r\n    };\r\n\r\n    // Bulk delete notes\r\n    const bulkDeleteNotes = async (noteIds: number[]) => {\r\n        try {\r\n            const response = await fetch('/api/notes/bulk-delete', {\r\n                method: 'POST',\r\n                credentials: 'include',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify({ noteIds }),\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error(`Failed to delete notes: ${response.status}`);\r\n            }\r\n\r\n            const data = await response.json();\r\n\r\n            if (data.success) {\r\n                setNotes(prev => prev.filter(note => !noteIds.includes(note.id)));\r\n                if (selectedNoteId && noteIds.includes(selectedNoteId)) {\r\n                    const remaining = notes.filter(note => !noteIds.includes(note.id));\r\n                    setSelectedNoteId(remaining.length > 0 ? remaining[0].id : null);\r\n                }\r\n            } else {\r\n                throw new Error(data.message || 'Failed to delete notes');\r\n            }\r\n        } catch (err: any) {\r\n            setError(err.message || 'Failed to delete notes');\r\n            throw err;\r\n        }\r\n    };\r\n\r\n    // Toggle pin status\r\n    const togglePin = async (id: number) => {\r\n        const note = notes.find(n => n.id === id);\r\n        if (note) {\r\n            await updateNote(id, { is_pinned: !note.is_pinned });\r\n        }\r\n    };\r\n\r\n    // Toggle archive status\r\n    const toggleArchive = async (id: number) => {\r\n        const note = notes.find(n => n.id === id);\r\n        if (note) {\r\n            await updateNote(id, { is_archived: !note.is_archived });\r\n        }\r\n    };\r\n\r\n    // Set filter\r\n    const setFilter = (filterType: string, value: any) => {\r\n        setFilters(prev => ({\r\n            ...prev,\r\n            [filterType]: value,\r\n        }));\r\n    };\r\n\r\n    // Refresh notes\r\n    const refreshNotes = async () => {\r\n        await fetchNotes();\r\n    };\r\n\r\n    // Share note\r\n    const shareNote = async (id: number, userId: number, permission: string) => {\r\n        try {\r\n            const response = await fetch(`/api/notes/${id}/share`, {\r\n                method: 'POST',\r\n                credentials: 'include',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify({\r\n                    shared_with_user_id: userId,\r\n                    permission\r\n                }),\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error(`Failed to share note: ${response.status}`);\r\n            }\r\n\r\n            const data = await response.json();\r\n\r\n            if (data.success) {\r\n                // Refresh notes to show updated sharing status\r\n                await fetchNotes();\r\n            } else {\r\n                throw new Error(data.message || 'Failed to share note');\r\n            }\r\n        } catch (err: any) {\r\n            setError(err.message || 'Failed to share note');\r\n            throw err;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <NotesContext.Provider\r\n            value={{\r\n                notes,\r\n                categories,\r\n                loading,\r\n                error,\r\n                selectedNoteId,\r\n                filters,\r\n                selectNote,\r\n                addNote,\r\n                updateNote,\r\n                deleteNote,\r\n                bulkDeleteNotes,\r\n                togglePin,\r\n                toggleArchive,\r\n                setFilter,\r\n                refreshNotes,\r\n                shareNote,\r\n            }}\r\n        >\r\n            {children}\r\n        </NotesContext.Provider>\r\n    );\r\n};\r\n\r\n\r\n","// eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n// @ts-ignore\r\nimport React, { useContext, useEffect, useState } from 'react';\r\nimport { IconButton, Box, Stack, Typography, TextField, Tooltip, Alert } from '@mui/material';\r\nimport Scrollbar from '../../custom-scroll/Scrollbar.tsx';\r\nimport { IconTrash } from '@tabler/icons-react';\r\nimport { NotesType } from '@/types/apps/notes';\r\nimport { NotesContext } from \"@/context/NotesContext\";\r\n\r\nconst NoteList = () => {\r\n\r\n  const { notes, selectNote, deleteNote }: any = useContext(NotesContext);\r\n  const [searchTerm, setSearchTerm] = useState<string>('');\r\n  const [activeNoteId, setActiveNoteId] = useState<any | null>(null);\r\n  useEffect(() => {\r\n    if (notes.length > 0) {\r\n      // Set the first note as active \r\n      const firstNoteId = notes[0].id;\r\n      setActiveNoteId(firstNoteId);\r\n    }\r\n  }, [notes]);\r\n\r\n\r\n  const filterNotes = (notes: NotesType[], nSearch: string) => {\r\n    if (nSearch !== \"\")\r\n      return notes.filter(\r\n        (t: any) =>\r\n          !t.deleted &&\r\n          t.title\r\n            .toLocaleLowerCase()\r\n            .concat(\" \")\r\n            .includes(nSearch.toLocaleLowerCase())\r\n      );\r\n\r\n    return notes.filter((t) => !t.deleted);\r\n  };\r\n\r\n  const filteredNotes = filterNotes(notes, searchTerm);\r\n\r\n  const handleNoteClick = (noteId: any) => {\r\n    setActiveNoteId(noteId);\r\n    selectNote(noteId);\r\n  };\r\n\r\n\r\n  return (\r\n    <>\r\n      <Box p={3} px={2}>\r\n        <TextField\r\n          id=\"search\"\r\n          value={searchTerm}\r\n          placeholder=\"Search Notes\"\r\n          inputProps={{ 'aria-label': 'Search Notes' }}\r\n          size=\"small\"\r\n          type=\"search\"\r\n          variant=\"outlined\"\r\n          fullWidth\r\n          onChange={(e) => setSearchTerm(e.target.value)}\r\n        />\r\n        <Typography variant=\"h6\" mb={0} mt={4} pl={1}>\r\n          All Notes\r\n        </Typography>\r\n      </Box>\r\n      <Box>\r\n        <Scrollbar sx={{ height: { lg: 'calc(100vh - 300px)', sm: '100vh' }, maxHeight: '700px' }}>\r\n          {filteredNotes && filteredNotes.length ? (\r\n            filteredNotes.map((note) => (\r\n              <Box key={note.id} px={2}>\r\n                <Box\r\n                  p={2}\r\n                  sx={{\r\n                    position: 'relative',\r\n                    cursor: 'pointer',\r\n                    mb: 1,\r\n                    transition: '0.1s ease-in',\r\n                    transform: activeNoteId === note.id ? 'scale(1)' : 'scale(0.95)',\r\n                    backgroundColor: `${note.color}.light`,\r\n\r\n                  }}\r\n                  onClick={() => handleNoteClick(note.id)}\r\n                >\r\n                  <Typography variant=\"h6\" noWrap color={note.color + '.main'}>\r\n                    {note.title}\r\n                  </Typography>\r\n                  <Stack direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\">\r\n                    <Typography variant=\"caption\">\r\n                      {(() => {\r\n                        try {\r\n                          const date = new Date(note.datef);\r\n                          return isNaN(date.getTime()) ? 'Invalid Date' : date.toLocaleDateString();\r\n                        } catch (error) {\r\n                          return 'Invalid Date';\r\n                        }\r\n                      })()}\r\n                    </Typography>\r\n                    <Tooltip title=\"Delete\">\r\n                      <IconButton\r\n                        aria-label=\"delete\"\r\n                        size=\"small\"\r\n                        onClick={(e) => {\r\n                          e.stopPropagation();\r\n                          deleteNote(note.id);\r\n                        }}\r\n                      >\r\n                        <IconTrash width={18} />\r\n                      </IconButton>\r\n                    </Tooltip>\r\n                  </Stack>\r\n                </Box>\r\n              </Box>\r\n            ))\r\n          ) : (\r\n            <Box m={2}>\r\n              <Alert severity=\"error\" variant=\"filled\" sx={{ color: 'white' }}>\r\n                No Notes Found!\r\n              </Alert>\r\n            </Box>\r\n          )}\r\n        </Scrollbar>\r\n      </Box>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NoteList;\r\n","// eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n// @ts-ignore\r\nimport React from 'react';\r\nimport { Drawer, Theme, useMediaQuery } from '@mui/material';\r\nimport NoteList from './NoteList.tsx';\r\n\r\nconst drawerWidth = 260;\r\n\r\ninterface NoteType {\r\n  isMobileSidebarOpen: boolean;\r\n  onSidebarClose: (event: React.MouseEvent<HTMLElement>) => void;\r\n}\r\n\r\nconst NoteSidebar = ({ isMobileSidebarOpen, onSidebarClose }: NoteType) => {\r\n  const lgUp = useMediaQuery((theme: Theme) => theme.breakpoints.up('lg'));\r\n\r\n  return (\r\n    <Drawer\r\n      sx={{\r\n        width: drawerWidth,\r\n        flexShrink: 0,\r\n        zIndex: lgUp ? 0 : 1,\r\n        [`& .MuiDrawer-paper`]: { position: 'relative' },\r\n      }}\r\n      open={isMobileSidebarOpen}\r\n      onClose={onSidebarClose}\r\n      variant={lgUp ? 'persistent' : 'temporary'}\r\n    >\r\n      <NoteList />\r\n    </Drawer>\r\n  );\r\n};\r\n\r\nexport default NoteSidebar;\r\n","// eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n// @ts-ignore\r\nimport React, { useContext, useState } from 'react';\r\n\r\nimport { NotesContext } from \"@/context/NotesContext\";\r\n\r\nimport {\r\n  Button,\r\n  Dialog,\r\n  Fab,\r\n  DialogContent,\r\n  TextField,\r\n  DialogActions,\r\n  DialogContentText,\r\n  Typography,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n  Chip,\r\n  Box,\r\n} from '@mui/material';\r\n\r\nimport { IconCheck } from '@tabler/icons-react';\r\n\r\ninterface Props {\r\n  colors: any[];\r\n}\r\n\r\nconst AddNotes = ({ colors }: Props) => {\r\n  const { addNote, categories }: any = useContext(NotesContext);\r\n\r\n  const [open, setOpen] = React.useState(false);\r\n  const [scolor, setScolor] = React.useState<string>('#ffffff');\r\n\r\n  const [title, setTitle] = React.useState('');\r\n  const [content, setContent] = React.useState('');\r\n  const [category, setCategory] = React.useState('General');\r\n  const [tags, setTags] = React.useState<string[]>([]);\r\n  const [tagInput, setTagInput] = React.useState('');\r\n\r\n  const setColor = (e: string) => {\r\n    setScolor(e);\r\n  };\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n    // Reset form\r\n    setTitle('');\r\n    setContent('');\r\n    setCategory('General');\r\n    setTags([]);\r\n    setTagInput('');\r\n    setScolor('#ffffff');\r\n  };\r\n\r\n  const handleAddTag = () => {\r\n    if (tagInput.trim() && !tags.includes(tagInput.trim())) {\r\n      setTags([...tags, tagInput.trim()]);\r\n      setTagInput('');\r\n    }\r\n  };\r\n\r\n  const handleRemoveTag = (tagToRemove: string) => {\r\n    setTags(tags.filter(tag => tag !== tagToRemove));\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    try {\r\n      await addNote({\r\n        title,\r\n        content,\r\n        category,\r\n        tags,\r\n        color: scolor,\r\n        is_pinned: false,\r\n        is_archived: false,\r\n      });\r\n      handleClose();\r\n    } catch (error) {\r\n      console.error('Error adding note:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Button variant=\"contained\" disableElevation color=\"primary\" onClick={handleClickOpen}>\r\n        Add Note\r\n      </Button>\r\n      <Dialog open={open} onClose={handleClose}>\r\n        <DialogContent>\r\n          <Typography variant=\"h5\" mb={2} fontWeight={700}>\r\n            Add New Note\r\n          </Typography>\r\n          <DialogContentText>\r\n            Create a new note with title, content, category, and tags.\r\n          </DialogContentText>\r\n\r\n          <TextField\r\n            value={title}\r\n            onChange={(e) => setTitle(e.target.value)}\r\n            margin=\"normal\"\r\n            id=\"title\"\r\n            label=\"Note Title\"\r\n            type=\"text\"\r\n            fullWidth\r\n            size=\"small\"\r\n            variant=\"outlined\"\r\n            required\r\n          />\r\n\r\n          <TextField\r\n            multiline\r\n            rows={5}\r\n            value={content}\r\n            onChange={(e) => setContent(e.target.value)}\r\n            margin=\"normal\"\r\n            id=\"content\"\r\n            label=\"Note Content\"\r\n            type=\"text\"\r\n            fullWidth\r\n            size=\"small\"\r\n            variant=\"outlined\"\r\n            required\r\n          />\r\n\r\n          <FormControl fullWidth margin=\"normal\" size=\"small\">\r\n            <InputLabel id=\"category-label\">Category</InputLabel>\r\n            <Select\r\n              labelId=\"category-label\"\r\n              id=\"category\"\r\n              value={category}\r\n              label=\"Category\"\r\n              onChange={(e) => setCategory(e.target.value)}\r\n            >\r\n              <MenuItem value=\"General\">General</MenuItem>\r\n              <MenuItem value=\"Meeting\">Meeting</MenuItem>\r\n              <MenuItem value=\"Church\">Church</MenuItem>\r\n              <MenuItem value=\"Personal\">Personal</MenuItem>\r\n              <MenuItem value=\"Important\">Important</MenuItem>\r\n              <MenuItem value=\"Ideas\">Ideas</MenuItem>\r\n              <MenuItem value=\"Tasks\">Tasks</MenuItem>\r\n              <MenuItem value=\"Scripture\">Scripture</MenuItem>\r\n            </Select>\r\n          </FormControl>\r\n\r\n          <Box sx={{ mt: 2 }}>\r\n            <TextField\r\n              value={tagInput}\r\n              onChange={(e) => setTagInput(e.target.value)}\r\n              label=\"Add Tags\"\r\n              size=\"small\"\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              onKeyPress={(e) => {\r\n                if (e.key === 'Enter') {\r\n                  e.preventDefault();\r\n                  handleAddTag();\r\n                }\r\n              }}\r\n              helperText=\"Press Enter to add a tag\"\r\n            />\r\n            <Box sx={{ mt: 1, display: 'flex', flexWrap: 'wrap', gap: 1 }}>\r\n              {tags.map((tag, index) => (\r\n                <Chip\r\n                  key={index}\r\n                  label={tag}\r\n                  onDelete={() => handleRemoveTag(tag)}\r\n                  size=\"small\"\r\n                  color=\"primary\"\r\n                  variant=\"outlined\"\r\n                />\r\n              ))}\r\n            </Box>\r\n          </Box>\r\n\r\n          <Typography variant=\"h6\" my={2}>\r\n            Choose Color\r\n          </Typography>\r\n          {\r\n            colors.map((color) => (\r\n              <Fab\r\n                sx={{\r\n                  marginRight: '3px',\r\n                  transition: '0.1s ease-in',\r\n                  scale: scolor === color.lineColor ? '0.9' : '0.7',\r\n                  backgroundColor: color.lineColor,\r\n                }}\r\n                size=\"small\"\r\n                key={color.id}\r\n                onClick={() => setColor(color.lineColor)}\r\n              >\r\n                {scolor === color.lineColor ? <IconCheck style={{ color: 'white' }} /> : ''}\r\n              </Fab>\r\n            ))}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose}>Cancel</Button>\r\n          <Button\r\n            disabled={title === '' || content === ''}\r\n            onClick={handleSubmit}\r\n            variant=\"contained\"\r\n          >\r\n            Add Note\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AddNotes;\r\n","// eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n// @ts-ignore\r\nimport React, { useContext, useEffect, useState } from 'react';\r\n\r\nimport {\r\n  Box,\r\n  Divider,\r\n  Fab,\r\n  TextField,\r\n  FormLabel,\r\n  useTheme,\r\n  IconButton,\r\n  Typography,\r\n} from '@mui/material';\r\nimport { IconCheck, IconMenu2 } from '@tabler/icons-react';\r\nimport AddNotes from './AddNotes.tsx';\r\nimport { NotesContext } from '@/context/NotesContext';\r\n\r\ninterface colorsType {\r\n  lineColor: string;\r\n  disp: string | any;\r\n  id: number;\r\n}\r\n\r\ninterface Props {\r\n\r\n  // toggleNoteSidebar: func,\r\n\r\n  toggleNoteSidebar: (event: React.MouseEvent<HTMLElement>) => void,\r\n}\r\n\r\nconst NoteContent = ({ toggleNoteSidebar }: Props) => {\r\n\r\n  const theme = useTheme();\r\n\r\n  const { notes, updateNote, selectedNoteId }: any = useContext(NotesContext);\r\n  const noteDetails = notes.find((note: { id: any; }) => note.id === selectedNoteId);\r\n  // Initialize state for updatedTitle, initialTitle, and isEditing status\r\n  const [initialTitle, setInitialTitle] = useState('');\r\n  const [updatedTitle, setUpdatedTitle] = useState('');\r\n  const [isEditing, setIsEditing] = useState(false); // State to track whether editing is in progress\r\n\r\n\r\n  // Effect to update initialTitle when noteDetails changes\r\n  useEffect(() => {\r\n    if (noteDetails) {\r\n      setInitialTitle(noteDetails.title);\r\n      setUpdatedTitle(noteDetails.title);\r\n    }\r\n  }, [noteDetails]);\r\n\r\n  // Function to handle changes in the title text field\r\n  const handleTitleChange = (e: { target: { value: React.SetStateAction<string>; }; }) => {\r\n    setUpdatedTitle(e.target.value);\r\n    setIsEditing(true); // Set editing state to true when user starts editing\r\n  };\r\n\r\n  // Function to handle color change and update note\r\n  const handleColorChange = (color: string) => {\r\n    const titleToUse = isEditing ? updatedTitle : initialTitle;\r\n    updateNote(selectedNoteId, titleToUse, color);\r\n    console.log(color);\r\n  };\r\n\r\n  // Function to save changes on blur event\r\n  const handleBlur = () => {\r\n    setIsEditing(false); // Reset editing state when user finishes editing\r\n    // Call updateNote to save changes with the current color\r\n    updateNote(selectedNoteId, updatedTitle, noteDetails.color);\r\n  };\r\n\r\n\r\n  const colorvariation: colorsType[] = [\r\n    {\r\n      id: 1,\r\n      lineColor: theme.palette.warning.main,\r\n      disp: 'warning',\r\n    },\r\n    {\r\n      id: 2,\r\n      lineColor: theme.palette.info.main,\r\n      disp: 'info',\r\n    },\r\n    {\r\n      id: 3,\r\n      lineColor: theme.palette.error.main,\r\n      disp: 'error',\r\n    },\r\n    {\r\n      id: 4,\r\n      lineColor: theme.palette.success.main,\r\n      disp: 'success',\r\n    },\r\n    {\r\n      id: 5,\r\n      lineColor: theme.palette.primary.main,\r\n      disp: 'primary',\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <Box sx={{ height: { lg: 'calc(100vh - 250px)', sm: '100vh' }, maxHeight: '700px' }}>\r\n      {/* ------------------------------------------- */}\r\n      {/* Header Part */}\r\n      {/* ------------------------------------------- */}\r\n      <Box display=\"flex\" alignItems=\"center\" justifyContent=\"space-between\" p={2}>\r\n        <IconButton onClick={toggleNoteSidebar}>\r\n          <IconMenu2 stroke={1.5} />\r\n        </IconButton>\r\n        <AddNotes colors={colorvariation} />\r\n      </Box>\r\n      <Divider />\r\n      {/* ------------------------------------------- */}\r\n      {/* Edit notes */}\r\n      {/* ------------------------------------------- */}\r\n      {noteDetails ? (\r\n        <Box p={3}>\r\n          <FormLabel htmlFor=\"outlined-multiline-static\">\r\n            <Typography variant=\"h6\" mb={2} fontWeight={600} color=\"text.primary\">\r\n              Edit Note\r\n            </Typography>\r\n          </FormLabel>\r\n\r\n          <TextField\r\n            id=\"outlined-multiline-static\"\r\n            placeholder=\"Edit Note\"\r\n            multiline\r\n            fullWidth\r\n            rows={5}\r\n            variant=\"outlined\"\r\n            value={isEditing ? updatedTitle : initialTitle}\r\n            onChange={handleTitleChange}\r\n            onBlur={handleBlur}\r\n          />\r\n          <br />\r\n          <Typography variant=\"h6\" mt={3} mb={2} fontWeight={600}>\r\n            Change Note Color\r\n          </Typography>\r\n\r\n          {colorvariation.map((color1) => (\r\n            <Fab\r\n              sx={{\r\n                marginRight: '3px',\r\n                boxShadow: 'none',\r\n                transition: '0.1s ease-in',\r\n                scale: noteDetails.color === color1.disp ? '0.9' : '0.7',\r\n\r\n              }}\r\n              size=\"small\"\r\n              key={color1.id}\r\n              color={color1?.disp}\r\n              onClick={() => handleColorChange(color1.disp)}\r\n            >\r\n              {noteDetails.color === color1.disp ? <IconCheck width=\"16\" /> : ''}\r\n            </Fab>\r\n          ))}\r\n        </Box>\r\n      ) : (\r\n        <Box sx={{ textAlign: 'center', fontSize: '24px', mt: 2 }}>Select a Note</Box>\r\n      )}\r\n    </Box>\r\n  );\r\n};\r\n\r\n\r\nexport default NoteContent;\r\n","import { useState } from 'react';\r\nimport { Box, useMediaQuery } from '@mui/material';\r\nimport Breadcrumb from '@/layouts/full/shared/breadcrumb/Breadcrumb';\r\nimport PageContainer from '@/components/container/PageContainer';\r\nimport NoteSidebar from '@/components/apps/notes/NoteSidebar';\r\nimport NoteContent from '@/components/apps/notes/NoteContent';\r\nimport AppCard from '@/shared/ui/AppCard';\r\nimport { NotesProvider } from '@/context/NotesContext';\r\n\r\nconst BCrumb = [\r\n  {\r\n    to: '/',\r\n    title: 'Home',\r\n  },\r\n  {\r\n    title: 'Notes',\r\n  },\r\n];\r\n\r\nconst Notes = () => {\r\n  const [isMobileSidebarOpen, setMobileSidebarOpen] = useState(true);\r\n  const lgDown = useMediaQuery((theme: any) => theme.breakpoints.down('lg'));\r\n\r\n\r\n  return (\r\n    <NotesProvider>\r\n      <PageContainer title=\"Note App\" description=\"this is Note App\">\r\n        <Breadcrumb title=\"Note app\" items={BCrumb} />\r\n        <AppCard>\r\n          {lgDown ?\r\n            <NoteSidebar\r\n              isMobileSidebarOpen={isMobileSidebarOpen}\r\n              onSidebarClose={() => setMobileSidebarOpen(false)}\r\n            />\r\n            : <NoteSidebar\r\n              isMobileSidebarOpen={true}\r\n              onSidebarClose={() => setMobileSidebarOpen(false)}\r\n            />}\r\n\r\n          <Box flexGrow={1}>\r\n            <NoteContent toggleNoteSidebar={() => setMobileSidebarOpen(!isMobileSidebarOpen)} />\r\n          </Box>\r\n        </AppCard>\r\n      </PageContainer>\r\n    </NotesProvider>\r\n  );\r\n};\r\n\r\nexport default Notes;\r\n"],"names":["initialContext","__async","NotesContext","createContext","NotesProvider","children","notes","setNotes","useState","categories","setCategories","loading","setLoading","error","setError","selectedNoteId","setSelectedNoteId","filters","setFilters","authenticated","user","useAuth","fetchNotes","queryParams","response","data","transformedNotes","note","__spreadProps","__spreadValues","err","fetchCategories","useEffect","selectNote","id","addNote","newNote","transformedNote","prev","updateNote","updates","deleteNote","remaining","bulkDeleteNotes","noteIds","togglePin","toggleArchive","setFilter","filterType","value","refreshNotes","shareNote","userId","permission","jsx","NoteList","useContext","searchTerm","setSearchTerm","activeNoteId","setActiveNoteId","firstNoteId","filteredNotes","nSearch","t","handleNoteClick","noteId","jsxs","Fragment","Box","TextField","e","Typography","Scrollbar","Stack","date","Tooltip","IconButton","IconTrash","Alert","drawerWidth","NoteSidebar","isMobileSidebarOpen","onSidebarClose","lgUp","useMediaQuery","theme","Drawer","AddNotes","colors","open","setOpen","React","scolor","setScolor","title","setTitle","content","setContent","category","setCategory","tags","setTags","tagInput","setTagInput","setColor","handleClickOpen","handleClose","handleAddTag","handleRemoveTag","tagToRemove","tag","handleSubmit","Button","Dialog","DialogContent","DialogContentText","FormControl","InputLabel","Select","MenuItem","index","Chip","color","Fab","IconCheck","DialogActions","NoteContent","toggleNoteSidebar","useTheme","noteDetails","initialTitle","setInitialTitle","updatedTitle","setUpdatedTitle","isEditing","setIsEditing","handleTitleChange","handleColorChange","handleBlur","colorvariation","IconMenu2","Divider","FormLabel","color1","BCrumb","Notes","setMobileSidebarOpen","lgDown","PageContainer","Breadcrumb","AppCard"],"mappings":"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"}