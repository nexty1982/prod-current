import{m as O,k as R,j as e,U as I,Q as F,B as s,h as v,d as m,L as Y,l as H,T as K,I as G,bY as S,i as C}from"./index-CHjTtHW2.js";import{r as x}from"./vendor-DgfDxsY7.js";import{C as J}from"./Container-DQ6QG2MT.js";import{E as Q}from"./Edit-C9MNfJRw.js";import{S as X}from"./Search-ydDKI0z7.js";import{M}from"./BarChart-fOc47h5H.js";import{D as _}from"./Dashboard-B5YUBMdE.js";import{P as k}from"./People-u27PZx4z.js";import{S as A}from"./Security-CGvcXQrW.js";import{M as z}from"./Menu-CDScxGLc.js";import{B as T}from"./Psychology-CX5Zfe-a.js";import{C as $}from"./CloudUpload-C_-A4Hmw.js";import{U as w}from"./Palette-zFQxAIi0.js";import{R as B}from"./LocalLibrary-C1T4F6HX.js";import{C as W}from"./Church-D0XKmNrS.js";import{M as D}from"./MenuBook-3EiDHzDp.js";import{T as N}from"./Assignment-DpXc3smd.js";import{B as E}from"./Backup-B2GnILNY.js";import{T as P}from"./Terminal-CaFmAMGn.js";import{A as U}from"./AdminPanelSettings-BoaHbDFv.js";const q=({icon:o,label:i,description:b,to:c,roleRestriction:u=[],badge:l,badgeColor:y="primary",disabled:g=!1,comingSoon:n=!1})=>{const a=O(),{user:h,hasRole:r}=R();if(!(u.length===0||u.some(L=>r(L))))return null;const d=!g&&!n,p=e.jsx(I,{sx:{position:"relative",height:"180px",cursor:d?"pointer":"default",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",borderRadius:4,border:"2px solid transparent",background:a.palette.mode==="dark"?"linear-gradient(135deg, rgba(255,255,255,0.08) 0%, rgba(255,255,255,0.02) 100%)":"linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(248,250,252,0.9) 100%)",backdropFilter:"blur(20px)",opacity:g||n?.6:1,overflow:"hidden","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:a.palette.mode==="dark"?"radial-gradient(circle at 50% 0%, rgba(255,255,255,0.1) 0%, transparent 50%)":"radial-gradient(circle at 50% 0%, rgba(0,0,0,0.03) 0%, transparent 50%)",pointerEvents:"none"},"&:hover":d?{transform:"translateY(-8px) scale(1.02)",boxShadow:a.palette.mode==="dark"?"0 20px 60px rgba(0,0,0,0.4), 0 0 0 1px rgba(255,255,255,0.1)":"0 20px 60px rgba(0,0,0,0.15), 0 0 0 1px rgba(0,0,0,0.05)",border:`2px solid ${a.palette.primary.main}`,"&::before":{background:a.palette.mode==="dark"?`radial-gradient(circle at 50% 0%, ${a.palette.primary.main}20 0%, transparent 70%)`:`radial-gradient(circle at 50% 0%, ${a.palette.primary.main}10 0%, transparent 70%)`},"& .tile-icon":{transform:"scale(1.15) rotate(5deg)",color:a.palette.primary.main},"& .tile-label":{color:a.palette.primary.main},"& .tile-description":{color:a.palette.text.primary}}:{}},children:e.jsxs(F,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center",p:4,position:"relative",zIndex:1,"&:last-child":{pb:4}},children:[(l||n)&&e.jsx(s,{sx:{position:"absolute",top:12,right:12,zIndex:2},children:e.jsx(v,{label:n?"Coming Soon":l,size:"small",color:n?"warning":y,variant:"filled",sx:{fontSize:"0.7rem",height:22,fontWeight:700,borderRadius:2,boxShadow:"0 2px 8px rgba(0,0,0,0.15)",backdropFilter:"blur(10px)"}})}),e.jsx(s,{className:"tile-icon",sx:{fontSize:"3.5rem",mb:2,transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",color:a.palette.text.primary,filter:a.palette.mode==="dark"?"drop-shadow(0 4px 8px rgba(0,0,0,0.3))":"drop-shadow(0 2px 4px rgba(0,0,0,0.1))",display:"flex",alignItems:"center",justifyContent:"center",width:80,height:80,borderRadius:"50%",background:a.palette.mode==="dark"?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.03)"},children:o}),e.jsx(m,{className:"tile-label",variant:"h6",component:"div",sx:{fontWeight:700,mb:1,transition:"color 0.4s ease",fontSize:"1.125rem",lineHeight:1.2,letterSpacing:"-0.01em"},children:i}),b&&e.jsx(m,{className:"tile-description",variant:"body2",color:"text.secondary",sx:{fontSize:"0.875rem",lineHeight:1.5,maxWidth:"90%",transition:"color 0.4s ease",fontWeight:500},children:b}),(g||n)&&e.jsx(s,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0,0,0,0.1)",borderRadius:3},children:e.jsx(m,{variant:"body2",sx:{color:"text.secondary",fontWeight:600,textTransform:"uppercase",letterSpacing:1},children:n?"Coming Soon":"Disabled"})})]})});return d?e.jsx(Y,{to:c,style:{textDecoration:"none"},"aria-label":`Navigate to ${i}`,children:p}):p},f="om_super_dashboard_customization",j=(o,i)=>o==="global"?`${f}_global`:o==="church"&&i?`${f}_church_${i}`:o==="user"&&i?`${f}_user_${i}`:`${f}_global`,V={Settings:e.jsx(C,{}),Brain:e.jsx(T,{}),UserCog:e.jsx(k,{}),ClipboardList:e.jsx(N,{}),Palette:e.jsx(w,{}),Church:e.jsx(W,{}),Analytics:e.jsx(M,{}),Security:e.jsx(A,{}),Upload:e.jsx($,{}),Book:e.jsx(D,{}),Backup:e.jsx(E,{}),Admin:e.jsx(U,{}),Menu:e.jsx(z,{}),Dashboard:e.jsx(_,{}),Records:e.jsx(B,{}),Terminal:e.jsx(P,{})},ye=()=>{const{user:o,hasRole:i}=R(),b=H(),[c,u]=x.useState(null),[l,y]=x.useState(null);x.useEffect(()=>{let r=null,t="",d=null;if(o!=null&&o.id&&(t=j("user",o.id),r=localStorage.getItem(t),r&&(d="user")),!r&&(o!=null&&o.church_id)&&(t=j("church",o.church_id),r=localStorage.getItem(t),r&&(d="church")),r||(t=j("global"),r=localStorage.getItem(t),r&&(d="global")),y(d),r)try{const p=JSON.parse(r);u(p)}catch(p){console.error("Failed to load customization:",p)}},[o]);const g=r=>r.map(t=>({icon:V[t.iconName]||e.jsx(C,{}),label:t.label,description:t.description,to:t.to,roleRestriction:t.roleRestriction,badge:t.badge,badgeColor:t.badgeColor,category:t.category,comingSoon:t.comingSoon,disabled:t.disabled})),n=[{icon:e.jsx(C,{}),label:"Orthodox Metrics",description:"SaaS platform control & analytics",to:"/admin/orthodox-metrics",roleRestriction:["super_admin"],badge:"Super",badgeColor:"error",category:"core"},{icon:e.jsx(M,{}),label:"System Analytics",description:"Performance & usage metrics",to:"/admin/analytics",roleRestriction:["super_admin","admin"],badge:"Pro",badgeColor:"info",category:"core"},{icon:e.jsx(_,{}),label:"Admin Dashboard",description:"Central administration hub",to:"/admin/dashboard",roleRestriction:["super_admin","admin"],category:"core"},{icon:e.jsx(k,{}),label:"User Management",description:"Manage users, roles & permissions",to:"/admin/users",roleRestriction:["super_admin","admin"],badge:"Active",badgeColor:"success",category:"management"},{icon:e.jsx(A,{}),label:"Security Center",description:"Authentication & access control",to:"/admin/security",roleRestriction:["super_admin"],badge:"Critical",badgeColor:"error",category:"management"},{icon:e.jsx(z,{}),label:"Menu Permissions",description:"Configure navigation access",to:"/admin/menu-permissions",roleRestriction:["super_admin"],category:"management"},{icon:e.jsx(T,{}),label:"AI Administration",description:"OCR, NLP & automation tools",to:"/admin/ai",roleRestriction:["super_admin","admin"],badge:"AI",badgeColor:"secondary",category:"tools"},{icon:e.jsx($,{}),label:"OCR Management",description:"Document processing & uploads",to:"/apps/ocr",roleRestriction:["super_admin","admin","manager"],category:"tools"},{icon:e.jsx(w,{}),label:"Theme Studio",description:"Liturgical styling & customization",to:"/admin/themes",roleRestriction:["super_admin","admin"],badge:"New",badgeColor:"primary",category:"tools"},{icon:e.jsx(B,{}),label:"Record Management",description:"Baptism, marriage & funeral records",to:"/demos/editable-record/baptism/new",roleRestriction:["super_admin","admin","manager"],badge:"Latest",badgeColor:"success",category:"content"},{icon:e.jsx(W,{}),label:"Church Management",description:"Parish administration & settings",to:"/apps/churches",roleRestriction:["super_admin","admin","manager"],category:"content"},{icon:e.jsx(D,{}),label:"CMS Content",description:"Website content management",to:"/apps/cms",roleRestriction:["super_admin","admin","manager"],category:"content"},{icon:e.jsx(N,{}),label:"Audit Logs",description:"System-wide activity history",to:"/admin/logs",roleRestriction:["super_admin","admin"],badge:"Monitor",badgeColor:"warning",category:"system"},{icon:e.jsx(E,{}),label:"Backup Center",description:"Data backup & recovery",to:"/admin/backup",roleRestriction:["super_admin"],badge:"Critical",badgeColor:"error",category:"system"},{icon:e.jsx(P,{}),label:"Script Runner",description:"Execute server maintenance scripts",to:"/admin/script-runner",roleRestriction:["super_admin","admin"],badge:"Pro",badgeColor:"info",category:"system"},{icon:e.jsx(U,{}),label:"System Settings",description:"Global configuration & preferences",to:"/admin/settings",roleRestriction:["super_admin"],category:"system"}],a=x.useMemo(()=>c&&c.length>0?g(c):n,[c]),h=x.useMemo(()=>a.filter(r=>!(r.roleRestriction&&r.roleRestriction.length>0&&!r.roleRestriction.some(t=>i(t)))),[a,i]);return e.jsxs(J,{maxWidth:"xl",sx:{py:6},children:[e.jsxs(s,{mb:8,textAlign:"center",position:"relative",children:[e.jsx(s,{sx:{position:"absolute",top:0,right:0},children:e.jsx(K,{title:"Customize Dashboard Modules",children:e.jsx(G,{onClick:()=>b("/dashboards/super/customize"),color:"primary",sx:{bgcolor:"background.paper",boxShadow:2,"&:hover":{bgcolor:"primary.main",color:"primary.contrastText"}},children:e.jsx(Q,{})})})}),e.jsxs(m,{variant:"h5",color:"text.secondary",sx:{mb:6,fontWeight:400,maxWidth:"600px",mx:"auto",lineHeight:1.6},children:["Welcome back, ",(o==null?void 0:o.email)||"Administrator","! Manage your Orthodox Metrics platform."]}),c&&l&&e.jsxs(s,{sx:{display:"flex",gap:1,justifyContent:"center",alignItems:"center",flexWrap:"wrap"},children:[e.jsx(v,{label:`Using ${l==="user"?"user-specific":l==="church"?"church-specific":"global"} layout`,color:l==="user"?"primary":l==="church"?"secondary":"default",size:"small"}),e.jsxs(m,{variant:"body2",color:"text.secondary",children:["(",c.length," modules)"]})]})]}),e.jsx(S,{in:!0,timeout:800,children:e.jsxs(s,{children:[e.jsxs(m,{variant:"h5",sx:{mb:4,fontWeight:600,color:"text.primary"},children:["All Modules (",h.length,")"]}),e.jsxs(s,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)",lg:"repeat(4, 1fr)",xl:"repeat(5, 1fr)"},gap:4},children:[h.map((r,t)=>e.jsx(S,{in:!0,timeout:400+t*150,children:e.jsx(s,{sx:{height:"100%",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{transform:"translateY(-8px) scale(1.02)","& > *":{boxShadow:"0 20px 60px rgba(0,0,0,0.15), 0 0 0 1px rgba(255,255,255,0.1)"}}},children:e.jsx(q,{icon:r.icon,label:r.label,description:r.description,to:r.to,roleRestriction:r.roleRestriction,badge:r.badge,badgeColor:r.badgeColor,comingSoon:r.comingSoon,disabled:r.disabled})})},`${r.label}-${t}`)),h.length===0&&e.jsx(s,{sx:{gridColumn:"1 / -1"},children:e.jsxs(I,{sx:{textAlign:"center",py:12,px:6,border:r=>`3px dashed ${r.palette.divider}`,bgcolor:"background.default",borderRadius:4},children:[e.jsx(X,{sx:{fontSize:64,color:"text.disabled",mb:3}}),e.jsx(m,{variant:"h5",gutterBottom:!0,color:"text.secondary",sx:{fontWeight:600},children:"No modules found"}),e.jsx(m,{variant:"body1",color:"text.disabled",sx:{mb:3},children:"No modules are available for your role"})]})})]})]})})]})};export{ye as SuperDashboard,ye as default};
//# sourceMappingURL=SuperDashboard-By8UJ0jo.js.map
