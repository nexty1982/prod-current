{"version":3,"file":"EditableRecordPage-uvDMm1G8.js","sources":["../../node_modules/@mui/icons-material/esm/Preview.js","../../src/features/records-centralized/components/records/EditableRecordPage.tsx"],"sourcesContent":["\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.89-2-2-2m0 16H5V7h14zm-5.5-6c0 .83-.67 1.5-1.5 1.5s-1.5-.67-1.5-1.5.67-1.5 1.5-1.5 1.5.67 1.5 1.5M12 9c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5\"\n}), 'Preview');","/**\n * Orthodox Metrics - Editable Record Page\n * Dynamic form interface for church records with color customization and live preview\n */\n\nimport React, { useState, useCallback, useMemo, useEffect } from 'react';\nimport {\n  Box,\n  Container,\n  Typography,\n  Card,\n  CardContent,\n  Button,\n  Alert,\n  Divider,\n  Toolbar,\n  IconButton,\n  Tooltip,\n  Fab,\n} from '@mui/material';\nimport {\n  Save as SaveIcon,\n  Preview as PreviewIcon,\n  Refresh as RefreshIcon,\n  ArrowBack as ArrowBackIcon,\n  Palette as PaletteIcon,\n} from '@mui/icons-material';\nimport { useNavigate, useParams } from 'react-router-dom';\n\nimport {\n  ChurchRecord,\n  RecordType,\n  RecordField,\n} from '@/types/church-records-advanced.types';\n// import {\n//   createRecordWithFields,\n//   getRecordSchema,\n// } from '@/schemas/record-schemas';\n// import { devLogStateChange } from '@/utils/devLogger';\n// import FieldRenderer from '@/components/FieldRenderer';\n// import RecordPreviewPane from '@/components/RecordPreviewPane';\n// import ColorPickerPopover from '@/components/ColorPickerPopover';\n// import recordService from '@/shared/lib/recordService';\nimport { useAuth } from '@/context/AuthContext';\n// import { ThemedLayout } from '@/components/Theme/ThemedLayout';\n// import { useTheme } from '@/context/ThemeContext';\n\ninterface EditableRecordPageProps {\n  recordType?: RecordType;\n  recordId?: string;\n  onSave?: (record: ChurchRecord) => void;\n  onCancel?: () => void;\n  readonly?: boolean;\n  showPreview?: boolean;\n}\n\n/**\n * Editable Record Page Component\n */\nconst EditableRecordPage: React.FC<EditableRecordPageProps> = ({\n  recordType: propRecordType,\n  recordId,\n  onSave,\n  onCancel,\n  readonly = false,\n  showPreview = true,\n}) => {\n  const navigate = useNavigate();\n  const params = useParams();\n  const { user } = useAuth();\n  \n  // Determine record type from props or URL params\n  const recordType = propRecordType || (params.recordType as RecordType) || 'baptism';\n  \n  // Check if user has edit permissions\n  const canEdit = user && ['super_admin', 'admin', 'manager'].includes(user.role);\n  const isReadonly = readonly || !canEdit;\n  \n  // Initialize record state\n  const [record, setRecord] = useState<ChurchRecord>(() => {\n    return createRecordWithFields(recordType);\n  });\n  \n  // Additional state for backend integration\n  const [isLoading, setIsLoading] = useState(false);\n  const [isSaving, setIsSaving] = useState(false);\n  const [loadError, setLoadError] = useState<string | null>(null);\n  const [saveError, setSaveError] = useState<string | null>(null);\n\n  const [errors, setErrors] = useState<{ [fieldKey: string]: string }>({});\n  const [showPreviewPane, setShowPreviewPane] = useState(showPreview);\n  const [isDirty, setIsDirty] = useState(false);\n\n  // Load existing record if recordId is provided\n  useEffect(() => {\n    if (recordId) {\n      loadRecord();\n    }\n  }, [recordId, recordType]);\n\n  const loadRecord = async () => {\n    if (!recordId) return;\n    \n    setIsLoading(true);\n    setLoadError(null);\n    \n    try {\n      const loadedRecord = await recordService.fetchRecordById(recordType, recordId);\n      setRecord(loadedRecord);\n      devLogStateChange('record', null, loadedRecord, 'EditableRecordPage');\n    } catch (error) {\n      const errorMessage = error instanceof Error ? error.message : 'Failed to load record';\n      setLoadError(errorMessage);\n      devLogStateChange('loadError', null, errorMessage, 'EditableRecordPage');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Get schema for current record type\n  const schema = useMemo(() => getRecordSchema(recordType), [recordType]);\n\n  // Group fields by section\n  const fieldsBySection = useMemo(() => {\n    const grouped: { [sectionId: string]: RecordField[] } = {};\n    \n    schema.sections.forEach(section => {\n      grouped[section.id] = record.fields.filter(field => \n        section.fields.includes(field.key)\n      );\n    });\n    \n    return grouped;\n  }, [record.fields, schema.sections]);\n\n  // Handle field value change\n  const handleFieldChange = useCallback((fieldKey: string, value: any) => {\n    setRecord(prevRecord => {\n      const newRecord = {\n        ...prevRecord,\n        fields: prevRecord.fields.map(field =>\n          field.key === fieldKey ? { ...field, value } : field\n        ),\n        metadata: {\n          ...prevRecord.metadata,\n          updatedAt: new Date(),\n          version: prevRecord.metadata.version + 1,\n        },\n      };\n      \n      devLogStateChange('Field Value Changed', prevRecord, newRecord, 'EditableRecordPage');\n      return newRecord;\n    });\n    \n    setIsDirty(true);\n    \n    // Clear error for this field if it exists\n    if (errors[fieldKey]) {\n      setErrors(prev => {\n        const newErrors = { ...prev };\n        delete newErrors[fieldKey];\n        return newErrors;\n      });\n    }\n  }, [errors]);\n\n  // Handle field color change\n  const handleFieldColorChange = useCallback((fieldKey: string, color: string) => {\n    setRecord(prevRecord => {\n      const newRecord = {\n        ...prevRecord,\n        colorOverrides: {\n          ...prevRecord.colorOverrides,\n          [fieldKey]: color,\n        },\n        metadata: {\n          ...prevRecord.metadata,\n          updatedAt: new Date(),\n          version: prevRecord.metadata.version + 1,\n        },\n      };\n      \n      devLogStateChange('Field Color Changed', prevRecord.colorOverrides, newRecord.colorOverrides, 'EditableRecordPage');\n      return newRecord;\n    });\n    \n    setIsDirty(true);\n  }, []);\n\n  // Validate form\n  const validateForm = useCallback((): boolean => {\n    const newErrors: { [fieldKey: string]: string } = {};\n    \n    schema.requiredFields.forEach(fieldKey => {\n      const field = record.fields.find(f => f.key === fieldKey);\n      if (!field || !field.value || (typeof field.value === 'string' && field.value.trim() === '')) {\n        newErrors[fieldKey] = `${field?.label || fieldKey} is required`;\n      }\n    });\n    \n    // Additional validation by field type\n    record.fields.forEach(field => {\n      if (field.value && field.validation) {\n        const { min, max, pattern, message } = field.validation;\n        \n        if (field.type === 'email' && field.value) {\n          const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n          if (!emailRegex.test(field.value as string)) {\n            newErrors[field.key] = 'Please enter a valid email address';\n          }\n        }\n        \n        if (field.type === 'number' && field.value) {\n          const numValue = Number(field.value);\n          if (min !== undefined && numValue < min) {\n            newErrors[field.key] = message || `Value must be at least ${min}`;\n          }\n          if (max !== undefined && numValue > max) {\n            newErrors[field.key] = message || `Value must be no more than ${max}`;\n          }\n        }\n        \n        if (pattern && field.value) {\n          const regex = new RegExp(pattern);\n          if (!regex.test(field.value as string)) {\n            newErrors[field.key] = message || 'Invalid format';\n          }\n        }\n      }\n    });\n    \n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  }, [record.fields, schema.requiredFields]);\n\n  // Handle save\n  const handleSave = useCallback(async () => {\n    if (!validateForm()) {\n      return;\n    }\n    \n    if (!canEdit) {\n      setSaveError('You do not have permission to edit records');\n      return;\n    }\n    \n    setIsSaving(true);\n    setSaveError(null);\n    \n    try {\n      // Update record status and metadata\n      const finalRecord: ChurchRecord = {\n        ...record,\n        metadata: {\n          ...record.metadata,\n          status: 'active',\n          updatedAt: new Date(),\n        },\n      };\n      \n      devLogStateChange('Record Saved', record, finalRecord, 'EditableRecordPage');\n      \n      if (onSave) {\n        await onSave(finalRecord);\n      } else {\n        // Save to backend API\n        if (recordId) {\n          // Update existing record\n          const result = await recordService.updateRecord(recordType, recordId, finalRecord);\n          console.log('Record updated:', result);\n        } else {\n          // Create new record\n          const result = await recordService.createRecord(recordType, finalRecord);\n          console.log('Record created:', result);\n          \n          // Navigate to the newly created record\n          if (result.id) {\n            navigate(`/demos/editable-record/${recordType}/${result.id}`);\n          }\n        }\n      }\n      \n      setIsDirty(false);\n      \n    } catch (error) {\n      const errorMessage = error instanceof Error ? error.message : 'Failed to save record';\n      setSaveError(errorMessage);\n      console.error('Error saving record:', error);\n    } finally {\n      setIsSaving(false);\n    }\n  }, [record, validateForm, onSave, canEdit, recordType, recordId, navigate]);\n\n  // Handle cancel/back\n  const handleCancel = useCallback(() => {\n    if (onCancel) {\n      onCancel();\n    } else {\n      navigate(-1);\n    }\n  }, [navigate, onCancel]);\n\n  // Reset form to original state\n  const handleReset = useCallback(() => {\n    const freshRecord = createRecordWithFields(recordType);\n    if (recordId) {\n      freshRecord.id = recordId;\n    }\n    setRecord(freshRecord);\n    setErrors({});\n    setIsDirty(false);\n    \n    devLogStateChange('Form Reset', record, freshRecord, 'EditableRecordPage');\n  }, [recordType, recordId, record]);\n\n  // const { themeConfig } = useTheme();\n\n  return (\n    <div>\n      <Container maxWidth=\"xl\" sx={{ py: 3 }}>\n      {/* Header */}\n      <Box mb={3}>\n        <Toolbar disableGutters>\n          <IconButton onClick={handleCancel} sx={{ mr: 1 }}>\n            <ArrowBackIcon />\n          </IconButton>\n          \n          <Box sx={{ flexGrow: 1 }}>\n            <Typography variant=\"h4\" component=\"h1\">\n              {recordId ? 'Edit' : 'New'} {recordType.charAt(0).toUpperCase() + recordType.slice(1)} Record\n            </Typography>\n            <Typography variant=\"body2\" color=\"text.secondary\">\n              {schema.description}\n            </Typography>\n          </Box>\n\n          <Box sx={{ display: 'flex', gap: 1 }}>\n            <Tooltip title=\"Toggle Preview\">\n              <IconButton \n                onClick={() => setShowPreviewPane(!showPreviewPane)}\n                color={showPreviewPane ? 'primary' : 'default'}\n              >\n                <PreviewIcon />\n              </IconButton>\n            </Tooltip>\n            \n            <Tooltip title=\"Reset Form\">\n              <IconButton onClick={handleReset} disabled={!isDirty}>\n                <RefreshIcon />\n              </IconButton>\n            </Tooltip>\n            \n            <Button\n              variant=\"contained\"\n              startIcon={<SaveIcon />}\n              onClick={handleSave}\n              disabled={readonly || isSaving}\n              loading={isSaving}\n            >\n              {isSaving ? 'Saving...' : 'Save Record'}\n            </Button>\n          </Box>\n        </Toolbar>\n        \n        {isDirty && (\n          <Alert severity=\"info\" sx={{ mt: 2 }}>\n            You have unsaved changes. Don't forget to save your work!\n          </Alert>\n        )}\n        \n        {!canEdit && (\n          <Alert severity=\"warning\" sx={{ mt: 2 }}>\n            You have read-only access. Only priests, deacons, and administrators can edit church records.\n          </Alert>\n        )}\n        \n        {loadError && (\n          <Alert severity=\"error\" sx={{ mt: 2 }} onClose={() => setLoadError(null)}>\n            Failed to load record: {loadError}\n          </Alert>\n        )}\n        \n        {saveError && (\n          <Alert severity=\"error\" sx={{ mt: 2 }} onClose={() => setSaveError(null)}>\n            Failed to save record: {saveError}\n          </Alert>\n        )}\n        \n        {Object.keys(errors).length > 0 && (\n          <Alert severity=\"error\" sx={{ mt: 2 }}>\n            Please fix the following errors before saving:\n            <ul style={{ margin: '8px 0', paddingLeft: '20px' }}>\n              {Object.entries(errors).map(([fieldKey, error]) => (\n                <li key={fieldKey}>{error}</li>\n              ))}\n            </ul>\n          </Alert>\n        )}\n      </Box>\n\n      {/* Main Content */}\n      <Box sx={{ display: 'flex', gap: 3 }}>\n        {/* Form Panel */}\n        <Box sx={{ \n          flex: showPreviewPane ? '1 1 60%' : '1 1 100%', \n          minWidth: 0,\n          transition: 'flex 0.3s ease'\n        }}>\n          {schema.sections.map(section => (\n            <Card key={section.id} sx={{ mb: 3 }}>\n              <CardContent>\n                <Typography variant=\"h6\" gutterBottom sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n                  <PaletteIcon color=\"primary\" />\n                  {section.title}\n                </Typography>\n                <Divider sx={{ mb: 3 }} />\n                \n                <Box sx={{ display: 'flex', flexDirection: 'column', gap: 3 }}>\n                  {fieldsBySection[section.id]?.map(field => (\n                    <FieldRenderer\n                      key={field.key}\n                      field={field}\n                      value={field.value}\n                      color={record.colorOverrides?.[field.key] || field.color}\n                      error={errors[field.key]}\n                      readonly={readonly}\n                      onValueChange={(value: any) => handleFieldChange(field.key, value)}\n                      onColorChange={(color: string) => handleFieldColorChange(field.key, color)}\n                    />\n                  ))}\n                </Box>\n              </CardContent>\n            </Card>\n          ))}\n        </Box>\n\n        {/* Preview Panel */}\n        {showPreviewPane && (\n          <Box sx={{ \n            flex: '1 1 40%', \n            minWidth: '300px',\n            position: 'sticky',\n            top: '80px',\n            height: 'fit-content',\n            maxHeight: 'calc(100vh - 100px)',\n            overflow: 'auto'\n          }}>\n            <RecordPreviewPane \n              record={record}\n            />\n          </Box>\n        )}\n      </Box>\n\n      {/* Floating Action Button for Mobile */}\n      {!showPreviewPane && (\n        <Fab\n          color=\"primary\"\n          sx={{\n            position: 'fixed',\n            bottom: 16,\n            right: 16,\n            display: { xs: 'flex', md: 'none' }\n          }}\n          onClick={() => setShowPreviewPane(true)}\n        >\n          <PreviewIcon />\n        </Fab>\n      )}\n    </Container>\n    </div>\n  );\n};\n\nexport default EditableRecordPage;\n"],"names":["PreviewIcon","createSvgIcon","_jsx","EditableRecordPage","propRecordType","recordId","onSave","onCancel","readonly","showPreview","navigate","useNavigate","params","useParams","user","useAuth","recordType","canEdit","record","setRecord","useState","isLoading","setIsLoading","isSaving","setIsSaving","loadError","setLoadError","saveError","setSaveError","errors","setErrors","showPreviewPane","setShowPreviewPane","isDirty","setIsDirty","useEffect","loadRecord","__async","loadedRecord","error","errorMessage","schema","useMemo","fieldsBySection","grouped","section","field","handleFieldChange","useCallback","fieldKey","value","prevRecord","newRecord","__spreadProps","__spreadValues","prev","newErrors","handleFieldColorChange","color","validateForm","f","min","max","pattern","message","numValue","handleSave","finalRecord","result","handleCancel","handleReset","freshRecord","jsx","jsxs","Container","Box","Toolbar","IconButton","ArrowBackIcon","Typography","Tooltip","RefreshIcon","Button","SaveIcon","Alert","Card","CardContent","PaletteIcon","Divider","_a","Fab"],"mappings":"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","x_google_ignoreList":[0]}