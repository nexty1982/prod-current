var Pt=Object.defineProperty,Tt=Object.defineProperties;var Lt=Object.getOwnPropertyDescriptors;var Je=Object.getOwnPropertySymbols;var Ot=Object.prototype.hasOwnProperty,$t=Object.prototype.propertyIsEnumerable;var Qe=(t,s,o)=>s in t?Pt(t,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[s]=o,m=(t,s)=>{for(var o in s||(s={}))Ot.call(s,o)&&Qe(t,o,s[o]);if(Je)for(var o of Je(s))$t.call(s,o)&&Qe(t,o,s[o]);return t},x=(t,s)=>Tt(t,Lt(s));var z=(t,s,o)=>new Promise((C,y)=>{var R=_=>{try{D(o.next(_))}catch(b){y(b)}},B=_=>{try{D(o.throw(_))}catch(b){y(b)}},D=_=>_.done?C(_.value):Promise.resolve(_.value).then(R,B);D((o=o.apply(t,s)).next())});import{a as K,j as e,B as c,d as i,e as T,U,h as re,P as v,s as Y,a1 as J,t as Q,f as O,m as Et,G as $,T as be,K as Ie,Z as Pe,O as Te,C as je,a0 as xe,V as At,R as zt,I as X,q as Wt,S as I,b3 as Ke,a2 as Ze,D as Xe,a4 as Mt}from"./index-Dgvcv9SG.js";import{r as p}from"./vendor-Dkfty7_r.js";import{B as st}from"./ButtonGroup-CWOthUvO.js";import{S as Be}from"./Slider-C0NlYhsa.js";import{U as ye}from"./Palette-BW4bxUzv.js";import{H as Gt}from"./History-CO1Kg4Jq.js";import{f as V}from"./formatDate-DhH_eSW_.js";import{E as et}from"./ExpandLess-Q0bpIKM4.js";import{S as Vt}from"./Search-CVIOtvh3.js";import{T as Ht}from"./TableChart-B_uuWqe4.js";import{L as qt,a as tt}from"./LockOpen-DB8vBIkB.js";import{I as at}from"./GetApp-CgO5aHh0.js";import{S as Ut}from"./Assessment-CNb3uq5r.js";import{T as Yt,a as Jt,b as Qt,c as fe,d as Kt}from"./TableRow-GBYhOGTG.js";import{T as ae}from"./TableCell-jHKItVVU.js";import{T as Zt}from"./TableSortLabel-B3bFjn-d.js";import{V as Xt}from"./Visibility-BRqBEhW9.js";import{E as rt}from"./Edit-CACFOr_F.js";import{D as ea}from"./Delete-SFEnB1j-.js";import{T as ta}from"./TablePagination-GuzffQrc.js";import{D as aa}from"./Drawer-Cn2Ga6pf.js";import"./getValidReactChildren-DyXwATAm.js";import"./KeyboardArrowRight-iVZ9lhbl.js";import"./LastPage-BXUC_f7y.js";import"./Toolbar-DfqyUE-7.js";const ra=K(e.jsx("path",{d:"M15 21h2v-2h-2zm4 0h2v-2h-2zM7 21h2v-2H7zm4 0h2v-2h-2zm8-4h2v-2h-2zm0-4h2v-2h-2zM3 3v18h2V5h16V3zm16 6h2V7h-2z"})),sa=K(e.jsx("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),ia=K(e.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),oa=K(e.jsx("path",{d:"m20.71 5.63-2.34-2.34a.9959.9959 0 0 0-1.41 0l-3.12 3.12-1.93-1.91-1.41 1.41 1.42 1.42L3 16.25V21h4.75l8.92-8.92 1.42 1.42 1.41-1.41-1.92-1.92 3.12-3.12c.4-.4.4-1.03.01-1.42M6.92 19 5 17.08l8.06-8.06 1.92 1.92z"})),na=K(e.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16H5V5h14z"})),la=K(e.jsx("path",{d:"M18 4V3c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V6h1v4H9v11c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-9h8V4z"})),da=K(e.jsx("path",{d:"M14.67 5v14H9.33V5zm1 14H21V5h-5.33zm-7.34 0V5H3v14z"})),ca=K(e.jsx("path",{d:"M4 15h16v-2H4zm0 4h16v-2H4zm0-8h16V9H4zm0-6v2h16V5z"})),S={headerColor:"#bd56fa",headerTextColor:"#ffffff",cellColor:"#ffffff",cellTextColor:"#333333",rowColor:"#f9f9f9",rowAlternateColor:"#ffffff",borderColor:"#e0e0e0",borderWidth:1,borderRadius:4,hoverColor:"#f5f5f5",selectedColor:"#e3f2fd",shadowStyle:"0 2px 4px rgba(0,0,0,0.1)",fontFamily:"Roboto, Arial, sans-serif",fontSize:14},ke={"Orthodox Traditional":{colors:["#bd56fa","#ffffff","#f9f9f9","#e3f2fd","#1976d2"],description:"Traditional Orthodox blue and white theme"},"Lent Season":{colors:["#4a148c","#ffffff","#f3e5f5","#e1bee7","#7b1fa2"],description:"Purple theme for Great Lent and fasting periods"},"Pascha Celebration":{colors:["#d32f2f","#ffffff","#ffebee","#ffcdd2","#f44336"],description:"Red theme for Pascha and resurrectional celebrations"},Theophany:{colors:["#0277bd","#ffffff","#e3f2fd","#bbdefb","#03a9f4"],description:"Light blue theme for Theophany and baptismal feasts"},Pentecost:{colors:["#388e3c","#ffffff","#e8f5e8","#c8e6c9","#4caf50"],description:"Green theme for Pentecost and ordinary time"},Christmas:{colors:["#d32f2f","#ffd700","#fff8e1","#fff59d","#ffeb3b"],description:"Red and gold theme for Christmas season"},"Saints Feast":{colors:["#ffa000","#ffffff","#fff8e1","#ffecb3","#ffc107"],description:"Gold theme for saints and martyrs"},"Marian Feasts":{colors:["#1976d2","#ffffff","#e3f2fd","#bbdefb","#2196f3"],description:"Blue theme for Theotokos feasts"}},ha=()=>({tableTheme:S,savedThemes:{},currentTheme:"Orthodox Traditional",isLiturgicalMode:!1,setHeaderColor:()=>{},setHeaderTextColor:()=>{},setCellColor:()=>{},setCellTextColor:()=>{},setRowColor:()=>{},setRowAlternateColor:()=>{},setBorderStyle:()=>{},setHoverColor:()=>{},setSelectedColor:()=>{},setShadowStyle:()=>{},setFontSettings:()=>{},resetTheme:()=>{},saveTheme:()=>{},loadTheme:()=>{},deleteTheme:()=>{},exportTheme:()=>S,importTheme:()=>{},applyThemeToElement:()=>({}),getTableHeaderStyle:()=>({backgroundColor:S.headerColor,color:S.headerTextColor,borderColor:S.borderColor,borderWidth:`${S.borderWidth}px`,borderRadius:`${S.borderRadius}px`,fontFamily:S.fontFamily,fontSize:`${S.fontSize}px`,boxShadow:S.shadowStyle,fontWeight:"bold"}),getTableRowStyle:t=>({backgroundColor:t==="even"?S.rowColor:S.rowAlternateColor,borderColor:S.borderColor,borderWidth:`${S.borderWidth}px`,"&:hover":{backgroundColor:S.hoverColor}}),getTableCellStyle:t=>t==="header"?{backgroundColor:S.headerColor,color:S.headerTextColor,borderColor:S.borderColor,borderWidth:`${S.borderWidth}px`,fontFamily:S.fontFamily,fontSize:`${S.fontSize}px`,fontWeight:"bold",padding:"16px"}:{backgroundColor:S.cellColor,color:S.cellTextColor,borderColor:S.borderColor,borderWidth:`${S.borderWidth}px`,fontFamily:S.fontFamily,fontSize:`${S.fontSize}px`,padding:"16px"}}),Le={fetchChurches:()=>z(void 0,null,function*(){var t;try{console.log("ðŸ” Fetching churches from /api/my/churches...");const s=yield fetch("/api/my/churches",{credentials:"include",headers:{"Content-Type":"application/json"}});if(!s.ok)throw new Error(`Failed to fetch churches: ${s.status} ${s.statusText}`);const o=yield s.json();let C=[];return(t=o.data)!=null&&t.churches?C=o.data.churches:o.churches?C=o.churches:Array.isArray(o.data)?C=o.data:Array.isArray(o)&&(C=o),console.log(`âœ… Fetched ${C.length} churches`),C}catch(s){throw console.error("âŒ Error fetching churches:",s),s}}),fetchChurchRecords:(C,y,...R)=>z(void 0,[C,y,...R],function*(t,s,o={}){var B,D;try{const{page:_=1,limit:b=100,search:k="",sortField:W="id",sortDirection:P="desc"}=o;console.log(`ðŸ” Fetching ${s} records for church ${t}...`);const j=new URLSearchParams({church_id:t.toString(),page:_.toString(),limit:b.toString(),sortField:W,sortDirection:P});k&&j.append("search",k);const g=yield fetch(`/api/${s}-records?${j.toString()}`,{credentials:"include",headers:{"Content-Type":"application/json"}});if(!g.ok)throw new Error(`Failed to fetch records: ${g.status} ${g.statusText}`);const E=yield g.json();return console.log(`âœ… Fetched ${((B=E.records)==null?void 0:B.length)||0} ${s} records`),{records:E.records||[],totalRecords:E.totalRecords||((D=E.records)==null?void 0:D.length)||0,currentPage:E.currentPage||_,totalPages:E.totalPages||Math.ceil((E.totalRecords||0)/b)}}catch(_){throw console.error(`âŒ Error fetching ${s} records:`,_),_}}),getChurch:t=>z(void 0,null,function*(){try{const s=yield fetch(`/api/churches/${t}`,{credentials:"include",headers:{"Content-Type":"application/json"}});if(!s.ok){if(s.status===404)return null;throw new Error(`Failed to fetch church: ${s.status}`)}const o=yield s.json();return o.data||o}catch(s){throw console.error("Error fetching church:",s),s}}),getChurches:()=>z(void 0,null,function*(){return Le.fetchChurches()}),createChurch:t=>z(void 0,null,function*(){const s=yield fetch("/api/churches",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!s.ok)throw new Error(`Failed to create church: ${s.status}`);const o=yield s.json();return o.data||o}),updateChurch:(t,s)=>z(void 0,null,function*(){const o=yield fetch(`/api/churches/${t}`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!o.ok)throw new Error(`Failed to update church: ${o.status}`);const C=yield o.json();return C.data||C}),deleteChurch:t=>z(void 0,null,function*(){const s=yield fetch(`/api/churches/${t}`,{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"}});if(!s.ok)throw new Error(`Failed to delete church: ${s.status}`);return!0})},De=[{value:"header",label:"Header",icon:e.jsx(ca,{})},{value:"cell",label:"Cell",icon:e.jsx(na,{})},{value:"row",label:"Row",icon:e.jsx(da,{})}],ma=["none","0 1px 3px rgba(0,0,0,0.1)","0 2px 4px rgba(0,0,0,0.1)","0 4px 8px rgba(0,0,0,0.15)","0 8px 16px rgba(0,0,0,0.2)"],ua=({selectedElement:t,onElementSelect:s,tableTheme:o,onBorderStyleChange:C})=>{var D,_;const y=(b,k)=>{const W=Array.isArray(k)?k[0]:k;C(o.borderColor,W,o.borderRadius)},R=(b,k)=>{const W=Array.isArray(k)?k[0]:k;C(o.borderColor,o.borderWidth,W)},B=b=>{const k=b.target.value;C(k,o.borderWidth,o.borderRadius)};return e.jsxs(c,{children:[e.jsxs(i,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center"},children:[e.jsx(la,{sx:{mr:1}}),"Element Selection"]}),e.jsx(st,{orientation:"vertical",fullWidth:!0,sx:{mb:3},children:De.map(b=>e.jsx(T,{variant:t===b.value?"contained":"outlined",onClick:()=>s(b.value),startIcon:b.icon,sx:{justifyContent:"flex-start"},children:b.label},b.value))}),e.jsxs(U,{sx:{p:2,mb:3,bgcolor:"background.default"},children:[e.jsx(i,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Selected Element"}),e.jsx(re,{label:(D=De.find(b=>b.value===t))==null?void 0:D.label,color:"primary",icon:(_=De.find(b=>b.value===t))==null?void 0:_.icon})]}),e.jsxs(i,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center"},children:[e.jsx(ra,{sx:{mr:1}}),"Border Styling"]}),e.jsxs(c,{sx:{mb:2},children:[e.jsxs(i,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Border Width: ",o.borderWidth,"px"]}),e.jsx(Be,{value:o.borderWidth,onChange:y,min:0,max:5,step:1,marks:!0,valueLabelDisplay:"auto"})]}),e.jsxs(c,{sx:{mb:2},children:[e.jsxs(i,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Border Radius: ",o.borderRadius,"px"]}),e.jsx(Be,{value:o.borderRadius,onChange:R,min:0,max:20,step:1,marks:!0,valueLabelDisplay:"auto"})]}),e.jsxs(c,{sx:{mb:3},children:[e.jsx(i,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Border Color"}),e.jsx(v,{type:"color",value:o.borderColor,onChange:B,fullWidth:!0,size:"small",sx:{'& input[type="color"]':{width:"100%",height:32,border:"none",borderRadius:1}}})]}),e.jsx(i,{variant:"h6",gutterBottom:!0,children:"Typography"}),e.jsx(c,{sx:{mb:2},children:e.jsxs(Y,{fullWidth:!0,size:"small",children:[e.jsx(J,{children:"Font Family"}),e.jsxs(Q,{value:o.fontFamily,label:"Font Family",children:[e.jsx(O,{value:"Roboto, Arial, sans-serif",children:"Roboto"}),e.jsx(O,{value:"Georgia, serif",children:"Georgia"}),e.jsx(O,{value:"Times New Roman, serif",children:"Times New Roman"}),e.jsx(O,{value:"Arial, sans-serif",children:"Arial"}),e.jsx(O,{value:"Helvetica, sans-serif",children:"Helvetica"})]})]})}),e.jsxs(c,{sx:{mb:2},children:[e.jsxs(i,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Font Size: ",o.fontSize,"px"]}),e.jsx(Be,{value:o.fontSize,min:10,max:20,step:1,marks:!0,valueLabelDisplay:"auto"})]}),e.jsx(i,{variant:"h6",gutterBottom:!0,children:"Shadow Effects"}),e.jsxs(Y,{fullWidth:!0,size:"small",children:[e.jsx(J,{children:"Shadow Style"}),e.jsx(Q,{value:o.shadowStyle,label:"Shadow Style",children:ma.map(b=>e.jsx(O,{value:b,children:b==="none"?"No Shadow":"Shadow"},b))})]})]})},xa=["#bd56fa","#1976d2","#0d47a1","#c62828","#ad1457","#4a148c","#2e7d32","#f57c00","#c9b037","#5d4037","#424242","#ffffff"],fa=["#4a148c","#6a1b9a","#8e24aa","#9c27b0","#c62828","#d32f2f","#e53935","#f44336","#0277bd","#0288d1","#039be5","#03a9f4","#2e7d32","#388e3c","#43a047","#4caf50","#c9b037","#ffa000","#ffb300","#ffc107","#1565c0","#1976d2","#1e88e5","#2196f3"],pa=["#bd56fa","#4a148c","#c62828","#2e7d32","#c9b037"],ga=({selectedColor:t,onColorChange:s,liturgicalMode:o})=>{const C=Et(),[y,R]=p.useState(t),[B,D]=p.useState("orthodox"),_={orthodox:xa,liturgical:fa,themes:Object.keys(ke)},b=j=>{R(j),s(j)},k=j=>{const g=ke[j];g&&s(g.headerColor)},W=j=>{const g=j.target.value;R(g),s(g)},P=({color:j,selected:g,onClick:E,tooltip:d})=>e.jsx(be,{title:d||j,children:e.jsx(c,{onClick:E,sx:{width:32,height:32,backgroundColor:j,border:g?`3px solid ${C.palette.primary.main}`:"1px solid #ccc",borderRadius:1,cursor:"pointer",transition:"all 0.2s ease","&:hover":{transform:"scale(1.1)",boxShadow:C.shadows[4]}}})});return e.jsxs(c,{children:[e.jsxs(i,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center"},children:[e.jsx(ye,{sx:{mr:1}}),"Color Palette"]}),e.jsxs(st,{variant:"outlined",size:"small",fullWidth:!0,sx:{mb:2},children:[e.jsx(T,{variant:B==="orthodox"?"contained":"outlined",onClick:()=>D("orthodox"),children:"Orthodox"}),e.jsx(T,{variant:B==="liturgical"?"contained":"outlined",onClick:()=>D("liturgical"),children:"Liturgical"}),e.jsx(T,{variant:B==="themes"?"contained":"outlined",onClick:()=>D("themes"),children:"Themes"})]}),e.jsx(U,{sx:{p:2,mb:2,bgcolor:"background.default"},children:e.jsxs(c,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(c,{sx:{width:48,height:48,backgroundColor:t,border:"1px solid #ccc",borderRadius:1}}),e.jsxs(c,{children:[e.jsx(i,{variant:"body2",color:"text.secondary",children:"Current Color"}),e.jsx(i,{variant:"body1",fontFamily:"monospace",children:t})]})]})}),B==="themes"&&e.jsxs(c,{sx:{mb:2},children:[e.jsx(i,{variant:"subtitle2",gutterBottom:!0,children:"Liturgical Themes"}),e.jsx($,{container:!0,spacing:1,children:Object.entries(ke).map(([j,g])=>e.jsx($,{item:!0,xs:12,children:e.jsx(re,{label:j.replace(/_/g," ").replace(/\b\w/g,E=>E.toUpperCase()),onClick:()=>k(j),variant:t===g.headerColor?"filled":"outlined",sx:{width:"100%","& .MuiChip-label":{color:g.headerColor}}})},j))})]}),B!=="themes"&&e.jsxs(c,{sx:{mb:2},children:[e.jsx(i,{variant:"subtitle2",gutterBottom:!0,children:B==="orthodox"?"Orthodox Traditional":"Liturgical Seasons"}),e.jsx($,{container:!0,spacing:1,children:_[B].map(j=>e.jsx($,{item:!0,xs:3,children:e.jsx(P,{color:j,selected:t===j,onClick:()=>b(j),tooltip:`Click to select ${j}`})},j))})]}),e.jsxs(c,{sx:{mb:2},children:[e.jsxs(i,{variant:"subtitle2",gutterBottom:!0,sx:{display:"flex",alignItems:"center"},children:[e.jsx(Gt,{sx:{mr:1,fontSize:16}}),"Recent Colors"]}),e.jsx($,{container:!0,spacing:1,children:pa.map(j=>e.jsx($,{item:!0,xs:2.4,children:e.jsx(P,{color:j,selected:t===j,onClick:()=>b(j)})},j))})]}),e.jsxs(c,{children:[e.jsxs(i,{variant:"subtitle2",gutterBottom:!0,sx:{display:"flex",alignItems:"center"},children:[e.jsx(oa,{sx:{mr:1,fontSize:16}}),"Custom Color"]}),e.jsx(v,{type:"color",value:y,onChange:W,fullWidth:!0,size:"small",sx:{'& input[type="color"]':{width:"100%",height:40,border:"none",borderRadius:1}}}),e.jsx(v,{value:y,onChange:j=>{R(j.target.value),s(j.target.value)},placeholder:"#000000",fullWidth:!0,size:"small",sx:{mt:1},InputProps:{style:{fontFamily:"monospace"}}})]})]})},ba=({open:t,onClose:s,datasets:o,counts:C,recordType:y="baptism",loading:R=!1,records:B=[]})=>{const D=(o==null?void 0:o[y])||B,_=(C==null?void 0:C[y])||B.length;return e.jsxs(Ie,{open:t,onClose:s,maxWidth:"lg",fullWidth:!0,children:[e.jsxs(Pe,{children:["Records Grid - ",y.charAt(0).toUpperCase()+y.slice(1)]}),e.jsx(Te,{children:R?e.jsx(c,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px",children:e.jsx(je,{})}):e.jsxs(c,{children:[e.jsxs(i,{variant:"body1",gutterBottom:!0,children:["Total Records: ",_]}),e.jsx(i,{variant:"body2",color:"text.secondary",children:D.length>0?`Displaying ${D.length} records`:"No records found"})]})})]})},Fe={BAPTISM:"baptism",MARRIAGE:"marriage",FUNERAL:"funeral"},Re={baptism:{tableColumns:[{field:"first_name",headerName:"First Name",width:120},{field:"last_name",headerName:"Last Name",width:120},{field:"birth_date",headerName:"Birth Date",width:110},{field:"reception_date",headerName:"Baptism Date",width:110},{field:"birthplace",headerName:"Birthplace",width:150},{field:"entry_type",headerName:"Entry Type",width:120},{field:"sponsors",headerName:"Godparents",width:150},{field:"parents",headerName:"Parents",width:150},{field:"clergy",headerName:"Clergy",width:130}],formFields:[{id:"first_name",label:"First Name",type:"text",required:!0},{id:"last_name",label:"Last Name",type:"text",required:!0},{id:"birth_date",label:"Birth Date",type:"date",required:!1},{id:"reception_date",label:"Date of Baptism/Chrismation",type:"date",required:!0},{id:"birthplace",label:"Birthplace (Town/City, State)",type:"text",required:!1},{id:"entry_type",label:"Entry Type (Baptism or Chrismation)",type:"text",required:!0},{id:"sponsors",label:"Godparents",type:"text",required:!1},{id:"parents",label:"Parents",type:"text",required:!1},{id:"clergy",label:"Clergy",type:"text",required:!0}],sortFields:[{field:"last_name",label:"Last Name"},{field:"first_name",label:"First Name"},{field:"birth_date",label:"Birth Date"},{field:"reception_date",label:"Baptism Date"}]},marriage:{tableColumns:[{field:"fname_groom",headerName:"Groom First Name",width:130},{field:"lname_groom",headerName:"Groom Last Name",width:130},{field:"fname_bride",headerName:"Bride First Name",width:130},{field:"lname_bride",headerName:"Bride Last Name",width:130},{field:"mdate",headerName:"Marriage Date",width:110},{field:"parentsg",headerName:"Groom's Parents",width:150},{field:"parentsb",headerName:"Bride's Parents",width:150},{field:"witness",headerName:"Witnesses",width:150},{field:"mlicense",headerName:"Marriage License",width:120},{field:"clergy",headerName:"Clergy",width:130}],formFields:[{id:"fname_groom",label:"Groom's First Name",type:"text",required:!0},{id:"lname_groom",label:"Groom's Last Name",type:"text",required:!0},{id:"parentsg",label:"Groom's Parents",type:"text",required:!1},{id:"fname_bride",label:"Bride's First Name",type:"text",required:!1},{id:"lname_bride",label:"Bride's Last Name",type:"text",required:!0},{id:"parentsb",label:"Bride's Parents",type:"text",required:!1},{id:"mdate",label:"Marriage Date",type:"date",required:!0},{id:"witness",label:"Witnesses",type:"text",required:!1},{id:"mlicense",label:"Marriage License",type:"text",required:!1},{id:"clergy",label:"Clergy",type:"text",required:!0}],sortFields:[{field:"lname_groom",label:"Groom Last Name"},{field:"lname_bride",label:"Bride Last Name"},{field:"mdate",label:"Marriage Date"}]},funeral:{tableColumns:[{field:"name",headerName:"First Name",width:120},{field:"lastname",headerName:"Last Name",width:120},{field:"deceased_date",headerName:"Date of Death",width:110},{field:"burial_date",headerName:"Burial Date",width:110},{field:"age",headerName:"Age",width:60},{field:"clergy",headerName:"Clergy",width:150},{field:"burial_location",headerName:"Burial Location",width:200}],formFields:[{id:"name",label:"Deceased's First Name",type:"text",required:!1},{id:"lastname",label:"Deceased's Last Name",type:"text",required:!0},{id:"deceased_date",label:"Date of Passing",type:"date",required:!0},{id:"burial_date",label:"Date of Burial/Funeral Service",type:"date",required:!0},{id:"age",label:"Age at Time of Death",type:"number",required:!1},{id:"clergy",label:"Clergy",type:"text",required:!0},{id:"burial_location",label:"Burial Location",type:"text",required:!1}],sortFields:[{field:"lastname",label:"Last Name"},{field:"name",label:"First Name"},{field:"deceased_date",label:"Date of Death"},{field:"burial_date",label:"Burial Date"}]}},ja=t=>{if(!t)return[];if(Array.isArray(t))return t;if(typeof t=="string")try{const s=JSON.parse(t);return Array.isArray(s)?s:[t]}catch(s){return t.trim()?[t]:[]}return[]},ve=t=>{const s=ja(t);return s.length>0?s.join(", "):""},pe=[{value:"baptism",label:"Baptism Records",apiEndpoint:"baptism"},{value:"marriage",label:"Marriage Records",apiEndpoint:"marriage"},{value:"funeral",label:"Funeral Records",apiEndpoint:"funeral"}],ge=t=>{var s,o,C;switch(t){case"marriage":return((s=Re[Fe.MARRIAGE])==null?void 0:s.tableColumns)||[];case"funeral":return((o=Re[Fe.FUNERAL])==null?void 0:o.tableColumns)||[];case"baptism":default:return((C=Re[Fe.BAPTISM])==null?void 0:C.tableColumns)||[]}},ya=(t,s)=>{var o,C,y,R;if(s.valueGetter)try{return s.valueGetter({data:t})}catch(B){console.warn("valueGetter failed:",B)}switch(s.field){case"first_name":case"person_first":return t.person_first||t.first_name||t.firstName||"";case"middle_name":case"person_middle":return t.person_middle||t.middle_name||"";case"last_name":case"person_last":return t.person_last||t.last_name||t.lastName||"";case"person_full":if(t.person_full)return t.person_full;const B=t.person_first||t.first_name||t.firstName||"",D=t.person_middle||"",_=t.person_last||t.last_name||t.lastName||"";return[B,D,_].filter(Boolean).join(" ").trim()||"";case"clergy":case"officiant_name":return t.officiant_name||t.clergy||t.priest||"";case"reception_date":case"baptism_date":return V(t.baptism_date||t.reception_date||t.dateOfBaptism)||"";case"birth_date":return V(t.birth_date||t.dateOfBirth)||"";case"birthplace":case"place_name":return t.place_name||t.birthplace||t.placeOfBirth||t.placeOfBaptism||"";case"sponsors":case"godparents":return ve(t.godparents)||t.sponsors||t.godparentNames||"";case"entry_type":return t.entry_type||t.entryType||((o=t._originalRecord)==null?void 0:o.entry_type)||((C=t.originalRecord)==null?void 0:C.entry_type)||"";case"parents":if(t.parents)return t.parents;const b=t.father_name||t.fatherName||"",k=t.mother_name||t.motherName||"";return b&&k?`${b} & ${k}`:b||k||"";case"father_name":return t.father_name||t.fatherName||"";case"mother_name":return t.mother_name||t.motherName||"";case"fname_groom":case"groom_first":return t.fname_groom||t.groom_first||t.groomFirstName||"";case"groom_middle":return t.groom_middle||"";case"lname_groom":case"groom_last":return t.lname_groom||t.groom_last||t.groomLastName||"";case"groom_full":if(t.groom_full)return t.groom_full;const W=t.fname_groom||t.groom_first||t.groomFirstName||"",P=t.groom_middle||"",j=t.lname_groom||t.groom_last||t.groomLastName||"";return[W,P,j].filter(Boolean).join(" ").trim()||"";case"fname_bride":case"bride_first":return t.fname_bride||t.bride_first||t.brideFirstName||"";case"bride_middle":return t.bride_middle||"";case"lname_bride":case"bride_last":return t.lname_bride||t.bride_last||t.brideLastName||"";case"bride_full":if(t.bride_full)return t.bride_full;const g=t.fname_bride||t.bride_first||t.brideFirstName||"",E=t.bride_middle||"",d=t.lname_bride||t.bride_last||t.brideLastName||"";return[g,E,d].filter(Boolean).join(" ").trim()||"";case"mdate":case"marriage_date":return V(t.mdate||t.marriage_date||t.marriageDate)||"";case"marriage_place":return t.place_name||t.marriage_place||t.marriageLocation||"";case"parentsg":return t.parentsg||t.groomParents||"";case"parentsb":return t.parentsb||t.brideParents||"";case"witness":case"witnesses":return ve(t.witnesses)||t.witness||"";case"mlicense":return t.mlicense||t.marriageLicense||"";case"name":return t.name||t.firstName||t.first_name||"";case"lastname":return t.lastname||t.lastName||t.last_name||"";case"deceased_date":return V(t.deceased_date||t.date_of_death||t.dateOfDeath)||"";case"burial_date":return V(t.burial_date||t.burialDate||t.dateOfFuneral||((y=t._originalRecord)==null?void 0:y.burial_date)||((R=t.originalRecord)==null?void 0:R.burial_date))||"";case"age":return t.age||"";case"burial_location":return t.burial_location||t.burialLocation||t.cemetery||"";case"deceased_full":if(t.deceased_full)return t.deceased_full;const Ce=t.name||t.firstName||t.first_name||"",A=t.lastname||t.lastName||t.last_name||"";return[Ce,A].filter(Boolean).join(" ").trim()||"";case"notes":return t.notes||t.note||"";case"source_system":return t.source_system||"";case"source_hash":return t.source_hash||"";case"source_row_id":return t.source_row_id||"";case"certificate_no":return t.certificate_no||t.registryNumber||"";case"book_no":return t.book_no||"";case"page_no":return t.page_no||"";case"entry_no":return t.entry_no||"";default:if(s.field&&(s.field.includes("date")||s.field.includes("Date")||s.field.includes("_date"))||s.cellRenderer==="dateRenderer")return V(t[s.field])||"";const ee=t[s.field];return ee!=null&&ee!==""?ee:""}},Ka=()=>{var Ue,Ye;const[t,s]=p.useState([]),[o,C]=p.useState([]),[y,R]=p.useState(!1),[B,D]=p.useState(null),[_,b]=p.useState(0),[k,W]=p.useState(10),[P,j]=p.useState(""),[g,E]=p.useState(0),[d,Ce]=p.useState("baptism"),[A,Oe]=p.useState({key:"dateOfBaptism",direction:"desc"}),[ee,se]=p.useState(!1),[le,$e]=p.useState(null),[va,Ca]=p.useState(!1),[wa,_a]=p.useState(""),[we,Ee]=p.useState([]),[Ae,ie]=p.useState(!1),[H,oe]=p.useState(null),[te,ze]=p.useState(!1),[it,We]=p.useState(!1),[ot,Me]=p.useState(!1),[n,de]=p.useState(null),[Z,ce]=p.useState(-1),[he,Ge]=p.useState(!1),[nt,_e]=p.useState(!1),[lt,dt]=p.useState(""),[ct,ht]=p.useState("success"),M=(a,r="success")=>{dt(a),ht(r),_e(!0)},mt=()=>z(void 0,null,function*(){try{R(!0),console.log("ðŸ” Fetching churches...");const a=yield Le.fetchChurches();C([{id:0,church_name:"All Churches",email:"",is_active:!0,has_baptism_records:!0,has_marriage_records:!0,has_funeral_records:!0,setup_complete:!0,created_at:"",updated_at:""},...a]),console.log(`âœ… Successfully loaded ${a.length} churches`)}catch(a){console.error("âŒ Error fetching churches:",a),D("Failed to fetch churches"),M("Failed to load churches","error")}finally{R(!1)}}),Ve=(a,r)=>z(void 0,null,function*(){var u;if(a)try{R(!0),D(null),console.log(`ðŸ” Fetching ${a} records for church ${r}...`);const h=pe.find(L=>L.value===a);if(!h)throw new Error("Invalid record type selected");let N;if(r&&r!==0)N=yield Le.fetchChurchRecords(r,h.apiEndpoint,{page:1,limit:1e3,search:P});else{const F=yield(yield fetch(`/api/${h.apiEndpoint}-records?limit=1000&search=${encodeURIComponent(P)}`)).json();if(F&&F.records)N={records:F.records,totalRecords:F.totalRecords||F.records.length,currentPage:F.currentPage||1,totalPages:F.totalPages||1};else throw new Error("Failed to fetch records from API")}s(N.records||[]),b(0),N.records&&N.records.length>0&&(console.log(`ðŸ“„ Sample ${a} record structure:`,N.records[0]),console.log("ðŸ“„ Record fields:",Object.keys(N.records[0])));const w=((u=N.records)==null?void 0:u.length)||0;console.log(`âœ… Successfully loaded ${w} ${h.label.toLowerCase()}`),M(`Loaded ${w} ${h.label.toLowerCase()}`,"success")}catch(h){console.error(`âŒ Error fetching ${a} records:`,h),D(h instanceof Error?h.message:"Failed to fetch records"),console.error("âŒ API failed, no records loaded")}finally{R(!1)}}),ut=a=>z(void 0,null,function*(){try{const r=pe.find(w=>w.value===a);if(!r)return;const u=`${r.apiEndpoint}_records`;console.log(`ðŸ” Fetching priest options from ${u}...`);const N=yield(yield fetch(`/api/${r.apiEndpoint}-records/dropdown-options/clergy?table=${u}`)).json();if(N&&N.values){const w=N.values.filter(L=>L&&L.trim()!=="").sort((L,F)=>L.localeCompare(F));Ee(w),console.log(`âœ… Loaded ${w.length} priest options`)}}catch(r){console.error("âŒ Error fetching priest options:",r),Ee([])}});p.useEffect(()=>{mt()},[]),p.useEffect(()=>{d&&(Ve(d,g),ut(d))},[d,g]);const[l,f]=p.useState({firstName:"",lastName:"",dateOfBirth:"",dateOfBaptism:"",placeOfBirth:"",placeOfBaptism:"",fatherName:"",motherName:"",godparentNames:"",priest:"",registryNumber:"",churchId:g===0?new URLSearchParams(window.location.search).get("church_id")||"46":g.toString(),notes:"",customPriest:!1}),{currentTheme:xt,isLiturgicalMode:He,tableTheme:ne,setHeaderColor:ft,getTableHeaderStyle:pt,getTableRowStyle:gt,getTableCellStyle:me}=ha();p.useCallback(a=>{if(!a||!Array.isArray(a))return console.warn("convertToChurchRecords: Invalid records input",a),[];try{const u=a.map((h,N)=>{if(!h)return console.warn("convertToChurchRecords: Null record found at index",N),null;try{let w=[{key:"registryNumber",label:"Registry #",value:h.registryNumber||"",type:"text",editable:!1}];if(d==="marriage"){const F=`${h.fname_groom||""} ${h.lname_groom||""}`.trim(),q=`${h.fname_bride||""} ${h.lname_bride||""}`.trim();w.push({key:"groom",label:"Groom",value:F,type:"text",editable:!1},{key:"bride",label:"Bride",value:q,type:"text",editable:!1},{key:"mdate",label:"Date",value:h.mdate||"",type:"text",editable:!1},{key:"churchName",label:"Church",value:h.churchName||"",type:"text",editable:!1},{key:"clergy",label:"Priest",value:h.clergy||"",type:"text",editable:!1})}else w.push({key:"firstName",label:"First Name",value:h.firstName||"",type:"text",editable:!1},{key:"lastName",label:"Last Name",value:h.lastName||"",type:"text",editable:!1},{key:"dateOfBaptism",label:"Date",value:h.dateOfBaptism||"",type:"text",editable:!1},{key:"churchName",label:"Church",value:h.churchName||"",type:"text",editable:!1},{key:"priest",label:"Priest",value:h.priest||"",type:"text",editable:!1});return{id:h.id||`record-${N}`,recordType:d||"baptism",fields:w,metadata:{churchId:parseInt(h.churchId)||1,createdBy:1,createdAt:new Date,updatedAt:void 0,status:"active",version:1},colorOverrides:{},tags:[]}}catch(w){return console.error("Error converting individual record at index",N,w),null}}).filter(Boolean);return console.log(`Converted ${u.length} out of ${a.length} records for AG Grid`),u}catch(r){return console.error("Error in convertToChurchRecords:",r),[]}},[d]);const G=p.useMemo(()=>{let a=t;if(P){const r=P.toLowerCase();a=a.filter(u=>Object.values(u).some(h=>h==null?void 0:h.toString().toLowerCase().includes(r)))}return a.sort((r,u)=>{var w,L;const h=((w=r[A.key])!=null?w:"").toString(),N=((L=u[A.key])!=null?L:"").toString();return h<N?A.direction==="asc"?-1:1:h>N?A.direction==="asc"?1:-1:0}),a},[t,P,A]),ue=p.useMemo(()=>{let a=[...t];a.sort((h,N)=>{var F,q;const w=((F=h[A.key])!=null?F:"").toString(),L=((q=N[A.key])!=null?q:"").toString();return w<L?A.direction==="asc"?-1:1:w>L?A.direction==="asc"?1:-1:0});let r=a;if(P){const h=P.toLowerCase();r=r.filter(N=>Object.values(N).some(w=>w==null?void 0:w.toString().toLowerCase().includes(h)))}const u=_*k;return r.slice(u,u+k)},[t,P,A,_,k]),bt=a=>{Oe(r=>({key:a,direction:r.key===a&&r.direction==="asc"?"desc":"asc"}))},jt=(a,r)=>{b(r)},yt=a=>{W(parseInt(a.target.value,10)),b(0)},vt=()=>{$e(null),f({firstName:"",lastName:"",dateOfBirth:"",dateOfBaptism:"",placeOfBirth:"",placeOfBaptism:"",fatherName:"",motherName:"",godparentNames:"",priest:"",registryNumber:"",churchId:g===0?new URLSearchParams(window.location.search).get("church_id")||"46":g.toString(),notes:"",customPriest:!1}),se(!0)},qe=a=>{$e(a),f(a),se(!0)},Ct=a=>{const r=G.findIndex(u=>u.id===a.id);de(a),ce(r),Me(!0)},wt=()=>{if(Z>0){const a=Z-1;de(G[a]),ce(a)}},_t=()=>{if(Z<G.length-1){const a=Z+1;de(G[a]),ce(a)}},Ne=()=>{Me(!1),de(null),ce(-1)},Nt=()=>{n&&(Ne(),qe(n))},St=()=>{if(!n)return;let a=n.church_id||g;(!a||a===0)&&(a=o.length>0?o[0].id:46);const r=`/apps/certificates/generate?recordType=${d}&recordId=${n.id}&churchId=${a}`;window.open(r,"_blank")},Bt=a=>{if(!a)return"";if(d==="marriage"){const r=`${a.fname_groom||a.groom_first||""} ${a.lname_groom||a.groom_last||""}`.trim(),u=`${a.fname_bride||a.bride_first||""} ${a.lname_bride||a.bride_last||""}`.trim();return`${r} & ${u}`}else return d==="funeral"?`${a.deceased_first||a.firstName||""} ${a.deceased_last||a.lastName||""}`.trim():`${a.person_first||a.firstName||""} ${a.person_last||a.lastName||""}`.trim()},kt=a=>z(void 0,null,function*(){if(window.confirm("Are you sure you want to delete this record?"))try{R(!0),s(r=>r.filter(u=>u.id!==a)),M("Record deleted successfully","success")}catch(r){console.error("Delete error:",r),M("Failed to delete record","error")}finally{R(!1)}}),Dt=()=>z(void 0,null,function*(){var a,r,u,h;try{if(R(!0),!l.firstName||!l.lastName||!l.dateOfBaptism){M("Please fill in required fields","error");return}const N=((a=o.find(w=>w.id.toString()===l.churchId))==null?void 0:a.church_name)||"";if(le){const w=x(m(m({},le),l),{churchName:N,updatedAt:new Date().toISOString()});s(L=>L.map(F=>F.id===le.id?w:F)),M("Record updated successfully","success")}else{const w=parseInt(l.churchId)||g,L={first_name:l.firstName,last_name:l.lastName,birth_date:l.dateOfBirth||null,reception_date:l.dateOfBaptism||null,birthplace:l.placeOfBirth||null,entry_type:"Baptism",sponsors:l.godparentNames||null,parents:[l.fatherName,l.motherName].filter(Boolean).join(" & ")||null,clergy:l.priest||l.clergy||null,church_id:w},F=yield fetch(`/api/baptism-records?church_id=${w}`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(L)});if(!F.ok){const Se=yield F.json().catch(()=>({}));throw new Error(Se.error||`Failed to save: ${F.status}`)}const q=yield F.json();console.log("Record saved:",q);const It=x(m({},l),{id:((u=(r=q.record)==null?void 0:r.id)==null?void 0:u.toString())||((h=q.id)==null?void 0:h.toString())||Date.now().toString(),churchName:N,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"system"});s(Se=>[...Se,It]),M("Record created successfully","success")}se(!1)}catch(N){console.error("Save error:",N),M("Failed to save record","error")}finally{R(!1)}}),Ft=()=>{const a=`/apps/interactive-reports/create?recordType=${d}&churchId=${(g==null?void 0:g.id)||""}`;window.location.href=a},Rt=()=>{M("Export functionality coming soon","info")};return p.useEffect(()=>{g===0&&l.churchId==="0"&&f(a=>x(m({},a),{churchId:"1"}))},[g,l.churchId]),p.useEffect(()=>{console.log("ðŸ› DEBUG - Records state:",{recordsLength:t.length,records:t,selectedRecordType:d,selectedChurch:g,loading:y,error:B})},[t,d,g,y,B]),p.useEffect(()=>{console.log("ðŸ› DEBUG - Filtered records:",{filteredLength:G.length,paginatedLength:ue.length,searchTerm:P,page:_,rowsPerPage:k})},[G,ue,P,_,k]),B?e.jsx(c,{sx:{p:3},children:e.jsx(xe,{severity:"error",children:B})}):e.jsxs(c,{sx:{width:"100%",maxWidth:"none","& .MuiContainer-root":{maxWidth:"none !important",paddingLeft:0,paddingRight:0}},children:[!he&&e.jsx(At,{sx:{mb:3},children:e.jsxs(zt,{sx:{pb:1},children:[e.jsxs(c,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(i,{variant:"h4",component:"h1",children:"Records Management System"}),e.jsx(X,{onClick:()=>Ge(!0),sx:{transition:"transform 0.2s ease-in-out",transform:he?"rotate(180deg)":"rotate(0deg)"},children:e.jsx(et,{})})]}),e.jsx(Wt,{in:!he,children:e.jsxs(c,{children:[e.jsxs(I,{direction:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},sx:{mb:3},children:[e.jsx(i,{variant:"body1",color:"text.secondary",children:"Manage church records with Orthodox Table Theme Editor integration"}),e.jsxs(c,{sx:{mt:{xs:2,sm:0}},children:[e.jsx(re,{icon:e.jsx(ye,{}),label:`Theme: ${xt}`,variant:"outlined",size:"small",sx:{borderColor:ne.headerColor,color:ne.headerColor,"& .MuiChip-icon":{color:ne.headerColor}}}),He]})]}),e.jsxs(I,{spacing:2,children:[e.jsxs(I,{direction:{xs:"column",sm:"row"},spacing:2,alignItems:"center",children:[e.jsxs(Y,{sx:{minWidth:200},children:[e.jsx(J,{children:"Select Church"}),e.jsx(Q,{value:g,label:"Select Church",onChange:a=>E(a.target.value),disabled:y,children:o.map(a=>e.jsx(O,{value:a.id,children:a.church_name},a.id))})]}),e.jsxs(Y,{sx:{minWidth:200},children:[e.jsx(J,{children:"Select Record Table"}),e.jsx(Q,{value:d,label:"Select Record Table",onChange:a=>Ce(a.target.value),disabled:y,children:pe.map(a=>e.jsx(O,{value:a.value,children:a.label},a.value))})]}),d&&e.jsxs(i,{variant:"body2",color:"text.secondary",sx:{fontStyle:"italic"},children:[(Ue=pe.find(a=>a.value===d))==null?void 0:Ue.label," - ",(Ye=o.find(a=>a.id===g))==null?void 0:Ye.church_name]})]}),d&&e.jsxs(I,{direction:{xs:"column",sm:"row"},spacing:2,alignItems:"center",children:[e.jsx(v,{label:"Search Records",value:P,onChange:a=>j(a.target.value),InputProps:{startAdornment:e.jsx(Vt,{sx:{mr:1,color:"text.secondary"}})},sx:{minWidth:200},disabled:y}),e.jsxs(I,{direction:"row",spacing:1,sx:{p:1,bgcolor:"background.paper",borderRadius:2,border:"1px solid",borderColor:"divider",boxShadow:1},children:[e.jsx(T,{variant:"contained",startIcon:e.jsx(Ke,{}),onClick:vt,disabled:y,sx:{background:"linear-gradient(45deg, #2196F3 30%, #21CBF3 90%)",boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .3)","&:hover":{background:"linear-gradient(45deg, #1976D2 30%, #1A9FCC 90%)",transform:"translateY(-1px)",boxShadow:"0 4px 8px 2px rgba(33, 203, 243, .4)"}},children:"Add Record"}),e.jsx(T,{variant:"contained",startIcon:e.jsx(Ke,{}),onClick:()=>{},disabled:y,sx:{background:"linear-gradient(45deg, #4CAF50 30%, #8BC34A 90%)",boxShadow:"0 3px 5px 2px rgba(76, 175, 80, .3)","&:hover":{background:"linear-gradient(45deg, #388E3C 30%, #689F38 90%)",transform:"translateY(-1px)",boxShadow:"0 4px 8px 2px rgba(76, 175, 80, .4)"}},children:"Import Records"}),e.jsx(T,{variant:"contained",startIcon:e.jsx(ye,{}),onClick:()=>ie(!0),disabled:y,sx:{background:"linear-gradient(45deg, #FF9800 30%, #FFC107 90%)",boxShadow:"0 3px 5px 2px rgba(255, 152, 0, .3)",bgcolor:Ae?"action.selected":"transparent","&:hover":{background:"linear-gradient(45deg, #F57C00 30%, #FFA000 90%)",transform:"translateY(-1px)",boxShadow:"0 4px 8px 2px rgba(255, 152, 0, .4)"}},children:"Customize Table"}),e.jsx(T,{variant:"contained",startIcon:e.jsx(Ht,{}),onClick:()=>We(!0),disabled:y,sx:{background:"linear-gradient(45deg, #9C27B0 30%, #E91E63 90%)",boxShadow:"0 3px 5px 2px rgba(156, 39, 176, .3)","&:hover":{background:"linear-gradient(45deg, #7B1FA2 30%, #C2185B 90%)",transform:"translateY(-1px)",boxShadow:"0 4px 8px 2px rgba(156, 39, 176, .4)"}},children:"Advanced Grid"}),e.jsx(T,{variant:"outlined",startIcon:te?e.jsx(qt,{}):e.jsx(tt,{}),onClick:()=>ze(!te),disabled:y,sx:{borderColor:"#607D8B",color:"#607D8B",bgcolor:te?"action.selected":"transparent","&:hover":{bgcolor:"action.hover",borderColor:"#455A64",color:"#455A64",transform:"translateY(-1px)"}},children:"Standard View"}),e.jsx(T,{variant:"contained",startIcon:e.jsx(at,{}),onClick:Rt,disabled:y,sx:{background:"linear-gradient(45deg, #795548 30%, #8D6E63 90%)",boxShadow:"0 3px 5px 2px rgba(121, 85, 72, .3)","&:hover":{background:"linear-gradient(45deg, #5D4037 30%, #6D4C41 90%)",transform:"translateY(-1px)",boxShadow:"0 4px 8px 2px rgba(121, 85, 72, .4)"}},children:"Export"}),e.jsx(T,{variant:"contained",startIcon:e.jsx(Ut,{}),onClick:Ft,disabled:y||!d,sx:{background:"linear-gradient(45deg, #1565C0 30%, #1976D2 90%)",boxShadow:"0 3px 5px 2px rgba(21, 101, 192, .3)","&:hover":{background:"linear-gradient(45deg, #0D47A1 30%, #1565C0 90%)",transform:"translateY(-1px)",boxShadow:"0 4px 8px 2px rgba(21, 101, 192, .4)"}},children:"Generate Report"})]})]}),d&&e.jsx(i,{variant:"body2",color:"text.secondary",children:y?e.jsxs(c,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(je,{size:16}),"Loading records..."]}):`${G.length} record(s) found`}),!d&&e.jsx(xe,{severity:"info",children:"Please select a church and record type to view records."})]})]})})]})}),he&&e.jsx(X,{onClick:()=>Ge(!1),sx:{position:"fixed",top:{xs:70,sm:90},right:{xs:16,sm:32},zIndex:1201,backgroundColor:"background.paper",boxShadow:3,border:"1px solid",borderColor:"divider","&:hover":{backgroundColor:"grey.100"}},size:"large","aria-label":"Expand controls",children:e.jsx(et,{style:{transform:"rotate(180deg)"}})}),d&&e.jsxs(U,{className:"theme-orthodox-traditional",sx:{width:"100%",maxWidth:"100%",margin:0,marginLeft:0,marginRight:0,textAlign:"left"},children:[te?e.jsxs(c,{sx:{height:600,width:"100%"},children:[e.jsx(i,{variant:"h6",sx:{p:2},children:"AG Grid Temporarily Disabled"}),e.jsx(i,{variant:"body2",sx:{px:2,pb:2},children:"AG Grid is experiencing lexical scoping conflicts. Please use the Standard View (unlock icon) for now. Click the unlock icon in the toolbar above to switch to the Material-UI table."}),e.jsx(c,{sx:{p:2},children:e.jsx(T,{variant:"contained",onClick:()=>ze(!1),startIcon:e.jsx(tt,{}),children:"Switch to Standard View"})})]}):e.jsx(Yt,{sx:{textAlign:"left",width:"100%"},children:e.jsxs(Jt,{stickyHeader:!0,children:[e.jsx(Qt,{children:e.jsxs(fe,{sx:x(m({},pt()),{border:H==="header"?"2px solid #2196f3":"none",cursor:"pointer"}),title:"Click to customize header appearance",children:[ge(d).map((a,r)=>e.jsx(ae,{sx:x(m({},me("header")),{color:"#fff !important",fontWeight:"bold"}),children:e.jsx(Zt,{active:A.key===a.field,direction:A.direction,onClick:()=>bt(a.field),children:a.headerName})},r)),e.jsx(ae,{sx:me("header"),align:"center",children:"Actions"})]})}),e.jsxs(Kt,{children:[y?e.jsx(fe,{children:e.jsxs(ae,{colSpan:ge(d).length+1,align:"center",sx:{py:8},children:[e.jsx(je,{}),e.jsx(i,{variant:"body2",sx:{mt:2},children:"Loading records..."})]})}):ue.length===0?e.jsx(fe,{children:e.jsxs(ae,{colSpan:ge(d).length+1,align:"center",sx:{py:8},children:[e.jsx(i,{variant:"body1",color:"text.secondary",children:"No records found"}),e.jsx(i,{variant:"body2",color:"text.secondary",sx:{mt:1},children:P?"Try adjusting your search terms":'Click "Add Record" to create the first record'})]})}):ue.map((a,r)=>e.jsxs(fe,{sx:x(m({},gt(r%2===0?"even":"odd")),{border:H==="row"?"2px solid #2196f3":"none",cursor:"pointer","&:hover":{backgroundColor:"action.hover",border:"1px solid #2196f3"}}),onClick:u=>{u.target.closest(".record-actions")||(oe("row"),ie(!0))},title:"Click to customize row appearance",children:[ge(d).map((u,h)=>e.jsx(ae,{sx:me("body"),children:ya(a,u)},h)),e.jsx(ae,{sx:me("body"),align:"center",children:e.jsxs(c,{sx:{display:"flex",gap:1,justifyContent:"center"},className:"record-actions",children:[e.jsx(be,{title:"View Details",children:e.jsx(X,{size:"small",onClick:()=>Ct(a),sx:{color:"#1976d2"},children:e.jsx(Xt,{fontSize:"small"})})}),e.jsx(be,{title:"Edit Record",children:e.jsx(X,{size:"small",onClick:()=>qe(a),sx:{color:"#ed6c02"},children:e.jsx(rt,{fontSize:"small"})})}),e.jsx(be,{title:"Delete Record",children:e.jsx(X,{size:"small",onClick:()=>kt(a.id),sx:{color:"#d32f2f"},children:e.jsx(ea,{fontSize:"small"})})})]})})]},a.id)),"              "]})]})}),!te&&e.jsx(ta,{rowsPerPageOptions:[10,25,50,100],component:"div",count:G.length,rowsPerPage:k,page:_,onPageChange:jt,onRowsPerPageChange:yt})]}),e.jsxs(Ie,{open:ee,onClose:()=>se(!1),maxWidth:"md",fullWidth:!0,children:[e.jsx(Pe,{children:le?`Edit ${d.charAt(0).toUpperCase()+d.slice(1)} Record`:`Add New ${d.charAt(0).toUpperCase()+d.slice(1)} Record`}),e.jsx(Te,{children:e.jsxs(I,{spacing:3,sx:{mt:1},children:[d==="baptism"&&e.jsxs(e.Fragment,{children:[e.jsxs(I,{direction:{xs:"column",sm:"row"},spacing:2,children:[e.jsx(v,{label:"First Name *",value:l.firstName||"",onChange:a=>f(r=>x(m({},r),{firstName:a.target.value})),sx:{flex:1}}),e.jsx(v,{label:"Last Name *",value:l.lastName||"",onChange:a=>f(r=>x(m({},r),{lastName:a.target.value})),sx:{flex:1}})]}),e.jsxs(I,{direction:{xs:"column",sm:"row"},spacing:2,children:[e.jsx(v,{label:"Date of Birth",type:"date",value:l.dateOfBirth||"",onChange:a=>f(r=>x(m({},r),{dateOfBirth:a.target.value})),InputLabelProps:{shrink:!0},sx:{flex:1}}),e.jsx(v,{label:"Date of Baptism *",type:"date",value:l.dateOfBaptism||"",onChange:a=>f(r=>x(m({},r),{dateOfBaptism:a.target.value})),InputLabelProps:{shrink:!0},sx:{flex:1}})]}),e.jsxs(I,{direction:{xs:"column",sm:"row"},spacing:2,children:[e.jsx(v,{label:"Place of Birth",value:l.placeOfBirth||"",onChange:a=>f(r=>x(m({},r),{placeOfBirth:a.target.value})),sx:{flex:1}}),e.jsx(v,{label:"Place of Baptism",value:l.placeOfBaptism||"",onChange:a=>f(r=>x(m({},r),{placeOfBaptism:a.target.value})),sx:{flex:1}})]}),e.jsxs(I,{direction:{xs:"column",sm:"row"},spacing:2,children:[e.jsx(v,{label:"Father's Name",value:l.fatherName||"",onChange:a=>f(r=>x(m({},r),{fatherName:a.target.value})),sx:{flex:1}}),e.jsx(v,{label:"Mother's Name",value:l.motherName||"",onChange:a=>f(r=>x(m({},r),{motherName:a.target.value})),sx:{flex:1}})]}),e.jsxs(I,{direction:{xs:"column",sm:"row"},spacing:2,children:[e.jsx(v,{label:"Godparent Names",value:l.godparentNames||"",onChange:a=>f(r=>x(m({},r),{godparentNames:a.target.value})),sx:{flex:1}}),e.jsxs(Y,{sx:{flex:1},children:[e.jsx(J,{children:"Priest"}),e.jsxs(Q,{label:"Priest",value:l.priest||"",onChange:a=>{const r=a.target.value;f(r==="custom"?u=>x(m({},u),{priest:"",customPriest:!0}):u=>x(m({},u),{priest:r,customPriest:!1}))},children:[e.jsx(O,{value:"",children:e.jsx("em",{children:"Select a priest..."})}),we.map(a=>e.jsx(O,{value:a,children:a},a)),e.jsx(O,{value:"custom",children:e.jsx("em",{children:"Other (enter manually)..."})})]})]})]}),l.customPriest&&e.jsx(v,{label:"Enter Priest Name",value:l.priest||"",onChange:a=>f(r=>x(m({},r),{priest:a.target.value})),fullWidth:!0,sx:{mt:2},placeholder:"Enter the priest's name"}),e.jsxs(I,{direction:{xs:"column",sm:"row"},spacing:2,children:[e.jsx(v,{label:"Registry Number",value:l.registryNumber||"",onChange:a=>f(r=>x(m({},r),{registryNumber:a.target.value})),sx:{flex:1}}),e.jsxs(Y,{sx:{flex:1},children:[e.jsx(J,{children:"Church"}),e.jsx(Q,{value:l.churchId||"",label:"Church",onChange:a=>f(r=>x(m({},r),{churchId:a.target.value})),children:o.filter(a=>a.id!==0).map(a=>e.jsx(O,{value:a.id,children:a.church_name},a.id))})]})]}),e.jsx(v,{label:"Notes",multiline:!0,rows:3,value:l.notes||"",onChange:a=>f(r=>x(m({},r),{notes:a.target.value}))})]}),d==="marriage"&&e.jsxs(e.Fragment,{children:[e.jsxs(I,{direction:{xs:"column",sm:"row"},spacing:2,children:[e.jsx(v,{label:"Groom First Name *",value:l.groomFirstName||"",onChange:a=>f(r=>x(m({},r),{groomFirstName:a.target.value})),sx:{flex:1}}),e.jsx(v,{label:"Groom Last Name *",value:l.groomLastName||"",onChange:a=>f(r=>x(m({},r),{groomLastName:a.target.value})),sx:{flex:1}})]}),e.jsxs(I,{direction:{xs:"column",sm:"row"},spacing:2,children:[e.jsx(v,{label:"Bride First Name *",value:l.brideFirstName||"",onChange:a=>f(r=>x(m({},r),{brideFirstName:a.target.value})),sx:{flex:1}}),e.jsx(v,{label:"Bride Last Name *",value:l.brideLastName||"",onChange:a=>f(r=>x(m({},r),{brideLastName:a.target.value})),sx:{flex:1}})]}),e.jsxs(I,{direction:{xs:"column",sm:"row"},spacing:2,children:[e.jsx(v,{label:"Marriage Date *",type:"date",value:l.marriageDate||"",onChange:a=>f(r=>x(m({},r),{marriageDate:a.target.value})),InputLabelProps:{shrink:!0},sx:{flex:1}}),e.jsx(v,{label:"Marriage Location",value:l.marriageLocation||"",onChange:a=>f(r=>x(m({},r),{marriageLocation:a.target.value})),sx:{flex:1}})]}),e.jsxs(I,{direction:{xs:"column",sm:"row"},spacing:2,children:[e.jsx(v,{label:"Witness 1",value:l.witness1||"",onChange:a=>f(r=>x(m({},r),{witness1:a.target.value})),sx:{flex:1}}),e.jsx(v,{label:"Witness 2",value:l.witness2||"",onChange:a=>f(r=>x(m({},r),{witness2:a.target.value})),sx:{flex:1}})]}),e.jsxs(Y,{fullWidth:!0,children:[e.jsx(J,{children:"Priest"}),e.jsxs(Q,{label:"Priest",value:l.priest||"",onChange:a=>{const r=a.target.value;f(r==="custom"?u=>x(m({},u),{priest:"",customPriest:!0}):u=>x(m({},u),{priest:r,customPriest:!1}))},children:[e.jsx(O,{value:"",children:e.jsx("em",{children:"Select a priest..."})}),we.map(a=>e.jsx(O,{value:a,children:a},a)),e.jsx(O,{value:"custom",children:e.jsx("em",{children:"Other (enter manually)..."})})]})]}),l.customPriest&&e.jsx(v,{label:"Enter Priest Name",value:l.priest||"",onChange:a=>f(r=>x(m({},r),{priest:a.target.value})),fullWidth:!0,placeholder:"Enter the priest's name"})]}),d==="funeral"&&e.jsxs(e.Fragment,{children:[e.jsxs(I,{direction:{xs:"column",sm:"row"},spacing:2,children:[e.jsx(v,{label:"First Name *",value:l.firstName||"",onChange:a=>f(r=>x(m({},r),{firstName:a.target.value})),sx:{flex:1}}),e.jsx(v,{label:"Last Name *",value:l.lastName||"",onChange:a=>f(r=>x(m({},r),{lastName:a.target.value})),sx:{flex:1}})]}),e.jsxs(I,{direction:{xs:"column",sm:"row"},spacing:2,children:[e.jsx(v,{label:"Date of Death *",type:"date",value:l.dateOfDeath||"",onChange:a=>f(r=>x(m({},r),{dateOfDeath:a.target.value})),InputLabelProps:{shrink:!0},sx:{flex:1}}),e.jsx(v,{label:"Burial Date",type:"date",value:l.burialDate||"",onChange:a=>f(r=>x(m({},r),{burialDate:a.target.value})),InputLabelProps:{shrink:!0},sx:{flex:1}})]}),e.jsxs(I,{direction:{xs:"column",sm:"row"},spacing:2,children:[e.jsx(v,{label:"Age",type:"number",value:l.age||"",onChange:a=>f(r=>x(m({},r),{age:a.target.value})),sx:{flex:1}}),e.jsx(v,{label:"Burial Location",value:l.burialLocation||"",onChange:a=>f(r=>x(m({},r),{burialLocation:a.target.value})),sx:{flex:1}})]}),e.jsxs(Y,{fullWidth:!0,children:[e.jsx(J,{children:"Priest"}),e.jsxs(Q,{label:"Priest",value:l.priest||"",onChange:a=>{const r=a.target.value;f(r==="custom"?u=>x(m({},u),{priest:"",customPriest:!0}):u=>x(m({},u),{priest:r,customPriest:!1}))},children:[e.jsx(O,{value:"",children:e.jsx("em",{children:"Select a priest..."})}),we.map(a=>e.jsx(O,{value:a,children:a},a)),e.jsx(O,{value:"custom",children:e.jsx("em",{children:"Other (enter manually)..."})})]})]}),l.customPriest&&e.jsx(v,{label:"Enter Priest Name",value:l.priest||"",onChange:a=>f(r=>x(m({},r),{priest:a.target.value})),fullWidth:!0,placeholder:"Enter the priest's name"})]})]})}),e.jsxs(Ze,{children:[e.jsx(T,{onClick:()=>se(!1),children:"Cancel"}),e.jsx(T,{onClick:Dt,variant:"contained",disabled:y,children:y?e.jsx(je,{size:20}):"Save"})]})]}),e.jsxs(Ie,{open:ot,onClose:Ne,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{minHeight:"60vh",maxHeight:"90vh"}},children:[e.jsxs(Pe,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid",borderColor:"divider",pb:2},children:[e.jsxs(c,{children:[e.jsxs(i,{variant:"h6",component:"span",children:[d.charAt(0).toUpperCase()+d.slice(1)," Record Details"]}),e.jsx(i,{variant:"body2",color:"text.secondary",sx:{mt:.5},children:Bt(n)})]}),e.jsxs(c,{sx:{display:"flex",gap:1,alignItems:"center"},children:[e.jsxs(i,{variant:"body2",color:"text.secondary",children:[Z+1," of ",G.length]}),e.jsx(X,{onClick:wt,disabled:Z<=0,size:"small",sx:{border:"1px solid",borderColor:"divider"},children:e.jsx(sa,{})}),e.jsx(X,{onClick:_t,disabled:Z>=G.length-1,size:"small",sx:{border:"1px solid",borderColor:"divider"},children:e.jsx(ia,{})})]})]}),e.jsx(Te,{sx:{pt:3},children:n&&e.jsxs($,{container:!0,spacing:3,children:[e.jsx($,{item:!0,xs:12,children:e.jsxs(U,{variant:"outlined",sx:{p:2,bgcolor:"grey.50"},children:[e.jsx(i,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Registry Information"}),e.jsxs($,{container:!0,spacing:2,children:[e.jsxs($,{item:!0,xs:6,sm:3,children:[e.jsx(i,{variant:"caption",color:"text.secondary",children:"Record ID"}),e.jsx(i,{variant:"body2",fontWeight:"medium",children:n.id})]}),e.jsxs($,{item:!0,xs:6,sm:3,children:[e.jsx(i,{variant:"caption",color:"text.secondary",children:"Book No."}),e.jsx(i,{variant:"body2",children:n.book_no||n.bookNumber||"â€”"})]}),e.jsxs($,{item:!0,xs:6,sm:3,children:[e.jsx(i,{variant:"caption",color:"text.secondary",children:"Page No."}),e.jsx(i,{variant:"body2",children:n.page_no||n.pageNumber||"â€”"})]}),e.jsxs($,{item:!0,xs:6,sm:3,children:[e.jsx(i,{variant:"caption",color:"text.secondary",children:"Entry No."}),e.jsx(i,{variant:"body2",children:n.entry_no||n.entryNumber||"â€”"})]})]})]})}),e.jsx($,{item:!0,xs:12,md:6,children:e.jsxs(U,{variant:"outlined",sx:{p:2,height:"100%"},children:[e.jsx(i,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:d==="marriage"?"Couple Information":"Person Information"}),d==="marriage"?e.jsxs(e.Fragment,{children:[e.jsxs(c,{sx:{mb:2},children:[e.jsx(i,{variant:"caption",color:"text.secondary",children:"Groom"}),e.jsx(i,{variant:"body1",fontWeight:"medium",children:`${n.fname_groom||n.groom_first||""} ${n.lname_groom||n.groom_last||""}`.trim()||"â€”"})]}),e.jsxs(c,{children:[e.jsx(i,{variant:"caption",color:"text.secondary",children:"Bride"}),e.jsx(i,{variant:"body1",fontWeight:"medium",children:`${n.fname_bride||n.bride_first||""} ${n.lname_bride||n.bride_last||""}`.trim()||"â€”"})]})]}):d==="funeral"?e.jsxs(e.Fragment,{children:[e.jsxs(c,{sx:{mb:2},children:[e.jsx(i,{variant:"caption",color:"text.secondary",children:"Deceased"}),e.jsx(i,{variant:"body1",fontWeight:"medium",children:`${n.deceased_first||n.firstName||""} ${n.deceased_last||n.lastName||""}`.trim()||"â€”"})]}),e.jsxs(c,{children:[e.jsx(i,{variant:"caption",color:"text.secondary",children:"Date of Death"}),e.jsx(i,{variant:"body1",children:V(n.death_date||n.deathDate)||"â€”"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs(c,{sx:{mb:2},children:[e.jsx(i,{variant:"caption",color:"text.secondary",children:"Name"}),e.jsx(i,{variant:"body1",fontWeight:"medium",children:`${n.person_first||n.firstName||""} ${n.person_middle||n.middleName||""} ${n.person_last||n.lastName||""}`.trim()||"â€”"})]}),e.jsxs(c,{sx:{mb:2},children:[e.jsx(i,{variant:"caption",color:"text.secondary",children:"Date of Birth"}),e.jsx(i,{variant:"body1",children:V(n.birth_date||n.dateOfBirth)||"â€”"})]}),e.jsxs(c,{children:[e.jsx(i,{variant:"caption",color:"text.secondary",children:"Date of Baptism"}),e.jsx(i,{variant:"body1",children:V(n.baptism_date||n.dateOfBaptism)||"â€”"})]})]})]})}),e.jsx($,{item:!0,xs:12,md:6,children:e.jsxs(U,{variant:"outlined",sx:{p:2,height:"100%"},children:[e.jsx(i,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Ceremony Details"}),e.jsxs(c,{sx:{mb:2},children:[e.jsx(i,{variant:"caption",color:"text.secondary",children:d==="marriage"?"Marriage Date":d==="funeral"?"Funeral Date":"Baptism Date"}),e.jsx(i,{variant:"body1",children:V(d==="marriage"?n.marriage_date||n.marriageDate:d==="funeral"?n.funeral_date||n.funeralDate:n.baptism_date||n.dateOfBaptism)||"â€”"})]}),e.jsxs(c,{sx:{mb:2},children:[e.jsx(i,{variant:"caption",color:"text.secondary",children:"Officiant / Clergy"}),e.jsx(i,{variant:"body1",children:n.officiant_name||n.priest||n.clergy||"â€”"})]}),e.jsxs(c,{children:[e.jsx(i,{variant:"caption",color:"text.secondary",children:"Location"}),e.jsx(i,{variant:"body1",children:n.place_name||n.location||n.churchName||"â€”"})]})]})}),(d==="baptism"||d==="marriage")&&e.jsx($,{item:!0,xs:12,children:e.jsxs(U,{variant:"outlined",sx:{p:2},children:[e.jsx(i,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:d==="marriage"?"Witnesses":"Godparents / Sponsors"}),e.jsx(i,{variant:"body1",children:d==="marriage"?ve(n.witnesses)||"â€”":ve(n.godparents)||n.godfather||n.godmother||"â€”"})]})}),n.notes&&e.jsx($,{item:!0,xs:12,children:e.jsxs(U,{variant:"outlined",sx:{p:2},children:[e.jsx(i,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Notes"}),e.jsx(i,{variant:"body1",children:n.notes})]})})]})}),e.jsxs(Ze,{sx:{borderTop:"1px solid",borderColor:"divider",px:3,py:2,justifyContent:"space-between"},children:[e.jsx(c,{children:(d==="baptism"||d==="marriage")&&e.jsx(T,{variant:"outlined",color:"secondary",onClick:St,startIcon:e.jsx(at,{}),children:"Generate Certificate"})}),e.jsxs(c,{sx:{display:"flex",gap:1},children:[e.jsx(T,{onClick:Ne,children:"Close"}),e.jsx(T,{variant:"contained",color:"primary",onClick:Nt,startIcon:e.jsx(rt,{}),children:"Edit Record"})]})]})]}),e.jsx(aa,{anchor:"right",open:Ae,onClose:()=>ie(!1),sx:{"& .MuiDrawer-paper":{width:{xs:"100%",sm:400,md:450},p:2}},children:e.jsxs(c,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[e.jsxs(i,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(ye,{}),"Orthodox Table Theme Editor"]}),e.jsx(i,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Customize the appearance of your records table with Orthodox and liturgical themes."}),e.jsx(xe,{severity:"info",sx:{mb:2},children:e.jsxs(i,{variant:"caption",component:"div",children:[e.jsx("strong",{children:"Quick Start:"})," Choose a liturgical theme below, then click table elements to customize colors and styling."]})}),e.jsx(Xe,{sx:{mb:2}}),e.jsxs(c,{sx:{mb:3},children:[e.jsx(i,{variant:"subtitle2",gutterBottom:!0,children:"Quick Themes"}),e.jsx(ga,{selectedColor:ne.headerColor,onColorChange:a=>ft(a),liturgicalMode:He})]}),e.jsx(Xe,{sx:{mb:2}}),e.jsxs(c,{sx:{mb:3},children:[e.jsx(i,{variant:"subtitle2",gutterBottom:!0,children:"Customize Elements"}),e.jsx(i,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Click on table elements below to customize:"}),e.jsxs(I,{direction:"row",spacing:1,flexWrap:"wrap",children:[e.jsx(re,{label:"Header",variant:H==="header"?"filled":"outlined",onClick:()=>oe("header"),size:"small"}),e.jsx(re,{label:"Row",variant:H==="row"?"filled":"outlined",onClick:()=>oe("row"),size:"small"}),e.jsx(re,{label:"Cell",variant:H==="cell"?"filled":"outlined",onClick:()=>oe("cell"),size:"small"})]})]}),e.jsxs(c,{sx:{flex:1,overflow:"auto"},children:[H&&e.jsx(ua,{selectedElement:H,onElementSelect:a=>oe(a),tableTheme:ne,onBorderStyleChange:(a,r,u)=>{console.log("Border style changed:",a,r,u)}}),!H&&e.jsx(i,{variant:"body2",color:"text.secondary",sx:{textAlign:"center",py:4},children:"Click on a table element above to customize its appearance"})]}),e.jsx(c,{sx:{mt:2,pt:2,borderTop:1,borderColor:"divider"},children:e.jsxs(I,{direction:"row",spacing:2,justifyContent:"flex-end",children:[e.jsx(T,{variant:"outlined",onClick:()=>ie(!1),children:"Done"}),e.jsx(T,{variant:"contained",onClick:()=>{ie(!1),M("Table theme applied successfully!","success")},children:"Apply Theme"})]})})]})}),e.jsx(Mt,{open:nt,autoHideDuration:6e3,onClose:()=>_e(!1),anchorOrigin:{vertical:"top",horizontal:"center"},children:e.jsx(xe,{onClose:()=>_e(!1),severity:ct,sx:{width:"100%"},children:lt})}),e.jsx(ba,{open:it,onClose:()=>We(!1),records:G,recordType:"baptism",onRefresh:()=>{Ve(d,g),M("Records refreshed successfully!","success")}})]})};export{Ka as default};
//# sourceMappingURL=BaptismRecordsPage-DgFdNUm8.js.map
