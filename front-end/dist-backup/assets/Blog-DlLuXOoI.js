var q=Object.defineProperty,J=Object.defineProperties;var K=Object.getOwnPropertyDescriptors;var P=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable;var S=(o,s,r)=>s in o?q(o,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[s]=r,z=(o,s)=>{for(var r in s||(s={}))O.call(s,r)&&S(o,r,s[r]);if(P)for(var r of P(s))Q.call(s,r)&&S(o,r,s[r]);return o},L=(o,s)=>J(o,K(s));import{j as e,B as g,G as j,d as u,L as w,R as T,S as l,T as E,h as v,v as I,aR as U,E as y}from"./index-Dgvcv9SG.js";import{P as V}from"./PageContainer-CE1CdJ_Q.js";import{H as X,a as Y,C as Z,F as _,S as ee}from"./index-COKK1sBj.js";import{C as k}from"./Container-BLaKfmEJ.js";import{r as a}from"./vendor-Dkfty7_r.js";import{B as F}from"./BlankCard-CvkN3_SZ.js";import{C as te}from"./CardMedia-ln_EPqUQ.js";import{A}from"./Avatar-VhdGUpSM.js";import{I as M}from"./IconEye-DalVfBSb.js";import{I as D}from"./IconMessage2-iYe3ggXR.js";import{I as H}from"./IconPoint-Cjd8QYRm.js";import{f as R}from"./index-3N2x77cv.js";import{u as re}from"./index-DD9AOJWo.js";import{g as se}from"./globalFetcher-PGxvMJiC.js";import"./Helmet-B7mFktpd.js";import"./index-Ch3W3BYh.js";import"./index-EAhLm5eq.js";import"./Logo-DRUvPGy3.js";import"./AppBar-BS6sRwhR.js";import"./Toolbar-DfqyUE-7.js";import"./IconMenu2-ZCLYLIQt.js";import"./Drawer-Cn2Ga6pf.js";import"./Fab-CFrL7wE8.js";import"./IconArrowUp-CQ_0qsZ5.js";import"./typeof-QjJsDpFa.js";import"./index-Dtz6yYVN.js";const oe=()=>e.jsx(e.Fragment,{children:e.jsx(g,{bgcolor:"primary.light",sx:{paddingTop:{xs:"40px",lg:"100px"},paddingBottom:{xs:"40px",lg:"100px"}},children:e.jsx(k,{maxWidth:"lg",children:e.jsx(j,{container:!0,spacing:3,justifyContent:"center",children:e.jsxs(j,{alignItems:"center",textAlign:"center",size:{xs:12,lg:8},children:[e.jsx(u,{color:"primary.main",textTransform:"uppercase",fontSize:"13px",children:"Blog Page"}),e.jsx(u,{variant:"h1",mb:3,lineHeight:1.4,fontWeight:700,sx:{fontSize:{xs:"34px",sm:"48px",lg:"56px"}},children:"Latest blog & news"})]})})})})}),ne=({post:o})=>{const{coverImg:s,title:r,view:m,comments:c,category:d,author:t,createdAt:n}=o,i=r.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,"");return e.jsx(j,{display:"flex",alignItems:"stretch",size:{xs:12,lg:4,md:4,sm:6},children:e.jsx(F,{className:"hoverCard",children:e.jsxs(e.Fragment,{children:[e.jsx(u,{component:w,to:`/frontend-pages/blog/detail/${i}`,children:e.jsx(te,{component:"img",height:"240",image:s,alt:"green iguana"})}),e.jsxs(T,{children:[e.jsxs(l,{direction:"row",sx:{marginTop:"-45px"},children:[e.jsx(E,{title:t==null?void 0:t.name,placement:"top",children:e.jsx(A,{"aria-label":"recipe",src:t==null?void 0:t.avatar})}),e.jsx(v,{sx:{marginLeft:"auto",marginTop:"-21px",backgroundColor:p=>p.palette.mode==="dark"?"#262e3f":"white"},label:"2 min Read",size:"small"})]}),e.jsx(v,{label:d,size:"small",sx:{marginTop:2}}),e.jsx(g,{my:3,children:e.jsx(u,{gutterBottom:!0,variant:"h5",color:"inherit",sx:{textDecoration:"none"},component:w,to:`/frontend-pages/blog/detail/${i}`,children:r})}),e.jsxs(l,{direction:"row",gap:3,alignItems:"center",children:[e.jsxs(l,{direction:"row",gap:1,alignItems:"center",children:[e.jsx(M,{size:"18"})," ",m]}),e.jsxs(l,{direction:"row",gap:1,alignItems:"center",children:[e.jsx(D,{size:"18"})," ",c==null?void 0:c.length]}),e.jsxs(l,{direction:"row",ml:"auto",alignItems:"center",children:[e.jsx(H,{size:"16"}),e.jsx("small",{children:R(new Date(n),"E, MMM d")})]})]})]})]})})})},b=a.createContext({posts:[],sortBy:"newest",selectedPost:null,isLoading:!0,setPosts:()=>{},setSortBy:()=>{},setSelectedPost:()=>{},setLoading:()=>{},addComment:()=>{},error:null}),ie=({children:o})=>{const[s,r]=a.useState([]),[m,c]=a.useState("newest"),[d,t]=a.useState(null),[n,i]=a.useState(!0),[p,B]=a.useState(null),{data:f,isLoading:h,error:x}=re("/api/data/blog/BlogPosts",se);a.useEffect(()=>{f?(r(f.data),i(h)):(x&&B(x),i(h))},[f,x,h]);const $={posts:s,sortBy:m,selectedPost:d,isLoading:n,setPosts:r,setSortBy:c,setSelectedPost:t,setLoading:i,addComment:(W,G)=>{r(N=>N.map(C=>C.id===W?L(z({},C),{comments:[G,...C.comments||[]]}):C))},error:p};return e.jsx(b.Provider,{value:$,children:o})},ae=I(T)({position:"absolute",top:"0",left:"0",zIndex:1,width:"100%",height:"100%",color:"white"}),le=I(g)({top:0,content:"''",width:"100%",height:"100%",position:"absolute"}),ce=({post:o,index:s})=>{const{coverImg:r,title:m,view:c,comments:d,category:t,author:n,createdAt:i}=o,p=m.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,""),B=s===0,f=I(F)({p:0,height:"400px",position:"relative",background:`url(${r}) no-repeat center`,backgroundSize:"cover"}),{setLoading:h}=a.useContext(b);return a.useEffect(()=>{const x=setTimeout(()=>{h(!1)},700);return()=>clearTimeout(x)},[]),e.jsx(e.Fragment,{children:o?e.jsx(j,{display:"flex",alignItems:"stretch",size:{xs:12,lg:B?8:4,md:12,sm:12},children:e.jsx(f,{className:"hoverCard",children:e.jsxs(e.Fragment,{children:[e.jsx(u,{component:w,to:`/frontend-pages/blog/detail/${p}`,children:e.jsx(le,{sx:{backgroundColor:x=>U(x.palette.grey[900],.6)}})}),e.jsx(ae,{children:e.jsxs(g,{height:"100%",display:"flex",justifyContent:"space-between",flexDirection:"column",children:[e.jsx(g,{children:e.jsxs(l,{direction:"row",children:[e.jsx(E,{title:n==null?void 0:n.name,placement:"top",children:e.jsx(A,{"aria-label":"recipe",src:n==null?void 0:n.avatar})}),e.jsx(v,{sx:{marginLeft:"auto"},label:t,size:"small",color:"primary"})]})}),e.jsxs(g,{children:[e.jsx(g,{my:3,children:e.jsx(u,{gutterBottom:!0,variant:"h3",color:"inherit",sx:{textDecoration:"none"},component:w,to:`/frontend-pages/blog/detail/${p}`,children:m})}),e.jsxs(l,{direction:"row",gap:3,alignItems:"center",children:[e.jsxs(l,{direction:"row",gap:1,alignItems:"center",children:[e.jsx(M,{size:"18"})," ",c]}),e.jsxs(l,{direction:"row",gap:1,alignItems:"center",children:[e.jsx(D,{size:"18"})," ",d==null?void 0:d.length]}),e.jsxs(l,{direction:"row",ml:"auto",alignItems:"center",children:[e.jsx(H,{size:"16"}),e.jsx("small",{children:R(new Date(i),"E, MMM d")})]})]})]})]})})]})})}):""})},de=()=>{const{posts:o,sortBy:s}=a.useContext(b),r=(t,n)=>(n==="newest"&&(t=y.orderBy(t,["createdAt"],["desc"])),n==="oldest"&&(t=y.orderBy(t,["createdAt"],["asc"])),n==="popular"&&(t=y.orderBy(t,["view"],["desc"])),t.filter(i=>!i.featured)),m=t=>t=t.filter(n=>n.featured),c=r(o,s),d=m(o);return e.jsxs(j,{container:!0,spacing:3,children:[d.map((t,n)=>e.jsx(ce,{index:n,post:t},t.title)),c.map(t=>e.jsx(ne,{post:t},t.id)),e.jsx(j,{mt:3,size:{lg:12,sm:12}})]})},$e=()=>e.jsx(ie,{children:e.jsxs(V,{title:"Blog",description:"Latest news, updates, and guides",children:[e.jsx(X,{}),e.jsx(Y,{}),e.jsx(oe,{}),e.jsx(k,{maxWidth:"lg",sx:{mt:5},children:e.jsx(de,{})}),e.jsx(Z,{}),e.jsx(_,{}),e.jsx(ee,{})]})});export{$e as default};
//# sourceMappingURL=Blog-DlLuXOoI.js.map
