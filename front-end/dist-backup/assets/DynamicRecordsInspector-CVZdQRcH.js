var Y=Object.defineProperty,Z=Object.defineProperties;var ee=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var B=(r,t,s)=>t in r?Y(r,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[t]=s,D=(r,t)=>{for(var s in t||(t={}))A.call(t,s)&&B(r,s,t[s]);if(f)for(var s of f(t))E.call(t,s)&&B(r,s,t[s]);return r},F=(r,t)=>Z(r,ee(t));var w=(r,t)=>{var s={};for(var l in r)A.call(r,l)&&t.indexOf(l)<0&&(s[l]=r[l]);if(r!=null&&f)for(var l of f(r))t.indexOf(l)<0&&E.call(r,l)&&(s[l]=r[l]);return s};var v=(r,t,s)=>new Promise((l,h)=>{var j=n=>{try{x(s.next(n))}catch(o){h(o)}},y=n=>{try{x(s.throw(n))}catch(o){h(o)}},x=n=>n.done?l(n.value):Promise.resolve(n.value).then(j,y);x((s=s.apply(r,t)).next())});import{j as e,B as d,U as se,d as b,G as u,s as P,a1 as $,t as N,f as V,P as re,a0 as g,C as W,V as z,R as L,h as T,e as ae}from"./index-Dgvcv9SG.js";import{r as i}from"./vendor-Dkfty7_r.js";import{T as M}from"./TableChart-B_uuWqe4.js";import{S as te}from"./Search-CVIOtvh3.js";import{T as le,a as G}from"./Tabs-DvDGzSBw.js";import{S as ne}from"./Assessment-CNb3uq5r.js";import{T as ie,a as ce,b as oe,c as H,d as de}from"./TableRow-GBYhOGTG.js";import{T as c}from"./TableCell-jHKItVVU.js";import"./KeyboardArrowRight-iVZ9lhbl.js";function U(r){const j=r,{children:t,value:s,index:l}=j,h=w(j,["children","value","index"]);return e.jsx("div",F(D({role:"tabpanel",hidden:s!==l,id:`inspector-tabpanel-${l}`,"aria-labelledby":`inspector-tab-${l}`},h),{children:s===l&&e.jsx(d,{sx:{p:3},children:t})}))}const ve=()=>{var S,R,I;const[r,t]=i.useState("all"),[s,l]=i.useState("all"),[h,j]=i.useState(""),[y,x]=i.useState(!1),[n,o]=i.useState(null),[m,_]=i.useState(0),[p,k]=i.useState(null),[C,q]=i.useState([]),J=[{value:"all",label:"All Records"},{value:"baptism",label:"Baptism"},{value:"marriage",label:"Marriage"},{value:"funeral",label:"Funeral"}],K=()=>v(void 0,null,function*(){try{x(!0),o(null),k({totalRecords:0,byType:{baptism:0,marriage:0,funeral:0},byChurch:{},recentActivity:[]})}catch(a){o(a instanceof Error?a.message:"Failed to load statistics")}finally{x(!1)}}),O=()=>v(void 0,null,function*(){try{x(!0),o(null),q([])}catch(a){o(a instanceof Error?a.message:"Failed to load records")}finally{x(!1)}});i.useEffect(()=>{K()},[r,s]),i.useEffect(()=>{m===1&&O()},[m,r,s,h]);const Q=(a,X)=>{_(X)};return e.jsx(d,{sx:{p:3},children:e.jsxs(se,{sx:{p:3},children:[e.jsx(d,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:3},children:e.jsxs(d,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(M,{sx:{fontSize:40}}),e.jsxs(d,{children:[e.jsx(b,{variant:"h4",gutterBottom:!0,children:"Dynamic Records Inspector"}),e.jsx(b,{variant:"body2",color:"text.secondary",children:"Advanced inspection and analysis tool for records"})]})]})}),e.jsxs(u,{container:!0,spacing:2,sx:{mb:3},children:[e.jsx(u,{item:!0,xs:12,md:4,children:e.jsxs(P,{fullWidth:!0,children:[e.jsx($,{children:"Record Type"}),e.jsx(N,{value:r,label:"Record Type",onChange:a=>t(a.target.value),children:J.map(a=>e.jsx(V,{value:a.value,children:a.label},a.value))})]})}),e.jsx(u,{item:!0,xs:12,md:4,children:e.jsxs(P,{fullWidth:!0,children:[e.jsx($,{children:"Church"}),e.jsx(N,{value:s,label:"Church",onChange:a=>l(a.target.value),children:e.jsx(V,{value:"all",children:"All Churches"})})]})}),e.jsx(u,{item:!0,xs:12,md:4,children:e.jsx(re,{fullWidth:!0,label:"Search",value:h,onChange:a=>j(a.target.value),InputProps:{startAdornment:e.jsx(te,{sx:{mr:1,color:"text.secondary"}})}})})]}),n&&e.jsx(g,{severity:"error",sx:{mb:3},onClose:()=>o(null),children:n}),e.jsx(d,{sx:{borderBottom:1,borderColor:"divider"},children:e.jsxs(le,{value:m,onChange:Q,children:[e.jsx(G,{icon:e.jsx(ne,{}),label:"Statistics"}),e.jsx(G,{icon:e.jsx(M,{}),label:"Records"})]})}),e.jsx(U,{value:m,index:0,children:y?e.jsx(d,{sx:{display:"flex",justifyContent:"center",p:3},children:e.jsx(W,{})}):p?e.jsxs(u,{container:!0,spacing:3,children:[e.jsx(u,{item:!0,xs:12,md:4,children:e.jsx(z,{children:e.jsxs(L,{children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Total Records"}),e.jsx(b,{variant:"h3",children:p.totalRecords||0})]})})}),e.jsx(u,{item:!0,xs:12,md:8,children:e.jsx(z,{children:e.jsxs(L,{children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Records by Type"}),e.jsxs(d,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[e.jsx(T,{label:`Baptism: ${((S=p.byType)==null?void 0:S.baptism)||0}`,color:"primary"}),e.jsx(T,{label:`Marriage: ${((R=p.byType)==null?void 0:R.marriage)||0}`,color:"secondary"}),e.jsx(T,{label:`Funeral: ${((I=p.byType)==null?void 0:I.funeral)||0}`,color:"default"})]})]})})})]}):e.jsx(g,{severity:"info",children:"No statistics available"})}),e.jsx(U,{value:m,index:1,children:y?e.jsx(d,{sx:{display:"flex",justifyContent:"center",p:3},children:e.jsx(W,{})}):C.length===0?e.jsx(g,{severity:"info",children:"No records found. Try adjusting your filters."}):e.jsx(ie,{children:e.jsxs(ce,{children:[e.jsx(oe,{children:e.jsxs(H,{children:[e.jsx(c,{children:"ID"}),e.jsx(c,{children:"Type"}),e.jsx(c,{children:"Church"}),e.jsx(c,{children:"Created"}),e.jsx(c,{children:"Actions"})]})}),e.jsx(de,{children:C.map(a=>e.jsxs(H,{children:[e.jsx(c,{children:a.id}),e.jsx(c,{children:e.jsx(T,{label:a.type,size:"small"})}),e.jsx(c,{children:a.churchName||"N/A"}),e.jsx(c,{children:new Date(a.createdAt).toLocaleDateString()}),e.jsx(c,{children:e.jsx(ae,{size:"small",variant:"outlined",children:"View Details"})})]},a.id))})]})})})]})})};export{ve as default};
//# sourceMappingURL=DynamicRecordsInspector-CVZdQRcH.js.map
