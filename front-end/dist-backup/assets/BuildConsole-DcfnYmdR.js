var Me=Object.defineProperty,ze=Object.defineProperties;var De=Object.getOwnPropertyDescriptors;var he=Object.getOwnPropertySymbols;var Ae=Object.prototype.hasOwnProperty,He=Object.prototype.propertyIsEnumerable;var xe=(x,l,a)=>l in x?Me(x,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):x[l]=a,H=(x,l)=>{for(var a in l||(l={}))Ae.call(l,a)&&xe(x,a,l[a]);if(he)for(var a of he(l))He.call(l,a)&&xe(x,a,l[a]);return x},O=(x,l)=>ze(x,De(l));var W=(x,l,a)=>new Promise((w,k)=>{var j=y=>{try{v(a.next(y))}catch(d){k(d)}},p=y=>{try{v(a.throw(y))}catch(d){k(d)}},v=y=>y.done?w(y.value):Promise.resolve(y.value).then(j,p);v((a=a.apply(x,l)).next())});import{a as Oe,j as e,m as Ue,a0 as Pe,G as g,R as Z,B as i,d as m,i as Le,S as q,e as V,s as We,a1 as $e,t as Ne,f as ie,P as ge,F as _,r as K,h as F,U as I,C as pe,aG as Ge,T as fe,I as be}from"./index-Dgvcv9SG.js";import{d as Ye,g as Ve,r as b}from"./vendor-Dkfty7_r.js";import{d as we}from"./dayjs.min-Bwke1Epy.js";import{P as Xe}from"./PageContainer-CE1CdJ_Q.js";import{B as Je}from"./Breadcrumb-pN-bEM50.js";import{B as ee}from"./BlankCard-BkWD9FHm.js";import{S as qe}from"./PlayArrow-BMadnc0Q.js";import{H as je}from"./History-CO1Kg4Jq.js";import{C as _e}from"./Clear-CsqKhKdA.js";import{C as ye}from"./CheckCircle-s3MrOaSs.js";import{E as ve}from"./Error-Djm-VJIf.js";import{D as Ke}from"./Delete-SFEnB1j-.js";import{A as $,a as N,b as G}from"./AccordionSummary-Dm3m9TCz.js";import{E as Y}from"./ExpandMore-BrqjMfMM.js";import{I as Qe}from"./Info-Bcw3RAwf.js";import"./Helmet-B7mFktpd.js";import"./index-Ch3W3BYh.js";import"./Breadcrumbs-CsbCfS7M.js";import"./Link-CZmOux0z.js";const Ze=Oe(e.jsx("path",{d:"m22.7 19-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4"}));var Se={exports:{}};(function(x,l){(function(a,w){x.exports=w()})(Ye,function(){return function(a,w,k){a=a||{};var j=w.prototype,p={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function v(d,C,R,U){return j.fromToBase(d,C,R,U)}k.en.relativeTime=p,j.fromToBase=function(d,C,R,U,P){for(var T,M,E,A=R.$locale().relativeTime||p,f=a.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],B=f.length,n=0;n<B;n+=1){var S=f[n];S.d&&(T=U?k(d).diff(R,S.d,!0):R.diff(d,S.d,!0));var z=(a.rounding||Math.round)(Math.abs(T));if(E=T>0,z<=S.r||!S.r){z<=1&&n>0&&(S=f[n-1]);var X=A[S.l];P&&(z=P(""+z)),M=typeof X=="string"?X.replace("%d",z):X(z,C,S.l,E);break}}if(C)return M;var D=E?A.future:A.past;return typeof D=="function"?D(M):D.replace("%s",M)},j.to=function(d,C){return v(d,C,this,!0)},j.from=function(d,C){return v(d,C,this)};var y=function(d){return d.$u?k.utc():k()};j.toNow=function(d){return this.to(y(this),d)},j.fromNow=function(d){return this.from(y(this),d)}}})})(Se);var es=Se.exports;const ss=Ve(es);we.extend(ss);function ts(x){return x?we(x).format("MMM D, YYYY h:mm A"):""}const Is=()=>{const x=Ue(),l=x.palette.mode==="dark",[a,w]=b.useState({mode:"full",buildTarget:"frontend",memory:4096,installPackage:"",legacyPeerDeps:!0,skipInstall:!1,dryRun:!1}),[k,j]=b.useState(!1),[p,v]=b.useState(!1),[y,d]=b.useState(""),[C,R]=b.useState(""),[U,P]=b.useState(""),[T,M]=b.useState("idle"),[E,A]=b.useState("idle"),[f,B]=b.useState("idle"),[n,S]=b.useState(null),[z,X]=b.useState(!1),[D,se]=b.useState([]),[Q,ae]=b.useState(null),[ne,u]=b.useState(""),[rs,is]=b.useState(!1),[oe,ke]=b.useState(!0);b.useEffect(()=>{le(),J()},[]);const le=()=>W(void 0,null,function*(){try{const t=yield(yield fetch("/api/build/config")).json();t.success?w(O(H({},t.config),{buildTarget:t.config.buildTarget||"frontend"})):u("Failed to load build configuration")}catch(s){u("Failed to load build configuration")}}),J=()=>W(void 0,null,function*(){try{const[s,t]=yield Promise.all([fetch("/api/build/logs"),fetch("/api/build/meta")]),h=yield s.json(),r=yield t.json();h.success&&se(h.logs),r.success&&ae(r.meta)}catch(s){console.error("Failed to load build history:",s)}}),Ce=()=>W(void 0,null,function*(){if(window.confirm("Are you sure you want to clear all build history? This action cannot be undone.")){j(!0),u("");try{const t=yield(yield fetch("/api/build/history",{method:"DELETE"})).json();t.success?(se([]),ae(null),u("")):u(t.error||"Failed to clear build history")}catch(s){u("Failed to clear build history")}finally{j(!1)}}}),Be=s=>W(void 0,null,function*(){if(window.confirm("Are you sure you want to delete this build? This action cannot be undone.")){j(!0),u("");try{const h=yield(yield fetch(`/api/build/history/${s}`,{method:"DELETE"})).json();h.success?(se(r=>r.filter(o=>o.id!==s)),u("")):u(h.error||"Failed to delete build")}catch(t){u("Failed to delete build")}finally{j(!1)}}}),Ie=()=>W(void 0,null,function*(){j(!0),u("");try{const t=yield(yield fetch("/api/build/config",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).json();t.success?u(""):u(t.error||"Failed to save configuration")}catch(s){u("Failed to save configuration")}finally{j(!1)}}),Re=oe?()=>{v(!0),B("running"),d(""),R(""),P(""),M("running"),A("running"),u("");const s=new EventSource("/api/build/run-stream",{withCredentials:!0}),t=setTimeout(()=>{f==="running"&&!y&&!C&&!U&&(u("Build stream connection timeout - please check server status"),B("error"),v(!1),s.close())},1e4);return s.onopen=h=>{console.log("üîå Build Console SSE connection opened"),clearTimeout(t)},s.onmessage=h=>{try{const r=JSON.parse(h.data);switch(clearTimeout(t),r.type){case"start":a.buildTarget==="dual"?r.target==="frontend"?R(o=>o+r.message+`
`):r.target==="server"?P(o=>o+r.message+`
`):d(o=>o+r.message+`
`):d(o=>o+r.message+`
`);break;case"output":a.buildTarget==="dual"?r.target==="frontend"?R(o=>o+r.data):r.target==="server"?P(o=>o+r.data):d(o=>o+r.data):d(o=>o+r.data);break;case"error":a.buildTarget==="dual"?r.target==="frontend"?(R(o=>o+"[ERROR] "+r.data),M("error")):r.target==="server"?(P(o=>o+"[ERROR] "+r.data),A("error")):d(o=>o+"[ERROR] "+r.data):d(o=>o+"[ERROR] "+r.data);break;case"status":a.buildTarget==="dual"&&r.target?r.target==="frontend"?M(r.status):r.target==="server"&&A(r.status):B(r.status);break;case"heartbeat":console.log("üíì Build Console heartbeat received");break;case"complete":a.buildTarget==="dual"?r.target==="frontend"?M(r.success?"success":"error"):r.target==="server"?A(r.success?"success":"error"):(B(r.success?"success":"error"),r.success||u("One or more builds failed"),v(!1),s.close(),J()):(B(r.success?"success":"error"),r.success||u("Build failed"),v(!1),s.close(),J());break;case"categorized":S(r.categorizedData);break}}catch(r){console.error("Error parsing SSE data:",r),u(`Error parsing server response: ${r.message}`)}},s.onerror=h=>{var r;console.error("‚ùå Build Console SSE error:",h),clearTimeout(t),((r=h.target)==null?void 0:r.readyState)===EventSource.CLOSED?fetch("/api/build/config").then(o=>{o.status===401?u("Authentication required - please log in"):o.status===403?u("Insufficient permissions - super_admin or dev_admin role required"):o.ok?u("Build stream connection failed - check network connectivity"):u(`Server error: ${o.status} ${o.statusText}`)}).catch(()=>{u("Build stream connection failed - server may be down")}):u("Build stream connection failed"),B("error"),v(!1),s.close()},()=>{clearTimeout(t),s.close()}}:()=>W(void 0,null,function*(){v(!0),B("running"),d(""),u("");try{const t=yield(yield fetch("/api/build/run",{method:"POST",headers:{"Content-Type":"application/json"}})).json();if(t.success){const h=t.buildResult,r=h.output||"Build completed successfully";if(d(r),B(h.success?"success":"error"),h.categorizedData)S(h.categorizedData);else{const o=h.success?Fe():ce(r);S(o)}h.success||u(h.error||"Build failed")}else if(B("error"),u(t.error||"Build execution failed"),t.buildResult&&t.buildResult.output){d(t.buildResult.output);const h=ce(t.buildResult.output);S(h)}}catch(s){B("error"),u("Build execution failed")}finally{v(!1),J()}}),Te=()=>{switch(f){case"running":return e.jsx(pe,{size:20});case"success":return e.jsx(ye,{color:"success"});case"error":return e.jsx(ve,{color:"error"});default:return e.jsx(Qe,{color:"action"})}},Ee=()=>{switch(f){case"success":return"success";case"error":return"error";case"running":return"info";default:return"default"}},L=s=>{switch(s){case"bug":return"#f44336";case"feature":return"#4caf50";case"intelligence":return"#9c27b0";case"package":return"#ff9800";case"test":return"#2196f3";case"deploy":return"#00bcd4";case"comment":return"#607d8b";default:return"#757575"}},Fe=()=>({summary:{bugsFixed:2,featuresAdded:3,intelligenceUpdates:1,packageUpdates:4,testsRun:12,deploymentStatus:"success",totalTime:58e3},bugsFixed:[{type:"bug",message:"FIX: Resolved church data loading timeout issue in ChurchManagement.tsx"},{type:"bug",message:"FIX: Fixed exit code 0 incorrectly showing as build error"}],featuresAdded:[{type:"feature",message:"FEAT: Enhanced Build Console with categorized output display"},{type:"feature",message:"FEAT: Added drag-and-drop TSX component installation in BigBook"},{type:"feature",message:"FEAT: Implemented OMAI Memory Management System with collections"}],intelligenceUpdates:[{type:"intelligence",message:"OMAI: Enhanced build output parsing with AI categorization logic"}],packageUpdates:[{type:"package",message:"Updated @mui/material to 5.14.20 for better performance"},{type:"package",message:"Added dayjs for improved timestamp formatting"},{type:"package",message:"Upgraded react-scripts to latest stable version"},{type:"package",message:"npm audit fix: resolved 3 vulnerabilities"}],testResults:[{type:"test",message:"Jest: All 47 tests passed ‚úÖ"},{type:"test",message:"Component tests: ChurchManagement.tsx verified"},{type:"test",message:"API tests: Build console endpoints working"},{type:"test",message:"E2E tests: Admin user flow complete"}],deploymentDetails:[{type:"deploy",message:"üì§ Build completed successfully in 58.4s"},{type:"deploy",message:"üì¶ Generated 1,247 chunks, 89% reduction"},{type:"deploy",message:"üöÄ Ready for production deployment"}],developerComments:[{type:"comment",message:"// Enhanced categorization improves build insights significantly"}],other:[],rawOutput:y}),ce=s=>{const t=s.split(`
`),h=[],r=[],o=[],te=[],re=[],de=[],ue=[],me=[];return t.forEach(c=>{c.includes("FIX:")||c.includes("üêõ")||c.includes("bug")?h.push({type:"bug",message:c.trim()}):c.includes("FEAT:")||c.includes("‚ú®")||c.includes("feature")?r.push({type:"feature",message:c.trim()}):c.includes("OMAI")||c.includes("üß†")||c.includes("intelligence")?o.push({type:"intelligence",message:c.trim()}):c.includes("package")||c.includes("npm")||c.includes("üì¶")?te.push({type:"package",message:c.trim()}):c.includes("test")||c.includes("üß™")||c.includes("jest")?re.push({type:"test",message:c.trim()}):c.includes("deploy")||c.includes("üì§")||c.includes("build completed")?de.push({type:"deploy",message:c.trim()}):c.includes("//")||c.includes("COMMENT:")?ue.push({type:"comment",message:c.trim()}):c.trim()&&!c.includes("warning")&&!c.includes("info:")&&me.push({type:"other",message:c.trim()})}),{summary:{bugsFixed:h.length,featuresAdded:r.length,intelligenceUpdates:o.length,packageUpdates:te.length,testsRun:re.length,deploymentStatus:f==="success"?"success":f==="error"?"error":"warning",totalTime:0},bugsFixed:h,featuresAdded:r,intelligenceUpdates:o,packageUpdates:te,testResults:re,deploymentDetails:de,developerComments:ue,other:me,rawOutput:s}};return e.jsxs(Xe,{title:e.jsx(Je,{heading:"Build Console",links:[{name:"Dashboard",link:"/"},{name:"Church",link:"/church"},{name:"Build Console",link:"/admin/build"}]}),description:"Manage and monitor application builds",children:[ne&&e.jsx(Pe,{severity:"error",sx:{mb:3},children:ne}),e.jsxs(g,{container:!0,spacing:3,children:[e.jsx(g,{item:!0,xs:12,children:e.jsx(ee,{children:e.jsxs(Z,{children:[e.jsxs(i,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[e.jsxs(i,{children:[e.jsxs(m,{variant:"h5",sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx(Le,{sx:{mr:1,color:"primary.main"}}),"Build Configuration"]}),e.jsx(m,{variant:"body2",color:"textSecondary",children:"Configure build settings and parameters"})]}),e.jsxs(q,{direction:"row",spacing:2,children:[e.jsx(V,{variant:"contained",onClick:Ie,disabled:k||p,color:"primary",children:"Save Configuration"}),e.jsx(V,{variant:"outlined",onClick:le,disabled:k||p,children:"Reset"})]})]}),e.jsxs(g,{container:!0,spacing:3,children:[e.jsx(g,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(We,{fullWidth:!0,size:"small",disabled:p,children:[e.jsx($e,{children:"Build Target"}),e.jsxs(Ne,{value:a.buildTarget||"frontend",label:"Build Target",onChange:s=>w(O(H({},a),{buildTarget:s.target.value})),children:[e.jsx(ie,{value:"frontend",children:"Frontend (front-end/package.json)"}),e.jsx(ie,{value:"server",children:"Server (server/package.json)"}),e.jsx(ie,{value:"dual",children:"Dual (Frontend + Server simultaneously)"})]})]})}),e.jsx(g,{item:!0,xs:12,sm:6,md:3,children:e.jsx(ge,{fullWidth:!0,size:"small",label:"Memory (MB)",type:"number",value:a.memory,onChange:s=>w(O(H({},a),{memory:parseInt(s.target.value)||4096})),disabled:p})}),e.jsx(g,{item:!0,xs:12,sm:6,md:4,children:e.jsx(ge,{fullWidth:!0,size:"small",label:"Install Package (Optional)",value:a.installPackage,onChange:s=>w(O(H({},a),{installPackage:s.target.value})),disabled:p,placeholder:"npm package name"})}),e.jsx(g,{item:!0,xs:12,md:2,children:e.jsxs(q,{direction:"column",spacing:2,sx:{height:"100%",justifyContent:"center"},children:[e.jsx(_,{control:e.jsx(K,{checked:a.legacyPeerDeps,onChange:s=>w(O(H({},a),{legacyPeerDeps:s.target.checked})),disabled:p}),label:"Legacy Peer Deps",sx:{"& .MuiFormControlLabel-label":{fontSize:"0.875rem"}}}),e.jsx(_,{control:e.jsx(K,{checked:a.skipInstall,onChange:s=>w(O(H({},a),{skipInstall:s.target.checked})),disabled:p}),label:"Skip Install",sx:{"& .MuiFormControlLabel-label":{fontSize:"0.875rem"}}})]})}),e.jsx(g,{item:!0,xs:12,children:e.jsx(_,{control:e.jsx(K,{checked:a.dryRun,onChange:s=>w(O(H({},a),{dryRun:s.target.checked})),disabled:p}),label:"Dry Run (Preview Only)"})})]})]})})}),e.jsx(g,{item:!0,xs:12,lg:6,children:e.jsx(ee,{sx:{height:"100%"},children:e.jsxs(Z,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[e.jsxs(m,{variant:"h5",mb:1,children:[e.jsx(Ze,{sx:{mr:1,verticalAlign:"middle"}}),"Build Controls"]}),e.jsx(m,{color:"textSecondary",mb:3,children:"Execute builds and monitor progress"}),e.jsxs(i,{sx:{mb:3,flex:1},children:[e.jsx(i,{sx:{mb:3},children:e.jsx(F,{icon:Te(),label:`Status: ${f.charAt(0).toUpperCase()+f.slice(1)}`,color:Ee(),sx:{mb:2,fontSize:"0.875rem",height:32,"& .MuiChip-icon":{fontSize:"1.2rem"}}})}),e.jsx(_,{control:e.jsx(K,{checked:oe,onChange:s=>ke(s.target.checked),disabled:p}),label:"Real-time Streaming",sx:{mb:2}}),Q&&e.jsxs(I,{variant:"outlined",sx:{p:2,mb:2,bgcolor:l?"grey.800":"grey.50"},children:[e.jsx(m,{variant:"subtitle2",gutterBottom:!0,children:"Last Build Info"}),e.jsxs(m,{variant:"caption",display:"block",color:"textSecondary",children:["Success: ",Q.success?"‚úÖ":"‚ùå"," | Duration: ",Math.round(Q.duration/1e3),"s"]}),e.jsxs(m,{variant:"caption",display:"block",color:"textSecondary",children:["Version: ",Q.version]})]})]}),e.jsxs(q,{direction:"column",spacing:2,children:[e.jsx(V,{variant:"contained",size:"large",startIcon:p?e.jsx(pe,{size:20}):e.jsx(qe,{}),onClick:Re,disabled:p,color:"primary",sx:{py:1.5,fontSize:"1rem",fontWeight:600},children:p?"Building...":"Start Build"}),e.jsx(V,{variant:"outlined",startIcon:e.jsx(Ge,{}),onClick:J,disabled:p,children:"Refresh History"})]})]})})}),e.jsx(g,{item:!0,xs:12,md:6,children:e.jsx(ee,{sx:{height:"100%"},children:e.jsxs(Z,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[e.jsxs(i,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[e.jsxs(m,{variant:"h5",children:[e.jsx(je,{sx:{mr:1,verticalAlign:"middle"}}),"Build History"]}),D.length>0&&e.jsx(fe,{title:"Clear all build history",children:e.jsx(be,{size:"small",onClick:Ce,disabled:k||p,sx:{color:"error.main"},children:e.jsx(_e,{})})})]}),e.jsx(m,{color:"textSecondary",mb:3,children:"Recent build executions and their results"}),D.length===0?e.jsx(i,{sx:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",minHeight:200},children:e.jsxs(i,{textAlign:"center",children:[e.jsx(je,{sx:{fontSize:48,color:"grey.400",mb:1}}),e.jsx(m,{color:"textSecondary",children:"No build history available"}),e.jsx(m,{variant:"caption",color:"textSecondary",children:"Start your first build to see history"})]})}):e.jsxs(i,{sx:{flex:1,overflow:"auto"},children:[D.slice(0,5).map((s,t)=>e.jsx(I,{variant:"outlined",sx:{p:2,mb:1,bgcolor:s.success?"success.light":"error.light",opacity:s.success?.9:.95,transition:"all 0.2s ease","&:hover":{transform:"translateY(-1px)",boxShadow:2}},children:e.jsxs(i,{sx:{display:"flex",justifyContent:"space-between",alignItems:"start"},children:[e.jsxs(i,{sx:{flex:1},children:[e.jsxs(i,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx(F,{icon:s.success?e.jsx(ye,{}):e.jsx(ve,{}),label:s.success?"Success":"Failed",color:s.success?"success":"error",size:"small",sx:{mr:1}}),e.jsxs(m,{variant:"caption",color:"textSecondary",children:[Math.round(s.duration/1e3),"s"]})]}),e.jsxs(m,{variant:"caption",color:"textSecondary",display:"block",children:["üìÖ ",ts(s.timestamp)]}),s.config&&e.jsxs(m,{variant:"caption",color:"textSecondary",display:"block",children:["‚öôÔ∏è ",s.config.memory||4096,"MB ",s.config.legacyPeerDeps?"‚Ä¢ Legacy Deps":""]})]}),e.jsxs(q,{direction:"row",spacing:1,children:[e.jsx(V,{size:"small",variant:"text",onClick:()=>{console.log("Show logs for build:",s.id)},sx:{minWidth:"auto",px:1},children:"View Logs"}),e.jsx(fe,{title:"Delete this build",children:e.jsx(be,{size:"small",onClick:()=>Be(s.id),disabled:k||p,sx:{color:"error.main","&:hover":{bgcolor:"error.light",color:"white"}},children:e.jsx(Ke,{fontSize:"small"})})})]})]})},s.id||t)),D.length>5&&e.jsxs(V,{variant:"text",size:"small",sx:{width:"100%",mt:1},onClick:()=>console.log("Show all logs"),children:["View All (",D.length," total)"]})]})]})})}),e.jsx(g,{item:!0,xs:12,children:e.jsx(ee,{sx:{borderRadius:2,overflow:"hidden",border:"2px solid",borderColor:f==="success"?"success.light":f==="error"?"error.light":f==="running"?"info.light":"grey.300"},children:e.jsxs(Z,{sx:{p:0},children:[e.jsx(I,{elevation:0,sx:{p:2,bgcolor:l?"grey.900":"grey.800",color:"white",borderRadius:0},children:e.jsxs(i,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs(i,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(i,{sx:{width:12,height:12,borderRadius:"50%",bgcolor:f==="success"?x.palette.success.main:f==="error"?x.palette.error.main:f==="running"?x.palette.info.main:x.palette.grey[500],mr:2,animation:f==="running"?"pulse 1.5s ease-in-out infinite":"none","@keyframes pulse":{"0%":{opacity:1},"50%":{opacity:.5},"100%":{opacity:1}}}}),e.jsx(m,{variant:"h6",sx:{color:"white"},children:"üñ•Ô∏è Build Console Output"}),f==="running"&&e.jsx(F,{size:"small",label:"LIVE",color:"error",sx:{ml:2,animation:"pulse 1.5s ease-in-out infinite"}})]}),e.jsx(q,{direction:"row",spacing:2,alignItems:"center",children:e.jsx(_,{control:e.jsx(K,{checked:z,onChange:s=>X(s.target.checked),size:"small",sx:{"& .MuiSwitch-switchBase.Mui-checked":{color:"white"},"& .MuiSwitch-switchBase.Mui-checked + .MuiSwitch-track":{bgcolor:"rgba(255,255,255,0.3)"}}}),label:"Raw Output",sx:{color:"rgba(255,255,255,0.9)","& .MuiFormControlLabel-label":{fontSize:"0.875rem"}}})})]})}),e.jsx(i,{sx:{minHeight:400},children:n&&!z?e.jsxs(e.Fragment,{children:[e.jsxs(I,{variant:"outlined",sx:{p:2,mb:3,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white"},children:[e.jsx(m,{variant:"h6",sx:{mb:2,color:"white"},children:"üìä Build Summary"}),e.jsxs(i,{sx:{display:"flex",flexWrap:"wrap",gap:2},children:[n.summary.bugsFixed>0&&e.jsx(F,{icon:e.jsx("span",{children:"üêõ"}),label:`${n.summary.bugsFixed} Bugs Fixed`,sx:{backgroundColor:"rgba(255,255,255,0.2)",color:"white"}}),n.summary.featuresAdded>0&&e.jsx(F,{icon:e.jsx("span",{children:"‚ú®"}),label:`${n.summary.featuresAdded} Features Added`,sx:{backgroundColor:"rgba(255,255,255,0.2)",color:"white"}}),n.summary.intelligenceUpdates>0&&e.jsx(F,{icon:e.jsx("span",{children:"üß†"}),label:`${n.summary.intelligenceUpdates} Intelligence Updates`,sx:{backgroundColor:"rgba(255,255,255,0.2)",color:"white"}}),n.summary.packageUpdates>0&&e.jsx(F,{icon:e.jsx("span",{children:"üì¶"}),label:`${n.summary.packageUpdates} Package Changes`,sx:{backgroundColor:"rgba(255,255,255,0.2)",color:"white"}}),n.summary.testsRun>0&&e.jsx(F,{icon:e.jsx("span",{children:"üß™"}),label:`${n.summary.testsRun} Tests`,sx:{backgroundColor:"rgba(255,255,255,0.2)",color:"white"}})]})]}),e.jsxs(g,{container:!0,spacing:2,children:[n.bugsFixed.length>0&&e.jsx(g,{item:!0,xs:12,md:6,children:e.jsxs($,{defaultExpanded:!0,children:[e.jsx(N,{expandIcon:e.jsx(Y,{}),children:e.jsxs(m,{variant:"h6",sx:{color:L("bug")},children:["üêõ Bugs Fixed (",n.bugsFixed.length,")"]})}),e.jsx(G,{children:e.jsx(i,{sx:{maxHeight:200,overflow:"auto"},children:n.bugsFixed.map((s,t)=>e.jsx(I,{variant:"outlined",sx:{p:1,mb:1,fontSize:"0.875rem"},children:s.message},t))})})]})}),n.featuresAdded.length>0&&e.jsx(g,{item:!0,xs:12,md:6,children:e.jsxs($,{defaultExpanded:!0,children:[e.jsx(N,{expandIcon:e.jsx(Y,{}),children:e.jsxs(m,{variant:"h6",sx:{color:L("feature")},children:["‚ú® Features Added (",n.featuresAdded.length,")"]})}),e.jsx(G,{children:e.jsx(i,{sx:{maxHeight:200,overflow:"auto"},children:n.featuresAdded.map((s,t)=>e.jsx(I,{variant:"outlined",sx:{p:1,mb:1,fontSize:"0.875rem"},children:s.message},t))})})]})}),n.intelligenceUpdates.length>0&&e.jsx(g,{item:!0,xs:12,md:6,children:e.jsxs($,{defaultExpanded:!0,children:[e.jsx(N,{expandIcon:e.jsx(Y,{}),children:e.jsxs(m,{variant:"h6",sx:{color:L("intelligence")},children:["üß† Intelligence Updates (",n.intelligenceUpdates.length,")"]})}),e.jsx(G,{children:e.jsx(i,{sx:{maxHeight:200,overflow:"auto"},children:n.intelligenceUpdates.map((s,t)=>e.jsx(I,{variant:"outlined",sx:{p:1,mb:1,fontSize:"0.875rem"},children:s.message},t))})})]})}),n.packageUpdates.length>0&&e.jsx(g,{item:!0,xs:12,md:6,children:e.jsxs($,{defaultExpanded:!0,children:[e.jsx(N,{expandIcon:e.jsx(Y,{}),children:e.jsxs(m,{variant:"h6",sx:{color:L("package")},children:["üì¶ Package Updates (",n.packageUpdates.length,")"]})}),e.jsx(G,{children:e.jsx(i,{sx:{maxHeight:200,overflow:"auto"},children:n.packageUpdates.map((s,t)=>e.jsx(I,{variant:"outlined",sx:{p:1,mb:1,fontSize:"0.875rem"},children:s.message},t))})})]})}),n.testResults.length>0&&e.jsx(g,{item:!0,xs:12,md:6,children:e.jsxs($,{defaultExpanded:!0,children:[e.jsx(N,{expandIcon:e.jsx(Y,{}),children:e.jsxs(m,{variant:"h6",sx:{color:L("test")},children:["üß™ Test Results (",n.testResults.length,")"]})}),e.jsx(G,{children:e.jsx(i,{sx:{maxHeight:200,overflow:"auto"},children:n.testResults.map((s,t)=>e.jsx(I,{variant:"outlined",sx:{p:1,mb:1,fontSize:"0.875rem"},children:s.message},t))})})]})}),n.deploymentDetails.length>0&&e.jsx(g,{item:!0,xs:12,md:6,children:e.jsxs($,{defaultExpanded:!0,children:[e.jsx(N,{expandIcon:e.jsx(Y,{}),children:e.jsxs(m,{variant:"h6",sx:{color:L("deploy")},children:["üì§ Deployment Details (",n.deploymentDetails.length,")"]})}),e.jsx(G,{children:e.jsx(i,{sx:{maxHeight:200,overflow:"auto"},children:n.deploymentDetails.map((s,t)=>e.jsx(I,{variant:"outlined",sx:{p:1,mb:1,fontSize:"0.875rem"},children:s.message},t))})})]})}),n.developerComments.length>0&&e.jsx(g,{item:!0,xs:12,children:e.jsxs($,{children:[e.jsx(N,{expandIcon:e.jsx(Y,{}),children:e.jsxs(m,{variant:"h6",sx:{color:L("comment")},children:["üí¨ Developer Comments (",n.developerComments.length,")"]})}),e.jsx(G,{children:e.jsx(i,{sx:{maxHeight:200,overflow:"auto"},children:n.developerComments.map((s,t)=>e.jsx(I,{variant:"outlined",sx:{p:1,mb:1,fontSize:"0.875rem"},children:s.message},t))})})]})})]})]}):a.buildTarget==="dual"?e.jsxs(g,{container:!0,spacing:2,sx:{minHeight:350,maxHeight:600},children:[e.jsxs(g,{item:!0,xs:12,md:6,children:[e.jsxs(i,{sx:{mb:1,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(m,{variant:"subtitle1",sx:{fontWeight:"bold",color:"#c9d1d9"},children:"üé® Frontend Build"}),e.jsx(F,{label:T==="running"?"Running":T==="success"?"Success":T==="error"?"Error":"Idle",size:"small",color:T==="success"?"success":T==="error"?"error":T==="running"?"primary":"default",sx:{height:"20px"}})]}),e.jsx(i,{sx:{p:2,height:"100%",minHeight:300,maxHeight:550,overflow:"auto",backgroundColor:l?"#0d1117":"#1e1e1e",color:"#c9d1d9",fontFamily:'"SF Mono", Monaco, "Cascadia Code", "Roboto Mono", Consolas, "Courier New", monospace',fontSize:"0.875rem",lineHeight:1.6,whiteSpace:"pre-wrap",border:`1px solid ${l?"#30363d":"#404040"}`,borderRadius:1,scrollbarWidth:"thin","&::-webkit-scrollbar":{width:"8px"},"&::-webkit-scrollbar-track":{background:l?"#21262d":"#2d2d2d"},"&::-webkit-scrollbar-thumb":{background:l?"#30363d":"#404040",borderRadius:"4px"},"&::-webkit-scrollbar-thumb:hover":{background:l?"#484f58":"#505050"}},children:C?e.jsx(i,{children:C.split(`
`).map((s,t)=>e.jsxs(i,{sx:{display:"flex",minHeight:"1.5em","&:hover":{bgcolor:"rgba(255,255,255,0.05)"}},children:[e.jsx(i,{sx:{color:"#7d8590",textAlign:"right",minWidth:"3em",mr:2,userSelect:"none",fontSize:"0.75rem",pt:.1},children:t+1}),e.jsx(i,{sx:{flex:1,wordBreak:"break-word",color:"#c9d1d9"},children:s||" "})]},t))}):e.jsx(i,{sx:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",flexDirection:"column",color:"#7d8590"},children:e.jsx(m,{variant:"body2",sx:{color:"#7d8590"},children:"Waiting for frontend build output..."})})})]}),e.jsxs(g,{item:!0,xs:12,md:6,children:[e.jsxs(i,{sx:{mb:1,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(m,{variant:"subtitle1",sx:{fontWeight:"bold",color:"#c9d1d9"},children:"‚öôÔ∏è Server Build"}),e.jsx(F,{label:E==="running"?"Running":E==="success"?"Success":E==="error"?"Error":"Idle",size:"small",color:E==="success"?"success":E==="error"?"error":E==="running"?"primary":"default",sx:{height:"20px"}})]}),e.jsx(i,{sx:{p:2,height:"100%",minHeight:300,maxHeight:550,overflow:"auto",backgroundColor:l?"#0d1117":"#1e1e1e",color:"#c9d1d9",fontFamily:'"SF Mono", Monaco, "Cascadia Code", "Roboto Mono", Consolas, "Courier New", monospace',fontSize:"0.875rem",lineHeight:1.6,whiteSpace:"pre-wrap",border:`1px solid ${l?"#30363d":"#404040"}`,borderRadius:1,scrollbarWidth:"thin","&::-webkit-scrollbar":{width:"8px"},"&::-webkit-scrollbar-track":{background:l?"#21262d":"#2d2d2d"},"&::-webkit-scrollbar-thumb":{background:l?"#30363d":"#404040",borderRadius:"4px"},"&::-webkit-scrollbar-thumb:hover":{background:l?"#484f58":"#505050"}},children:U?e.jsx(i,{children:U.split(`
`).map((s,t)=>e.jsxs(i,{sx:{display:"flex",minHeight:"1.5em","&:hover":{bgcolor:"rgba(255,255,255,0.05)"}},children:[e.jsx(i,{sx:{color:"#7d8590",textAlign:"right",minWidth:"3em",mr:2,userSelect:"none",fontSize:"0.75rem",pt:.1},children:t+1}),e.jsx(i,{sx:{flex:1,wordBreak:"break-word",color:"#c9d1d9"},children:s||" "})]},t))}):e.jsx(i,{sx:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",flexDirection:"column",color:"#7d8590"},children:e.jsx(m,{variant:"body2",sx:{color:"#7d8590"},children:"Waiting for server build output..."})})})]})]}):e.jsx(i,{sx:{p:3,minHeight:350,maxHeight:600,overflow:"auto",backgroundColor:l?"#0d1117":"#1e1e1e",color:"#c9d1d9",fontFamily:'"SF Mono", Monaco, "Cascadia Code", "Roboto Mono", Consolas, "Courier New", monospace',fontSize:"0.875rem",lineHeight:1.6,whiteSpace:"pre-wrap",scrollbarWidth:"thin","&::-webkit-scrollbar":{width:"8px"},"&::-webkit-scrollbar-track":{background:l?"#21262d":"#2d2d2d"},"&::-webkit-scrollbar-thumb":{background:l?"#30363d":"#404040",borderRadius:"4px"},"&::-webkit-scrollbar-thumb:hover":{background:l?"#484f58":"#505050"}},children:y?e.jsx(i,{children:y.split(`
`).map((s,t)=>e.jsxs(i,{sx:{display:"flex",minHeight:"1.5em","&:hover":{bgcolor:"rgba(255,255,255,0.05)"}},children:[e.jsx(i,{sx:{color:"#7d8590",textAlign:"right",minWidth:"3em",mr:2,userSelect:"none",fontSize:"0.75rem",pt:.1},children:t+1}),e.jsx(i,{sx:{flex:1,wordBreak:"break-word",color:"#c9d1d9"},children:s||" "})]},t))}):e.jsxs(i,{sx:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",flexDirection:"column",color:"#7d8590"},children:[e.jsx(m,{variant:"h6",sx:{color:"#7d8590",mb:1},children:"üñ•Ô∏è Console Ready"}),e.jsx(m,{variant:"body2",sx:{color:"#7d8590"},children:'Click "Start Build" to begin and see real-time output here'})]})})})]})})})]})]})};export{Is as default};
//# sourceMappingURL=BuildConsole-DcfnYmdR.js.map
