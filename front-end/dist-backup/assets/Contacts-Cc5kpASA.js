var ie=Object.defineProperty,oe=Object.defineProperties;var le=Object.getOwnPropertyDescriptors;var H=Object.getOwnPropertySymbols;var de=Object.prototype.hasOwnProperty,ce=Object.prototype.propertyIsEnumerable;var U=(i,n,r)=>n in i?ie(i,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):i[n]=r,v=(i,n)=>{for(var r in n||(n={}))de.call(n,r)&&U(i,r,n[r]);if(H)for(var r of H(n))ce.call(n,r)&&U(i,r,n[r]);return i},y=(i,n)=>oe(i,le(n));var B=(i,n,r)=>new Promise((o,a)=>{var t=h=>{try{s(r.next(h))}catch(b){a(b)}},c=h=>{try{s(r.throw(h))}catch(b){a(b)}},s=h=>h.done?o(h.value):Promise.resolve(h.value).then(t,c);s((r=r.apply(i,n)).next())});import{c as me,j as e,m as Z,B as p,d as m,S as J,T as N,I as R,D as O,G as u,e as D,P as S,n as X,p as Y,K as xe,Z as he,O as pe,$ as w}from"./index-Dgvcv9SG.js";import{r as x,b as $}from"./vendor-Dkfty7_r.js";import{P as ue}from"./PageContainer-CE1CdJ_Q.js";import{B as je}from"./Breadcrumb-pN-bEM50.js";import{B as ge}from"./BlankCard-CvkN3_SZ.js";import{S as q}from"./Scrollbar-D8pkBv-2.js";import{e as G}from"./emailSv-MQFR-RsC.js";import{u as fe}from"./index-DD9AOJWo.js";import{g as Ce,p as ve,d as ye,a as be}from"./globalFetcher-PGxvMJiC.js";import{I as ee}from"./IconStar-xQte1ro3.js";import{I as Se}from"./IconPencil-ByFngOY8.js";import{I as ke}from"./IconDeviceFloppy-CRMFVRPW.js";import{I as te}from"./IconTrash-C3ez3ykA.js";import{A as se}from"./Avatar-VhdGUpSM.js";import{L as ae}from"./ListItemButton-Cvi3WSid.js";import{L as ze}from"./ListItemAvatar-AGuExY3-.js";import{L as ne}from"./ListItemText-HVc0yZD9.js";import{F as we}from"./Fab-CFrL7wE8.js";import{I as Ie}from"./IconMenu2-ZCLYLIQt.js";import{I as De}from"./InputAdornment-fA5QdII4.js";import{I as We}from"./IconSearch-Yybor66O.js";import{u as Fe}from"./user-1-D-7A9xHG.js";import{D as Le}from"./DialogContentText-7mZ6slPG.js";import{I as Te}from"./IconMail-BIq2zd8G.js";import{I as Ae}from"./IconSend-CeiKgSUO.js";import{I as _}from"./IconFolder-DrPvmXKn.js";import{L as Be}from"./ListItemIcon-BQ94Lp15.js";import{A as Ee}from"./AppCard-CKtIQPg0.js";import{u as V}from"./index-EAhLm5eq.js";import{D as K}from"./Drawer-Cn2Ga6pf.js";import"./Helmet-B7mFktpd.js";import"./index-Ch3W3BYh.js";import"./Breadcrumbs-CsbCfS7M.js";import"./Link-CZmOux0z.js";import"./index-D6NGubqj.js";import"./isSymbol-D488ncVs.js";import"./listItemButtonClasses-BdhSRkE2.js";/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=[["path",{d:"M4 7a8 4 0 1 0 16 0a8 4 0 1 0 -16 0",key:"svg-0"}],["path",{d:"M4 7c0 .664 .088 1.324 .263 1.965l2.737 10.035c.5 1.5 2.239 2 5 2s4.5 -.5 5 -2c.333 -1 1.246 -4.345 2.737 -10.035a7.45 7.45 0 0 0 .263 -1.965",key:"svg-1"}]],Me=me("outline","bucket","Bucket",Pe),T=x.createContext(void 0),Ne=({children:i})=>{const[n,r]=x.useState([]),[o,a]=x.useState([]),[t,c]=x.useState(null),[s,h]=x.useState("All"),[b,W]=x.useState(""),[I,k]=x.useState(!1),[l,j]=x.useState(!0),[A,f]=x.useState(null),{data:g,isLoading:F,error:P,mutate:M}=fe("/api/data/contacts/contactsData",Ce);x.useEffect(()=>{if(g){const d=g.data;if(r(d),n.length===0){const C=d.filter(z=>z.starred).map(z=>z.id);a(C),c(d[0])}}else P?(j(F),f(P)):j(F)},[g,P,F,n.length]);const re={selectedDepartment:s,setSelectedDepartment:h,contacts:n,setContacts:r,starredContacts:o,setStarredContacts:a,selectedContact:t,setSelectedContact:c,addContact:d=>B(void 0,null,function*(){try{yield M(be("/api/data/contacts/addContact",d))}catch(C){console.log("Failed to add contact",C)}}),deleteContact:d=>B(void 0,null,function*(){try{yield M(ye("/api/data/contacts/deleteContact",{data:{contactId:d}})),t&&t.id===d&&c(null)}catch(C){console.error("Failed to delete contact:",C)}}),updateContact:d=>B(void 0,null,function*(){try{yield M(ve("/api/data/contacts/updateContact",d)),c(d)}catch(C){console.error("Failed to update contact:",C)}}),error:A,loading:l,selectContact:d=>{c(d)},toggleStarred:d=>{o.includes(d)?a(C=>C.filter(z=>z!==d)):a(C=>[...C,d]),r(C=>{const z=C.map(L=>L.id===d?y(v({},L),{starred:!L.starred}):L);return(t==null?void 0:t.id)===d&&c(z.find(L=>L.id===d)||null),z})},searchTerm:b,updateSearchTerm:d=>{W(d)},openModal:I,setOpenModal:k};return e.jsx(T.Provider,{value:re,children:i})},Re=()=>{const i=Z(),[n,r]=x.useState(!1),[o,a]=x.useState(null),{selectedContact:t,toggleStarred:c,updateContact:s,deleteContact:h}=x.useContext(T),b=i.palette.warning.main,W=[{id:1,title:"Firstname",alias:"firstname",gdata:t?t.firstname:"",type:"text"},{id:2,title:"Lastname",alias:"lastname",gdata:t?t.lastname:"",type:"text"},{id:3,title:"Company",alias:"company",gdata:t?t.company:"",type:"text"},{id:4,title:"Department",alias:"department",gdata:t?t.department:"",type:"text"},{id:5,title:"Email",alias:"email",gdata:t?t.email:"",type:"email"},{id:6,title:"Phone",alias:"phone",gdata:t?t.phone:"",type:"phone"},{id:7,title:"Address",alias:"address",gdata:t?t.address:"",type:"text"},{id:8,title:"Notes",alias:"notes",gdata:t?t.notes:"",type:"text"}],I=()=>{r(!n),!n&&t&&a(v({},t))},k=()=>{o&&s(o),r(!1)},l=j=>{const{name:A,value:f}=j.target;o&&a(g=>y(v({},g),{[A]:f}))};return e.jsx(e.Fragment,{children:t&&!t.deleted?e.jsxs(e.Fragment,{children:[e.jsxs(p,{p:3,py:2,display:"flex",alignItems:"center",children:[e.jsx(m,{variant:"h5",children:"Contact Details"}),e.jsxs(J,{gap:0,direction:"row",ml:"auto",children:[e.jsx(N,{title:t.starred?"Unstar":"Star",children:e.jsx(R,{onClick:()=>c(t==null?void 0:t.id),children:e.jsx(ee,{stroke:1.3,size:"18",style:{fill:t.starred?b:"",stroke:t.starred?b:""}})})}),e.jsx(N,{title:n?"Save":"Edit",children:e.jsx(R,{onClick:n?k:I,children:n?e.jsx(ke,{size:"18",stroke:1.3}):e.jsx(Se,{size:"18",stroke:1.3})})}),e.jsx(N,{title:"Delete",children:e.jsx(R,{onClick:()=>h(t.id),children:e.jsx(te,{size:"18",stroke:1.3})})})]})]}),e.jsx(O,{}),e.jsx(p,{sx:{overflow:"auto"},children:n?e.jsx(e.Fragment,{children:e.jsx(ge,{sx:{p:0},children:e.jsx(q,{sx:{height:{lg:"calc(100vh - 360px)",md:"100vh"}},children:e.jsxs(p,{pt:1,children:[W.map(j=>e.jsxs(p,{px:3,py:1.5,children:[e.jsx(m,{variant:"subtitle1",fontWeight:600,mb:.5,children:j.title}),e.jsx(S,{id:j.alias,size:"small",fullWidth:!0,type:j.type,name:j.alias,value:o?o[j.alias]:"",onChange:l})]},j.id)),e.jsx(p,{p:3,children:e.jsx(D,{color:"primary",variant:"contained",onClick:k,children:"Save Contact"})})]})})})}):e.jsxs(p,{children:[e.jsxs(p,{p:3,children:[e.jsxs(p,{display:"flex",alignItems:"center",children:[e.jsx(se,{alt:t.image,src:t.image,sx:{width:"72px",height:"72px"}}),e.jsxs(p,{sx:{ml:2},children:[e.jsxs(m,{variant:"h6",mb:.5,children:[t.firstname," ",t.lastname]}),e.jsx(m,{variant:"body2",color:"text.secondary",mb:.5,children:t.department}),e.jsx(m,{variant:"body2",color:"text.secondary",children:t.company})]})]}),e.jsxs(u,{container:!0,children:[e.jsxs(u,{mt:4,size:{lg:6,xs:12},children:[e.jsx(m,{variant:"body2",color:"text.secondary",children:"Phone Number"}),e.jsx(m,{variant:"subtitle1",mb:.5,fontWeight:600,children:t.phone})]}),e.jsxs(u,{mt:4,size:{lg:6,xs:12},children:[e.jsx(m,{variant:"body2",color:"text.secondary",children:"Email address"}),e.jsx(m,{variant:"subtitle1",fontWeight:600,mb:.5,children:t.email})]}),e.jsxs(u,{mt:4,size:{lg:12,xs:12},children:[e.jsx(m,{variant:"body2",color:"text.secondary",children:"Address"}),e.jsx(m,{variant:"subtitle1",fontWeight:600,mb:.5,children:t.address})]}),e.jsxs(u,{mt:4,size:{lg:6,xs:12},children:[e.jsx(m,{variant:"body2",color:"text.secondary",children:"Department"}),e.jsx(m,{variant:"subtitle1",mb:.5,fontWeight:600,children:t.department})]}),e.jsxs(u,{mt:4,size:{lg:6,xs:12},children:[e.jsx(m,{variant:"body2",color:"text.secondary",children:"Company"}),e.jsx(m,{variant:"subtitle1",fontWeight:600,mb:.5,children:t.company})]}),e.jsxs(u,{mt:4,size:{lg:12,xs:12},children:[e.jsx(m,{variant:"body2",mb:1,color:"text.secondary",children:"Notes"}),e.jsx(m,{variant:"subtitle1",mb:.5,children:t.notes})]})]})]}),e.jsx(O,{}),e.jsxs(p,{p:3,gap:1,display:"flex",children:[e.jsx(D,{color:"primary",variant:"contained",size:"small",onClick:I,children:"Edit"}),e.jsx(D,{color:"error",variant:"contained",size:"small",onClick:()=>h(t.id),children:"Delete"})]})]})})]}):e.jsx(p,{p:3,height:"50vh",display:"flex",justifyContent:"center",alignItems:"center",children:e.jsxs(p,{children:[e.jsx(m,{variant:"h4",children:"Please Select a Contact"}),e.jsx("br",{}),e.jsx("img",{src:G,alt:G,width:"250px"})]})})})},_e=({onContactClick:i,onStarredClick:n,onDeleteClick:r,id:o,firstname:a,lastname:t,image:c,department:s,starred:h,active:b})=>{const{isBorderRadius:W}=x.useContext(X),k=Z().palette.warning.main;return e.jsxs(ae,{sx:{mb:1},selected:b,onClick:i,children:[e.jsx(ze,{children:e.jsx(se,{alt:c,src:c})}),e.jsx(ne,{children:e.jsxs(J,{direction:"row",gap:"10px",alignItems:"center",children:[e.jsxs(p,{mr:"auto",onClick:i,children:[e.jsxs(m,{variant:"subtitle1",noWrap:!0,fontWeight:600,sx:{maxWidth:"150px"},children:[a," ",t]}),e.jsx(m,{variant:"body2",color:"text.secondary",noWrap:!0,children:s})]}),e.jsx(ee,{onClick:l=>{l.stopPropagation(),n(l)},size:"16",stroke:1.5,style:{fill:h?k:"",stroke:h?k:""}}),e.jsx(te,{onClick:l=>{l.stopPropagation(),r(l)},size:"16",stroke:1.5})]})})]})},Oe=({showrightSidebar:i})=>{const{selectedDepartment:n,contacts:r,deleteContact:o,starredContacts:a,toggleStarred:t,setSelectedContact:c,selectedContact:s,searchTerm:h}=x.useContext(T),W=((l,j,A)=>{let f=[...l];if(j!=="All"&&(j==="Frequent"?f=f.filter(g=>g.frequentlycontacted):j==="Starred"?f=f.filter(g=>a.includes(g.id)):f=f.filter(g=>g.department===j)),h.trim()!==""){const g=A.toLowerCase();f=f.filter(F=>F.firstname.toLowerCase().includes(g)||F.lastname.toLowerCase().includes(g))}return f})(r,n,h),I=l=>{c(l)},k=l=>{t(l)};return e.jsx(Y,{children:e.jsx(q,{sx:{height:{lg:"calc(100vh - 100px)",md:"100vh"},maxHeight:"800px"},children:W.map(l=>e.jsx(_e,y(v({active:l.id===(s==null?void 0:s.id)},l),{onContactClick:()=>{I(l),i()},onDeleteClick:()=>o(l.id),onStarredClick:()=>k(l==null?void 0:l.id)}),l.id))})})},qe=({onClick:i})=>{const{updateSearchTerm:n,searchTerm:r}=x.useContext(T),o=a=>{n(a.target.value)};return e.jsxs(p,{display:"flex",sx:{p:2},children:[e.jsx(we,{onClick:i,color:"primary",size:"small",sx:{mr:1,flexShrink:"0",display:{xs:"block",lineHeight:"10px",lg:"none"}},children:e.jsx(Ie,{width:"16"})}),e.jsx(S,{id:"outlined-basic",InputProps:{endAdornment:e.jsx(De,{position:"end",children:e.jsx(We,{size:"16"})})},fullWidth:!0,size:"small",value:r,placeholder:"Search Contacts",variant:"outlined",onChange:o})]})},He=()=>{const[i,n]=$.useState(!1),{addContact:r}=x.useContext(T),o=()=>{n(!i)},[a,t]=$.useState({firstname:"",lastname:"",department:"",company:"",phone:"",email:"",address:"",notes:""}),c=s=>{s.preventDefault();const h={firstname:a.firstname,lastname:a.lastname,department:a.department,company:a.company,phone:a.phone,email:a.email,address:a.address,notes:a.notes,starred:!1,image:Fe};r(h),n(!i)};return e.jsxs(e.Fragment,{children:[e.jsx(p,{p:3,pb:1,children:e.jsx(D,{color:"primary",variant:"contained",fullWidth:!0,onClick:o,children:"Add New Contact"})}),e.jsxs(xe,{open:i,onClose:o,maxWidth:"sm","aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[e.jsx(he,{id:"alert-dialog-title",variant:"h5",children:"Add New Contact"}),e.jsxs(pe,{children:[e.jsxs(Le,{id:"alert-dialog-description",children:["Lets add new contact for your application. fill the all field and",e.jsx("br",{})," click on submit button."]}),e.jsx(p,{mt:3,children:e.jsx("form",{onSubmit:c,children:e.jsxs(u,{spacing:3,container:!0,children:[e.jsxs(u,{size:{xs:12,lg:6},children:[e.jsx(w,{children:"FirstName"}),e.jsx(S,{id:"firstname",size:"small",variant:"outlined",fullWidth:!0,value:a.firstname,onChange:s=>t(y(v({},a),{firstname:s.target.value}))})]}),e.jsxs(u,{size:{xs:12,lg:6},children:[e.jsx(w,{children:"LastName"}),e.jsx(S,{id:"lastname",size:"small",variant:"outlined",fullWidth:!0,value:a.lastname,onChange:s=>t(y(v({},a),{lastname:s.target.value}))})]}),e.jsxs(u,{size:{xs:12,lg:6},children:[e.jsx(w,{children:"Department"}),e.jsx(S,{id:"department",size:"small",variant:"outlined",fullWidth:!0,value:a.department,onChange:s=>t(y(v({},a),{department:s.target.value}))})]}),e.jsxs(u,{size:{xs:12,lg:6},children:[e.jsx(w,{children:"Company"}),e.jsx(S,{id:"company",size:"small",variant:"outlined",fullWidth:!0,value:a.company,onChange:s=>t(y(v({},a),{company:s.target.value}))})]}),e.jsxs(u,{size:{xs:12,lg:6},children:[e.jsx(w,{children:"Phone"}),e.jsx(S,{id:"phone",size:"small",variant:"outlined",fullWidth:!0,value:a.phone,onChange:s=>t(y(v({},a),{phone:s.target.value}))})]}),e.jsxs(u,{size:{xs:12,lg:6},children:[e.jsx(w,{children:"Email"}),e.jsx(S,{id:"email",type:"email",required:!0,size:"small",variant:"outlined",fullWidth:!0,value:a.email,onChange:s=>t(y(v({},a),{email:s.target.value}))})]}),e.jsxs(u,{size:{xs:12,lg:12},children:[e.jsx(w,{children:"Address"}),e.jsx(S,{id:"address",size:"small",multiline:!0,rows:"3",variant:"outlined",fullWidth:!0,value:a.address,onChange:s=>t(y(v({},a),{address:s.target.value}))})]}),e.jsxs(u,{size:{xs:12,lg:12},children:[e.jsx(w,{children:"Notes"}),e.jsx(S,{id:"notes",size:"small",multiline:!0,rows:"4",variant:"outlined",fullWidth:!0,value:a.notes,onChange:s=>t(y(v({},a),{notes:s.target.value}))})]}),e.jsxs(u,{size:{xs:12,lg:12},children:[e.jsx(D,{variant:"contained",color:"primary",sx:{mr:1},type:"submit",disabled:a.firstname.length===0||a.notes.length===0,children:"Submit"}),e.jsx(D,{variant:"contained",color:"error",onClick:o,children:"Cancel"})]})]})})})]})]})]})},Ue=()=>{const{isBorderRadius:i}=x.useContext(X),n=`${i}px`,{setSelectedDepartment:r,updateSearchTerm:o,selectedDepartment:a}=x.useContext(T),t=[{id:2,name:"All",sort:"show_all",icon:Te},{id:3,name:"Frequent",sort:"frequent_contact",icon:Ae},{id:4,name:"Starred",sort:"starred_contact",icon:Me},{id:6,devider:!0},{id:5,filterbyTitle:"Categories"},{id:7,name:"Engineering",sort:"engineering_department",icon:_,color:"primary.main"},{id:8,name:"Support",sort:"support_department",icon:_,color:"error.main"},{id:9,name:"Sales",sort:"sales_department",icon:_,color:"success.main"}],c=s=>{r(s),o("")};return e.jsxs(e.Fragment,{children:[e.jsx(He,{}),e.jsx(Y,{children:e.jsx(q,{sx:{height:{lg:"calc(100vh - 100px)",md:"100vh"},maxHeight:"800px"},children:t.map(s=>s.filterbyTitle?e.jsx(m,{variant:"subtitle1",fontWeight:600,pl:5.1,mt:1,pb:2,children:s.filterbyTitle},s.id):s.devider?e.jsx(O,{sx:{mb:3}},s.id):e.jsxs(ae,{sx:{mb:1,mx:3,borderRadius:n},selected:a===`${s.name}`,onClick:()=>c(s.name||""),children:[e.jsx(Be,{sx:{minWidth:"30px",color:s.color},children:e.jsx(s.icon,{stroke:"1.5",size:19})}),e.jsx(ne,{children:s.name})]},s.id))})})]})},Q=240,E=320,Et=()=>{const[i,n]=x.useState(!1),[r,o]=x.useState(!1),a=V(s=>s.breakpoints.up("lg")),t=V(s=>s.breakpoints.up("md")),c=[{to:"/",title:"Home"},{title:"Contact"}];return e.jsx(Ne,{children:e.jsxs(ue,{title:"Contact App",description:"this is Contact page",children:[e.jsx(je,{title:"Contact app",items:c}),e.jsxs(Ee,{children:[e.jsx(K,{open:i,onClose:()=>n(!1),sx:{width:Q,"& .MuiDrawer-paper":{width:Q,position:"relative",zIndex:2},flexShrink:0},variant:a?"permanent":"temporary",children:e.jsx(Ue,{})}),e.jsxs(p,{sx:{minWidth:E,width:{xs:"100%",md:E,lg:E},flexShrink:0},children:[e.jsx(qe,{onClick:()=>n(!0)}),e.jsx(Oe,{showrightSidebar:()=>o(!0)})]}),e.jsxs(K,{anchor:"right",open:r,onClose:()=>o(!1),variant:t?"permanent":"temporary",sx:{width:t?E:"100%",zIndex:a?0:1,flex:t?"auto":"","& .MuiDrawer-paper":{width:"100%",position:"relative"}},children:[t?"":e.jsx(p,{sx:{p:3},children:e.jsxs(D,{variant:"outlined",color:"primary",size:"small",onClick:()=>o(!1),sx:{mb:3,display:{xs:"block",md:"none",lg:"none"}},children:["Back"," "]})}),e.jsx(Re,{})]})]})]})})};export{Et as default};
//# sourceMappingURL=Contacts-Cc5kpASA.js.map
