var ht=Object.defineProperty;var S=Object.getOwnPropertySymbols;var nt=Object.prototype.hasOwnProperty,st=Object.prototype.propertyIsEnumerable;var et=(t,e,n)=>e in t?ht(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,j=(t,e)=>{for(var n in e||(e={}))nt.call(e,n)&&et(t,n,e[n]);if(S)for(var n of S(e))st.call(e,n)&&et(t,n,e[n]);return t};var ot=(t,e)=>{var n={};for(var s in t)nt.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&S)for(var s of S(t))e.indexOf(s)<0&&st.call(t,s)&&(n[s]=t[s]);return n};var A=(t,e,n)=>new Promise((s,i)=>{var r=c=>{try{a(n.next(c))}catch(p){i(p)}},o=c=>{try{a(n.throw(c))}catch(p){i(p)}},a=c=>c.done?s(c.value):Promise.resolve(c.value).then(r,o);a((n=n.apply(t,e)).next())});import{r as x,b as mt}from"./vendor-Dkfty7_r.js";import{aY as Et}from"./index-Dgvcv9SG.js";const pt=0,yt=1,Ot=2,Yt=3;var ct=Object.prototype.hasOwnProperty;function U(t,e){var n,s;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((s=t.length)===e.length)for(;s--&&U(t[s],e[s]););return s===-1}if(!n||typeof t=="object"){s=0;for(n in t)if(ct.call(t,n)&&++s&&!ct.call(e,n)||!(n in e)||!U(t[n],e[n]))return!1;return Object.keys(e).length===s}}return t!==t&&e!==e}const g=new WeakMap,w=()=>{},f=w(),J=Object,E=t=>t===f,b=t=>typeof t=="function",R=(t,e)=>j(j({},t),e),Tt=t=>b(t.then),P={},F={},Y="undefined",I=typeof window!=Y,W=typeof document!=Y,wt=I&&"Deno"in window,gt=()=>I&&typeof window.requestAnimationFrame!=Y,bt=(t,e)=>{const n=g.get(t);return[()=>!E(e)&&t.get(e)||P,s=>{if(!E(e)){const i=t.get(e);e in F||(F[e]=i),n[5](e,R(i,s),i||P)}},n[6],()=>!E(e)&&e in F?F[e]:!E(e)&&t.get(e)||P]};let $=!0;const Ct=()=>$,[G,H]=I&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[w,w],Rt=()=>{const t=W&&document.visibilityState;return E(t)||t!=="hidden"},vt=t=>(W&&document.addEventListener("visibilitychange",t),G("focus",t),()=>{W&&document.removeEventListener("visibilitychange",t),H("focus",t)}),Dt=t=>{const e=()=>{$=!0,t()},n=()=>{$=!1};return G("online",e),G("offline",n),()=>{H("online",e),H("offline",n)}},_t={isOnline:Ct,isVisible:Rt},St={initFocus:vt,initReconnect:Dt},Bt=!mt.useId,B=!I||wt,zt=t=>gt()?window.requestAnimationFrame(t):setTimeout(t,1),Qt=B?x.useEffect:x.useLayoutEffect,V=typeof navigator!="undefined"&&navigator.connection,rt=!B&&V&&(["slow-2g","2g"].includes(V.effectiveType)||V.saveData),N=new WeakMap,At=t=>J.prototype.toString.call(t),M=(t,e)=>t===`[object ${e}]`;let Ft=0;const q=t=>{const e=typeof t,n=At(t),s=M(n,"Date"),i=M(n,"RegExp"),r=M(n,"Object");let o,a;if(J(t)===t&&!s&&!i){if(o=N.get(t),o)return o;if(o=++Ft+"~",N.set(t,o),Array.isArray(t)){for(o="@",a=0;a<t.length;a++)o+=q(t[a])+",";N.set(t,o)}if(r){o="#";const c=J.keys(t).sort();for(;!E(a=c.pop());)E(t[a])||(o+=a+":"+q(t[a])+",");N.set(t,o)}}else o=s?t.toJSON():e=="symbol"?t.toString():e=="string"?JSON.stringify(t):""+t;return o},Nt=t=>{if(b(t))try{t=t()}catch(n){t=""}const e=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?q(t):"",[t,e]};let It=0;const it=()=>++It;function Lt(...t){return A(this,null,function*(){const[e,n,s,i]=t,r=R({populateCache:!0,throwOnError:!0},typeof i=="boolean"?{revalidate:i}:i||{});let o=r.populateCache;const a=r.rollbackOnError;let c=r.optimisticData;const p=l=>typeof a=="function"?a(l):a!==!1,m=r.throwOnError;if(b(n)){const l=n,u=[],T=e.keys();for(const y of T)!/^\$(inf|sub)\$/.test(y)&&l(e.get(y)._k)&&u.push(y);return Promise.all(u.map(d))}return d(n);function d(l){return A(this,null,function*(){const[u]=Nt(l);if(!u)return;const[T,y]=bt(e,u),[lt,L,ft,dt]=g.get(e),z=()=>{const O=lt[u];return(b(r.revalidate)?r.revalidate(T().data,l):r.revalidate!==!1)&&(delete ft[u],delete dt[u],O&&O[0])?O[0](Ot).then(()=>T().data):T().data};if(t.length<3)return z();let h=s,v,C=!1;const Q=it();L[u]=[Q,0];const X=!E(c),Z=T(),k=Z.data,tt=Z._c,D=E(tt)?k:tt;if(X&&(c=b(c)?c(D,k):c,y({data:c,_c:D})),b(h))try{h=h(D)}catch(O){v=O,C=!0}if(h&&Tt(h))if(h=yield h.catch(O=>{v=O,C=!0}),Q!==L[u][0]){if(C)throw v;return h}else C&&X&&p(v)&&(o=!0,y({data:D,_c:f}));if(o&&!C)if(b(o)){const O=o(h,D);y({data:O,error:f,_c:f})}else y({data:h,error:f,_c:f});if(L[u][1]=it(),Promise.resolve(z()).then(()=>{y({_c:f})}),C){if(m)throw v;return}return h})}})}const at=(t,e)=>{for(const n in t)t[n][0]&&t[n][0](e)},jt=(t,e)=>{if(!g.has(t)){const n=R(St,e),s=Object.create(null),i=Lt.bind(f,t);let r=w;const o=Object.create(null),a=(m,d)=>{const l=o[m]||[];return o[m]=l,l.push(d),()=>l.splice(l.indexOf(d),1)},c=(m,d,l)=>{t.set(m,d);const u=o[m];if(u)for(const T of u)T(d,l)},p=()=>{if(!g.has(t)&&(g.set(t,[s,Object.create(null),Object.create(null),Object.create(null),i,c,a]),!B)){const m=n.initFocus(setTimeout.bind(f,at.bind(f,s,pt))),d=n.initReconnect(setTimeout.bind(f,at.bind(f,s,yt)));r=()=>{m&&m(),d&&d(),g.delete(t)}}};return p(),[t,i,p,r]}return[t,g.get(t)[4]]},Pt=(t,e,n,s,i)=>{const r=n.errorRetryCount,o=i.retryCount,a=~~((Math.random()+.5)*(1<<(o<8?o:8)))*n.errorRetryInterval;!E(r)&&o>r||setTimeout(s,a,i)},Vt=U,[Mt,xt]=jt(new Map),Xt=R({onLoadingSlow:w,onSuccess:w,onError:w,onErrorRetry:Pt,onDiscarded:w,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:rt?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:rt?5e3:3e3,compare:Vt,isPaused:()=>!1,cache:Mt,mutate:xt,fallback:{}},_t),Zt=(t,e)=>{const n=R(t,e);if(e){const{use:s,fallback:i}=t,{use:r,fallback:o}=e;s&&r&&(n.use=s.concat(r)),i&&o&&(n.fallback=R(i,o))}return n},kt=x.createContext({}),K=new Map,ut=5*60*1e3;function Ut(t,e){const n=(e==null?void 0:e.method)||"GET",s=e!=null&&e.body?JSON.stringify(e.body):"";return`${n}:${t}:${s}`}function Jt(t){return Date.now()-t.timestamp<t.ttl}function Wt(t){const e=K.get(t);return e&&Jt(e)?e.data:(e&&K.delete(t),null)}function $t(t,e,n=ut){K.set(t,{data:e,timestamp:Date.now(),ttl:n})}function _(n){return A(this,arguments,function*(t,e={}){const a=e,{cache:s=!0,revalidate:i=!1}=a,r=ot(a,["cache","revalidate"]),o=Ut(t,r);if(!i&&r.method==="GET"&&s){const c=Wt(o);if(c)return c}try{const c=yield Et(t,r);return r.method==="GET"&&s&&$t(o,c,typeof s=="number"?s:ut),c}catch(c){throw c}})}const te=t=>_(t,{method:"GET"}),ee=(t,e)=>_(t,{method:"POST",body:JSON.stringify(e)}),ne=(t,e)=>_(t,{method:"PUT",body:JSON.stringify(e)}),se=t=>_(t,{method:"DELETE"}),oe=(t,e)=>_(t,{method:"PATCH",body:JSON.stringify(e)});export{Yt as E,pt as F,B as I,Ot as M,yt as R,kt as S,f as U,ee as a,oe as b,Zt as c,se as d,R as e,Xt as f,te as g,I as h,b as i,g as j,Mt as k,E as l,xt as m,bt as n,Tt as o,ne as p,w as q,it as r,Nt as s,Lt as t,Qt as u,zt as v,Bt as w};
//# sourceMappingURL=globalFetcher-PGxvMJiC.js.map
