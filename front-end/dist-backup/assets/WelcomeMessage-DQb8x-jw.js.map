{"version":3,"file":"WelcomeMessage-DQb8x-jw.js","sources":["../../src/features/pages/frontend-pages/WelcomeMessage.tsx"],"sourcesContent":["import React, { useEffect, useMemo, useRef, useState } from \"react\";\n\n// OrthodoxMetrics Theme Constants\nconst BRAND_GRADIENT = \"linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)\";\nconst ACCENT_COLOR = \"#007bff\";\n\n/* ... types remain same ... */\n\nexport const WelcomeMessage: React.FC<Props> = ({\n  isOpen,\n  onClose,\n  isSuperAdmin,\n  storageKeys = {}\n}) => {\n  // 1. Refactored logic to use the new /api/system/health context\n  // This ensures the onboarding only shows if the MariaDB 'Sync' is green\n  const [config, setConfig] = useState<OnboardingConfig | null>(null);\n  const [userState, setUserState] = useState<UserOnboardingState>({\n    status: \"incomplete\",\n    stepIndex: 0\n  });\n\n  /* ... effect logic for loading ... */\n\n  // 2. Flashy Gradient UI Fixes\n  const styles: Record<string, React.CSSProperties> = {\n    overlay: {\n      position: \"fixed\",\n      inset: 0,\n      backgroundColor: \"rgba(0,0,0,0.5)\",\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      zIndex: 1000,\n      backdropFilter: \"blur(4px)\",\n    },\n    modal: {\n      background: BRAND_GRADIENT, // Applied your preferred gradient\n      width: \"90%\",\n      maxWidth: \"600px\",\n      maxHeight: \"85vh\",\n      borderRadius: \"16px\",\n      boxShadow: \"0 20px 25px -5px rgba(0,0,0,0.1)\",\n      overflow: \"hidden\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      border: \"1px solid rgba(255,255,255,0.3)\"\n    },\n    header: {\n      padding: \"20px\",\n      borderBottom: \"1px solid rgba(0,0,0,0.05)\",\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\"\n    },\n    buttonPrimary: {\n      background: ACCENT_COLOR,\n      color: \"white\",\n      border: \"none\",\n      padding: \"10px 20px\",\n      borderRadius: \"8px\",\n      cursor: \"pointer\",\n      fontWeight: 600,\n      transition: \"transform 0.2s\",\n    }\n  };\n\n  if (!isOpen || !config) return null;\n\n  const currentStep = config.steps[userState.stepIndex];\n\n  return (\n    <div style={styles.overlay}>\n      <div style={styles.modal}>\n        <div style={styles.header}>\n          <h2 style={{ margin: 0 }}>{config.modalTitle || \"Welcome to OrthodoxMetrics\"}</h2>\n          {(!config.requireCompletionToDismiss || isSuperAdmin) && (\n            <button onClick={onClose} style={{ background: \"none\", border: \"none\", cursor: \"pointer\", fontSize: \"1.5rem\" }}>Ã—</button>\n          )}\n        </div>\n\n        <div style={{ padding: \"30px\", overflowY: \"auto\", flex: 1, textAlign: \"center\" }}>\n          {currentStep.imageUrl && (\n            <img \n              src={currentStep.imageUrl} \n              alt={currentStep.imageAlt} \n              style={{ width: \"100%\", maxHeight: \"200px\", objectFit: \"contain\", marginBottom: \"20px\", borderRadius: \"8px\" }} \n            />\n          )}\n          <h3>{currentStep.title}</h3>\n          <p style={{ color: \"#666\", lineHeight: 1.6 }}>{currentStep.description}</p>\n        </div>\n\n        <div style={{ padding: \"20px\", display: \"flex\", justifyContent: \"flex-end\", gap: \"10px\", background: \"rgba(255,255,255,0.5)\" }}>\n          {userState.stepIndex > 0 && (\n            <button onClick={() => setUserState(prev => ({ ...prev, stepIndex: prev.stepIndex - 1 }))}>\n              Back\n            </button>\n          )}\n          <button \n            style={styles.buttonPrimary}\n            onClick={() => {\n              if (userState.stepIndex < config.steps.length - 1) {\n                setUserState(prev => ({ ...prev, stepIndex: prev.stepIndex + 1 }));\n              } else {\n                onClose();\n              }\n            }}\n          >\n            {userState.stepIndex < config.steps.length - 1 ? currentStep.primaryLabel : \"Get Started\"}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n"],"names":["BRAND_GRADIENT","ACCENT_COLOR","WelcomeMessage","isOpen","onClose","isSuperAdmin","storageKeys","config","setConfig","useState","userState","setUserState","styles","currentStep","jsx","jsxs","prev","__spreadProps","__spreadValues"],"mappings":"8fAGA,MAAMA,EAAiB,oDACjBC,EAAe,UAIRC,EAAkC,CAAC,CAC9C,OAAAC,EACA,QAAAC,EACA,aAAAC,EACA,YAAAC,EAAc,CAAA,CAChB,IAAM,CAGJ,KAAM,CAACC,EAAQC,CAAS,EAAIC,EAAAA,SAAkC,IAAI,EAC5D,CAACC,EAAWC,CAAY,EAAIF,WAA8B,CAC9D,OAAQ,aACR,UAAW,CAAA,CACZ,EAKKG,EAA8C,CAClD,QAAS,CACP,SAAU,QACV,MAAO,EACP,gBAAiB,kBACjB,QAAS,OACT,WAAY,SACZ,eAAgB,SAChB,OAAQ,IACR,eAAgB,WAAA,EAElB,MAAO,CACL,WAAYZ,EACZ,MAAO,MACP,SAAU,QACV,UAAW,OACX,aAAc,OACd,UAAW,mCACX,SAAU,SACV,QAAS,OACT,cAAe,SACf,OAAQ,iCAAA,EAEV,OAAQ,CACN,QAAS,OACT,aAAc,6BACd,QAAS,OACT,eAAgB,gBAChB,WAAY,QAAA,EAEd,cAAe,CACb,WAAYC,EACZ,MAAO,QACP,OAAQ,OACR,QAAS,YACT,aAAc,MACd,OAAQ,UACR,WAAY,IACZ,WAAY,gBAAA,CACd,EAGF,GAAI,CAACE,GAAU,CAACI,EAAQ,OAAO,KAE/B,MAAMM,EAAcN,EAAO,MAAMG,EAAU,SAAS,EAEpD,OACEI,EAAAA,IAAC,OAAI,MAAOF,EAAO,QACjB,SAAAG,EAAAA,KAAC,MAAA,CAAI,MAAOH,EAAO,MACjB,SAAA,CAAAG,EAAAA,KAAC,MAAA,CAAI,MAAOH,EAAO,OACjB,SAAA,CAAAE,EAAAA,IAAC,KAAA,CAAG,MAAO,CAAE,OAAQ,GAAM,SAAAP,EAAO,YAAc,4BAAA,CAA6B,GAC3E,CAACA,EAAO,4BAA8BF,IACtCS,EAAAA,IAAC,SAAA,CAAO,QAASV,EAAS,MAAO,CAAE,WAAY,OAAQ,OAAQ,OAAQ,OAAQ,UAAW,SAAU,QAAA,EAAY,SAAA,GAAA,CAAC,CAAA,EAErH,EAEAW,EAAAA,KAAC,MAAA,CAAI,MAAO,CAAE,QAAS,OAAQ,UAAW,OAAQ,KAAM,EAAG,UAAW,QAAA,EACnE,SAAA,CAAAF,EAAY,UACXC,EAAAA,IAAC,MAAA,CACC,IAAKD,EAAY,SACjB,IAAKA,EAAY,SACjB,MAAO,CAAE,MAAO,OAAQ,UAAW,QAAS,UAAW,UAAW,aAAc,OAAQ,aAAc,KAAA,CAAM,CAAA,EAGhHC,EAAAA,IAAC,KAAA,CAAI,SAAAD,EAAY,KAAA,CAAM,EACvBC,EAAAA,IAAC,IAAA,CAAE,MAAO,CAAE,MAAO,OAAQ,WAAY,GAAA,EAAQ,SAAAD,EAAY,WAAA,CAAY,CAAA,EACzE,EAEAE,EAAAA,KAAC,MAAA,CAAI,MAAO,CAAE,QAAS,OAAQ,QAAS,OAAQ,eAAgB,WAAY,IAAK,OAAQ,WAAY,yBAClG,SAAA,CAAAL,EAAU,UAAY,GACrBI,EAAAA,IAAC,SAAA,CAAO,QAAS,IAAMH,EAAaK,GAASC,EAAAC,EAAA,GAAKF,GAAL,CAAW,UAAWA,EAAK,UAAY,CAAA,EAAI,EAAG,SAAA,OAE3F,EAEFF,EAAAA,IAAC,SAAA,CACC,MAAOF,EAAO,cACd,QAAS,IAAM,CACTF,EAAU,UAAYH,EAAO,MAAM,OAAS,EAC9CI,EAAaK,GAASC,EAAAC,EAAA,GAAKF,GAAL,CAAW,UAAWA,EAAK,UAAY,GAAI,EAEjEZ,EAAA,CAEJ,EAEC,WAAU,UAAYG,EAAO,MAAM,OAAS,EAAIM,EAAY,aAAe,aAAA,CAAA,CAC9E,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CACF,CAEJ"}