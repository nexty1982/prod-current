{"version":3,"file":"AdminSettings-D3T6Aj-a.js","sources":["../../node_modules/@tabler/icons-react/dist/esm/icons/IconBrandGravatar.mjs","../../node_modules/@tabler/icons-react/dist/esm/icons/IconCircleCheck.mjs","../../node_modules/@tabler/icons-react/dist/esm/icons/IconCircleX.mjs","../../node_modules/@tabler/icons-react/dist/esm/icons/IconDatabaseExport.mjs","../../node_modules/@tabler/icons-react/dist/esm/icons/IconPlayerStop.mjs","../../node_modules/@tabler/icons-react/dist/esm/icons/IconRotate.mjs","../../node_modules/@tabler/icons-react/dist/esm/icons/IconTarget.mjs","../../node_modules/@tabler/icons-react/dist/esm/icons/IconTestPipe.mjs","../../node_modules/@tabler/icons-react/dist/esm/icons/IconVersions.mjs","../../node_modules/@tabler/icons-react/dist/esm/icons/IconWorld.mjs","../../node_modules/@mui/icons-material/esm/FileCopy.js","../../node_modules/@mui/x-date-pickers/internals/components/pickersToolbarTextClasses.js","../../node_modules/@mui/x-date-pickers/internals/components/PickersToolbarText.js","../../node_modules/@mui/x-date-pickers/internals/components/PickersToolbarButton.js","../../node_modules/@mui/x-date-pickers/internals/utils/validation/validateTime.js","../../node_modules/@mui/x-date-pickers/internals/utils/validation/validateDateTime.js","../../src/features/system/settings/BackupSettings.tsx","../../src/features/tables/settings/ImageGridExtractor.tsx","../../src/features/cms/settings/ContentSettings.tsx","../../src/features/misc-legacy/settings/ServiceManagement.tsx","../../node_modules/@mui/x-date-pickers/DateTimeField/useDateTimeField.js","../../node_modules/@mui/x-date-pickers/DateTimeField/DateTimeField.js","../../node_modules/@mui/x-date-pickers/DateTimePicker/dateTimePickerTabsClasses.js","../../node_modules/@mui/x-date-pickers/DateTimePicker/DateTimePickerTabs.js","../../node_modules/@mui/x-date-pickers/DateTimePicker/dateTimePickerToolbarClasses.js","../../node_modules/@mui/x-date-pickers/DateTimePicker/DateTimePickerToolbar.js","../../node_modules/@mui/x-date-pickers/DateTimePicker/shared.js","../../node_modules/@mui/x-date-pickers/MultiSectionDigitalClock/multiSectionDigitalClockClasses.js","../../node_modules/@mui/x-date-pickers/MultiSectionDigitalClock/multiSectionDigitalClockSectionClasses.js","../../node_modules/@mui/x-date-pickers/MultiSectionDigitalClock/MultiSectionDigitalClockSection.js","../../node_modules/@mui/x-date-pickers/MultiSectionDigitalClock/MultiSectionDigitalClock.utils.js","../../node_modules/@mui/x-date-pickers/internals/hooks/useClockReferenceDate.js","../../node_modules/@mui/x-date-pickers/MultiSectionDigitalClock/MultiSectionDigitalClock.js","../../node_modules/@mui/x-date-pickers/internals/components/DateTimeViewWrapper/DateTimeViewWrapper.js","../../node_modules/@mui/x-date-pickers/TimeClock/timeClockClasses.js","../../node_modules/@mui/x-date-pickers/TimeClock/shared.js","../../node_modules/@mui/x-date-pickers/TimeClock/clockPointerClasses.js","../../node_modules/@mui/x-date-pickers/TimeClock/ClockPointer.js","../../node_modules/@mui/x-date-pickers/TimeClock/clockClasses.js","../../node_modules/@mui/x-date-pickers/TimeClock/Clock.js","../../node_modules/@mui/x-date-pickers/TimeClock/clockNumberClasses.js","../../node_modules/@mui/x-date-pickers/TimeClock/ClockNumber.js","../../node_modules/@mui/x-date-pickers/TimeClock/ClockNumbers.js","../../node_modules/@mui/x-date-pickers/TimeClock/TimeClock.js","../../node_modules/@mui/x-date-pickers/DigitalClock/digitalClockClasses.js","../../node_modules/@mui/x-date-pickers/DigitalClock/DigitalClock.js","../../node_modules/@mui/x-date-pickers/timeViewRenderers/timeViewRenderers.js","../../node_modules/@mui/x-date-pickers/dateTimeViewRenderers/dateTimeViewRenderers.js","../../node_modules/@mui/x-date-pickers/internals/utils/date-time-utils.js","../../node_modules/@mui/x-date-pickers/DesktopDateTimePicker/DesktopDateTimePicker.js","../../node_modules/@mui/x-date-pickers/MobileDateTimePicker/MobileDateTimePicker.js","../../node_modules/@mui/x-date-pickers/DateTimePicker/DateTimePicker.js","../../src/components/admin/NotificationManagement.tsx","../../src/components/admin/UploadedFileList.tsx","../../src/components/admin/FileViewer.tsx","../../src/components/admin/BigBookSettings.tsx","../../src/components/admin/BigBookConsolePage.tsx","../../src/components/admin/EncryptedStoragePanel.tsx","../../src/components/admin/QuestionnairePreview.tsx","../../src/components/admin/OMAIDiscoveryPanel.tsx","../../src/components/admin/TSXComponentInstallWizard.tsx","../../src/components/admin/BigBookCustomComponentViewer.tsx","../../src/components/admin/MemoryManager.tsx","../../src/components/admin/OMBigBook.tsx","../../src/api/components.api.ts","../../src/features/admin/admin/components/ComponentManager.tsx","../../src/features/admin/admin/OmaiSpinSettings.tsx","../../src/shared/lib/adminService.ts","../../src/features/admin/admin/AdminSettings.tsx"],"sourcesContent":["/**\n * @license @tabler/icons-react v3.34.1 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createReactComponent from '../createReactComponent.mjs';\n\nconst __iconNode = [[\"path\", { \"d\": \"M5.64 5.632a9 9 0 1 0 6.36 -2.632v7.714\", \"key\": \"svg-0\" }]];\nconst IconBrandGravatar = createReactComponent(\"outline\", \"brand-gravatar\", \"BrandGravatar\", __iconNode);\n\nexport { __iconNode, IconBrandGravatar as default };\n//# sourceMappingURL=IconBrandGravatar.mjs.map\n","/**\n * @license @tabler/icons-react v3.34.1 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createReactComponent from '../createReactComponent.mjs';\n\nconst __iconNode = [[\"path\", { \"d\": \"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0\", \"key\": \"svg-0\" }], [\"path\", { \"d\": \"M9 12l2 2l4 -4\", \"key\": \"svg-1\" }]];\nconst IconCircleCheck = createReactComponent(\"outline\", \"circle-check\", \"CircleCheck\", __iconNode);\n\nexport { __iconNode, IconCircleCheck as default };\n//# sourceMappingURL=IconCircleCheck.mjs.map\n","/**\n * @license @tabler/icons-react v3.34.1 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createReactComponent from '../createReactComponent.mjs';\n\nconst __iconNode = [[\"path\", { \"d\": \"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0\", \"key\": \"svg-0\" }], [\"path\", { \"d\": \"M10 10l4 4m0 -4l-4 4\", \"key\": \"svg-1\" }]];\nconst IconCircleX = createReactComponent(\"outline\", \"circle-x\", \"CircleX\", __iconNode);\n\nexport { __iconNode, IconCircleX as default };\n//# sourceMappingURL=IconCircleX.mjs.map\n","/**\n * @license @tabler/icons-react v3.34.1 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createReactComponent from '../createReactComponent.mjs';\n\nconst __iconNode = [[\"path\", { \"d\": \"M4 6c0 1.657 3.582 3 8 3s8 -1.343 8 -3s-3.582 -3 -8 -3s-8 1.343 -8 3\", \"key\": \"svg-0\" }], [\"path\", { \"d\": \"M4 6v6c0 1.657 3.582 3 8 3c1.118 0 2.183 -.086 3.15 -.241\", \"key\": \"svg-1\" }], [\"path\", { \"d\": \"M20 12v-6\", \"key\": \"svg-2\" }], [\"path\", { \"d\": \"M4 12v6c0 1.657 3.582 3 8 3c.157 0 .312 -.002 .466 -.005\", \"key\": \"svg-3\" }], [\"path\", { \"d\": \"M16 19h6\", \"key\": \"svg-4\" }], [\"path\", { \"d\": \"M19 16l3 3l-3 3\", \"key\": \"svg-5\" }]];\nconst IconDatabaseExport = createReactComponent(\"outline\", \"database-export\", \"DatabaseExport\", __iconNode);\n\nexport { __iconNode, IconDatabaseExport as default };\n//# sourceMappingURL=IconDatabaseExport.mjs.map\n","/**\n * @license @tabler/icons-react v3.34.1 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createReactComponent from '../createReactComponent.mjs';\n\nconst __iconNode = [[\"path\", { \"d\": \"M5 5m0 2a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2z\", \"key\": \"svg-0\" }]];\nconst IconPlayerStop = createReactComponent(\"outline\", \"player-stop\", \"PlayerStop\", __iconNode);\n\nexport { __iconNode, IconPlayerStop as default };\n//# sourceMappingURL=IconPlayerStop.mjs.map\n","/**\n * @license @tabler/icons-react v3.34.1 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createReactComponent from '../createReactComponent.mjs';\n\nconst __iconNode = [[\"path\", { \"d\": \"M19.95 11a8 8 0 1 0 -.5 4m.5 5v-5h-5\", \"key\": \"svg-0\" }]];\nconst IconRotate = createReactComponent(\"outline\", \"rotate\", \"Rotate\", __iconNode);\n\nexport { __iconNode, IconRotate as default };\n//# sourceMappingURL=IconRotate.mjs.map\n","/**\n * @license @tabler/icons-react v3.34.1 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createReactComponent from '../createReactComponent.mjs';\n\nconst __iconNode = [[\"path\", { \"d\": \"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0\", \"key\": \"svg-0\" }], [\"path\", { \"d\": \"M12 12m-5 0a5 5 0 1 0 10 0a5 5 0 1 0 -10 0\", \"key\": \"svg-1\" }], [\"path\", { \"d\": \"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0\", \"key\": \"svg-2\" }]];\nconst IconTarget = createReactComponent(\"outline\", \"target\", \"Target\", __iconNode);\n\nexport { __iconNode, IconTarget as default };\n//# sourceMappingURL=IconTarget.mjs.map\n","/**\n * @license @tabler/icons-react v3.34.1 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createReactComponent from '../createReactComponent.mjs';\n\nconst __iconNode = [[\"path\", { \"d\": \"M20 8.04l-12.122 12.124a2.857 2.857 0 1 1 -4.041 -4.04l12.122 -12.124\", \"key\": \"svg-0\" }], [\"path\", { \"d\": \"M7 13h8\", \"key\": \"svg-1\" }], [\"path\", { \"d\": \"M19 15l1.5 1.6a2 2 0 1 1 -3 0l1.5 -1.6z\", \"key\": \"svg-2\" }], [\"path\", { \"d\": \"M15 3l6 6\", \"key\": \"svg-3\" }]];\nconst IconTestPipe = createReactComponent(\"outline\", \"test-pipe\", \"TestPipe\", __iconNode);\n\nexport { __iconNode, IconTestPipe as default };\n//# sourceMappingURL=IconTestPipe.mjs.map\n","/**\n * @license @tabler/icons-react v3.34.1 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createReactComponent from '../createReactComponent.mjs';\n\nconst __iconNode = [[\"path\", { \"d\": \"M10 5m0 2a2 2 0 0 1 2 -2h6a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-6a2 2 0 0 1 -2 -2z\", \"key\": \"svg-0\" }], [\"path\", { \"d\": \"M7 7l0 10\", \"key\": \"svg-1\" }], [\"path\", { \"d\": \"M4 8l0 8\", \"key\": \"svg-2\" }]];\nconst IconVersions = createReactComponent(\"outline\", \"versions\", \"Versions\", __iconNode);\n\nexport { __iconNode, IconVersions as default };\n//# sourceMappingURL=IconVersions.mjs.map\n","/**\n * @license @tabler/icons-react v3.34.1 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createReactComponent from '../createReactComponent.mjs';\n\nconst __iconNode = [[\"path\", { \"d\": \"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0\", \"key\": \"svg-0\" }], [\"path\", { \"d\": \"M3.6 9h16.8\", \"key\": \"svg-1\" }], [\"path\", { \"d\": \"M3.6 15h16.8\", \"key\": \"svg-2\" }], [\"path\", { \"d\": \"M11.5 3a17 17 0 0 0 0 18\", \"key\": \"svg-3\" }], [\"path\", { \"d\": \"M12.5 3a17 17 0 0 1 0 18\", \"key\": \"svg-4\" }]];\nconst IconWorld = createReactComponent(\"outline\", \"world\", \"World\", __iconNode);\n\nexport { __iconNode, IconWorld as default };\n//# sourceMappingURL=IconWorld.mjs.map\n","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm-1 4 6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2zm-1 7h5.5L14 6.5z\"\n}), 'FileCopy');","import { unstable_generateUtilityClass as generateUtilityClass, unstable_generateUtilityClasses as generateUtilityClasses } from '@mui/utils';\nexport function getPickersToolbarTextUtilityClass(slot) {\n  return generateUtilityClass('MuiPickersToolbarText', slot);\n}\nexport const pickersToolbarTextClasses = generateUtilityClasses('MuiPickersToolbarText', ['root', 'selected']);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"className\", \"selected\", \"value\"];\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport Typography from '@mui/material/Typography';\nimport { styled, useThemeProps } from '@mui/material/styles';\nimport { unstable_composeClasses as composeClasses } from '@mui/utils';\nimport { getPickersToolbarTextUtilityClass, pickersToolbarTextClasses } from './pickersToolbarTextClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    selected\n  } = ownerState;\n  const slots = {\n    root: ['root', selected && 'selected']\n  };\n  return composeClasses(slots, getPickersToolbarTextUtilityClass, classes);\n};\nconst PickersToolbarTextRoot = styled(Typography, {\n  name: 'MuiPickersToolbarText',\n  slot: 'Root',\n  overridesResolver: (_, styles) => [styles.root, {\n    [`&.${pickersToolbarTextClasses.selected}`]: styles.selected\n  }]\n})(({\n  theme\n}) => ({\n  transition: theme.transitions.create('color'),\n  color: (theme.vars || theme).palette.text.secondary,\n  [`&.${pickersToolbarTextClasses.selected}`]: {\n    color: (theme.vars || theme).palette.text.primary\n  }\n}));\nexport const PickersToolbarText = /*#__PURE__*/React.forwardRef(function PickersToolbarText(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiPickersToolbarText'\n  });\n  const {\n      className,\n      value\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const classes = useUtilityClasses(props);\n  return /*#__PURE__*/_jsx(PickersToolbarTextRoot, _extends({\n    ref: ref,\n    className: clsx(className, classes.root),\n    component: \"span\"\n  }, other, {\n    children: value\n  }));\n});","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"align\", \"className\", \"selected\", \"typographyClassName\", \"value\", \"variant\", \"width\"];\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport Button from '@mui/material/Button';\nimport { styled, useThemeProps } from '@mui/material/styles';\nimport { unstable_composeClasses as composeClasses } from '@mui/utils';\nimport { PickersToolbarText } from './PickersToolbarText';\nimport { getPickersToolbarUtilityClass } from './pickersToolbarClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root']\n  };\n  return composeClasses(slots, getPickersToolbarUtilityClass, classes);\n};\nconst PickersToolbarButtonRoot = styled(Button, {\n  name: 'MuiPickersToolbarButton',\n  slot: 'Root',\n  overridesResolver: (_, styles) => styles.root\n})({\n  padding: 0,\n  minWidth: 16,\n  textTransform: 'none'\n});\nexport const PickersToolbarButton = /*#__PURE__*/React.forwardRef(function PickersToolbarButton(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiPickersToolbarButton'\n  });\n  const {\n      align,\n      className,\n      selected,\n      typographyClassName,\n      value,\n      variant,\n      width\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const classes = useUtilityClasses(props);\n  return /*#__PURE__*/_jsx(PickersToolbarButtonRoot, _extends({\n    variant: \"text\",\n    ref: ref,\n    className: clsx(className, classes.root)\n  }, width ? {\n    sx: {\n      width\n    }\n  } : {}, other, {\n    children: /*#__PURE__*/_jsx(PickersToolbarText, {\n      align: align,\n      className: typographyClassName,\n      variant: variant,\n      value: value,\n      selected: selected\n    })\n  }));\n});","import { createIsAfterIgnoreDatePart } from '../time-utils';\nexport const validateTime = ({\n  adapter,\n  value,\n  props\n}) => {\n  if (value === null) {\n    return null;\n  }\n  const {\n    minTime,\n    maxTime,\n    minutesStep,\n    shouldDisableClock,\n    shouldDisableTime,\n    disableIgnoringDatePartForTimeValidation = false,\n    disablePast,\n    disableFuture,\n    timezone\n  } = props;\n  const now = adapter.utils.dateWithTimezone(undefined, timezone);\n  const isAfter = createIsAfterIgnoreDatePart(disableIgnoringDatePartForTimeValidation, adapter.utils);\n  switch (true) {\n    case !adapter.utils.isValid(value):\n      return 'invalidDate';\n    case Boolean(minTime && isAfter(minTime, value)):\n      return 'minTime';\n    case Boolean(maxTime && isAfter(value, maxTime)):\n      return 'maxTime';\n    case Boolean(disableFuture && adapter.utils.isAfter(value, now)):\n      return 'disableFuture';\n    case Boolean(disablePast && adapter.utils.isBefore(value, now)):\n      return 'disablePast';\n    case Boolean(shouldDisableTime && shouldDisableTime(value, 'hours')):\n      return 'shouldDisableTime-hours';\n    case Boolean(shouldDisableTime && shouldDisableTime(value, 'minutes')):\n      return 'shouldDisableTime-minutes';\n    case Boolean(shouldDisableTime && shouldDisableTime(value, 'seconds')):\n      return 'shouldDisableTime-seconds';\n    case Boolean(shouldDisableClock && shouldDisableClock(adapter.utils.getHours(value), 'hours')):\n      return 'shouldDisableClock-hours';\n    case Boolean(shouldDisableClock && shouldDisableClock(adapter.utils.getMinutes(value), 'minutes')):\n      return 'shouldDisableClock-minutes';\n    case Boolean(shouldDisableClock && shouldDisableClock(adapter.utils.getSeconds(value), 'seconds')):\n      return 'shouldDisableClock-seconds';\n    case Boolean(minutesStep && adapter.utils.getMinutes(value) % minutesStep !== 0):\n      return 'minutesStep';\n    default:\n      return null;\n  }\n};","import { validateDate } from './validateDate';\nimport { validateTime } from './validateTime';\nexport const validateDateTime = ({\n  props,\n  value,\n  adapter\n}) => {\n  const dateValidationResult = validateDate({\n    adapter,\n    value,\n    props\n  });\n  if (dateValidationResult !== null) {\n    return dateValidationResult;\n  }\n  return validateTime({\n    adapter,\n    value,\n    props\n  });\n};","/**\r\n * BackupSettings Component\r\n * \r\n * Backup settings page for managing system backups and data protection.\r\n * Allows configuration of backup schedules, retention, and manual backup creation.\r\n */\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  Typography,\r\n  Switch,\r\n  FormControlLabel,\r\n  Grid,\r\n  Box,\r\n  Button,\r\n  Divider,\r\n  Alert,\r\n  Stack,\r\n  TextField,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n  LinearProgress,\r\n  Chip,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemSecondaryAction,\r\n  IconButton,\r\n  Tooltip,\r\n  CircularProgress,\r\n  Tabs,\r\n  Tab,\r\n} from '@mui/material';\r\nimport {\r\n  Backup as BackupIcon,\r\n  CloudDownload as DownloadIcon,\r\n  Delete as DeleteIcon,\r\n  Storage as StorageIcon,\r\n  FolderOpen as DatabaseIcon,\r\n  Folder as FolderIcon,\r\n  Settings as SettingsIcon,\r\n  Refresh as RefreshIcon,\r\n  GetApp as ExportIcon,\r\n} from '@mui/icons-material';\r\nimport BlankCard from '@/shared/ui/BlankCard';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport { adminAPI } from '@/api/admin.api';\r\n\r\ninterface BackupSettingsData {\r\n  enabled: boolean;\r\n  schedule: string;\r\n  retention_days: number;\r\n  include_database: boolean;\r\n  include_files: boolean;\r\n  include_uploads: boolean;\r\n  compression: boolean;\r\n  email_notifications: boolean;\r\n  notification_email: string;\r\n  backup_location: string;\r\n  max_backups: number;\r\n}\r\n\r\ninterface BackupFile {\r\n  id: string;\r\n  filename: string;\r\n  size: number;\r\n  created_at: string;\r\n  type: 'full' | 'database' | 'files';\r\n  status: 'completed' | 'in_progress' | 'failed';\r\n}\r\n\r\nconst BackupSettings: React.FC = () => {\r\n  const { user } = useAuth();\r\n  const [activeTab, setActiveTab] = useState(0);\r\n  const [settings, setSettings] = useState<BackupSettingsData>({\r\n    enabled: true,\r\n    schedule: '0 2 * * *',\r\n    retention_days: 30,\r\n    include_database: true,\r\n    include_files: true,\r\n    include_uploads: true,\r\n    compression: true,\r\n    email_notifications: false,\r\n    notification_email: '',\r\n    backup_location: '/opt/backups/orthodox-metrics',\r\n    max_backups: 50,\r\n  });\r\n\r\n  const [backupFiles, setBackupFiles] = useState<BackupFile[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [saving, setSaving] = useState(false);\r\n  const [backupInProgress, setBackupInProgress] = useState(false);\r\n  const [alert, setAlert] = useState<{ type: 'success' | 'error' | 'info'; message: string } | null>(null);\r\n  const [deleteDialogOpen, setDeleteDialogOpen] = useState(false);\r\n  const [selectedBackup, setSelectedBackup] = useState<string | null>(null);\r\n  const [storageInfo, setStorageInfo] = useState({\r\n    total_space: 0,\r\n    used_space: 0,\r\n    backup_space: 0,\r\n  });\r\n\r\n  const scheduleOptions = [\r\n    { value: '0 2 * * *', label: 'Daily at 2:00 AM' },\r\n    { value: '0 2 * * 0', label: 'Weekly (Sunday at 2:00 AM)' },\r\n    { value: '0 2 1 * *', label: 'Monthly (1st day at 2:00 AM)' },\r\n    { value: '0 */6 * * *', label: 'Every 6 hours' },\r\n    { value: '0 */12 * * *', label: 'Every 12 hours' },\r\n    { value: 'custom', label: 'Custom Cron Expression' },\r\n  ];\r\n\r\n  useEffect(() => {\r\n    loadBackupSettings();\r\n    loadBackupFiles();\r\n    loadStorageInfo();\r\n  }, []);\r\n\r\n  const loadBackupSettings = async () => {\r\n    try {\r\n      setLoading(true);\r\n      // TODO: Replace with actual API call\r\n      // const response = await adminAPI.backup.getSettings();\r\n      // if (response.success) {\r\n      //   setSettings(response.settings);\r\n      // }\r\n    } catch (error) {\r\n      console.error('Error loading backup settings:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const loadBackupFiles = async () => {\r\n    try {\r\n      // TODO: Replace with actual API call\r\n      // const response = await adminAPI.backup.getFiles();\r\n      // if (Array.isArray(response)) {\r\n      //   setBackupFiles(response);\r\n      // }\r\n    } catch (error) {\r\n      console.error('Error loading backup files:', error);\r\n    }\r\n  };\r\n\r\n  const loadStorageInfo = async () => {\r\n    try {\r\n      // TODO: Replace with actual API call\r\n      // const response = await adminAPI.backup.getStorage();\r\n      // if (response) {\r\n      //   setStorageInfo(response);\r\n      // }\r\n    } catch (error) {\r\n      console.error('Error loading storage info:', error);\r\n    }\r\n  };\r\n\r\n  const saveSettings = async () => {\r\n    try {\r\n      setSaving(true);\r\n      // TODO: Replace with actual API call\r\n      // const response = await adminAPI.backup.updateSettings(settings);\r\n      // if (response.success) {\r\n      //   setAlert({ type: 'success', message: 'Backup settings saved successfully' });\r\n      //   setSettings(response.data);\r\n      // } else {\r\n      //   setAlert({ type: 'error', message: response.message || 'Failed to save settings' });\r\n      // }\r\n      setAlert({ type: 'success', message: 'Backup settings saved successfully' });\r\n    } catch (error: any) {\r\n      setAlert({ type: 'error', message: error.message || 'Failed to save settings' });\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const runBackup = async (type: string) => {\r\n    try {\r\n      setBackupInProgress(true);\r\n      // TODO: Replace with actual API call\r\n      // const response = await adminAPI.backup.run();\r\n      // if (response.success) {\r\n      //   setAlert({ type: 'success', message: 'Backup started successfully' });\r\n      //   loadBackupFiles();\r\n      //   loadStorageInfo();\r\n      // } else {\r\n      //   setAlert({ type: 'error', message: response.message || 'Failed to start backup' });\r\n      // }\r\n      setAlert({ type: 'success', message: 'Backup started successfully' });\r\n    } catch (error: any) {\r\n      setAlert({ type: 'error', message: error.message || 'Failed to start backup' });\r\n    } finally {\r\n      setBackupInProgress(false);\r\n    }\r\n  };\r\n\r\n  const downloadBackup = async (backupId: string) => {\r\n    try {\r\n      // TODO: Replace with actual API call\r\n      // const response = await adminAPI.backup.download(backupId);\r\n      // if (response.url) {\r\n      //   const a = document.createElement('a');\r\n      //   a.href = response.url;\r\n      //   a.download = `backup-${backupId}.zip`;\r\n      //   document.body.appendChild(a);\r\n      //   a.click();\r\n      //   document.body.removeChild(a);\r\n      // } else {\r\n      //   setAlert({ type: 'error', message: 'Failed to download backup' });\r\n      // }\r\n      setAlert({ type: 'info', message: 'Download functionality coming soon' });\r\n    } catch (error: any) {\r\n      setAlert({ type: 'error', message: error.message || 'Failed to download backup' });\r\n    }\r\n  };\r\n\r\n  const deleteBackup = async (backupId: string) => {\r\n    try {\r\n      // TODO: Replace with actual API call\r\n      // const response = await adminAPI.backup.delete(backupId);\r\n      // if (response.success) {\r\n      //   setAlert({ type: 'success', message: 'Backup deleted successfully' });\r\n      //   loadBackupFiles();\r\n      //   loadStorageInfo();\r\n      // } else {\r\n      //   setAlert({ type: 'error', message: response.message || 'Failed to delete backup' });\r\n      // }\r\n      setAlert({ type: 'success', message: 'Backup deleted successfully' });\r\n      setDeleteDialogOpen(false);\r\n      setSelectedBackup(null);\r\n    } catch (error) {\r\n      console.error('Error deleting backup:', error);\r\n      setAlert({ type: 'error', message: 'Failed to delete backup' });\r\n      setDeleteDialogOpen(false);\r\n      setSelectedBackup(null);\r\n    }\r\n  };\r\n\r\n  const formatFileSize = (bytes: number) => {\r\n    if (bytes === 0) return '0 Bytes';\r\n    const k = 1024;\r\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\r\n  };\r\n\r\n  const formatDate = (dateString: string) => {\r\n    return new Date(dateString).toLocaleString();\r\n  };\r\n\r\n  const getBackupTypeColor = (type: string) => {\r\n    switch (type) {\r\n      case 'full': return 'primary';\r\n      case 'database': return 'secondary';\r\n      case 'files': return 'info';\r\n      default: return 'default';\r\n    }\r\n  };\r\n\r\n  const usagePercentage = storageInfo.total_space > 0\r\n    ? (storageInfo.used_space / storageInfo.total_space) * 100\r\n    : 0;\r\n\r\n  const backupPercentage = storageInfo.total_space > 0\r\n    ? (storageInfo.backup_space / storageInfo.total_space) * 100\r\n    : 0;\r\n\r\n  const handleTabChange = (_: React.SyntheticEvent, newValue: number) => {\r\n    setActiveTab(newValue);\r\n  };\r\n\r\n  return (\r\n    <Box>\r\n      {alert && (\r\n        <Alert\r\n          severity={alert.type}\r\n          sx={{ mb: 2 }}\r\n          onClose={() => setAlert(null)}\r\n        >\r\n          {alert.message}\r\n        </Alert>\r\n      )}\r\n\r\n      <BlankCard>\r\n        <CardContent>\r\n          <Tabs value={activeTab} onChange={handleTabChange} sx={{ mb: 3 }}>\r\n            <Tab label=\"Backup Settings\" />\r\n            <Tab label=\"Your Backups\" />\r\n          </Tabs>\r\n\r\n          {activeTab === 0 && (\r\n            <Grid container spacing={3}>\r\n              {/* Storage Information */}\r\n              <Grid item xs={12}>\r\n                <BlankCard>\r\n                  <CardContent>\r\n                    <Stack direction=\"row\" alignItems=\"center\" spacing={2} sx={{ mb: 2 }}>\r\n                      <StorageIcon color=\"primary\" />\r\n                      <Typography variant=\"h6\">Storage Information</Typography>\r\n                      <IconButton size=\"small\" onClick={loadStorageInfo}>\r\n                        <RefreshIcon />\r\n                      </IconButton>\r\n                    </Stack>\r\n\r\n                    <Grid container spacing={3}>\r\n                      <Grid item xs={12} md={4}>\r\n                        <Box>\r\n                          <Typography variant=\"body2\" color=\"textSecondary\">Total Storage</Typography>\r\n                          <Typography variant=\"h6\">{formatFileSize(storageInfo.total_space)}</Typography>\r\n                        </Box>\r\n                      </Grid>\r\n                      <Grid item xs={12} md={4}>\r\n                        <Box>\r\n                          <Typography variant=\"body2\" color=\"textSecondary\">Used Space</Typography>\r\n                          <Typography variant=\"h6\">{formatFileSize(storageInfo.used_space)}</Typography>\r\n                          <LinearProgress\r\n                            variant=\"determinate\"\r\n                            value={usagePercentage}\r\n                            sx={{ mt: 1 }}\r\n                            color={usagePercentage > 80 ? 'error' : 'primary'}\r\n                          />\r\n                          <Typography variant=\"caption\">{usagePercentage.toFixed(1)}% used</Typography>\r\n                        </Box>\r\n                      </Grid>\r\n                      <Grid item xs={12} md={4}>\r\n                        <Box>\r\n                          <Typography variant=\"body2\" color=\"textSecondary\">Backup Space</Typography>\r\n                          <Typography variant=\"h6\">{formatFileSize(storageInfo.backup_space)}</Typography>\r\n                          <LinearProgress\r\n                            variant=\"determinate\"\r\n                            value={backupPercentage}\r\n                            sx={{ mt: 1 }}\r\n                            color=\"secondary\"\r\n                          />\r\n                          <Typography variant=\"caption\">{backupPercentage.toFixed(1)}% of total</Typography>\r\n                        </Box>\r\n                      </Grid>\r\n                    </Grid>\r\n                  </CardContent>\r\n                </BlankCard>\r\n              </Grid>\r\n\r\n              {/* Backup Settings */}\r\n              <Grid item xs={12} lg={6}>\r\n                <BlankCard>\r\n                  <CardContent>\r\n                    <Stack direction=\"row\" alignItems=\"center\" spacing={2} sx={{ mb: 3 }}>\r\n                      <SettingsIcon color=\"primary\" />\r\n                      <Typography variant=\"h6\">Backup Configuration</Typography>\r\n                    </Stack>\r\n\r\n                    <Stack spacing={3}>\r\n                      <FormControlLabel\r\n                        control={\r\n                          <Switch\r\n                            checked={settings.enabled}\r\n                            onChange={(e) => setSettings({ ...settings, enabled: e.target.checked })}\r\n                          />\r\n                        }\r\n                        label=\"Enable Automatic Backups\"\r\n                      />\r\n\r\n                      <Stack direction={{ xs: 'column', md: 'row' }} spacing={2}>\r\n                        <FormControl sx={{ minWidth: 200, flex: 1 }}>\r\n                          <InputLabel>Backup Schedule</InputLabel>\r\n                          <Select\r\n                            value={settings.schedule}\r\n                            label=\"Backup Schedule\"\r\n                            onChange={(e) => setSettings({ ...settings, schedule: e.target.value })}\r\n                          >\r\n                            {scheduleOptions.map((option) => (\r\n                              <MenuItem key={option.value} value={option.value}>\r\n                                {option.label}\r\n                              </MenuItem>\r\n                            ))}\r\n                          </Select>\r\n                        </FormControl>\r\n\r\n                        <TextField\r\n                          sx={{ minWidth: 150, flex: 1 }}\r\n                          type=\"number\"\r\n                          label=\"Retention Period (days)\"\r\n                          value={settings.retention_days}\r\n                          onChange={(e) => setSettings({ ...settings, retention_days: parseInt(e.target.value) })}\r\n                          helperText=\"How long to keep backup files\"\r\n                        />\r\n\r\n                        <TextField\r\n                          sx={{ minWidth: 150, flex: 1 }}\r\n                          type=\"number\"\r\n                          label=\"Maximum Backups\"\r\n                          value={settings.max_backups}\r\n                          onChange={(e) => setSettings({ ...settings, max_backups: parseInt(e.target.value) })}\r\n                          helperText=\"Maximum backup files to keep\"\r\n                        />\r\n                      </Stack>\r\n\r\n                      <Divider />\r\n\r\n                      <Typography variant=\"subtitle2\">Backup Content</Typography>\r\n\r\n                      <Stack direction={{ xs: 'column', sm: 'row' }} spacing={2} flexWrap=\"wrap\">\r\n                        <FormControlLabel\r\n                          control={\r\n                            <Switch\r\n                              checked={settings.include_database}\r\n                              onChange={(e) => setSettings({ ...settings, include_database: e.target.checked })}\r\n                            />\r\n                          }\r\n                          label=\"Include Database\"\r\n                        />\r\n\r\n                        <FormControlLabel\r\n                          control={\r\n                            <Switch\r\n                              checked={settings.include_files}\r\n                              onChange={(e) => setSettings({ ...settings, include_files: e.target.checked })}\r\n                            />\r\n                          }\r\n                          label=\"Include Application Files\"\r\n                        />\r\n\r\n                        <FormControlLabel\r\n                          control={\r\n                            <Switch\r\n                              checked={settings.include_uploads}\r\n                              onChange={(e) => setSettings({ ...settings, include_uploads: e.target.checked })}\r\n                            />\r\n                          }\r\n                          label=\"Include User Uploads\"\r\n                        />\r\n\r\n                        <FormControlLabel\r\n                          control={\r\n                            <Switch\r\n                              checked={settings.compression}\r\n                              onChange={(e) => setSettings({ ...settings, compression: e.target.checked })}\r\n                            />\r\n                          }\r\n                          label=\"Enable Compression\"\r\n                        />\r\n                      </Stack>\r\n\r\n                      <Divider />\r\n\r\n                      <Typography variant=\"subtitle2\">Notifications</Typography>\r\n\r\n                      <Stack direction={{ xs: 'column', md: 'row' }} spacing={2}>\r\n                        <FormControlLabel\r\n                          control={\r\n                            <Switch\r\n                              checked={settings.email_notifications}\r\n                              onChange={(e) => setSettings({ ...settings, email_notifications: e.target.checked })}\r\n                            />\r\n                          }\r\n                          label=\"Email Notifications\"\r\n                        />\r\n\r\n                        {settings.email_notifications && (\r\n                          <TextField\r\n                            sx={{ flex: 1 }}\r\n                            type=\"email\"\r\n                            label=\"Notification Email\"\r\n                            value={settings.notification_email}\r\n                            onChange={(e) => setSettings({ ...settings, notification_email: e.target.value })}\r\n                            helperText=\"Email address to receive backup notifications\"\r\n                          />\r\n                        )}\r\n                      </Stack>\r\n\r\n                      <TextField\r\n                        fullWidth\r\n                        label=\"Backup Location\"\r\n                        value={settings.backup_location}\r\n                        onChange={(e) => setSettings({ ...settings, backup_location: e.target.value })}\r\n                        helperText=\"Server path where backup files are stored\"\r\n                      />\r\n\r\n                      <Box sx={{ pt: 2 }}>\r\n                        <Button\r\n                          variant=\"contained\"\r\n                          onClick={saveSettings}\r\n                          disabled={saving}\r\n                          startIcon={saving ? <CircularProgress size={20} /> : <SettingsIcon />}\r\n                        >\r\n                          {saving ? 'Saving...' : 'Save Settings'}\r\n                        </Button>\r\n                      </Box>\r\n                    </Stack>\r\n                  </CardContent>\r\n                </BlankCard>\r\n              </Grid>\r\n\r\n              {/* Manual Backup Actions */}\r\n              <Grid item xs={12} lg={6}>\r\n                <BlankCard>\r\n                  <CardContent>\r\n                    <Stack direction=\"row\" alignItems=\"center\" spacing={2} sx={{ mb: 3 }}>\r\n                      <BackupIcon color=\"primary\" />\r\n                      <Typography variant=\"h6\">Manual Backup</Typography>\r\n                    </Stack>\r\n\r\n                    <Stack spacing={2}>\r\n                      <Button\r\n                        variant=\"contained\"\r\n                        size=\"large\"\r\n                        onClick={() => runBackup('full')}\r\n                        disabled={backupInProgress}\r\n                        startIcon={backupInProgress ? <CircularProgress size={20} /> : <BackupIcon />}\r\n                        fullWidth\r\n                      >\r\n                        {backupInProgress ? 'Creating Full Backup...' : 'Create Full Backup'}\r\n                      </Button>\r\n\r\n                      <Button\r\n                        variant=\"outlined\"\r\n                        onClick={() => runBackup('database')}\r\n                        disabled={backupInProgress}\r\n                        startIcon={<DatabaseIcon />}\r\n                        fullWidth\r\n                      >\r\n                        Database Only\r\n                      </Button>\r\n\r\n                      <Button\r\n                        variant=\"outlined\"\r\n                        onClick={() => runBackup('files')}\r\n                        disabled={backupInProgress}\r\n                        startIcon={<FolderIcon />}\r\n                        fullWidth\r\n                      >\r\n                        Files Only\r\n                      </Button>\r\n\r\n                      <Alert severity=\"info\" sx={{ mt: 2 }}>\r\n                        <Typography variant=\"body2\">\r\n                          Full backups include database, application files, and user uploads.\r\n                          Large backups may take several minutes to complete.\r\n                        </Typography>\r\n                      </Alert>\r\n                    </Stack>\r\n                  </CardContent>\r\n                </BlankCard>\r\n              </Grid>\r\n            </Grid>\r\n          )}\r\n\r\n          {activeTab === 1 && (\r\n            <Grid container spacing={3}>\r\n              <Grid item xs={12}>\r\n                <BlankCard>\r\n                  <CardContent>\r\n                    <Stack direction=\"row\" alignItems=\"center\" justifyContent=\"space-between\" sx={{ mb: 2 }}>\r\n                      <Stack direction=\"row\" alignItems=\"center\" spacing={2}>\r\n                        <ExportIcon color=\"primary\" />\r\n                        <Typography variant=\"h6\">Your Backup Files</Typography>\r\n                      </Stack>\r\n                      <Button\r\n                        variant=\"outlined\"\r\n                        startIcon={<RefreshIcon />}\r\n                        onClick={loadBackupFiles}\r\n                        size=\"small\"\r\n                      >\r\n                        Refresh\r\n                      </Button>\r\n                    </Stack>\r\n\r\n                    {loading ? (\r\n                      <Box display=\"flex\" justifyContent=\"center\" p={3}>\r\n                        <CircularProgress />\r\n                      </Box>\r\n                    ) : backupFiles.length === 0 ? (\r\n                      <Alert severity=\"info\">\r\n                        No backup files found. Create your first backup using the manual backup options in the Backup Settings tab.\r\n                      </Alert>\r\n                    ) : (\r\n                      <List>\r\n                        {backupFiles.map((backup) => (\r\n                          <ListItem key={backup.id} divider>\r\n                            <ListItemText\r\n                              primary={\r\n                                <Stack direction=\"row\" alignItems=\"center\" spacing={1}>\r\n                                  <Typography variant=\"body1\">{backup.filename}</Typography>\r\n                                  <Chip\r\n                                    label={backup.type}\r\n                                    size=\"small\"\r\n                                    color={getBackupTypeColor(backup.type) as any}\r\n                                  />\r\n                                </Stack>\r\n                              }\r\n                              secondary={\r\n                                <Stack direction=\"row\" spacing={2}>\r\n                                  <Typography variant=\"caption\">\r\n                                    Size: {formatFileSize(backup.size)}\r\n                                  </Typography>\r\n                                  <Typography variant=\"caption\">\r\n                                    Created: {formatDate(backup.created_at)}\r\n                                  </Typography>\r\n                                </Stack>\r\n                              }\r\n                            />\r\n                            <ListItemSecondaryAction>\r\n                              <Stack direction=\"row\" spacing={1}>\r\n                                <Tooltip title=\"Download Backup\">\r\n                                  <IconButton\r\n                                    onClick={() => downloadBackup(backup.id)}\r\n                                    disabled={backup.status !== 'completed'}\r\n                                  >\r\n                                    <DownloadIcon />\r\n                                  </IconButton>\r\n                                </Tooltip>\r\n                                <Tooltip title=\"Delete Backup\">\r\n                                  <IconButton\r\n                                    onClick={() => {\r\n                                      setSelectedBackup(backup.id);\r\n                                      setDeleteDialogOpen(true);\r\n                                    }}\r\n                                    color=\"error\"\r\n                                  >\r\n                                    <DeleteIcon />\r\n                                  </IconButton>\r\n                                </Tooltip>\r\n                              </Stack>\r\n                            </ListItemSecondaryAction>\r\n                          </ListItem>\r\n                        ))}\r\n                      </List>\r\n                    )}\r\n                  </CardContent>\r\n                </BlankCard>\r\n              </Grid>\r\n            </Grid>\r\n          )}\r\n        </CardContent>\r\n      </BlankCard>\r\n\r\n      {/* Delete Confirmation Dialog */}\r\n      <Dialog\r\n        open={deleteDialogOpen}\r\n        onClose={() => setDeleteDialogOpen(false)}\r\n      >\r\n        <DialogTitle>Confirm Delete</DialogTitle>\r\n        <DialogContent>\r\n          <Typography>\r\n            Are you sure you want to delete this backup? This action cannot be undone.\r\n          </Typography>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setDeleteDialogOpen(false)}>Cancel</Button>\r\n          <Button\r\n            onClick={() => selectedBackup && deleteBackup(selectedBackup)}\r\n            color=\"error\"\r\n            variant=\"contained\"\r\n          >\r\n            Delete\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default BackupSettings;\r\n","/**\r\n * Image Grid Extractor Component\r\n * \r\n * Allows users to upload a grid image and extract individual images\r\n * from it by splitting the image into a grid pattern.\r\n */\r\n\r\nimport React, { useState, useRef } from 'react';\r\nimport {\r\n    Box,\r\n    Typography,\r\n    Button,\r\n    Card,\r\n    CardContent,\r\n    Grid,\r\n    Alert,\r\n    CircularProgress,\r\n    Stack,\r\n    Chip,\r\n    Dialog,\r\n    DialogTitle,\r\n    DialogContent,\r\n    DialogActions,\r\n    IconButton\r\n} from '@mui/material';\r\nimport {\r\n    IconUpload,\r\n    IconDownload,\r\n    IconLayoutGrid,\r\n    IconPhoto,\r\n    IconX\r\n} from '@tabler/icons-react';\r\n\r\ninterface ExtractedImage {\r\n    id: number;\r\n    blob: Blob;\r\n    url: string;\r\n    name: string;\r\n}\r\n\r\ninterface ImageGridExtractorProps {\r\n    open: boolean;\r\n    onClose: () => void;\r\n    onImagesExtracted: (images: ExtractedImage[], type: 'profile' | 'banner') => void;\r\n    type: 'profile' | 'banner';\r\n}\r\n\r\nconst ImageGridExtractor: React.FC<ImageGridExtractorProps> = ({\r\n    open,\r\n    onClose,\r\n    onImagesExtracted,\r\n    type\r\n}) => {\r\n    const [sourceImage, setSourceImage] = useState<string | null>(null);\r\n    const [extractedImages, setExtractedImages] = useState<ExtractedImage[]>([]);\r\n    const [isProcessing, setIsProcessing] = useState(false);\r\n    const [error, setError] = useState<string | null>(null);\r\n    const [gridSize, setGridSize] = useState<{ rows: number; cols: number }>({ rows: 3, cols: 3 });\r\n    const canvasRef = useRef<HTMLCanvasElement>(null);\r\n    const fileInputRef = useRef<HTMLInputElement>(null);\r\n\r\n    const handleImageUpload = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        const file = event.target.files?.[0];\r\n        if (!file) return;\r\n\r\n        // Reset states\r\n        setExtractedImages([]);\r\n        setError(null);\r\n\r\n        // Validate file type\r\n        if (!['image/jpeg', 'image/png', 'image/gif'].includes(file.type)) {\r\n            setError('Only JPG, PNG, or GIF files are allowed');\r\n            return;\r\n        }\r\n\r\n        // Create URL for the uploaded image\r\n        const imageUrl = URL.createObjectURL(file);\r\n        setSourceImage(imageUrl);\r\n    };\r\n\r\n    const extractImages = () => {\r\n        if (!sourceImage) {\r\n            setError('Please upload an image first');\r\n            return;\r\n        }\r\n\r\n        setIsProcessing(true);\r\n        setError(null);\r\n\r\n        const img = new Image();\r\n        img.onload = () => {\r\n            try {\r\n                const canvas = canvasRef.current;\r\n                if (!canvas) throw new Error('Canvas not available');\r\n\r\n                const ctx = canvas.getContext('2d');\r\n                if (!ctx) throw new Error('Could not get canvas context');\r\n\r\n                // Calculate image dimensions\r\n                const imageWidth = img.width / gridSize.cols;\r\n                const imageHeight = img.height / gridSize.rows;\r\n\r\n                // Target size based on type\r\n                const targetSize = type === 'profile' ? 200 : 300;\r\n                const targetWidth = type === 'banner' ? 1200 : targetSize;\r\n                const targetHeight = type === 'banner' ? 300 : targetSize;\r\n\r\n                const extractedImages: ExtractedImage[] = [];\r\n\r\n                // Extract each image\r\n                let imageCount = 1;\r\n                for (let row = 0; row < gridSize.rows; row++) {\r\n                    for (let col = 0; col < gridSize.cols; col++) {\r\n                        // Set canvas size to target dimensions\r\n                        canvas.width = targetWidth;\r\n                        canvas.height = targetHeight;\r\n                        \r\n                        // Calculate source coordinates\r\n                        const sx = col * imageWidth;\r\n                        const sy = row * imageHeight;\r\n                        \r\n                        // Draw the cropped section to the canvas, resizing to target dimensions\r\n                        ctx.drawImage(\r\n                            img,\r\n                            sx, sy, imageWidth, imageHeight,\r\n                            0, 0, targetWidth, targetHeight\r\n                        );\r\n                        \r\n                        // Convert canvas to blob\r\n                        canvas.toBlob((blob) => {\r\n                            if (blob) {\r\n                                const imageUrl = URL.createObjectURL(blob);\r\n                                const imageName = `${type}_${imageCount}`;\r\n                                \r\n                                extractedImages.push({\r\n                                    id: imageCount,\r\n                                    blob,\r\n                                    url: imageUrl,\r\n                                    name: imageName\r\n                                });\r\n                                \r\n                                // When all images are processed\r\n                                if (extractedImages.length === gridSize.rows * gridSize.cols) {\r\n                                    // Sort by ID to ensure correct order\r\n                                    extractedImages.sort((a, b) => a.id - b.id);\r\n                                    setExtractedImages(extractedImages);\r\n                                    setIsProcessing(false);\r\n                                }\r\n                            }\r\n                        }, 'image/png');\r\n                        \r\n                        imageCount++;\r\n                    }\r\n                }\r\n            } catch (err) {\r\n                setError(err instanceof Error ? err.message : 'An unknown error occurred');\r\n                setIsProcessing(false);\r\n            }\r\n        };\r\n\r\n        img.onerror = () => {\r\n            setError('Failed to load the uploaded image');\r\n            setIsProcessing(false);\r\n        };\r\n\r\n        img.src = sourceImage;\r\n    };\r\n\r\n    const downloadImage = (image: ExtractedImage) => {\r\n        const link = document.createElement('a');\r\n        link.href = image.url;\r\n        link.download = `${image.name}.png`;\r\n        document.body.appendChild(link);\r\n        link.click();\r\n        document.body.removeChild(link);\r\n    };\r\n\r\n    const downloadAllImages = () => {\r\n        extractedImages.forEach((image, index) => {\r\n            setTimeout(() => {\r\n                downloadImage(image);\r\n            }, index * 100);\r\n        });\r\n    };\r\n\r\n    const handleUseImages = async () => {\r\n        try {\r\n            // Convert blobs to base64 and prepare for upload\r\n            const imagesToUpload = [];\r\n            \r\n            for (const image of extractedImages) {\r\n                const base64 = await blobToBase64(image.blob);\r\n                imagesToUpload.push({\r\n                    name: image.name,\r\n                    data: base64\r\n                });\r\n            }\r\n            \r\n            // Send to server to save as individual files\r\n            const response = await fetch('/api/admin/global-images/save-extracted', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify({\r\n                    images: imagesToUpload,\r\n                    type: type\r\n                }),\r\n            });\r\n            \r\n            if (response.ok) {\r\n                const result = await response.json();\r\n                console.log(' Extracted images saved successfully:', result);\r\n                \r\n                // Call the callback with the saved images\r\n                onImagesExtracted(extractedImages, type);\r\n                onClose();\r\n            } else {\r\n                let errorMessage = 'Failed to save extracted images';\r\n                try {\r\n                    const errorData = await response.json();\r\n                    errorMessage = errorData.error || errorMessage;\r\n                } catch (e) {\r\n                    // If response is not JSON, use status text\r\n                    errorMessage = response.statusText || errorMessage;\r\n                }\r\n                throw new Error(errorMessage);\r\n            }\r\n        } catch (error) {\r\n            console.error('Error saving extracted images:', error);\r\n            setError(error instanceof Error ? error.message : 'Failed to save extracted images');\r\n        }\r\n    };\r\n\r\n    // Helper function to convert blob to base64\r\n    const blobToBase64 = (blob: Blob): Promise<string> => {\r\n        return new Promise((resolve, reject) => {\r\n            const reader = new FileReader();\r\n            reader.onload = () => {\r\n                if (typeof reader.result === 'string') {\r\n                    resolve(reader.result);\r\n                } else {\r\n                    reject(new Error('Failed to convert blob to base64'));\r\n                }\r\n            };\r\n            reader.onerror = () => reject(new Error('Failed to read blob'));\r\n            reader.readAsDataURL(blob);\r\n        });\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setSourceImage(null);\r\n        setExtractedImages([]);\r\n        setError(null);\r\n        setIsProcessing(false);\r\n        onClose();\r\n    };\r\n\r\n    const getGridSizeOptions = () => {\r\n        const options = [\r\n            { rows: 2, cols: 2, label: '2x2 Grid (4 images)' },\r\n            { rows: 2, cols: 3, label: '2x3 Grid (6 images)' },\r\n            { rows: 3, cols: 2, label: '3x2 Grid (6 images)' },\r\n            { rows: 3, cols: 3, label: '3x3 Grid (9 images)' },\r\n            { rows: 3, cols: 4, label: '3x4 Grid (12 images)' },\r\n            { rows: 4, cols: 3, label: '4x3 Grid (12 images)' },\r\n            { rows: 4, cols: 4, label: '4x4 Grid (16 images)' }\r\n        ];\r\n        return options;\r\n    };\r\n\r\n    return (\r\n        <Dialog \r\n            open={open} \r\n            onClose={handleClose}\r\n            maxWidth=\"lg\"\r\n            fullWidth\r\n            PaperProps={{\r\n                sx: { \r\n                    maxHeight: '90vh',\r\n                    overflow: 'hidden'\r\n                }\r\n            }}\r\n        >\r\n            <DialogTitle sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                    <IconLayoutGrid size={24} />\r\n                    <Typography variant=\"h6\">\r\n                        Extract & Save {type === 'profile' ? 'Profile' : 'Banner'} Images from Grid\r\n                    </Typography>\r\n                </Box>\r\n                <IconButton onClick={handleClose}>\r\n                    <IconX size={20} />\r\n                </IconButton>\r\n            </DialogTitle>\r\n            \r\n            <DialogContent sx={{ overflow: 'auto' }}>\r\n                <Stack spacing={3} sx={{ py: 2 }}>\r\n                    <Alert severity=\"info\">\r\n                        Upload a grid image to extract individual {type} images. \r\n                        The system will automatically split the image into a grid and save each section as a separate file in the {type} directory.\r\n                    </Alert>\r\n\r\n                    {error && (\r\n                        <Alert severity=\"error\">\r\n                            {error}\r\n                        </Alert>\r\n                    )}\r\n\r\n                    {/* Grid Size Selection */}\r\n                    <Card variant=\"outlined\">\r\n                        <CardContent>\r\n                            <Typography variant=\"h6\" gutterBottom>\r\n                                Grid Size\r\n                            </Typography>\r\n                            <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 2 }}>\r\n                                Select the grid layout of your image:\r\n                            </Typography>\r\n                            <Grid container spacing={1}>\r\n                                {getGridSizeOptions().map((option) => (\r\n                                    <Grid item key={`${option.rows}x${option.cols}`}>\r\n                                        <Chip\r\n                                            label={option.label}\r\n                                            onClick={() => setGridSize({ rows: option.rows, cols: option.cols })}\r\n                                            color={gridSize.rows === option.rows && gridSize.cols === option.cols ? 'primary' : 'default'}\r\n                                            variant={gridSize.rows === option.rows && gridSize.cols === option.cols ? 'filled' : 'outlined'}\r\n                                            sx={{ cursor: 'pointer' }}\r\n                                        />\r\n                                    </Grid>\r\n                                ))}\r\n                            </Grid>\r\n                        </CardContent>\r\n                    </Card>\r\n\r\n                    {/* Image Upload */}\r\n                    <Card variant=\"outlined\">\r\n                        <CardContent sx={{ textAlign: 'center' }}>\r\n                            <Typography variant=\"h6\" gutterBottom>\r\n                                Upload Grid Image\r\n                            </Typography>\r\n                            \r\n                            <input\r\n                                ref={fileInputRef}\r\n                                type=\"file\"\r\n                                accept=\"image/*\"\r\n                                style={{ display: 'none' }}\r\n                                onChange={handleImageUpload}\r\n                            />\r\n                            \r\n                            <Button\r\n                                variant=\"contained\"\r\n                                startIcon={<IconUpload size={18} />}\r\n                                onClick={() => fileInputRef.current?.click()}\r\n                                size=\"large\"\r\n                                sx={{ mb: 2 }}\r\n                            >\r\n                                Choose Grid Image\r\n                            </Button>\r\n                            \r\n                            {sourceImage && (\r\n                                <Box sx={{ mt: 2 }}>\r\n                                    <img \r\n                                        src={sourceImage} \r\n                                        alt=\"Source Grid\" \r\n                                        style={{ \r\n                                            maxWidth: '100%', \r\n                                            maxHeight: '300px',\r\n                                            border: '1px solid #e0e0e0',\r\n                                            borderRadius: '4px'\r\n                                        }}\r\n                                    />\r\n                                </Box>\r\n                            )}\r\n                        </CardContent>\r\n                    </Card>\r\n\r\n                    {/* Extract Button */}\r\n                    {sourceImage && (\r\n                        <Box sx={{ textAlign: 'center' }}>\r\n                            <Button\r\n                                variant=\"contained\"\r\n                                onClick={extractImages}\r\n                                disabled={isProcessing}\r\n                                startIcon={isProcessing ? <CircularProgress size={20} /> : <IconLayoutGrid size={18} />}\r\n                                size=\"large\"\r\n                            >\r\n                                {isProcessing ? 'Extracting...' : `Extract ${gridSize.rows * gridSize.cols} Images`}\r\n                            </Button>\r\n                        </Box>\r\n                    )}\r\n\r\n                    {/* Extracted Images */}\r\n                    {extractedImages.length > 0 && (\r\n                        <Card variant=\"outlined\">\r\n                            <CardContent>\r\n                                <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 2 }}>\r\n                                    <Typography variant=\"h6\">\r\n                                        Extracted Images ({extractedImages.length})\r\n                                    </Typography>\r\n                                    <Button\r\n                                        variant=\"outlined\"\r\n                                        startIcon={<IconDownload size={18} />}\r\n                                        onClick={downloadAllImages}\r\n                                        size=\"small\"\r\n                                    >\r\n                                        Download All\r\n                                    </Button>\r\n                                </Box>\r\n                                \r\n                                <Grid container spacing={2}>\r\n                                    {extractedImages.map((image) => (\r\n                                        <Grid item xs={6} sm={4} md={3} key={image.id}>\r\n                                            <Card variant=\"outlined\" sx={{ textAlign: 'center' }}>\r\n                                                <CardContent>\r\n                                                    <img \r\n                                                        src={image.url} \r\n                                                        alt={`Extracted ${image.id}`}\r\n                                                        style={{ \r\n                                                            width: '100%', \r\n                                                            height: 'auto',\r\n                                                            maxHeight: '120px',\r\n                                                            objectFit: 'cover',\r\n                                                            borderRadius: '4px'\r\n                                                        }}\r\n                                                    />\r\n                                                    <Typography variant=\"caption\" display=\"block\" sx={{ mt: 1 }}>\r\n                                                        {image.name}\r\n                                                    </Typography>\r\n                                                    <Button\r\n                                                        size=\"small\"\r\n                                                        onClick={() => downloadImage(image)}\r\n                                                        sx={{ mt: 1 }}\r\n                                                    >\r\n                                                        Download\r\n                                                    </Button>\r\n                                                </CardContent>\r\n                                            </Card>\r\n                                        </Grid>\r\n                                    ))}\r\n                                </Grid>\r\n                            </CardContent>\r\n                        </Card>\r\n                    )}\r\n\r\n                    {/* Hidden canvas for processing */}\r\n                    <canvas ref={canvasRef} style={{ display: 'none' }} />\r\n                </Stack>\r\n            </DialogContent>\r\n\r\n            <DialogActions>\r\n                <Button onClick={handleClose}>\r\n                    Cancel\r\n                </Button>\r\n                {extractedImages.length > 0 && (\r\n                    <Button \r\n                        onClick={handleUseImages} \r\n                        variant=\"contained\"\r\n                        startIcon={<IconPhoto size={18} />}\r\n                    >\r\n                        Use {extractedImages.length} Images\r\n                    </Button>\r\n                )}\r\n            </DialogActions>\r\n        </Dialog>\r\n    );\r\n};\r\n\r\nexport default ImageGridExtractor;\r\n","import React, { useState, useEffect } from 'react';\r\nimport {\r\n    Box,\r\n    Typography,\r\n    Alert,\r\n    Card,\r\n    CardContent,\r\n    Stack,\r\n    Button,\r\n    CircularProgress,\r\n    Grid,\r\n    Chip,\r\n    Dialog,\r\n    DialogTitle,\r\n    DialogContent,\r\n    DialogActions,\r\n    TextField,\r\n    FormControl,\r\n    InputLabel,\r\n    Select,\r\n    MenuItem,\r\n    IconButton,\r\n    Tooltip,\r\n    Snackbar,\r\n    Tabs,\r\n    Tab\r\n} from '@mui/material';\r\nimport {\r\n    IconUpload,\r\n    IconPhoto,\r\n    IconTrash,\r\n    IconEye,\r\n    IconDownload,\r\n    IconUsers,\r\n    IconLayoutGrid,\r\n    IconFolder,\r\n    IconFolderPlus,\r\n    IconRefresh,\r\n    IconFilter,\r\n    IconMoodSmile,\r\n    IconBrandGravatar\r\n} from '@tabler/icons-react';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport ImageGridExtractor from '@/features/tables/settings/ImageGridExtractor';\r\nimport { adminAPI } from '@/api/admin.api';\r\nimport { Tabs, Tab } from '@mui/material';\r\n\r\nexport type ContentType = 'avatar' | 'banner' | 'profile' | 'gif' | 'emoji' | 'all';\r\n\r\ninterface GlobalImage {\r\n    id: string;\r\n    name: string;\r\n    url: string;\r\n    type: 'profile' | 'banner' | 'avatar' | 'gif' | 'emoji';\r\n    size: string;\r\n    uploadedAt: string;\r\n    uploadedBy: string;\r\n    source?: 'global' | 'user' | 'directory';\r\n    filename?: string;\r\n    directory?: string;\r\n}\r\n\r\ninterface ContentDirectory {\r\n    id?: string;\r\n    path: string;\r\n    contentType: ContentType;\r\n    enabled: boolean;\r\n    description?: string;\r\n    lastScanned?: string;\r\n    fileCount?: number;\r\n}\r\n\r\nconst ContentSettings: React.FC = () => {\r\n    const { isSuperAdmin } = useAuth();\r\n    const [globalImages, setGlobalImages] = useState<GlobalImage[]>([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState<string | null>(null);\r\n    const [uploadDialogOpen, setUploadDialogOpen] = useState(false);\r\n    const [uploadType, setUploadType] = useState<ContentType>('avatar');\r\n    const [uploading, setUploading] = useState(false);\r\n    const [selectedFile, setSelectedFile] = useState<File | null>(null);\r\n    const [imageName, setImageName] = useState('');\r\n    const [gridExtractorOpen, setGridExtractorOpen] = useState(false);\r\n    const [gridExtractorType, setGridExtractorType] = useState<'profile' | 'banner'>('profile');\r\n    const [snackbarOpen, setSnackbarOpen] = useState(false);\r\n    const [snackbarMessage, setSnackbarMessage] = useState('');\r\n    const [activeTab, setActiveTab] = useState<'content' | 'directories'>('content');\r\n    const [selectedContentType, setSelectedContentType] = useState<ContentType>('all');\r\n    const [directories, setDirectories] = useState<ContentDirectory[]>([]);\r\n    const [directoryDialogOpen, setDirectoryDialogOpen] = useState(false);\r\n    const [newDirectory, setNewDirectory] = useState<ContentDirectory>({\r\n        path: '',\r\n        contentType: 'avatar',\r\n        enabled: true,\r\n        description: ''\r\n    });\r\n    const [scanningDirectory, setScanningDirectory] = useState<string | null>(null);\r\n\r\n    useEffect(() => {\r\n        if (isSuperAdmin()) {\r\n            fetchGlobalImages();\r\n            fetchDirectories();\r\n        }\r\n    }, [isSuperAdmin]);\r\n\r\n    const fetchGlobalImages = async () => {\r\n        setLoading(true);\r\n        setError(null);\r\n        \r\n        try {\r\n            const response = await adminAPI.globalImages.getAll();\r\n            // Ensure response is always an array\r\n            const images = Array.isArray(response) ? response : [];\r\n            setGlobalImages(images);\r\n        } catch (err: any) {\r\n            setError(err.message || 'Failed to load global images');\r\n            setGlobalImages([]); // Ensure empty array on error\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const fetchDirectories = async () => {\r\n        try {\r\n            const response = await adminAPI.globalImages.getDirectories?.() || [];\r\n            setDirectories(Array.isArray(response) ? response : []);\r\n        } catch (err: any) {\r\n            console.error('Failed to load directories:', err);\r\n            setDirectories([]);\r\n        }\r\n    };\r\n\r\n    const handleFileSelect = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        const file = event.target.files?.[0];\r\n        if (file) {\r\n            // Validate file type based on content type\r\n            const allowedTypes: Record<ContentType, string[]> = {\r\n                avatar: ['image/jpeg', 'image/png', 'image/gif', 'image/webp'],\r\n                banner: ['image/jpeg', 'image/png', 'image/gif', 'image/webp'],\r\n                profile: ['image/jpeg', 'image/png', 'image/gif', 'image/webp'],\r\n                gif: ['image/gif'],\r\n                emoji: ['image/png', 'image/gif', 'image/svg+xml', 'image/webp'],\r\n                all: ['image/jpeg', 'image/png', 'image/gif', 'image/webp', 'image/svg+xml']\r\n            };\r\n\r\n            const allowed = allowedTypes[uploadType] || allowedTypes.all;\r\n            if (!allowed.includes(file.type)) {\r\n                setError(`Invalid file type for ${uploadType}. Allowed: ${allowed.join(', ')}`);\r\n                return;\r\n            }\r\n\r\n            // Validate file size (10MB limit for gifs, 5MB for others)\r\n            const maxSize = uploadType === 'gif' ? 10 * 1024 * 1024 : 5 * 1024 * 1024;\r\n            if (file.size > maxSize) {\r\n                setError(`File size must be less than ${maxSize / 1024 / 1024}MB`);\r\n                return;\r\n            }\r\n\r\n            setSelectedFile(file);\r\n            setImageName(file.name.replace(/\\.[^/.]+$/, '')); // Remove extension\r\n            setError(null);\r\n        }\r\n    };\r\n\r\n    const handleUpload = async () => {\r\n        if (!selectedFile || !imageName.trim()) {\r\n            setError('Please select a file and enter a name');\r\n            return;\r\n        }\r\n\r\n        setUploading(true);\r\n        setError(null);\r\n\r\n        try {\r\n            const formData = new FormData();\r\n            formData.append('image', selectedFile);\r\n            formData.append('name', imageName);\r\n            formData.append('type', uploadType === 'all' ? 'avatar' : uploadType);\r\n\r\n            const response = await adminAPI.globalImages.upload(formData);\r\n\r\n            if (response.success) {\r\n                setGlobalImages(prev => Array.isArray(prev) ? [...prev, response.data.image] : [response.data.image]);\r\n                setUploadDialogOpen(false);\r\n                setSelectedFile(null);\r\n                setImageName('');\r\n                setUploadType('profile');\r\n            } else {\r\n                throw new Error(response.message || 'Upload failed');\r\n            }\r\n        } catch (err: any) {\r\n            setError(err.message || 'Failed to upload image');\r\n            console.error('Error uploading image:', err);\r\n        } finally {\r\n            setUploading(false);\r\n        }\r\n    };\r\n\r\n    const handleDelete = async (image: GlobalImage) => {\r\n        const imageType = image.source === 'user' ? 'auto-detected' : 'global';\r\n        if (!confirm(`Are you sure you want to delete this ${imageType} image?`)) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const response = await adminAPI.globalImages.update(Number(image.id), { action: 'delete' });\r\n\r\n            if (response.success) {\r\n                setGlobalImages(prev => Array.isArray(prev) ? prev.filter(img => img.id !== image.id) : []);\r\n            } else {\r\n                throw new Error('Failed to delete image');\r\n            }\r\n        } catch (err: any) {\r\n            setError(err.message || 'Failed to delete image');\r\n            console.error('Error deleting image:', err);\r\n        }\r\n    };\r\n\r\n    const getImageRequirements = (type: ContentType) => {\r\n        const requirements: Record<ContentType, string> = {\r\n            avatar: 'Recommended: 200x200 pixels, JPG, PNG, GIF, or WebP files',\r\n            banner: 'Recommended: 1200x300 pixels, JPG, PNG, GIF, or WebP files',\r\n            profile: 'Recommended: 200x200 pixels, JPG, PNG, or GIF files',\r\n            gif: 'Animated GIF files, up to 10MB',\r\n            emoji: 'PNG, GIF, SVG, or WebP files, typically 32x32 to 128x128 pixels',\r\n            all: 'Various image formats supported'\r\n        };\r\n        return requirements[type] || requirements.avatar;\r\n    };\r\n\r\n    const handleAddDirectory = async () => {\r\n        if (!newDirectory.path.trim()) {\r\n            setError('Please enter a directory path');\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const response = await adminAPI.globalImages.addDirectory?.(newDirectory);\r\n            if (response?.success) {\r\n                await fetchDirectories();\r\n                setDirectoryDialogOpen(false);\r\n                setNewDirectory({ path: '', contentType: 'avatar', enabled: true, description: '' });\r\n                setSnackbarMessage('Directory added successfully');\r\n                setSnackbarOpen(true);\r\n            } else {\r\n                throw new Error(response?.message || 'Failed to add directory');\r\n            }\r\n        } catch (err: any) {\r\n            setError(err.message || 'Failed to add directory');\r\n        }\r\n    };\r\n\r\n    const handleScanDirectory = async (directory: ContentDirectory) => {\r\n        setScanningDirectory(directory.path);\r\n        try {\r\n            const response = await adminAPI.globalImages.scanDirectory?.(directory.path);\r\n            if (response?.success) {\r\n                await fetchGlobalImages();\r\n                await fetchDirectories();\r\n                setSnackbarMessage(`Scanned ${response.data?.count || 0} files from directory`);\r\n                setSnackbarOpen(true);\r\n            } else {\r\n                throw new Error(response?.message || 'Failed to scan directory');\r\n            }\r\n        } catch (err: any) {\r\n            setError(err.message || 'Failed to scan directory');\r\n        } finally {\r\n            setScanningDirectory(null);\r\n        }\r\n    };\r\n\r\n    const handleDeleteDirectory = async (directory: ContentDirectory) => {\r\n        if (!confirm(`Are you sure you want to remove the directory \"${directory.path}\"?`)) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const response = await adminAPI.globalImages.deleteDirectory?.(directory.path);\r\n            if (response?.success) {\r\n                await fetchDirectories();\r\n                setSnackbarMessage('Directory removed successfully');\r\n                setSnackbarOpen(true);\r\n            } else {\r\n                throw new Error(response?.message || 'Failed to remove directory');\r\n            }\r\n        } catch (err: any) {\r\n            setError(err.message || 'Failed to remove directory');\r\n        }\r\n    };\r\n\r\n    const handleToggleDirectory = async (directory: ContentDirectory) => {\r\n        try {\r\n            const updated = { ...directory, enabled: !directory.enabled };\r\n            const response = await adminAPI.globalImages.updateDirectory?.(directory.path, updated);\r\n            if (response?.success) {\r\n                await fetchDirectories();\r\n            } else {\r\n                throw new Error(response?.message || 'Failed to update directory');\r\n            }\r\n        } catch (err: any) {\r\n            setError(err.message || 'Failed to update directory');\r\n        }\r\n    };\r\n\r\n    const getContentTypeIcon = (type: ContentType) => {\r\n        switch (type) {\r\n            case 'avatar':\r\n            case 'profile':\r\n                return <IconBrandGravatar size={20} />;\r\n            case 'emoji':\r\n                return <IconMoodSmile size={20} />;\r\n            default:\r\n                return <IconPhoto size={20} />;\r\n        }\r\n    };\r\n\r\n    const filteredImages = selectedContentType === 'all' \r\n        ? globalImages \r\n        : globalImages.filter(img => img.type === selectedContentType);\r\n\r\n  const handleImagesExtracted = async (images: any[], type: 'profile' | 'banner') => {\r\n    setUploading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      // Images are already saved by the ImageGridExtractor component\r\n      // Just refresh the global images list to show the new images\r\n      await fetchGlobalImages();\r\n      \r\n      setSnackbarMessage(`Successfully extracted and saved ${images.length} ${type} images`);\r\n      setSnackbarOpen(true);\r\n    } catch (err: any) {\r\n      setError(err.message || 'Failed to refresh images list');\r\n    } finally {\r\n      setUploading(false);\r\n    }\r\n  };\r\n\r\n    if (!isSuperAdmin()) {\r\n        return (\r\n            <Alert severity=\"error\">\r\n                Access denied. Only super administrators can manage global content.\r\n            </Alert>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <Box>\r\n            <Typography variant=\"h6\" gutterBottom>\r\n                Global Content Management\r\n            </Typography>\r\n            \r\n            <Alert severity=\"info\" sx={{ mb: 3 }}>\r\n                Manage publicly available content including avatars, banners, GIFs, and emojis.\r\n                You can upload individual files, specify directories for automatic scanning, or extract images from grids.\r\n                All content is made available to users for their profiles and communications.\r\n            </Alert>\r\n\r\n            <Tabs \r\n                value={activeTab} \r\n                onChange={(_, newValue) => setActiveTab(newValue)}\r\n                sx={{ mb: 3, borderBottom: 1, borderColor: 'divider' }}\r\n            >\r\n                <Tab label=\"Content Library\" value=\"content\" />\r\n                <Tab label=\"Directory Management\" value=\"directories\" />\r\n            </Tabs>\r\n\r\n            {error && (\r\n                <Alert severity=\"error\" sx={{ mb: 3 }} action={\r\n                    <Button color=\"inherit\" size=\"small\" onClick={() => {\r\n                        setError(null);\r\n                        if (activeTab === 'content') fetchGlobalImages();\r\n                        else fetchDirectories();\r\n                    }}>\r\n                        Dismiss\r\n                    </Button>\r\n                }>\r\n                    {error}\r\n                </Alert>\r\n            )}\r\n\r\n            {activeTab === 'content' && (\r\n                <>\r\n                    <Stack direction=\"row\" spacing={2} sx={{ mb: 3 }} flexWrap=\"wrap\">\r\n                        <FormControl size=\"small\" sx={{ minWidth: 150 }}>\r\n                            <InputLabel>Filter by Type</InputLabel>\r\n                            <Select\r\n                                value={selectedContentType}\r\n                                label=\"Filter by Type\"\r\n                                onChange={(e) => setSelectedContentType(e.target.value as ContentType)}\r\n                                startAdornment={<IconFilter size={16} style={{ marginRight: 8 }} />}\r\n                            >\r\n                                <MenuItem value=\"all\">All Types</MenuItem>\r\n                                <MenuItem value=\"avatar\">Avatars</MenuItem>\r\n                                <MenuItem value=\"banner\">Banners</MenuItem>\r\n                                <MenuItem value=\"profile\">Profiles</MenuItem>\r\n                                <MenuItem value=\"gif\">GIFs</MenuItem>\r\n                                <MenuItem value=\"emoji\">Emojis</MenuItem>\r\n                            </Select>\r\n                        </FormControl>\r\n                        \r\n                        <Button\r\n                            variant=\"contained\"\r\n                            startIcon={<IconUpload />}\r\n                            onClick={() => {\r\n                                setUploadType('avatar');\r\n                                setUploadDialogOpen(true);\r\n                            }}\r\n                        >\r\n                            Upload Avatar\r\n                        </Button>\r\n                        <Button\r\n                            variant=\"contained\"\r\n                            startIcon={<IconUpload />}\r\n                            onClick={() => {\r\n                                setUploadType('banner');\r\n                                setUploadDialogOpen(true);\r\n                            }}\r\n                        >\r\n                            Upload Banner\r\n                        </Button>\r\n                        <Button\r\n                            variant=\"contained\"\r\n                            startIcon={<IconUpload />}\r\n                            onClick={() => {\r\n                                setUploadType('gif');\r\n                                setUploadDialogOpen(true);\r\n                            }}\r\n                        >\r\n                            Upload GIF\r\n                        </Button>\r\n                        <Button\r\n                            variant=\"contained\"\r\n                            startIcon={<IconUpload />}\r\n                            onClick={() => {\r\n                                setUploadType('emoji');\r\n                                setUploadDialogOpen(true);\r\n                            }}\r\n                        >\r\n                            Upload Emoji\r\n                        </Button>\r\n                    </Stack>\r\n                </>\r\n            )}\r\n\r\n            {activeTab === 'directories' && (\r\n                <>\r\n                    <Stack direction=\"row\" spacing={2} sx={{ mb: 3 }}>\r\n                        <Button\r\n                            variant=\"contained\"\r\n                            startIcon={<IconFolderPlus />}\r\n                            onClick={() => setDirectoryDialogOpen(true)}\r\n                        >\r\n                            Add Content Directory\r\n                        </Button>\r\n                        <Button\r\n                            variant=\"outlined\"\r\n                            startIcon={<IconRefresh />}\r\n                            onClick={fetchDirectories}\r\n                        >\r\n                            Refresh Directories\r\n                        </Button>\r\n                    </Stack>\r\n\r\n                    <Grid container spacing={2} sx={{ mb: 3 }}>\r\n                        {directories.map((dir) => (\r\n                            <Grid item xs={12} md={6} key={dir.path}>\r\n                                <Card variant=\"outlined\">\r\n                                    <CardContent>\r\n                                        <Stack spacing={2}>\r\n                                            <Box display=\"flex\" alignItems=\"center\" justifyContent=\"space-between\">\r\n                                                <Box display=\"flex\" alignItems=\"center\" gap={1}>\r\n                                                    <IconFolder size={20} />\r\n                                                    <Typography variant=\"h6\" noWrap sx={{ flex: 1 }}>\r\n                                                        {dir.path}\r\n                                                    </Typography>\r\n                                                </Box>\r\n                                                <Chip \r\n                                                    label={dir.enabled ? 'Enabled' : 'Disabled'} \r\n                                                    color={dir.enabled ? 'success' : 'default'}\r\n                                                    size=\"small\"\r\n                                                    onClick={() => handleToggleDirectory(dir)}\r\n                                                />\r\n                                            </Box>\r\n                                            \r\n                                            <Box>\r\n                                                <Chip \r\n                                                    label={dir.contentType} \r\n                                                    size=\"small\" \r\n                                                    color=\"primary\"\r\n                                                    sx={{ mr: 1 }}\r\n                                                />\r\n                                                {dir.fileCount !== undefined && (\r\n                                                    <Chip \r\n                                                        label={`${dir.fileCount} files`} \r\n                                                        size=\"small\" \r\n                                                        variant=\"outlined\"\r\n                                                    />\r\n                                                )}\r\n                                            </Box>\r\n\r\n                                            {dir.description && (\r\n                                                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                                                    {dir.description}\r\n                                                </Typography>\r\n                                            )}\r\n\r\n                                            {dir.lastScanned && (\r\n                                                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                                                    Last scanned: {new Date(dir.lastScanned).toLocaleString()}\r\n                                                </Typography>\r\n                                            )}\r\n\r\n                                            <Stack direction=\"row\" spacing={1}>\r\n                                                <Button\r\n                                                    size=\"small\"\r\n                                                    variant=\"outlined\"\r\n                                                    startIcon={scanningDirectory === dir.path ? <CircularProgress size={16} /> : <IconRefresh size={16} />}\r\n                                                    onClick={() => handleScanDirectory(dir)}\r\n                                                    disabled={scanningDirectory === dir.path || !dir.enabled}\r\n                                                >\r\n                                                    Scan Directory\r\n                                                </Button>\r\n                                                <Button\r\n                                                    size=\"small\"\r\n                                                    variant=\"outlined\"\r\n                                                    color=\"error\"\r\n                                                    startIcon={<IconTrash size={16} />}\r\n                                                    onClick={() => handleDeleteDirectory(dir)}\r\n                                                >\r\n                                                    Remove\r\n                                                </Button>\r\n                                            </Stack>\r\n                                        </Stack>\r\n                                    </CardContent>\r\n                                </Card>\r\n                            </Grid>\r\n                        ))}\r\n\r\n                        {directories.length === 0 && (\r\n                            <Grid item xs={12}>\r\n                                <Card variant=\"outlined\">\r\n                                    <CardContent>\r\n                                        <Box display=\"flex\" flexDirection=\"column\" alignItems=\"center\" py={4}>\r\n                                            <IconFolder size={48} style={{ color: '#ccc', marginBottom: 16 }} />\r\n                                            <Typography variant=\"h6\" color=\"text.secondary\" gutterBottom>\r\n                                                No Directories Configured\r\n                                            </Typography>\r\n                                            <Typography variant=\"body2\" color=\"text.secondary\" textAlign=\"center\" sx={{ mb: 2 }}>\r\n                                                Add directories containing publicly usable content (avatars, banners, GIFs, emojis) for automatic scanning.\r\n                                            </Typography>\r\n                                            <Button\r\n                                                variant=\"contained\"\r\n                                                startIcon={<IconFolderPlus />}\r\n                                                onClick={() => setDirectoryDialogOpen(true)}\r\n                                            >\r\n                                                Add Directory\r\n                                            </Button>\r\n                                        </Box>\r\n                                    </CardContent>\r\n                                </Card>\r\n                            </Grid>\r\n                        )}\r\n                    </Grid>\r\n                </>\r\n            )}\r\n\r\n            <Stack direction=\"row\" spacing={2} sx={{ mb: 3 }}>\r\n                <Button\r\n                    variant=\"outlined\"\r\n                    startIcon={<IconLayoutGrid />}\r\n                    onClick={() => {\r\n                        setGridExtractorType('profile');\r\n                        setGridExtractorOpen(true);\r\n                    }}\r\n                >\r\n                    Extract & Save Profile Images from Grid\r\n                </Button>\r\n                <Button\r\n                    variant=\"outlined\"\r\n                    startIcon={<IconLayoutGrid />}\r\n                    onClick={() => {\r\n                        setGridExtractorType('banner');\r\n                        setGridExtractorOpen(true);\r\n                    }}\r\n                >\r\n                    Extract & Save Banner Images from Grid\r\n                </Button>\r\n            </Stack>\r\n\r\n            {activeTab === 'content' && (\r\n                <>\r\n                    {loading ? (\r\n                        <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" py={4}>\r\n                            <CircularProgress />\r\n                            <Typography variant=\"body2\" sx={{ ml: 2 }}>\r\n                                Loading content...\r\n                            </Typography>\r\n                        </Box>\r\n                    ) : (\r\n                        <Grid container spacing={3}>\r\n                            {Array.isArray(filteredImages) && filteredImages.map((image) => (\r\n                        <Grid item xs={12} sm={6} md={4} key={image.id}>\r\n                            <Card variant=\"outlined\">\r\n                                <CardContent>\r\n                                    <Box display=\"flex\" alignItems=\"center\" mb={2}>\r\n                                        {getContentTypeIcon(image.type)}\r\n                                        <Typography variant=\"h6\" noWrap sx={{ ml: 1 }}>\r\n                                            {image.name}\r\n                                        </Typography>\r\n                                    </Box>\r\n                                    \r\n                                    {image.directory && (\r\n                                        <Chip \r\n                                            label={`From: ${image.directory}`} \r\n                                            size=\"small\" \r\n                                            color=\"info\"\r\n                                            variant=\"outlined\"\r\n                                            sx={{ mb: 1 }}\r\n                                        />\r\n                                    )}\r\n                                    \r\n                                    <Box \r\n                                        sx={{ \r\n                                            width: '100%', \r\n                                            height: image.type === 'profile' ? 120 : 80,\r\n                                            backgroundImage: `url(${image.url})`,\r\n                                            backgroundSize: 'cover',\r\n                                            backgroundPosition: 'center',\r\n                                            borderRadius: 1,\r\n                                            mb: 2,\r\n                                            border: '1px solid #e0e0e0'\r\n                                        }}\r\n                                    />\r\n                                    \r\n                                    <Stack spacing={1}>\r\n                                        <Box sx={{ display: 'flex', gap: 1, flexWrap: 'wrap' }}>\r\n                                            <Chip \r\n                                                label={image.type === 'profile' ? 'Profile' : 'Banner'} \r\n                                                size=\"small\" \r\n                                                color={image.type === 'profile' ? 'primary' : 'secondary'}\r\n                                            />\r\n                                            <Chip \r\n                                                label={image.source === 'user' ? 'Auto-Detected' : 'Global'} \r\n                                                size=\"small\" \r\n                                                color={image.source === 'user' ? 'warning' : 'success'}\r\n                                                variant=\"outlined\"\r\n                                            />\r\n                                        </Box>\r\n                                        <Typography variant=\"body2\" color=\"text.secondary\">\r\n                                            Size: {image.size}\r\n                                        </Typography>\r\n                                        <Typography variant=\"body2\" color=\"text.secondary\">\r\n                                            Uploaded: {new Date(image.uploadedAt).toLocaleDateString()}\r\n                                        </Typography>\r\n                                        <Typography variant=\"body2\" color=\"text.secondary\">\r\n                                            By: {image.uploadedBy}\r\n                                        </Typography>\r\n                                    </Stack>\r\n                                    \r\n                                    <Stack direction=\"row\" spacing={1} sx={{ mt: 2 }}>\r\n                                        <Tooltip title=\"Preview\">\r\n                                            <IconButton \r\n                                                size=\"small\" \r\n                                                onClick={() => window.open(image.url, '_blank')}\r\n                                            >\r\n                                                <IconEye size={16} />\r\n                                            </IconButton>\r\n                                        </Tooltip>\r\n                                        <Tooltip title=\"Download\">\r\n                                            <IconButton \r\n                                                size=\"small\" \r\n                                                onClick={() => window.open(image.url, '_blank')}\r\n                                            >\r\n                                                <IconDownload size={16} />\r\n                                            </IconButton>\r\n                                        </Tooltip>\r\n                                        <Tooltip title=\"Delete\">\r\n                                            <IconButton \r\n                                                size=\"small\" \r\n                                                color=\"error\"\r\n                                                onClick={() => handleDelete(image)}\r\n                                            >\r\n                                                <IconTrash size={16} />\r\n                                            </IconButton>\r\n                                        </Tooltip>\r\n                                    </Stack>\r\n                                </CardContent>\r\n                            </Card>\r\n                        </Grid>\r\n                    ))}\r\n                    \r\n                            {Array.isArray(filteredImages) && filteredImages.length === 0 && (\r\n                                <Grid item xs={12}>\r\n                                    <Card variant=\"outlined\">\r\n                                        <CardContent>\r\n                                            <Box display=\"flex\" flexDirection=\"column\" alignItems=\"center\" py={4}>\r\n                                                <IconPhoto size={48} style={{ color: '#ccc', marginBottom: 16 }} />\r\n                                                <Typography variant=\"h6\" color=\"text.secondary\" gutterBottom>\r\n                                                    {selectedContentType === 'all' ? 'No Content Available' : `No ${selectedContentType} content`}\r\n                                                </Typography>\r\n                                                <Typography variant=\"body2\" color=\"text.secondary\" textAlign=\"center\" sx={{ mb: 2 }}>\r\n                                                    {selectedContentType === 'all' \r\n                                                        ? 'Upload content or configure directories to make assets available to all users.'\r\n                                                        : `Upload ${selectedContentType} content or scan directories to add ${selectedContentType} files.`\r\n                                                    }\r\n                                                </Typography>\r\n                                                <Button\r\n                                                    variant=\"contained\"\r\n                                                    startIcon={<IconUpload />}\r\n                                                    onClick={() => {\r\n                                                        setUploadType(selectedContentType === 'all' ? 'avatar' : selectedContentType);\r\n                                                        setUploadDialogOpen(true);\r\n                                                    }}\r\n                                                >\r\n                                                    Upload {selectedContentType === 'all' ? 'Content' : selectedContentType.charAt(0).toUpperCase() + selectedContentType.slice(1)}\r\n                                                </Button>\r\n                                            </Box>\r\n                                        </CardContent>\r\n                                    </Card>\r\n                                </Grid>\r\n                            )}\r\n                        </Grid>\r\n                    )}\r\n                </>\r\n            )}\r\n\r\n            {/* Upload Dialog */}\r\n            <Dialog \r\n                open={uploadDialogOpen} \r\n                onClose={() => setUploadDialogOpen(false)}\r\n                maxWidth=\"sm\"\r\n                fullWidth\r\n            >\r\n                <DialogTitle>\r\n                    Upload {uploadType.charAt(0).toUpperCase() + uploadType.slice(1)} Content\r\n                </DialogTitle>\r\n                <DialogContent>\r\n                    <Stack spacing={3} sx={{ mt: 1 }}>\r\n                        <Alert severity=\"info\">\r\n                            Requirements: {getImageRequirements(uploadType)}\r\n                        </Alert>\r\n                        \r\n                        <TextField\r\n                            label=\"Content Name\"\r\n                            value={imageName}\r\n                            onChange={(e) => setImageName(e.target.value)}\r\n                            fullWidth\r\n                            placeholder={`Enter a name for this ${uploadType}`}\r\n                        />\r\n                        \r\n                        <Box>\r\n                            <input\r\n                                accept={uploadType === 'gif' ? 'image/gif' : uploadType === 'emoji' ? 'image/png,image/gif,image/svg+xml,image/webp' : 'image/jpeg,image/png,image/gif,image/webp'}\r\n                                style={{ display: 'none' }}\r\n                                id=\"global-content-upload\"\r\n                                type=\"file\"\r\n                                onChange={handleFileSelect}\r\n                            />\r\n                            <label htmlFor=\"global-content-upload\">\r\n                                <Button\r\n                                    variant=\"outlined\"\r\n                                    component=\"span\"\r\n                                    startIcon={<IconUpload />}\r\n                                    fullWidth\r\n                                >\r\n                                    Select File\r\n                                </Button>\r\n                            </label>\r\n                            {selectedFile && (\r\n                                <Typography variant=\"body2\" sx={{ mt: 1 }}>\r\n                                    Selected: {selectedFile.name} ({(selectedFile.size / 1024 / 1024).toFixed(2)} MB)\r\n                                </Typography>\r\n                            )}\r\n                        </Box>\r\n                        \r\n                        {error && (\r\n                            <Alert severity=\"error\">\r\n                                {error}\r\n                            </Alert>\r\n                        )}\r\n                    </Stack>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={() => {\r\n                        setUploadDialogOpen(false);\r\n                        setSelectedFile(null);\r\n                        setImageName('');\r\n                        setError(null);\r\n                    }}>\r\n                        Cancel\r\n                    </Button>\r\n                    <Button \r\n                        onClick={handleUpload} \r\n                        variant=\"contained\"\r\n                        disabled={!selectedFile || !imageName.trim() || uploading}\r\n                        startIcon={uploading ? <CircularProgress size={16} /> : <IconUpload />}\r\n                    >\r\n                        {uploading ? 'Uploading...' : 'Upload'}\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n\r\n            {/* Directory Management Dialog */}\r\n            <Dialog \r\n                open={directoryDialogOpen} \r\n                onClose={() => {\r\n                    setDirectoryDialogOpen(false);\r\n                    setNewDirectory({ path: '', contentType: 'avatar', enabled: true, description: '' });\r\n                    setError(null);\r\n                }}\r\n                maxWidth=\"sm\"\r\n                fullWidth\r\n            >\r\n                <DialogTitle>\r\n                    Add Content Directory\r\n                </DialogTitle>\r\n                <DialogContent>\r\n                    <Stack spacing={3} sx={{ mt: 1 }}>\r\n                        <Alert severity=\"info\">\r\n                            Specify a directory path on the server that contains publicly usable content.\r\n                            The system will scan this directory and make all valid files available to users.\r\n                        </Alert>\r\n                        \r\n                        <TextField\r\n                            label=\"Directory Path\"\r\n                            value={newDirectory.path}\r\n                            onChange={(e) => setNewDirectory({ ...newDirectory, path: e.target.value })}\r\n                            fullWidth\r\n                            placeholder=\"/path/to/content/directory\"\r\n                            required\r\n                            helperText=\"Absolute path to the directory on the server\"\r\n                        />\r\n                        \r\n                        <FormControl fullWidth>\r\n                            <InputLabel>Content Type</InputLabel>\r\n                            <Select\r\n                                value={newDirectory.contentType}\r\n                                label=\"Content Type\"\r\n                                onChange={(e) => setNewDirectory({ ...newDirectory, contentType: e.target.value as ContentType })}\r\n                            >\r\n                                <MenuItem value=\"avatar\">Avatars</MenuItem>\r\n                                <MenuItem value=\"banner\">Banners</MenuItem>\r\n                                <MenuItem value=\"profile\">Profile Images</MenuItem>\r\n                                <MenuItem value=\"gif\">GIFs</MenuItem>\r\n                                <MenuItem value=\"emoji\">Emojis</MenuItem>\r\n                            </Select>\r\n                        </FormControl>\r\n                        \r\n                        <TextField\r\n                            label=\"Description (Optional)\"\r\n                            value={newDirectory.description || ''}\r\n                            onChange={(e) => setNewDirectory({ ...newDirectory, description: e.target.value })}\r\n                            fullWidth\r\n                            multiline\r\n                            rows={2}\r\n                            placeholder=\"Brief description of this directory's contents\"\r\n                        />\r\n                        \r\n                        {error && (\r\n                            <Alert severity=\"error\">\r\n                                {error}\r\n                            </Alert>\r\n                        )}\r\n                    </Stack>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={() => {\r\n                        setDirectoryDialogOpen(false);\r\n                        setNewDirectory({ path: '', contentType: 'avatar', enabled: true, description: '' });\r\n                        setError(null);\r\n                    }}>\r\n                        Cancel\r\n                    </Button>\r\n                    <Button \r\n                        onClick={handleAddDirectory} \r\n                        variant=\"contained\"\r\n                        disabled={!newDirectory.path.trim()}\r\n                        startIcon={<IconFolderPlus />}\r\n                    >\r\n                        Add Directory\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n\r\n            {/* Image Grid Extractor */}\r\n            <ImageGridExtractor\r\n                open={gridExtractorOpen}\r\n                onClose={() => setGridExtractorOpen(false)}\r\n                onImagesExtracted={handleImagesExtracted}\r\n                type={gridExtractorType}\r\n            />\r\n\r\n            {/* Success Snackbar */}\r\n            <Snackbar\r\n                open={snackbarOpen}\r\n                autoHideDuration={12000}\r\n                onClose={() => setSnackbarOpen(false)}\r\n                anchorOrigin={{ vertical: 'center', horizontal: 'center' }}\r\n                sx={{\r\n                  position: 'fixed',\r\n                  top: '50% !important',\r\n                  left: '50% !important',\r\n                  transform: 'translate(-50%, -50%) !important',\r\n                  zIndex: 10000,\r\n                  '& .MuiSnackbar-root': {\r\n                    position: 'fixed',\r\n                    top: '50% !important',\r\n                    left: '50% !important',\r\n                    transform: 'translate(-50%, -50%) !important',\r\n                  }\r\n                }}\r\n            >\r\n                <Alert \r\n                  severity=\"success\" \r\n                  onClose={() => setSnackbarOpen(false)}\r\n                  sx={{ \r\n                    minWidth: '400px',\r\n                    maxWidth: '600px',\r\n                    fontSize: '1.1rem',\r\n                    padding: '16px 20px',\r\n                    '& .MuiAlert-message': {\r\n                      fontSize: '1.1rem',\r\n                      fontWeight: 500,\r\n                    },\r\n                    '& .MuiAlert-icon': {\r\n                      fontSize: '28px',\r\n                    }\r\n                  }}\r\n                >\r\n                    {snackbarMessage}\r\n                </Alert>\r\n            </Snackbar>\r\n        </Box>\r\n    );\r\n};\r\n\r\nexport default ContentSettings; ","/**\r\n * ServiceManagement Component\r\n * \r\n * Service management page for monitoring and controlling system services.\r\n * Allows viewing service status, starting/stopping services, and monitoring system health.\r\n */\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport {\r\n  Box,\r\n  Typography,\r\n  Alert,\r\n  Card,\r\n  CardContent,\r\n  Stack,\r\n  Button,\r\n  CircularProgress,\r\n  Grid,\r\n  Chip,\r\n  Switch,\r\n  FormControlLabel,\r\n  LinearProgress,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  Paper,\r\n  IconButton,\r\n  Tooltip,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n} from '@mui/material';\r\nimport {\r\n  IconRefresh,\r\n  IconPlayerPlay,\r\n  IconPlayerStop,\r\n  IconRotate,\r\n  IconCheck,\r\n  IconX,\r\n  IconAlertTriangle,\r\n  IconHelp,\r\n} from '@tabler/icons-react';\r\nimport BlankCard from '@/shared/ui/BlankCard';\r\nimport { useAuth } from '@/context/AuthContext';\r\n\r\ninterface ServiceStatus {\r\n  name: string;\r\n  displayName: string;\r\n  status: 'running' | 'stopped' | 'error' | 'unknown';\r\n  pid?: number;\r\n  uptime?: string;\r\n  cpu?: number;\r\n  memory?: number;\r\n  description: string;\r\n  category: 'core' | 'worker' | 'frontend' | 'database';\r\n  restartable: boolean;\r\n}\r\n\r\ninterface SystemHealth {\r\n  overall: 'healthy' | 'warning' | 'critical';\r\n  servicesUp: number;\r\n  servicesTotal: number;\r\n  lastUpdate: string;\r\n}\r\n\r\nconst ServiceManagement: React.FC = () => {\r\n  const { user } = useAuth();\r\n  const [services, setServices] = useState<ServiceStatus[]>([]);\r\n  const [systemHealth, setSystemHealth] = useState<SystemHealth | null>(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [autoRefresh, setAutoRefresh] = useState(true);\r\n  const [confirmDialog, setConfirmDialog] = useState<{\r\n    open: boolean;\r\n    service: string;\r\n    action: string;\r\n  }>({ open: false, service: '', action: '' });\r\n\r\n  useEffect(() => {\r\n    loadServices();\r\n    const interval = setInterval(() => {\r\n      if (autoRefresh) {\r\n        loadServices();\r\n      }\r\n    }, 5000);\r\n    return () => clearInterval(interval);\r\n  }, [autoRefresh]);\r\n\r\n  const loadServices = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      // TODO: Replace with actual API call\r\n      // const response = await adminAPI.services.getStatus();\r\n      // if (response.success) {\r\n      //   setServices(response.services);\r\n      //   setSystemHealth(response.health);\r\n      // }\r\n      \r\n      // Mock data for now\r\n      setServices([\r\n        {\r\n          name: 'api',\r\n          displayName: 'API Server',\r\n          status: 'running',\r\n          pid: 12345,\r\n          uptime: '2d 5h 30m',\r\n          cpu: 15.5,\r\n          memory: 512,\r\n          description: 'Main API server',\r\n          category: 'core',\r\n          restartable: true,\r\n        },\r\n        {\r\n          name: 'database',\r\n          displayName: 'Database',\r\n          status: 'running',\r\n          pid: 12346,\r\n          uptime: '5d 12h 15m',\r\n          cpu: 8.2,\r\n          memory: 1024,\r\n          description: 'PostgreSQL database',\r\n          category: 'database',\r\n          restartable: true,\r\n        },\r\n      ]);\r\n      \r\n      setSystemHealth({\r\n        overall: 'healthy',\r\n        servicesUp: 2,\r\n        servicesTotal: 2,\r\n        lastUpdate: new Date().toISOString(),\r\n      });\r\n    } catch (err: any) {\r\n      setError(err.message || 'Failed to load services');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleServiceAction = async (serviceName: string, action: 'start' | 'stop' | 'restart') => {\r\n    try {\r\n      setLoading(true);\r\n      // TODO: Replace with actual API call\r\n      // const response = await adminAPI.services[action](serviceName);\r\n      // if (response.success) {\r\n      //   await loadServices();\r\n      // }\r\n      await loadServices();\r\n    } catch (err: any) {\r\n      setError(err.message || `Failed to ${action} service`);\r\n    } finally {\r\n      setLoading(false);\r\n      setConfirmDialog({ open: false, service: '', action: '' });\r\n    }\r\n  };\r\n\r\n  const getStatusIcon = (status: string) => {\r\n    switch (status) {\r\n      case 'running':\r\n        return <IconCheck size={20} color=\"green\" />;\r\n      case 'stopped':\r\n        return <IconX size={20} color=\"red\" />;\r\n      case 'error':\r\n        return <IconAlertTriangle size={20} color=\"red\" />;\r\n      default:\r\n        return <IconHelp size={20} color=\"gray\" />;\r\n    }\r\n  };\r\n\r\n  const getStatusColor = (status: string) => {\r\n    switch (status) {\r\n      case 'running':\r\n        return 'success';\r\n      case 'stopped':\r\n        return 'error';\r\n      case 'error':\r\n        return 'error';\r\n      default:\r\n        return 'default';\r\n    }\r\n  };\r\n\r\n  const getHealthColor = (health: string) => {\r\n    switch (health) {\r\n      case 'healthy':\r\n        return 'success';\r\n      case 'warning':\r\n        return 'warning';\r\n      case 'critical':\r\n        return 'error';\r\n      default:\r\n        return 'default';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box>\r\n      {error && (\r\n        <Alert severity=\"error\" sx={{ mb: 2 }} onClose={() => setError(null)}>\r\n          {error}\r\n        </Alert>\r\n      )}\r\n\r\n      {/* System Health Overview */}\r\n      {systemHealth && (\r\n        <BlankCard sx={{ mb: 3 }}>\r\n          <CardContent>\r\n            <Stack direction=\"row\" alignItems=\"center\" justifyContent=\"space-between\" sx={{ mb: 2 }}>\r\n              <Typography variant=\"h6\">System Health</Typography>\r\n              <Stack direction=\"row\" spacing={2} alignItems=\"center\">\r\n                <FormControlLabel\r\n                  control={\r\n                    <Switch\r\n                      checked={autoRefresh}\r\n                      onChange={(e) => setAutoRefresh(e.target.checked)}\r\n                    />\r\n                  }\r\n                  label=\"Auto Refresh\"\r\n                />\r\n                <Button\r\n                  variant=\"outlined\"\r\n                  startIcon={<RefreshIcon />}\r\n                  onClick={loadServices}\r\n                  disabled={loading}\r\n                  size=\"small\"\r\n                >\r\n                  Refresh\r\n                </Button>\r\n              </Stack>\r\n            </Stack>\r\n\r\n            <Grid container spacing={3}>\r\n              <Grid item xs={12} md={4}>\r\n                <Box>\r\n                  <Typography variant=\"body2\" color=\"textSecondary\">Overall Status</Typography>\r\n                  <Chip\r\n                    label={systemHealth.overall.toUpperCase()}\r\n                    color={getHealthColor(systemHealth.overall) as any}\r\n                    sx={{ mt: 1 }}\r\n                  />\r\n                </Box>\r\n              </Grid>\r\n              <Grid item xs={12} md={4}>\r\n                <Box>\r\n                  <Typography variant=\"body2\" color=\"textSecondary\">Services Running</Typography>\r\n                  <Typography variant=\"h6\">\r\n                    {systemHealth.servicesUp} / {systemHealth.servicesTotal}\r\n                  </Typography>\r\n                  <LinearProgress\r\n                    variant=\"determinate\"\r\n                    value={(systemHealth.servicesUp / systemHealth.servicesTotal) * 100}\r\n                    sx={{ mt: 1 }}\r\n                  />\r\n                </Box>\r\n              </Grid>\r\n              <Grid item xs={12} md={4}>\r\n                <Box>\r\n                  <Typography variant=\"body2\" color=\"textSecondary\">Last Update</Typography>\r\n                  <Typography variant=\"body2\">\r\n                    {new Date(systemHealth.lastUpdate).toLocaleString()}\r\n                  </Typography>\r\n                </Box>\r\n              </Grid>\r\n            </Grid>\r\n          </CardContent>\r\n        </BlankCard>\r\n      )}\r\n\r\n      {/* Services Table */}\r\n      <BlankCard>\r\n        <CardContent>\r\n          <Typography variant=\"h6\" gutterBottom>\r\n            Services\r\n          </Typography>\r\n\r\n          {loading && services.length === 0 ? (\r\n            <Box display=\"flex\" justifyContent=\"center\" p={3}>\r\n              <CircularProgress />\r\n            </Box>\r\n          ) : (\r\n            <TableContainer>\r\n              <Table>\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>Service</TableCell>\r\n                    <TableCell>Status</TableCell>\r\n                    <TableCell>Category</TableCell>\r\n                    <TableCell>PID</TableCell>\r\n                    <TableCell>Uptime</TableCell>\r\n                    <TableCell>CPU %</TableCell>\r\n                    <TableCell>Memory (MB)</TableCell>\r\n                    <TableCell align=\"right\">Actions</TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  {services.map((service) => (\r\n                    <TableRow key={service.name}>\r\n                      <TableCell>\r\n                        <Stack direction=\"row\" alignItems=\"center\" spacing={1}>\r\n                          {getStatusIcon(service.status)}\r\n                          <Box>\r\n                            <Typography variant=\"body2\" fontWeight=\"medium\">\r\n                              {service.displayName}\r\n                            </Typography>\r\n                            <Typography variant=\"caption\" color=\"textSecondary\">\r\n                              {service.description}\r\n                            </Typography>\r\n                          </Box>\r\n                        </Stack>\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <Chip\r\n                          label={service.status}\r\n                          color={getStatusColor(service.status) as any}\r\n                          size=\"small\"\r\n                        />\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <Chip label={service.category} size=\"small\" variant=\"outlined\" />\r\n                      </TableCell>\r\n                      <TableCell>{service.pid || '-'}</TableCell>\r\n                      <TableCell>{service.uptime || '-'}</TableCell>\r\n                      <TableCell>{service.cpu ? `${service.cpu.toFixed(1)}%` : '-'}</TableCell>\r\n                      <TableCell>{service.memory || '-'}</TableCell>\r\n                      <TableCell align=\"right\">\r\n                        <Stack direction=\"row\" spacing={1} justifyContent=\"flex-end\">\r\n                          {service.restartable && (\r\n                            <>\r\n                              {service.status === 'stopped' && (\r\n                                <Tooltip title=\"Start Service\">\r\n                                  <IconButton\r\n                                    size=\"small\"\r\n                                    color=\"success\"\r\n                                    onClick={() => {\r\n                                      setConfirmDialog({\r\n                                        open: true,\r\n                                        service: service.name,\r\n                                        action: 'start',\r\n                                      });\r\n                                    }}\r\n                                  >\r\n                                    <IconPlayerPlay size={18} />\r\n                                  </IconButton>\r\n                                </Tooltip>\r\n                              )}\r\n                              {service.status === 'running' && (\r\n                                <>\r\n                                  <Tooltip title=\"Restart Service\">\r\n                                    <IconButton\r\n                                      size=\"small\"\r\n                                      color=\"primary\"\r\n                                      onClick={() => {\r\n                                        setConfirmDialog({\r\n                                          open: true,\r\n                                          service: service.name,\r\n                                          action: 'restart',\r\n                                        });\r\n                                      }}\r\n                                    >\r\n                                      <IconRotate size={18} />\r\n                                    </IconButton>\r\n                                  </Tooltip>\r\n                                  <Tooltip title=\"Stop Service\">\r\n                                    <IconButton\r\n                                      size=\"small\"\r\n                                      color=\"error\"\r\n                                      onClick={() => {\r\n                                        setConfirmDialog({\r\n                                          open: true,\r\n                                          service: service.name,\r\n                                          action: 'stop',\r\n                                        });\r\n                                      }}\r\n                                    >\r\n                                      <IconPlayerStop size={18} />\r\n                                    </IconButton>\r\n                                  </Tooltip>\r\n                                </>\r\n                              )}\r\n                            </>\r\n                          )}\r\n                        </Stack>\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  ))}\r\n                </TableBody>\r\n              </Table>\r\n            </TableContainer>\r\n          )}\r\n        </CardContent>\r\n      </BlankCard>\r\n\r\n      {/* Confirmation Dialog */}\r\n      <Dialog\r\n        open={confirmDialog.open}\r\n        onClose={() => setConfirmDialog({ open: false, service: '', action: '' })}\r\n      >\r\n        <DialogTitle>Confirm Service Action</DialogTitle>\r\n        <DialogContent>\r\n          <Typography>\r\n            Are you sure you want to {confirmDialog.action} the service \"{confirmDialog.service}\"?\r\n          </Typography>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setConfirmDialog({ open: false, service: '', action: '' })}>\r\n            Cancel\r\n          </Button>\r\n          <Button\r\n            onClick={() =>\r\n              handleServiceAction(\r\n                confirmDialog.service,\r\n                confirmDialog.action as 'start' | 'stop' | 'restart'\r\n              )\r\n            }\r\n            color=\"primary\"\r\n            variant=\"contained\"\r\n          >\r\n            Confirm\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default ServiceManagement;\r\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { singleItemFieldValueManager, singleItemValueManager } from '../internals/utils/valueManagers';\nimport { useField } from '../internals/hooks/useField';\nimport { validateDateTime } from '../internals/utils/validation/validateDateTime';\nimport { applyDefaultDate } from '../internals/utils/date-utils';\nimport { useUtils, useDefaultDates } from '../internals/hooks/useUtils';\nimport { splitFieldInternalAndForwardedProps } from '../internals/utils/fields';\nconst useDefaultizedDateTimeField = props => {\n  var _props$ampm, _props$disablePast, _props$disableFuture, _props$format, _props$minDateTime, _props$maxDateTime, _props$minDateTime2, _props$maxDateTime2;\n  const utils = useUtils();\n  const defaultDates = useDefaultDates();\n  const ampm = (_props$ampm = props.ampm) != null ? _props$ampm : utils.is12HourCycleInCurrentLocale();\n  const defaultFormat = ampm ? utils.formats.keyboardDateTime12h : utils.formats.keyboardDateTime24h;\n  return _extends({}, props, {\n    disablePast: (_props$disablePast = props.disablePast) != null ? _props$disablePast : false,\n    disableFuture: (_props$disableFuture = props.disableFuture) != null ? _props$disableFuture : false,\n    format: (_props$format = props.format) != null ? _props$format : defaultFormat,\n    disableIgnoringDatePartForTimeValidation: Boolean(props.minDateTime || props.maxDateTime),\n    minDate: applyDefaultDate(utils, (_props$minDateTime = props.minDateTime) != null ? _props$minDateTime : props.minDate, defaultDates.minDate),\n    maxDate: applyDefaultDate(utils, (_props$maxDateTime = props.maxDateTime) != null ? _props$maxDateTime : props.maxDate, defaultDates.maxDate),\n    minTime: (_props$minDateTime2 = props.minDateTime) != null ? _props$minDateTime2 : props.minTime,\n    maxTime: (_props$maxDateTime2 = props.maxDateTime) != null ? _props$maxDateTime2 : props.maxTime\n  });\n};\nexport const useDateTimeField = ({\n  props: inProps,\n  inputRef\n}) => {\n  const props = useDefaultizedDateTimeField(inProps);\n  const {\n    forwardedProps,\n    internalProps\n  } = splitFieldInternalAndForwardedProps(props, 'date-time');\n  return useField({\n    inputRef,\n    forwardedProps,\n    internalProps,\n    valueManager: singleItemValueManager,\n    fieldValueManager: singleItemFieldValueManager,\n    validator: validateDateTime,\n    valueType: 'date-time'\n  });\n};","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"components\", \"componentsProps\", \"slots\", \"slotProps\", \"InputProps\", \"inputProps\"],\n  _excluded2 = [\"inputRef\"],\n  _excluded3 = [\"ref\", \"onPaste\", \"onKeyDown\", \"inputMode\", \"readOnly\", \"clearable\", \"onClear\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport MuiTextField from '@mui/material/TextField';\nimport { useThemeProps } from '@mui/material/styles';\nimport { useSlotProps } from '@mui/base/utils';\nimport { refType } from '@mui/utils';\nimport { useDateTimeField } from './useDateTimeField';\nimport { useClearableField } from '../hooks';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n/**\n * Demos:\n *\n * - [DateTimeField](http://mui.com/x/react-date-pickers/date-time-field/)\n * - [Fields](https://mui.com/x/react-date-pickers/fields/)\n *\n * API:\n *\n * - [DateTimeField API](https://mui.com/x/api/date-pickers/date-time-field/)\n */\nconst DateTimeField = /*#__PURE__*/React.forwardRef(function DateTimeField(inProps, ref) {\n  var _ref, _slots$textField, _slotProps$textField;\n  const themeProps = useThemeProps({\n    props: inProps,\n    name: 'MuiDateTimeField'\n  });\n  const {\n      components,\n      componentsProps,\n      slots,\n      slotProps,\n      InputProps,\n      inputProps\n    } = themeProps,\n    other = _objectWithoutPropertiesLoose(themeProps, _excluded);\n  const ownerState = themeProps;\n  const TextField = (_ref = (_slots$textField = slots == null ? void 0 : slots.textField) != null ? _slots$textField : components == null ? void 0 : components.TextField) != null ? _ref : MuiTextField;\n  const _useSlotProps = useSlotProps({\n      elementType: TextField,\n      externalSlotProps: (_slotProps$textField = slotProps == null ? void 0 : slotProps.textField) != null ? _slotProps$textField : componentsProps == null ? void 0 : componentsProps.textField,\n      externalForwardedProps: other,\n      ownerState\n    }),\n    {\n      inputRef: externalInputRef\n    } = _useSlotProps,\n    textFieldProps = _objectWithoutPropertiesLoose(_useSlotProps, _excluded2);\n\n  // TODO: Remove when mui/material-ui#35088 will be merged\n  textFieldProps.inputProps = _extends({}, inputProps, textFieldProps.inputProps);\n  textFieldProps.InputProps = _extends({}, InputProps, textFieldProps.InputProps);\n  const _useDateTimeField = useDateTimeField({\n      props: textFieldProps,\n      inputRef: externalInputRef\n    }),\n    {\n      ref: inputRef,\n      onPaste,\n      onKeyDown,\n      inputMode,\n      readOnly,\n      clearable,\n      onClear\n    } = _useDateTimeField,\n    fieldProps = _objectWithoutPropertiesLoose(_useDateTimeField, _excluded3);\n  const {\n    InputProps: ProcessedInputProps,\n    fieldProps: processedFieldProps\n  } = useClearableField({\n    onClear,\n    clearable,\n    fieldProps,\n    InputProps: fieldProps.InputProps,\n    slots,\n    slotProps,\n    components,\n    componentsProps\n  });\n  return /*#__PURE__*/_jsx(TextField, _extends({\n    ref: ref\n  }, processedFieldProps, {\n    InputProps: _extends({}, ProcessedInputProps, {\n      readOnly\n    }),\n    inputProps: _extends({}, fieldProps.inputProps, {\n      inputMode,\n      onPaste,\n      onKeyDown,\n      ref: inputRef\n    })\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? DateTimeField.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // | To update them edit the TypeScript types and run \"yarn proptypes\"  |\n  // ----------------------------------------------------------------------\n  /**\n   * 12h/24h view for hour selection clock.\n   * @default `utils.is12HourCycleInCurrentLocale()`\n   */\n  ampm: PropTypes.bool,\n  /**\n   * If `true`, the `input` element is focused during the first mount.\n   * @default false\n   */\n  autoFocus: PropTypes.bool,\n  className: PropTypes.string,\n  /**\n   * If `true`, a clear button will be shown in the field allowing value clearing.\n   * @default false\n   */\n  clearable: PropTypes.bool,\n  /**\n   * The color of the component.\n   * It supports both default and custom theme colors, which can be added as shown in the\n   * [palette customization guide](https://mui.com/material-ui/customization/palette/#custom-colors).\n   * @default 'primary'\n   */\n  color: PropTypes.oneOf(['error', 'info', 'primary', 'secondary', 'success', 'warning']),\n  component: PropTypes.elementType,\n  /**\n   * Overridable components.\n   * @default {}\n   * @deprecated Please use `slots`.\n   */\n  components: PropTypes.object,\n  /**\n   * The props used for each component slot.\n   * @default {}\n   * @deprecated Please use `slotProps`.\n   */\n  componentsProps: PropTypes.object,\n  /**\n   * The default value. Use when the component is not controlled.\n   */\n  defaultValue: PropTypes.any,\n  /**\n   * If `true`, the component is disabled.\n   * @default false\n   */\n  disabled: PropTypes.bool,\n  /**\n   * If `true`, disable values after the current date for date components, time for time components and both for date time components.\n   * @default false\n   */\n  disableFuture: PropTypes.bool,\n  /**\n   * Do not ignore date part when validating min/max time.\n   * @default false\n   */\n  disableIgnoringDatePartForTimeValidation: PropTypes.bool,\n  /**\n   * If `true`, disable values before the current date for date components, time for time components and both for date time components.\n   * @default false\n   */\n  disablePast: PropTypes.bool,\n  /**\n   * If `true`, the component is displayed in focused state.\n   */\n  focused: PropTypes.bool,\n  /**\n   * Format of the date when rendered in the input(s).\n   */\n  format: PropTypes.string,\n  /**\n   * Density of the format when rendered in the input.\n   * Setting `formatDensity` to `\"spacious\"` will add a space before and after each `/`, `-` and `.` character.\n   * @default \"dense\"\n   */\n  formatDensity: PropTypes.oneOf(['dense', 'spacious']),\n  /**\n   * Props applied to the [`FormHelperText`](/material-ui/api/form-helper-text/) element.\n   */\n  FormHelperTextProps: PropTypes.object,\n  /**\n   * If `true`, the input will take up the full width of its container.\n   * @default false\n   */\n  fullWidth: PropTypes.bool,\n  /**\n   * The helper text content.\n   */\n  helperText: PropTypes.node,\n  /**\n   * If `true`, the label is hidden.\n   * This is used to increase density for a `FilledInput`.\n   * Be sure to add `aria-label` to the `input` element.\n   * @default false\n   */\n  hiddenLabel: PropTypes.bool,\n  /**\n   * The id of the `input` element.\n   * Use this prop to make `label` and `helperText` accessible for screen readers.\n   */\n  id: PropTypes.string,\n  /**\n   * Props applied to the [`InputLabel`](/material-ui/api/input-label/) element.\n   * Pointer events like `onClick` are enabled if and only if `shrink` is `true`.\n   */\n  InputLabelProps: PropTypes.object,\n  /**\n   * [Attributes](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#Attributes) applied to the `input` element.\n   */\n  inputProps: PropTypes.object,\n  /**\n   * Props applied to the Input element.\n   * It will be a [`FilledInput`](/material-ui/api/filled-input/),\n   * [`OutlinedInput`](/material-ui/api/outlined-input/) or [`Input`](/material-ui/api/input/)\n   * component depending on the `variant` prop value.\n   */\n  InputProps: PropTypes.object,\n  /**\n   * Pass a ref to the `input` element.\n   */\n  inputRef: refType,\n  /**\n   * The label content.\n   */\n  label: PropTypes.node,\n  /**\n   * If `dense` or `normal`, will adjust vertical spacing of this and contained components.\n   * @default 'none'\n   */\n  margin: PropTypes.oneOf(['dense', 'none', 'normal']),\n  /**\n   * Maximal selectable date.\n   */\n  maxDate: PropTypes.any,\n  /**\n   * Maximal selectable moment of time with binding to date, to set max time in each day use `maxTime`.\n   */\n  maxDateTime: PropTypes.any,\n  /**\n   * Maximal selectable time.\n   * The date part of the object will be ignored unless `props.disableIgnoringDatePartForTimeValidation === true`.\n   */\n  maxTime: PropTypes.any,\n  /**\n   * Minimal selectable date.\n   */\n  minDate: PropTypes.any,\n  /**\n   * Minimal selectable moment of time with binding to date, to set min time in each day use `minTime`.\n   */\n  minDateTime: PropTypes.any,\n  /**\n   * Minimal selectable time.\n   * The date part of the object will be ignored unless `props.disableIgnoringDatePartForTimeValidation === true`.\n   */\n  minTime: PropTypes.any,\n  /**\n   * Step over minutes.\n   * @default 1\n   */\n  minutesStep: PropTypes.number,\n  /**\n   * Name attribute of the `input` element.\n   */\n  name: PropTypes.string,\n  onBlur: PropTypes.func,\n  /**\n   * Callback fired when the value changes.\n   * @template TValue The value type. Will be either the same type as `value` or `null`. Can be in `[start, end]` format in case of range value.\n   * @template TError The validation error type. Will be either `string` or a `null`. Can be in `[start, end]` format in case of range value.\n   * @param {TValue} value The new value.\n   * @param {FieldChangeHandlerContext<TError>} context The context containing the validation result of the current value.\n   */\n  onChange: PropTypes.func,\n  /**\n   * Callback fired when the clear button is clicked.\n   */\n  onClear: PropTypes.func,\n  /**\n   * Callback fired when the error associated to the current value changes.\n   * @template TValue The value type. Will be either the same type as `value` or `null`. Can be in `[start, end]` format in case of range value.\n   * @template TError The validation error type. Will be either `string` or a `null`. Can be in `[start, end]` format in case of range value.\n   * @param {TError} error The new error.\n   * @param {TValue} value The value associated to the error.\n   */\n  onError: PropTypes.func,\n  onFocus: PropTypes.func,\n  /**\n   * Callback fired when the selected sections change.\n   * @param {FieldSelectedSections} newValue The new selected sections.\n   */\n  onSelectedSectionsChange: PropTypes.func,\n  /**\n   * It prevents the user from changing the value of the field\n   * (not from interacting with the field).\n   * @default false\n   */\n  readOnly: PropTypes.bool,\n  /**\n   * The date used to generate a part of the new value that is not present in the format when both `value` and `defaultValue` are empty.\n   * For example, on time fields it will be used to determine the date to set.\n   * @default The closest valid date using the validation props, except callbacks such as `shouldDisableDate`. Value is rounded to the most granular section used.\n   */\n  referenceDate: PropTypes.any,\n  /**\n   * If `true`, the label is displayed as required and the `input` element is required.\n   * @default false\n   */\n  required: PropTypes.bool,\n  /**\n   * The currently selected sections.\n   * This prop accept four formats:\n   * 1. If a number is provided, the section at this index will be selected.\n   * 2. If an object with a `startIndex` and `endIndex` properties are provided, the sections between those two indexes will be selected.\n   * 3. If a string of type `FieldSectionType` is provided, the first section with that name will be selected.\n   * 4. If `null` is provided, no section will be selected\n   * If not provided, the selected sections will be handled internally.\n   */\n  selectedSections: PropTypes.oneOfType([PropTypes.oneOf(['all', 'day', 'hours', 'meridiem', 'minutes', 'month', 'seconds', 'weekDay', 'year']), PropTypes.number, PropTypes.shape({\n    endIndex: PropTypes.number.isRequired,\n    startIndex: PropTypes.number.isRequired\n  })]),\n  /**\n   * Disable specific clock time.\n   * @param {number} clockValue The value to check.\n   * @param {TimeView} view The clock type of the timeValue.\n   * @returns {boolean} If `true` the time will be disabled.\n   * @deprecated Consider using `shouldDisableTime`.\n   */\n  shouldDisableClock: PropTypes.func,\n  /**\n   * Disable specific date.\n   *\n   * Warning: This function can be called multiple times (e.g. when rendering date calendar, checking if focus can be moved to a certain date, etc.). Expensive computations can impact performance.\n   *\n   * @template TDate\n   * @param {TDate} day The date to test.\n   * @returns {boolean} If `true` the date will be disabled.\n   */\n  shouldDisableDate: PropTypes.func,\n  /**\n   * Disable specific month.\n   * @template TDate\n   * @param {TDate} month The month to test.\n   * @returns {boolean} If `true`, the month will be disabled.\n   */\n  shouldDisableMonth: PropTypes.func,\n  /**\n   * Disable specific time.\n   * @template TDate\n   * @param {TDate} value The value to check.\n   * @param {TimeView} view The clock type of the timeValue.\n   * @returns {boolean} If `true` the time will be disabled.\n   */\n  shouldDisableTime: PropTypes.func,\n  /**\n   * Disable specific year.\n   * @template TDate\n   * @param {TDate} year The year to test.\n   * @returns {boolean} If `true`, the year will be disabled.\n   */\n  shouldDisableYear: PropTypes.func,\n  /**\n   * If `true`, the format will respect the leading zeroes (e.g: on dayjs, the format `M/D/YYYY` will render `8/16/2018`)\n   * If `false`, the format will always add leading zeroes (e.g: on dayjs, the format `M/D/YYYY` will render `08/16/2018`)\n   *\n   * Warning n1: Luxon is not able to respect the leading zeroes when using macro tokens (e.g: \"DD\"), so `shouldRespectLeadingZeros={true}` might lead to inconsistencies when using `AdapterLuxon`.\n   *\n   * Warning n2: When `shouldRespectLeadingZeros={true}`, the field will add an invisible character on the sections containing a single digit to make sure `onChange` is fired.\n   * If you need to get the clean value from the input, you can remove this character using `input.value.replace(/\\u200e/g, '')`.\n   *\n   * Warning n3: When used in strict mode, dayjs and moment require to respect the leading zeros.\n   * This mean that when using `shouldRespectLeadingZeros={false}`, if you retrieve the value directly from the input (not listening to `onChange`) and your format contains tokens without leading zeros, the value will not be parsed by your library.\n   *\n   * @default `false`\n   */\n  shouldRespectLeadingZeros: PropTypes.bool,\n  /**\n   * The size of the component.\n   */\n  size: PropTypes.oneOf(['medium', 'small']),\n  /**\n   * The props used for each component slot.\n   * @default {}\n   */\n  slotProps: PropTypes.object,\n  /**\n   * Overridable component slots.\n   * @default {}\n   */\n  slots: PropTypes.object,\n  style: PropTypes.object,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n  /**\n   * Choose which timezone to use for the value.\n   * Example: \"default\", \"system\", \"UTC\", \"America/New_York\".\n   * If you pass values from other timezones to some props, they will be converted to this timezone before being used.\n   * @see See the {@link https://mui.com/x/react-date-pickers/timezone/ timezones documention} for more details.\n   * @default The timezone of the `value` or `defaultValue` prop is defined, 'default' otherwise.\n   */\n  timezone: PropTypes.string,\n  /**\n   * The ref object used to imperatively interact with the field.\n   */\n  unstableFieldRef: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n  /**\n   * The selected value.\n   * Used when the component is controlled.\n   */\n  value: PropTypes.any,\n  /**\n   * The variant to use.\n   * @default 'outlined'\n   */\n  variant: PropTypes.oneOf(['filled', 'outlined', 'standard'])\n} : void 0;\nexport { DateTimeField };","import { unstable_generateUtilityClass as generateUtilityClass, unstable_generateUtilityClasses as generateUtilityClasses } from '@mui/utils';\nexport function getDateTimePickerTabsUtilityClass(slot) {\n  return generateUtilityClass('MuiDateTimePickerTabs', slot);\n}\nexport const dateTimePickerTabsClasses = generateUtilityClasses('MuiDateTimePickerTabs', ['root']);","import * as React from 'react';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport Tab from '@mui/material/Tab';\nimport Tabs, { tabsClasses } from '@mui/material/Tabs';\nimport { styled, useThemeProps } from '@mui/material/styles';\nimport composeClasses from '@mui/utils/composeClasses';\nimport { TimeIcon, DateRangeIcon } from '../icons';\nimport { useLocaleText } from '../internals/hooks/useUtils';\nimport { getDateTimePickerTabsUtilityClass } from './dateTimePickerTabsClasses';\nimport { isDatePickerView } from '../internals/utils/date-utils';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst viewToTab = view => {\n  if (isDatePickerView(view)) {\n    return 'date';\n  }\n  return 'time';\n};\nconst tabToView = tab => {\n  if (tab === 'date') {\n    return 'day';\n  }\n  return 'hours';\n};\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root']\n  };\n  return composeClasses(slots, getDateTimePickerTabsUtilityClass, classes);\n};\nconst DateTimePickerTabsRoot = styled(Tabs, {\n  name: 'MuiDateTimePickerTabs',\n  slot: 'Root',\n  overridesResolver: (_, styles) => styles.root\n})(({\n  theme\n}) => ({\n  boxShadow: `0 -1px 0 0 inset ${(theme.vars || theme).palette.divider}`,\n  '&:last-child': {\n    boxShadow: `0 1px 0 0 inset ${(theme.vars || theme).palette.divider}`,\n    [`& .${tabsClasses.indicator}`]: {\n      bottom: 'auto',\n      top: 0\n    }\n  }\n}));\n\n/**\n * Demos:\n *\n * - [DateTimePicker](https://mui.com/x/react-date-pickers/date-time-picker/)\n * - [Custom slots and subcomponents](https://mui.com/x/react-date-pickers/custom-components/)\n *\n * API:\n *\n * - [DateTimePickerTabs API](https://mui.com/x/api/date-pickers/date-time-picker-tabs/)\n */\nconst DateTimePickerTabs = function DateTimePickerTabs(inProps) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiDateTimePickerTabs'\n  });\n  const {\n    dateIcon = /*#__PURE__*/_jsx(DateRangeIcon, {}),\n    onViewChange,\n    timeIcon = /*#__PURE__*/_jsx(TimeIcon, {}),\n    view,\n    hidden = typeof window === 'undefined' || window.innerHeight < 667,\n    className,\n    sx\n  } = props;\n  const localeText = useLocaleText();\n  const classes = useUtilityClasses(props);\n  const handleChange = (event, value) => {\n    onViewChange(tabToView(value));\n  };\n  if (hidden) {\n    return null;\n  }\n  return /*#__PURE__*/_jsxs(DateTimePickerTabsRoot, {\n    ownerState: props,\n    variant: \"fullWidth\",\n    value: viewToTab(view),\n    onChange: handleChange,\n    className: clsx(className, classes.root),\n    sx: sx,\n    children: [/*#__PURE__*/_jsx(Tab, {\n      value: \"date\",\n      \"aria-label\": localeText.dateTableLabel,\n      icon: /*#__PURE__*/_jsx(React.Fragment, {\n        children: dateIcon\n      })\n    }), /*#__PURE__*/_jsx(Tab, {\n      value: \"time\",\n      \"aria-label\": localeText.timeTableLabel,\n      icon: /*#__PURE__*/_jsx(React.Fragment, {\n        children: timeIcon\n      })\n    })]\n  });\n};\nprocess.env.NODE_ENV !== \"production\" ? DateTimePickerTabs.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // | To update them edit the TypeScript types and run \"yarn proptypes\"  |\n  // ----------------------------------------------------------------------\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  /**\n   * Date tab icon.\n   * @default DateRange\n   */\n  dateIcon: PropTypes.node,\n  /**\n   * Toggles visibility of the tabs allowing view switching.\n   * @default `window.innerHeight < 667` for `DesktopDateTimePicker` and `MobileDateTimePicker`, `displayStaticWrapperAs === 'desktop'` for `StaticDateTimePicker`\n   */\n  hidden: PropTypes.bool,\n  /**\n   * Callback called when a tab is clicked\n   * @template TView\n   * @param {TView} view The view to open\n   */\n  onViewChange: PropTypes.func.isRequired,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n  /**\n   * Time tab icon.\n   * @default Time\n   */\n  timeIcon: PropTypes.node,\n  /**\n   * Currently visible picker view.\n   */\n  view: PropTypes.oneOf(['day', 'hours', 'meridiem', 'minutes', 'month', 'seconds', 'year']).isRequired\n} : void 0;\nexport { DateTimePickerTabs };","import { unstable_generateUtilityClass as generateUtilityClass, unstable_generateUtilityClasses as generateUtilityClasses } from '@mui/utils';\nexport function getDateTimePickerToolbarUtilityClass(slot) {\n  return generateUtilityClass('MuiDateTimePickerToolbar', slot);\n}\nexport const dateTimePickerToolbarClasses = generateUtilityClasses('MuiDateTimePickerToolbar', ['root', 'dateContainer', 'timeContainer', 'timeDigitsContainer', 'separator', 'timeLabelReverse', 'ampmSelection', 'ampmLandscape', 'ampmLabel']);","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"ampm\", \"ampmInClock\", \"value\", \"onChange\", \"view\", \"isLandscape\", \"onViewChange\", \"toolbarFormat\", \"toolbarPlaceholder\", \"views\", \"disabled\", \"readOnly\", \"toolbarVariant\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { styled, useThemeProps, useTheme } from '@mui/material/styles';\nimport { unstable_composeClasses as composeClasses } from '@mui/utils';\nimport { PickersToolbarText } from '../internals/components/PickersToolbarText';\nimport { PickersToolbar } from '../internals/components/PickersToolbar';\nimport { PickersToolbarButton } from '../internals/components/PickersToolbarButton';\nimport { useLocaleText, useUtils } from '../internals/hooks/useUtils';\nimport { dateTimePickerToolbarClasses, getDateTimePickerToolbarUtilityClass } from './dateTimePickerToolbarClasses';\nimport { useMeridiemMode } from '../internals/hooks/date-helpers-hooks';\nimport { MULTI_SECTION_CLOCK_SECTION_WIDTH } from '../internals/constants/dimensions';\nimport { formatMeridiem } from '../internals/utils/date-utils';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    theme,\n    isLandscape\n  } = ownerState;\n  const slots = {\n    root: ['root'],\n    dateContainer: ['dateContainer'],\n    timeContainer: ['timeContainer', theme.direction === 'rtl' && 'timeLabelReverse'],\n    timeDigitsContainer: ['timeDigitsContainer', theme.direction === 'rtl' && 'timeLabelReverse'],\n    separator: ['separator'],\n    ampmSelection: ['ampmSelection', isLandscape && 'ampmLandscape'],\n    ampmLabel: ['ampmLabel']\n  };\n  return composeClasses(slots, getDateTimePickerToolbarUtilityClass, classes);\n};\nconst DateTimePickerToolbarRoot = styled(PickersToolbar, {\n  name: 'MuiDateTimePickerToolbar',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})(({\n  theme,\n  ownerState\n}) => ({\n  paddingLeft: ownerState.toolbarVariant === 'desktop' && !ownerState.isLandscape ? 24 : 16,\n  paddingRight: ownerState.toolbarVariant === 'desktop' && !ownerState.isLandscape ? 0 : 16,\n  borderBottom: ownerState.toolbarVariant === 'desktop' ? `1px solid ${(theme.vars || theme).palette.divider}` : undefined,\n  borderRight: ownerState.toolbarVariant === 'desktop' && ownerState.isLandscape ? `1px solid ${(theme.vars || theme).palette.divider}` : undefined,\n  justifyContent: 'space-around',\n  position: 'relative'\n}));\nDateTimePickerToolbarRoot.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // | To update them edit the TypeScript types and run \"yarn proptypes\"  |\n  // ----------------------------------------------------------------------\n  as: PropTypes.elementType,\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  isLandscape: PropTypes.bool.isRequired,\n  isMobileKeyboardViewOpen: PropTypes.bool,\n  landscapeDirection: PropTypes.oneOf(['column', 'row']),\n  ownerState: PropTypes.object.isRequired,\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n  toggleMobileKeyboardView: PropTypes.func,\n  toolbarTitle: PropTypes.node,\n  viewType: PropTypes.oneOf(['date', 'time'])\n};\nconst DateTimePickerToolbarDateContainer = styled('div', {\n  name: 'MuiDateTimePickerToolbar',\n  slot: 'DateContainer',\n  overridesResolver: (props, styles) => styles.dateContainer\n})({\n  display: 'flex',\n  flexDirection: 'column',\n  alignItems: 'flex-start'\n});\nconst DateTimePickerToolbarTimeContainer = styled('div', {\n  name: 'MuiDateTimePickerToolbar',\n  slot: 'TimeContainer',\n  overridesResolver: (props, styles) => styles.timeContainer\n})(({\n  theme,\n  ownerState\n}) => {\n  const direction = ownerState.isLandscape && ownerState.toolbarVariant !== 'desktop' ? 'column' : 'row';\n  return _extends({\n    display: 'flex',\n    flexDirection: direction\n  }, ownerState.toolbarVariant === 'desktop' && _extends({}, !ownerState.isLandscape && {\n    gap: 9,\n    marginRight: 4,\n    alignSelf: 'flex-end'\n  }), theme.direction === 'rtl' && {\n    flexDirection: `${direction}-reverse`\n  });\n});\nconst DateTimePickerToolbarTimeDigitsContainer = styled('div', {\n  name: 'MuiDateTimePickerToolbar',\n  slot: 'TimeDigitsContainer',\n  overridesResolver: (props, styles) => styles.timeDigitsContainer\n})(({\n  theme,\n  ownerState\n}) => _extends({\n  display: 'flex'\n}, ownerState.toolbarVariant === 'desktop' && {\n  gap: 1.5\n}, theme.direction === 'rtl' && {\n  flexDirection: 'row-reverse'\n}));\nDateTimePickerToolbarTimeContainer.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // | To update them edit the TypeScript types and run \"yarn proptypes\"  |\n  // ----------------------------------------------------------------------\n  as: PropTypes.elementType,\n  ownerState: PropTypes.object.isRequired,\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n};\nconst DateTimePickerToolbarSeparator = styled(PickersToolbarText, {\n  name: 'MuiDateTimePickerToolbar',\n  slot: 'Separator',\n  overridesResolver: (props, styles) => styles.separator\n})(({\n  ownerState\n}) => ({\n  margin: ownerState.toolbarVariant === 'desktop' ? 0 : '0 4px 0 2px',\n  cursor: 'default'\n}));\n\n// Taken from TimePickerToolbar\nconst DateTimePickerToolbarAmPmSelection = styled('div', {\n  name: 'MuiDateTimePickerToolbar',\n  slot: 'AmPmSelection',\n  overridesResolver: (props, styles) => [{\n    [`.${dateTimePickerToolbarClasses.ampmLabel}`]: styles.ampmLabel\n  }, {\n    [`&.${dateTimePickerToolbarClasses.ampmLandscape}`]: styles.ampmLandscape\n  }, styles.ampmSelection]\n})(({\n  ownerState\n}) => _extends({\n  display: 'flex',\n  flexDirection: 'column',\n  marginRight: 'auto',\n  marginLeft: 12\n}, ownerState.isLandscape && {\n  margin: '4px 0 auto',\n  flexDirection: 'row',\n  justifyContent: 'space-around',\n  width: '100%'\n}, {\n  [`& .${dateTimePickerToolbarClasses.ampmLabel}`]: {\n    fontSize: 17\n  }\n}));\n\n/**\n * Demos:\n *\n * - [DateTimePicker](https://mui.com/x/react-date-pickers/date-time-picker/)\n * - [Custom components](https://mui.com/x/react-date-pickers/custom-components/)\n *\n * API:\n *\n * - [DateTimePickerToolbar API](https://mui.com/x/api/date-pickers/date-time-picker-toolbar/)\n */\nfunction DateTimePickerToolbar(inProps) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiDateTimePickerToolbar'\n  });\n  const {\n      ampm,\n      ampmInClock,\n      value,\n      onChange,\n      view,\n      isLandscape,\n      onViewChange,\n      toolbarFormat,\n      toolbarPlaceholder = '',\n      views,\n      disabled,\n      readOnly,\n      toolbarVariant = 'mobile'\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const ownerState = props;\n  const utils = useUtils();\n  const {\n    meridiemMode,\n    handleMeridiemChange\n  } = useMeridiemMode(value, ampm, onChange);\n  const showAmPmControl = Boolean(ampm && !ampmInClock);\n  const isDesktop = toolbarVariant === 'desktop';\n  const localeText = useLocaleText();\n  const theme = useTheme();\n  const classes = useUtilityClasses(_extends({}, ownerState, {\n    theme\n  }));\n  const formatHours = time => ampm ? utils.format(time, 'hours12h') : utils.format(time, 'hours24h');\n  const dateText = React.useMemo(() => {\n    if (!value) {\n      return toolbarPlaceholder;\n    }\n    if (toolbarFormat) {\n      return utils.formatByString(value, toolbarFormat);\n    }\n    return utils.format(value, 'shortDate');\n  }, [value, toolbarFormat, toolbarPlaceholder, utils]);\n  return /*#__PURE__*/_jsxs(DateTimePickerToolbarRoot, _extends({\n    toolbarTitle: localeText.dateTimePickerToolbarTitle,\n    isLandscape: isLandscape,\n    className: classes.root\n  }, other, {\n    ownerState: ownerState,\n    children: [/*#__PURE__*/_jsxs(DateTimePickerToolbarDateContainer, {\n      className: classes.dateContainer,\n      ownerState: ownerState,\n      children: [views.includes('year') && /*#__PURE__*/_jsx(PickersToolbarButton, {\n        tabIndex: -1,\n        variant: \"subtitle1\",\n        onClick: () => onViewChange('year'),\n        selected: view === 'year',\n        value: value ? utils.format(value, 'year') : ''\n      }), views.includes('day') && /*#__PURE__*/_jsx(PickersToolbarButton, {\n        tabIndex: -1,\n        variant: isDesktop ? 'h5' : 'h4',\n        onClick: () => onViewChange('day'),\n        selected: view === 'day',\n        value: dateText\n      })]\n    }), /*#__PURE__*/_jsxs(DateTimePickerToolbarTimeContainer, {\n      className: classes.timeContainer,\n      ownerState: ownerState,\n      children: [/*#__PURE__*/_jsxs(DateTimePickerToolbarTimeDigitsContainer, {\n        className: classes.timeDigitsContainer,\n        ownerState: ownerState,\n        children: [views.includes('hours') && /*#__PURE__*/_jsx(PickersToolbarButton, {\n          variant: isDesktop ? 'h5' : 'h3',\n          width: isDesktop && !isLandscape ? MULTI_SECTION_CLOCK_SECTION_WIDTH : undefined,\n          onClick: () => onViewChange('hours'),\n          selected: view === 'hours',\n          value: value ? formatHours(value) : '--'\n        }), views.includes('minutes') && /*#__PURE__*/_jsxs(React.Fragment, {\n          children: [/*#__PURE__*/_jsx(DateTimePickerToolbarSeparator, {\n            variant: isDesktop ? 'h5' : 'h3',\n            value: \":\",\n            className: classes.separator,\n            ownerState: ownerState\n          }), /*#__PURE__*/_jsx(PickersToolbarButton, {\n            variant: isDesktop ? 'h5' : 'h3',\n            width: isDesktop && !isLandscape ? MULTI_SECTION_CLOCK_SECTION_WIDTH : undefined,\n            onClick: () => onViewChange('minutes'),\n            selected: view === 'minutes',\n            value: value ? utils.format(value, 'minutes') : '--'\n          })]\n        }), views.includes('seconds') && /*#__PURE__*/_jsxs(React.Fragment, {\n          children: [/*#__PURE__*/_jsx(DateTimePickerToolbarSeparator, {\n            variant: isDesktop ? 'h5' : 'h3',\n            value: \":\",\n            className: classes.separator,\n            ownerState: ownerState\n          }), /*#__PURE__*/_jsx(PickersToolbarButton, {\n            variant: isDesktop ? 'h5' : 'h3',\n            width: isDesktop && !isLandscape ? MULTI_SECTION_CLOCK_SECTION_WIDTH : undefined,\n            onClick: () => onViewChange('seconds'),\n            selected: view === 'seconds',\n            value: value ? utils.format(value, 'seconds') : '--'\n          })]\n        })]\n      }), showAmPmControl && !isDesktop && /*#__PURE__*/_jsxs(DateTimePickerToolbarAmPmSelection, {\n        className: classes.ampmSelection,\n        ownerState: ownerState,\n        children: [/*#__PURE__*/_jsx(PickersToolbarButton, {\n          variant: \"subtitle2\",\n          selected: meridiemMode === 'am',\n          typographyClassName: classes.ampmLabel,\n          value: formatMeridiem(utils, 'am'),\n          onClick: readOnly ? undefined : () => handleMeridiemChange('am'),\n          disabled: disabled\n        }), /*#__PURE__*/_jsx(PickersToolbarButton, {\n          variant: \"subtitle2\",\n          selected: meridiemMode === 'pm',\n          typographyClassName: classes.ampmLabel,\n          value: formatMeridiem(utils, 'pm'),\n          onClick: readOnly ? undefined : () => handleMeridiemChange('pm'),\n          disabled: disabled\n        })]\n      }), ampm && isDesktop && /*#__PURE__*/_jsx(PickersToolbarButton, {\n        variant: \"h5\",\n        onClick: () => onViewChange('meridiem'),\n        selected: view === 'meridiem',\n        value: value && meridiemMode ? formatMeridiem(utils, meridiemMode) : '--',\n        width: MULTI_SECTION_CLOCK_SECTION_WIDTH\n      })]\n    })]\n  }));\n}\nprocess.env.NODE_ENV !== \"production\" ? DateTimePickerToolbar.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // | To update them edit the TypeScript types and run \"yarn proptypes\"  |\n  // ----------------------------------------------------------------------\n  ampm: PropTypes.bool,\n  ampmInClock: PropTypes.bool,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * className applied to the root component.\n   */\n  className: PropTypes.string,\n  disabled: PropTypes.bool,\n  /**\n   * If `true`, show the toolbar even in desktop mode.\n   * @default `true` for Desktop, `false` for Mobile.\n   */\n  hidden: PropTypes.bool,\n  isLandscape: PropTypes.bool.isRequired,\n  onChange: PropTypes.func.isRequired,\n  /**\n   * Callback called when a toolbar is clicked\n   * @template TView\n   * @param {TView} view The view to open\n   */\n  onViewChange: PropTypes.func.isRequired,\n  readOnly: PropTypes.bool,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n  titleId: PropTypes.string,\n  /**\n   * Toolbar date format.\n   */\n  toolbarFormat: PropTypes.string,\n  /**\n   * Toolbar value placeholderit is displayed when the value is empty.\n   * @default \"\"\n   */\n  toolbarPlaceholder: PropTypes.node,\n  toolbarVariant: PropTypes.oneOf(['desktop', 'mobile']),\n  value: PropTypes.any,\n  /**\n   * Currently visible picker view.\n   */\n  view: PropTypes.oneOf(['day', 'hours', 'meridiem', 'minutes', 'month', 'seconds', 'year']).isRequired,\n  views: PropTypes.arrayOf(PropTypes.oneOf(['day', 'hours', 'meridiem', 'minutes', 'month', 'seconds', 'year']).isRequired).isRequired\n} : void 0;\nexport { DateTimePickerToolbar };","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { useThemeProps } from '@mui/material/styles';\nimport { useDefaultDates, useUtils } from '../internals/hooks/useUtils';\nimport { applyDefaultDate } from '../internals/utils/date-utils';\nimport { DateTimePickerTabs } from './DateTimePickerTabs';\nimport { DateTimePickerToolbar } from './DateTimePickerToolbar';\nimport { applyDefaultViewProps } from '../internals/utils/views';\nimport { uncapitalizeObjectKeys } from '../internals/utils/slots-migration';\nexport function useDateTimePickerDefaultizedProps(props, name) {\n  var _themeProps$ampm, _themeProps$slots, _themeProps$slotProps, _themeProps$orientati, _themeProps$disableIg, _themeProps$disableFu, _themeProps$disablePa, _themeProps$minDateTi, _themeProps$maxDateTi, _themeProps$minDateTi2, _themeProps$maxDateTi2;\n  const utils = useUtils();\n  const defaultDates = useDefaultDates();\n  const themeProps = useThemeProps({\n    props,\n    name\n  });\n  const ampm = (_themeProps$ampm = themeProps.ampm) != null ? _themeProps$ampm : utils.is12HourCycleInCurrentLocale();\n  const localeText = React.useMemo(() => {\n    var _themeProps$localeTex;\n    if (((_themeProps$localeTex = themeProps.localeText) == null ? void 0 : _themeProps$localeTex.toolbarTitle) == null) {\n      return themeProps.localeText;\n    }\n    return _extends({}, themeProps.localeText, {\n      dateTimePickerToolbarTitle: themeProps.localeText.toolbarTitle\n    });\n  }, [themeProps.localeText]);\n  const slots = (_themeProps$slots = themeProps.slots) != null ? _themeProps$slots : uncapitalizeObjectKeys(themeProps.components);\n  const slotProps = (_themeProps$slotProps = themeProps.slotProps) != null ? _themeProps$slotProps : themeProps.componentsProps;\n  return _extends({}, themeProps, applyDefaultViewProps({\n    views: themeProps.views,\n    openTo: themeProps.openTo,\n    defaultViews: ['year', 'day', 'hours', 'minutes'],\n    defaultOpenTo: 'day'\n  }), {\n    ampm,\n    localeText,\n    orientation: (_themeProps$orientati = themeProps.orientation) != null ? _themeProps$orientati : 'portrait',\n    // TODO: Remove from public API\n    disableIgnoringDatePartForTimeValidation: (_themeProps$disableIg = themeProps.disableIgnoringDatePartForTimeValidation) != null ? _themeProps$disableIg : Boolean(themeProps.minDateTime || themeProps.maxDateTime ||\n    // allow time clock to correctly check time validity: https://github.com/mui/mui-x/issues/8520\n    themeProps.disablePast || themeProps.disableFuture),\n    disableFuture: (_themeProps$disableFu = themeProps.disableFuture) != null ? _themeProps$disableFu : false,\n    disablePast: (_themeProps$disablePa = themeProps.disablePast) != null ? _themeProps$disablePa : false,\n    minDate: applyDefaultDate(utils, (_themeProps$minDateTi = themeProps.minDateTime) != null ? _themeProps$minDateTi : themeProps.minDate, defaultDates.minDate),\n    maxDate: applyDefaultDate(utils, (_themeProps$maxDateTi = themeProps.maxDateTime) != null ? _themeProps$maxDateTi : themeProps.maxDate, defaultDates.maxDate),\n    minTime: (_themeProps$minDateTi2 = themeProps.minDateTime) != null ? _themeProps$minDateTi2 : themeProps.minTime,\n    maxTime: (_themeProps$maxDateTi2 = themeProps.maxDateTime) != null ? _themeProps$maxDateTi2 : themeProps.maxTime,\n    slots: _extends({\n      toolbar: DateTimePickerToolbar,\n      tabs: DateTimePickerTabs\n    }, slots),\n    slotProps: _extends({}, slotProps, {\n      toolbar: _extends({\n        ampm\n      }, slotProps == null ? void 0 : slotProps.toolbar)\n    })\n  });\n}","import generateUtilityClass from '@mui/utils/generateUtilityClass';\nimport generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nexport function getMultiSectionDigitalClockUtilityClass(slot) {\n  return generateUtilityClass('MuiMultiSectionDigitalClock', slot);\n}\nexport const multiSectionDigitalClockClasses = generateUtilityClasses('MuiMultiSectionDigitalClock', ['root']);","import generateUtilityClass from '@mui/utils/generateUtilityClass';\nimport generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nexport function getMultiSectionDigitalClockSectionUtilityClass(slot) {\n  return generateUtilityClass('MuiMultiSectionDigitalClockSection', slot);\n}\nexport const multiSectionDigitalClockSectionClasses = generateUtilityClasses('MuiMultiSectionDigitalClockSection', ['root', 'item']);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"autoFocus\", \"onChange\", \"className\", \"disabled\", \"readOnly\", \"items\", \"active\", \"slots\", \"slotProps\", \"skipDisabled\"];\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport { alpha, styled, useThemeProps } from '@mui/material/styles';\nimport composeClasses from '@mui/utils/composeClasses';\nimport MenuList from '@mui/material/MenuList';\nimport MenuItem from '@mui/material/MenuItem';\nimport useForkRef from '@mui/utils/useForkRef';\nimport { getMultiSectionDigitalClockSectionUtilityClass } from './multiSectionDigitalClockSectionClasses';\nimport { DIGITAL_CLOCK_VIEW_HEIGHT, MULTI_SECTION_CLOCK_SECTION_WIDTH } from '../internals/constants/dimensions';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root'],\n    item: ['item']\n  };\n  return composeClasses(slots, getMultiSectionDigitalClockSectionUtilityClass, classes);\n};\nconst MultiSectionDigitalClockSectionRoot = styled(MenuList, {\n  name: 'MuiMultiSectionDigitalClockSection',\n  slot: 'Root',\n  overridesResolver: (_, styles) => styles.root\n})(({\n  theme,\n  ownerState\n}) => ({\n  maxHeight: DIGITAL_CLOCK_VIEW_HEIGHT,\n  width: 56,\n  padding: 0,\n  overflow: 'hidden',\n  '@media (prefers-reduced-motion: no-preference)': {\n    scrollBehavior: ownerState.alreadyRendered ? 'smooth' : 'auto'\n  },\n  '@media (pointer: fine)': {\n    '&:hover': {\n      overflowY: 'auto'\n    }\n  },\n  '@media (pointer: none), (pointer: coarse)': {\n    overflowY: 'auto'\n  },\n  '&:not(:first-of-type)': {\n    borderLeft: `1px solid ${(theme.vars || theme).palette.divider}`\n  },\n  '&:after': {\n    display: 'block',\n    content: '\"\"',\n    // subtracting the height of one item, extra margin and borders to make sure the max height is correct\n    height: 'calc(100% - 40px - 6px)'\n  }\n}));\nconst MultiSectionDigitalClockSectionItem = styled(MenuItem, {\n  name: 'MuiMultiSectionDigitalClockSection',\n  slot: 'Item',\n  overridesResolver: (_, styles) => styles.item\n})(({\n  theme\n}) => ({\n  padding: 8,\n  margin: '2px 4px',\n  width: MULTI_SECTION_CLOCK_SECTION_WIDTH,\n  justifyContent: 'center',\n  '&:first-of-type': {\n    marginTop: 4\n  },\n  '&:hover': {\n    backgroundColor: theme.vars ? `rgba(${theme.vars.palette.primary.mainChannel} / ${theme.vars.palette.action.hoverOpacity})` : alpha(theme.palette.primary.main, theme.palette.action.hoverOpacity)\n  },\n  '&.Mui-selected': {\n    backgroundColor: (theme.vars || theme).palette.primary.main,\n    color: (theme.vars || theme).palette.primary.contrastText,\n    '&:focus-visible, &:hover': {\n      backgroundColor: (theme.vars || theme).palette.primary.dark\n    }\n  },\n  '&.Mui-focusVisible': {\n    backgroundColor: theme.vars ? `rgba(${theme.vars.palette.primary.mainChannel} / ${theme.vars.palette.action.focusOpacity})` : alpha(theme.palette.primary.main, theme.palette.action.focusOpacity)\n  }\n}));\n/**\n * @ignore - internal component.\n */\nexport const MultiSectionDigitalClockSection = /*#__PURE__*/React.forwardRef(function MultiSectionDigitalClockSection(inProps, ref) {\n  var _slots$digitalClockSe;\n  const containerRef = React.useRef(null);\n  const handleRef = useForkRef(ref, containerRef);\n  const previousActive = React.useRef(null);\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiMultiSectionDigitalClockSection'\n  });\n  const {\n      autoFocus,\n      onChange,\n      className,\n      disabled,\n      readOnly,\n      items,\n      active,\n      slots,\n      slotProps,\n      skipDisabled\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const ownerState = React.useMemo(() => _extends({}, props, {\n    alreadyRendered: !!containerRef.current\n  }), [props]);\n  const classes = useUtilityClasses(ownerState);\n  const DigitalClockSectionItem = (_slots$digitalClockSe = slots == null ? void 0 : slots.digitalClockSectionItem) != null ? _slots$digitalClockSe : MultiSectionDigitalClockSectionItem;\n  React.useEffect(() => {\n    if (containerRef.current === null) {\n      return;\n    }\n    const activeItem = containerRef.current.querySelector('[role=\"option\"][aria-selected=\"true\"]');\n    if (active && autoFocus && activeItem) {\n      activeItem.focus();\n    }\n    if (!activeItem || previousActive.current === activeItem) {\n      return;\n    }\n    previousActive.current = activeItem;\n    const offsetTop = activeItem.offsetTop;\n\n    // Subtracting the 4px of extra margin intended for the first visible section item\n    containerRef.current.scrollTop = offsetTop - 4;\n  });\n  return /*#__PURE__*/_jsx(MultiSectionDigitalClockSectionRoot, _extends({\n    ref: handleRef,\n    className: clsx(classes.root, className),\n    ownerState: ownerState,\n    autoFocusItem: autoFocus && active,\n    role: \"listbox\"\n  }, other, {\n    children: items.map(option => {\n      var _option$isDisabled, _option$isDisabled2;\n      if (skipDisabled && (_option$isDisabled = option.isDisabled) != null && _option$isDisabled.call(option, option.value)) {\n        return null;\n      }\n      const isSelected = option.isSelected(option.value);\n      return /*#__PURE__*/_jsx(DigitalClockSectionItem, _extends({\n        onClick: () => !readOnly && onChange(option.value),\n        selected: isSelected,\n        disabled: disabled || ((_option$isDisabled2 = option.isDisabled) == null ? void 0 : _option$isDisabled2.call(option, option.value)),\n        disableRipple: readOnly,\n        role: \"option\"\n        // aria-readonly is not supported here and does not have any effect\n        ,\n        \"aria-disabled\": readOnly,\n        \"aria-label\": option.ariaLabel,\n        \"aria-selected\": isSelected,\n        className: classes.item\n      }, slotProps == null ? void 0 : slotProps.digitalClockSectionItem, {\n        children: option.label\n      }), option.label);\n    })\n  }));\n});","export const getHourSectionOptions = ({\n  now,\n  value,\n  utils,\n  ampm,\n  isDisabled,\n  resolveAriaLabel,\n  timeStep\n}) => {\n  const currentHours = value ? utils.getHours(value) : null;\n  const result = [];\n  const isSelected = hour => {\n    if (currentHours === null) {\n      return false;\n    }\n    if (ampm) {\n      if (hour === 12) {\n        return currentHours === 12 || currentHours === 0;\n      }\n      return currentHours === hour || currentHours - 12 === hour;\n    }\n    return currentHours === hour;\n  };\n  const endHour = ampm ? 11 : 23;\n  for (let hour = 0; hour <= endHour; hour += timeStep) {\n    let label = utils.format(utils.setHours(now, hour), ampm ? 'hours12h' : 'hours24h');\n    const ariaLabel = resolveAriaLabel(parseInt(label, 10).toString());\n    label = utils.formatNumber(label);\n    result.push({\n      value: hour,\n      label,\n      isSelected,\n      isDisabled,\n      ariaLabel\n    });\n  }\n  return result;\n};\nexport const getTimeSectionOptions = ({\n  value,\n  utils,\n  isDisabled,\n  timeStep,\n  resolveLabel,\n  resolveAriaLabel,\n  hasValue = true\n}) => {\n  const isSelected = timeValue => {\n    if (value === null) {\n      return false;\n    }\n    return hasValue && value === timeValue;\n  };\n  return [...Array.from({\n    length: Math.ceil(60 / timeStep)\n  }, (_, index) => {\n    const timeValue = timeStep * index;\n    return {\n      value: timeValue,\n      label: utils.formatNumber(resolveLabel(timeValue)),\n      isDisabled,\n      isSelected,\n      ariaLabel: resolveAriaLabel(timeValue.toString())\n    };\n  })];\n};","import * as React from 'react';\nimport { singleItemValueManager } from '../utils/valueManagers';\nimport { getTodayDate } from '../utils/date-utils';\nimport { SECTION_TYPE_GRANULARITY } from '../utils/getDefaultReferenceDate';\nexport const useClockReferenceDate = ({\n  value,\n  referenceDate: referenceDateProp,\n  utils,\n  props,\n  timezone\n}) => {\n  const referenceDate = React.useMemo(() => singleItemValueManager.getInitialReferenceValue({\n    value,\n    utils,\n    props,\n    referenceDate: referenceDateProp,\n    granularity: SECTION_TYPE_GRANULARITY.day,\n    timezone,\n    getTodayDate: () => getTodayDate(utils, timezone, 'date')\n  }),\n  // We only want to compute the reference date on mount.\n  [] // eslint-disable-line react-hooks/exhaustive-deps\n  );\n  return value != null ? value : referenceDate;\n};","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"ampm\", \"timeSteps\", \"autoFocus\", \"components\", \"componentsProps\", \"slots\", \"slotProps\", \"value\", \"defaultValue\", \"referenceDate\", \"disableIgnoringDatePartForTimeValidation\", \"maxTime\", \"minTime\", \"disableFuture\", \"disablePast\", \"minutesStep\", \"shouldDisableClock\", \"shouldDisableTime\", \"onChange\", \"view\", \"views\", \"openTo\", \"onViewChange\", \"focusedView\", \"onFocusedViewChange\", \"className\", \"disabled\", \"readOnly\", \"skipDisabled\", \"timezone\"];\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport { styled, useThemeProps } from '@mui/material/styles';\nimport useEventCallback from '@mui/utils/useEventCallback';\nimport composeClasses from '@mui/utils/composeClasses';\nimport { useUtils, useNow, useLocaleText } from '../internals/hooks/useUtils';\nimport { convertValueToMeridiem, createIsAfterIgnoreDatePart } from '../internals/utils/time-utils';\nimport { useViews } from '../internals/hooks/useViews';\nimport { useMeridiemMode } from '../internals/hooks/date-helpers-hooks';\nimport { PickerViewRoot } from '../internals/components/PickerViewRoot';\nimport { getMultiSectionDigitalClockUtilityClass } from './multiSectionDigitalClockClasses';\nimport { MultiSectionDigitalClockSection } from './MultiSectionDigitalClockSection';\nimport { getHourSectionOptions, getTimeSectionOptions } from './MultiSectionDigitalClock.utils';\nimport { useControlledValueWithTimezone } from '../internals/hooks/useValueWithTimezone';\nimport { singleItemValueManager } from '../internals/utils/valueManagers';\nimport { useClockReferenceDate } from '../internals/hooks/useClockReferenceDate';\nimport { formatMeridiem } from '../internals/utils/date-utils';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root']\n  };\n  return composeClasses(slots, getMultiSectionDigitalClockUtilityClass, classes);\n};\nconst MultiSectionDigitalClockRoot = styled(PickerViewRoot, {\n  name: 'MuiMultiSectionDigitalClock',\n  slot: 'Root',\n  overridesResolver: (_, styles) => styles.root\n})(({\n  theme\n}) => ({\n  display: 'flex',\n  flexDirection: 'row',\n  width: '100%',\n  borderBottom: `1px solid ${(theme.vars || theme).palette.divider}`\n}));\n/**\n * Demos:\n *\n * - [TimePicker](https://mui.com/x/react-date-pickers/time-picker/)\n * - [DigitalClock](https://mui.com/x/react-date-pickers/digital-clock/)\n *\n * API:\n *\n * - [MultiSectionDigitalClock API](https://mui.com/x/api/date-pickers/multi-section-digital-clock/)\n */\nexport const MultiSectionDigitalClock = /*#__PURE__*/React.forwardRef(function MultiSectionDigitalClock(inProps, ref) {\n  const utils = useUtils();\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiMultiSectionDigitalClock'\n  });\n  const {\n      ampm = utils.is12HourCycleInCurrentLocale(),\n      timeSteps: inTimeSteps,\n      autoFocus,\n      components,\n      componentsProps,\n      slots,\n      slotProps,\n      value: valueProp,\n      defaultValue,\n      referenceDate: referenceDateProp,\n      disableIgnoringDatePartForTimeValidation = false,\n      maxTime,\n      minTime,\n      disableFuture,\n      disablePast,\n      minutesStep = 1,\n      shouldDisableClock,\n      shouldDisableTime,\n      onChange,\n      view: inView,\n      views: inViews = ['hours', 'minutes'],\n      openTo,\n      onViewChange,\n      focusedView: inFocusedView,\n      onFocusedViewChange,\n      className,\n      disabled,\n      readOnly,\n      skipDisabled = false,\n      timezone: timezoneProp\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const {\n    value,\n    handleValueChange: handleRawValueChange,\n    timezone\n  } = useControlledValueWithTimezone({\n    name: 'MultiSectionDigitalClock',\n    timezone: timezoneProp,\n    value: valueProp,\n    defaultValue,\n    onChange,\n    valueManager: singleItemValueManager\n  });\n  const localeText = useLocaleText();\n  const now = useNow(timezone);\n  const timeSteps = React.useMemo(() => _extends({\n    hours: 1,\n    minutes: 5,\n    seconds: 5\n  }, inTimeSteps), [inTimeSteps]);\n  const valueOrReferenceDate = useClockReferenceDate({\n    value,\n    referenceDate: referenceDateProp,\n    utils,\n    props,\n    timezone\n  });\n  const handleValueChange = useEventCallback((newValue, selectionState, selectedView) => handleRawValueChange(newValue, selectionState, selectedView));\n  const views = React.useMemo(() => {\n    if (!ampm || !inViews.includes('hours')) {\n      return inViews;\n    }\n    return inViews.includes('meridiem') ? inViews : [...inViews, 'meridiem'];\n  }, [ampm, inViews]);\n  const {\n    view,\n    setValueAndGoToNextView,\n    focusedView\n  } = useViews({\n    view: inView,\n    views,\n    openTo,\n    onViewChange,\n    onChange: handleValueChange,\n    focusedView: inFocusedView,\n    onFocusedViewChange\n  });\n  const handleMeridiemValueChange = useEventCallback(newValue => {\n    setValueAndGoToNextView(newValue, 'finish', 'meridiem');\n  });\n  const {\n    meridiemMode,\n    handleMeridiemChange\n  } = useMeridiemMode(valueOrReferenceDate, ampm, handleMeridiemValueChange, 'finish');\n  const isTimeDisabled = React.useCallback((rawValue, viewType) => {\n    const isAfter = createIsAfterIgnoreDatePart(disableIgnoringDatePartForTimeValidation, utils);\n    const shouldCheckPastEnd = viewType === 'hours' || viewType === 'minutes' && views.includes('seconds');\n    const containsValidTime = ({\n      start,\n      end\n    }) => {\n      if (minTime && isAfter(minTime, end)) {\n        return false;\n      }\n      if (maxTime && isAfter(start, maxTime)) {\n        return false;\n      }\n      if (disableFuture && isAfter(start, now)) {\n        return false;\n      }\n      if (disablePast && isAfter(now, shouldCheckPastEnd ? end : start)) {\n        return false;\n      }\n      return true;\n    };\n    const isValidValue = (timeValue, step = 1) => {\n      if (timeValue % step !== 0) {\n        return false;\n      }\n      if (shouldDisableClock != null && shouldDisableClock(timeValue, viewType)) {\n        return false;\n      }\n      if (shouldDisableTime) {\n        switch (viewType) {\n          case 'hours':\n            return !shouldDisableTime(utils.setHours(valueOrReferenceDate, timeValue), 'hours');\n          case 'minutes':\n            return !shouldDisableTime(utils.setMinutes(valueOrReferenceDate, timeValue), 'minutes');\n          case 'seconds':\n            return !shouldDisableTime(utils.setSeconds(valueOrReferenceDate, timeValue), 'seconds');\n          default:\n            return false;\n        }\n      }\n      return true;\n    };\n    switch (viewType) {\n      case 'hours':\n        {\n          const valueWithMeridiem = convertValueToMeridiem(rawValue, meridiemMode, ampm);\n          const dateWithNewHours = utils.setHours(valueOrReferenceDate, valueWithMeridiem);\n          const start = utils.setSeconds(utils.setMinutes(dateWithNewHours, 0), 0);\n          const end = utils.setSeconds(utils.setMinutes(dateWithNewHours, 59), 59);\n          return !containsValidTime({\n            start,\n            end\n          }) || !isValidValue(valueWithMeridiem);\n        }\n      case 'minutes':\n        {\n          const dateWithNewMinutes = utils.setMinutes(valueOrReferenceDate, rawValue);\n          const start = utils.setSeconds(dateWithNewMinutes, 0);\n          const end = utils.setSeconds(dateWithNewMinutes, 59);\n          return !containsValidTime({\n            start,\n            end\n          }) || !isValidValue(rawValue, minutesStep);\n        }\n      case 'seconds':\n        {\n          const dateWithNewSeconds = utils.setSeconds(valueOrReferenceDate, rawValue);\n          const start = dateWithNewSeconds;\n          const end = dateWithNewSeconds;\n          return !containsValidTime({\n            start,\n            end\n          }) || !isValidValue(rawValue);\n        }\n      default:\n        throw new Error('not supported');\n    }\n  }, [ampm, valueOrReferenceDate, disableIgnoringDatePartForTimeValidation, maxTime, meridiemMode, minTime, minutesStep, shouldDisableClock, shouldDisableTime, utils, disableFuture, disablePast, now, views]);\n  const buildViewProps = React.useCallback(viewToBuild => {\n    switch (viewToBuild) {\n      case 'hours':\n        {\n          return {\n            onChange: hours => {\n              const valueWithMeridiem = convertValueToMeridiem(hours, meridiemMode, ampm);\n              setValueAndGoToNextView(utils.setHours(valueOrReferenceDate, valueWithMeridiem), 'finish', 'hours');\n            },\n            items: getHourSectionOptions({\n              now,\n              value,\n              ampm,\n              utils,\n              isDisabled: hours => disabled || isTimeDisabled(hours, 'hours'),\n              timeStep: timeSteps.hours,\n              resolveAriaLabel: localeText.hoursClockNumberText\n            })\n          };\n        }\n      case 'minutes':\n        {\n          return {\n            onChange: minutes => {\n              setValueAndGoToNextView(utils.setMinutes(valueOrReferenceDate, minutes), 'finish', 'minutes');\n            },\n            items: getTimeSectionOptions({\n              value: utils.getMinutes(valueOrReferenceDate),\n              utils,\n              isDisabled: minutes => disabled || isTimeDisabled(minutes, 'minutes'),\n              resolveLabel: minutes => utils.format(utils.setMinutes(now, minutes), 'minutes'),\n              timeStep: timeSteps.minutes,\n              hasValue: !!value,\n              resolveAriaLabel: localeText.minutesClockNumberText\n            })\n          };\n        }\n      case 'seconds':\n        {\n          return {\n            onChange: seconds => {\n              setValueAndGoToNextView(utils.setSeconds(valueOrReferenceDate, seconds), 'finish', 'seconds');\n            },\n            items: getTimeSectionOptions({\n              value: utils.getSeconds(valueOrReferenceDate),\n              utils,\n              isDisabled: seconds => disabled || isTimeDisabled(seconds, 'seconds'),\n              resolveLabel: seconds => utils.format(utils.setSeconds(now, seconds), 'seconds'),\n              timeStep: timeSteps.seconds,\n              hasValue: !!value,\n              resolveAriaLabel: localeText.secondsClockNumberText\n            })\n          };\n        }\n      case 'meridiem':\n        {\n          const amLabel = formatMeridiem(utils, 'am');\n          const pmLabel = formatMeridiem(utils, 'pm');\n          return {\n            onChange: handleMeridiemChange,\n            items: [{\n              value: 'am',\n              label: amLabel,\n              isSelected: () => !!value && meridiemMode === 'am',\n              ariaLabel: amLabel\n            }, {\n              value: 'pm',\n              label: pmLabel,\n              isSelected: () => !!value && meridiemMode === 'pm',\n              ariaLabel: pmLabel\n            }]\n          };\n        }\n      default:\n        throw new Error(`Unknown view: ${viewToBuild} found.`);\n    }\n  }, [now, value, ampm, utils, timeSteps.hours, timeSteps.minutes, timeSteps.seconds, localeText.hoursClockNumberText, localeText.minutesClockNumberText, localeText.secondsClockNumberText, meridiemMode, setValueAndGoToNextView, valueOrReferenceDate, disabled, isTimeDisabled, handleMeridiemChange]);\n  const viewTimeOptions = React.useMemo(() => {\n    return views.reduce((result, currentView) => {\n      return _extends({}, result, {\n        [currentView]: buildViewProps(currentView)\n      });\n    }, {});\n  }, [views, buildViewProps]);\n  const ownerState = props;\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(MultiSectionDigitalClockRoot, _extends({\n    ref: ref,\n    className: clsx(classes.root, className),\n    ownerState: ownerState,\n    role: \"group\"\n  }, other, {\n    children: Object.entries(viewTimeOptions).map(([timeView, viewOptions]) => /*#__PURE__*/_jsx(MultiSectionDigitalClockSection, {\n      items: viewOptions.items,\n      onChange: viewOptions.onChange,\n      active: view === timeView,\n      autoFocus: autoFocus != null ? autoFocus : focusedView === timeView,\n      disabled: disabled,\n      readOnly: readOnly,\n      slots: slots != null ? slots : components,\n      slotProps: slotProps != null ? slotProps : componentsProps,\n      skipDisabled: skipDisabled,\n      \"aria-label\": localeText.selectViewText(timeView)\n    }, timeView))\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? MultiSectionDigitalClock.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // | To update them edit the TypeScript types and run \"yarn proptypes\"  |\n  // ----------------------------------------------------------------------\n  /**\n   * 12h/24h view for hour selection clock.\n   * @default `utils.is12HourCycleInCurrentLocale()`\n   */\n  ampm: PropTypes.bool,\n  /**\n   * If `true`, the main element is focused during the first mount.\n   * This main element is:\n   * - the element chosen by the visible view if any (i.e: the selected day on the `day` view).\n   * - the `input` element if there is a field rendered.\n   */\n  autoFocus: PropTypes.bool,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  /**\n   * Overrideable components.\n   * @default {}\n   * @deprecated Please use `slots`.\n   */\n  components: PropTypes.object,\n  /**\n   * The props used for each component slot.\n   * @default {}\n   * @deprecated Please use `slotProps`.\n   */\n  componentsProps: PropTypes.object,\n  /**\n   * The default selected value.\n   * Used when the component is not controlled.\n   */\n  defaultValue: PropTypes.any,\n  /**\n   * If `true`, the picker views and text field are disabled.\n   * @default false\n   */\n  disabled: PropTypes.bool,\n  /**\n   * If `true`, disable values after the current date for date components, time for time components and both for date time components.\n   * @default false\n   */\n  disableFuture: PropTypes.bool,\n  /**\n   * Do not ignore date part when validating min/max time.\n   * @default false\n   */\n  disableIgnoringDatePartForTimeValidation: PropTypes.bool,\n  /**\n   * If `true`, disable values before the current date for date components, time for time components and both for date time components.\n   * @default false\n   */\n  disablePast: PropTypes.bool,\n  /**\n   * Controlled focused view.\n   */\n  focusedView: PropTypes.oneOf(['hours', 'meridiem', 'minutes', 'seconds']),\n  /**\n   * Maximal selectable time.\n   * The date part of the object will be ignored unless `props.disableIgnoringDatePartForTimeValidation === true`.\n   */\n  maxTime: PropTypes.any,\n  /**\n   * Minimal selectable time.\n   * The date part of the object will be ignored unless `props.disableIgnoringDatePartForTimeValidation === true`.\n   */\n  minTime: PropTypes.any,\n  /**\n   * Step over minutes.\n   * @default 1\n   */\n  minutesStep: PropTypes.number,\n  /**\n   * Callback fired when the value changes.\n   * @template TValue The value type. Will be either the same type as `value` or `null`. Can be in `[start, end]` format in case of range value.\n   * @template TView The view type. Will be one of date or time views.\n   * @param {TValue} value The new value.\n   * @param {PickerSelectionState | undefined} selectionState Indicates if the date selection is complete.\n   * @param {TView | undefined} selectedView Indicates the view in which the selection has been made.\n   */\n  onChange: PropTypes.func,\n  /**\n   * Callback fired on focused view change.\n   * @template TView\n   * @param {TView} view The new view to focus or not.\n   * @param {boolean} hasFocus `true` if the view should be focused.\n   */\n  onFocusedViewChange: PropTypes.func,\n  /**\n   * Callback fired on view change.\n   * @template TView\n   * @param {TView} view The new view.\n   */\n  onViewChange: PropTypes.func,\n  /**\n   * The default visible view.\n   * Used when the component view is not controlled.\n   * Must be a valid option from `views` list.\n   */\n  openTo: PropTypes.oneOf(['hours', 'meridiem', 'minutes', 'seconds']),\n  /**\n   * If `true`, the picker views and text field are read-only.\n   * @default false\n   */\n  readOnly: PropTypes.bool,\n  /**\n   * The date used to generate the new value when both `value` and `defaultValue` are empty.\n   * @default The closest valid time using the validation props, except callbacks such as `shouldDisableTime`.\n   */\n  referenceDate: PropTypes.any,\n  /**\n   * Disable specific clock time.\n   * @param {number} clockValue The value to check.\n   * @param {TimeView} view The clock type of the timeValue.\n   * @returns {boolean} If `true` the time will be disabled.\n   * @deprecated Consider using `shouldDisableTime`.\n   */\n  shouldDisableClock: PropTypes.func,\n  /**\n   * Disable specific time.\n   * @template TDate\n   * @param {TDate} value The value to check.\n   * @param {TimeView} view The clock type of the timeValue.\n   * @returns {boolean} If `true` the time will be disabled.\n   */\n  shouldDisableTime: PropTypes.func,\n  /**\n   * If `true`, disabled digital clock items will not be rendered.\n   * @default false\n   */\n  skipDisabled: PropTypes.bool,\n  /**\n   * The props used for each component slot.\n   * @default {}\n   */\n  slotProps: PropTypes.object,\n  /**\n   * Overrideable component slots.\n   * @default {}\n   */\n  slots: PropTypes.object,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n  /**\n   * The time steps between two time unit options.\n   * For example, if `timeStep.minutes = 8`, then the available minute options will be `[0, 8, 16, 24, 32, 40, 48, 56]`.\n   * @default{ hours: 1, minutes: 5, seconds: 5 }\n   */\n  timeSteps: PropTypes.shape({\n    hours: PropTypes.number,\n    minutes: PropTypes.number,\n    seconds: PropTypes.number\n  }),\n  /**\n   * Choose which timezone to use for the value.\n   * Example: \"default\", \"system\", \"UTC\", \"America/New_York\".\n   * If you pass values from other timezones to some props, they will be converted to this timezone before being used.\n   * @see See the {@link https://mui.com/x/react-date-pickers/timezone/ timezones documention} for more details.\n   * @default The timezone of the `value` or `defaultValue` prop is defined, 'default' otherwise.\n   */\n  timezone: PropTypes.string,\n  /**\n   * The selected value.\n   * Used when the component is controlled.\n   */\n  value: PropTypes.any,\n  /**\n   * The visible view.\n   * Used when the component view is controlled.\n   * Must be a valid option from `views` list.\n   */\n  view: PropTypes.oneOf(['hours', 'meridiem', 'minutes', 'seconds']),\n  /**\n   * Available views.\n   * @default ['hours', 'minutes']\n   */\n  views: PropTypes.arrayOf(PropTypes.oneOf(['hours', 'meridiem', 'minutes', 'seconds']).isRequired)\n} : void 0;","import { styled } from '@mui/material/styles';\nexport const DateTimeViewWrapper = styled('div')({\n  display: 'flex',\n  margin: '0 auto'\n});","import { unstable_generateUtilityClass as generateUtilityClass, unstable_generateUtilityClasses as generateUtilityClasses } from '@mui/utils';\nexport function getTimeClockUtilityClass(slot) {\n  return generateUtilityClass('MuiTimeClock', slot);\n}\nexport const timeClockClasses = generateUtilityClasses('MuiTimeClock', ['root', 'arrowSwitcher']);","export const CLOCK_WIDTH = 220;\nexport const CLOCK_HOUR_WIDTH = 36;\nconst clockCenter = {\n  x: CLOCK_WIDTH / 2,\n  y: CLOCK_WIDTH / 2\n};\nconst baseClockPoint = {\n  x: clockCenter.x,\n  y: 0\n};\nconst cx = baseClockPoint.x - clockCenter.x;\nconst cy = baseClockPoint.y - clockCenter.y;\nconst rad2deg = rad => rad * (180 / Math.PI);\nconst getAngleValue = (step, offsetX, offsetY) => {\n  const x = offsetX - clockCenter.x;\n  const y = offsetY - clockCenter.y;\n  const atan = Math.atan2(cx, cy) - Math.atan2(x, y);\n  let deg = rad2deg(atan);\n  deg = Math.round(deg / step) * step;\n  deg %= 360;\n  const value = Math.floor(deg / step) || 0;\n  const delta = x ** 2 + y ** 2;\n  const distance = Math.sqrt(delta);\n  return {\n    value,\n    distance\n  };\n};\nexport const getMinutes = (offsetX, offsetY, step = 1) => {\n  const angleStep = step * 6;\n  let {\n    value\n  } = getAngleValue(angleStep, offsetX, offsetY);\n  value = value * step % 60;\n  return value;\n};\nexport const getHours = (offsetX, offsetY, ampm) => {\n  const {\n    value,\n    distance\n  } = getAngleValue(30, offsetX, offsetY);\n  let hour = value || 12;\n  if (!ampm) {\n    if (distance < CLOCK_WIDTH / 2 - CLOCK_HOUR_WIDTH) {\n      hour += 12;\n      hour %= 24;\n    }\n  } else {\n    hour %= 12;\n  }\n  return hour;\n};","import { unstable_generateUtilityClass as generateUtilityClass, unstable_generateUtilityClasses as generateUtilityClasses } from '@mui/utils';\nexport function getClockPointerUtilityClass(slot) {\n  return generateUtilityClass('MuiClockPointer', slot);\n}\nexport const clockPointerClasses = generateUtilityClasses('MuiClockPointer', ['root', 'thumb']);","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"className\", \"hasSelected\", \"isInner\", \"type\", \"viewValue\"];\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport { styled, useThemeProps } from '@mui/material/styles';\nimport { unstable_composeClasses as composeClasses } from '@mui/utils';\nimport { CLOCK_WIDTH, CLOCK_HOUR_WIDTH } from './shared';\nimport { getClockPointerUtilityClass } from './clockPointerClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root'],\n    thumb: ['thumb']\n  };\n  return composeClasses(slots, getClockPointerUtilityClass, classes);\n};\nconst ClockPointerRoot = styled('div', {\n  name: 'MuiClockPointer',\n  slot: 'Root',\n  overridesResolver: (_, styles) => styles.root\n})(({\n  theme,\n  ownerState\n}) => _extends({\n  width: 2,\n  backgroundColor: (theme.vars || theme).palette.primary.main,\n  position: 'absolute',\n  left: 'calc(50% - 1px)',\n  bottom: '50%',\n  transformOrigin: 'center bottom 0px'\n}, ownerState.shouldAnimate && {\n  transition: theme.transitions.create(['transform', 'height'])\n}));\nconst ClockPointerThumb = styled('div', {\n  name: 'MuiClockPointer',\n  slot: 'Thumb',\n  overridesResolver: (_, styles) => styles.thumb\n})(({\n  theme,\n  ownerState\n}) => _extends({\n  width: 4,\n  height: 4,\n  backgroundColor: (theme.vars || theme).palette.primary.contrastText,\n  borderRadius: '50%',\n  position: 'absolute',\n  top: -21,\n  left: `calc(50% - ${CLOCK_HOUR_WIDTH / 2}px)`,\n  border: `${(CLOCK_HOUR_WIDTH - 4) / 2}px solid ${(theme.vars || theme).palette.primary.main}`,\n  boxSizing: 'content-box'\n}, ownerState.hasSelected && {\n  backgroundColor: (theme.vars || theme).palette.primary.main\n}));\n\n/**\n * @ignore - internal component.\n */\nexport function ClockPointer(inProps) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiClockPointer'\n  });\n  const {\n      className,\n      isInner,\n      type,\n      viewValue\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const previousType = React.useRef(type);\n  React.useEffect(() => {\n    previousType.current = type;\n  }, [type]);\n  const ownerState = _extends({}, props, {\n    shouldAnimate: previousType.current !== type\n  });\n  const classes = useUtilityClasses(ownerState);\n  const getAngleStyle = () => {\n    const max = type === 'hours' ? 12 : 60;\n    let angle = 360 / max * viewValue;\n    if (type === 'hours' && viewValue > 12) {\n      angle -= 360; // round up angle to max 360 degrees\n    }\n    return {\n      height: Math.round((isInner ? 0.26 : 0.4) * CLOCK_WIDTH),\n      transform: `rotateZ(${angle}deg)`\n    };\n  };\n  return /*#__PURE__*/_jsx(ClockPointerRoot, _extends({\n    style: getAngleStyle(),\n    className: clsx(className, classes.root),\n    ownerState: ownerState\n  }, other, {\n    children: /*#__PURE__*/_jsx(ClockPointerThumb, {\n      ownerState: ownerState,\n      className: classes.thumb\n    })\n  }));\n}","import { unstable_generateUtilityClass as generateUtilityClass, unstable_generateUtilityClasses as generateUtilityClasses } from '@mui/utils';\nexport function getClockUtilityClass(slot) {\n  return generateUtilityClass('MuiClock', slot);\n}\nexport const clockClasses = generateUtilityClasses('MuiClock', ['root', 'clock', 'wrapper', 'squareMask', 'pin', 'amButton', 'pmButton', 'meridiemText']);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport IconButton from '@mui/material/IconButton';\nimport Typography from '@mui/material/Typography';\nimport { styled, useThemeProps } from '@mui/material/styles';\nimport { unstable_useEnhancedEffect as useEnhancedEffect, unstable_composeClasses as composeClasses } from '@mui/utils';\nimport { ClockPointer } from './ClockPointer';\nimport { useLocaleText, useUtils } from '../internals/hooks/useUtils';\nimport { CLOCK_HOUR_WIDTH, getHours, getMinutes } from './shared';\nimport { getClockUtilityClass } from './clockClasses';\nimport { formatMeridiem } from '../internals/utils/date-utils';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root'],\n    clock: ['clock'],\n    wrapper: ['wrapper'],\n    squareMask: ['squareMask'],\n    pin: ['pin'],\n    amButton: ['amButton'],\n    pmButton: ['pmButton'],\n    meridiemText: ['meridiemText']\n  };\n  return composeClasses(slots, getClockUtilityClass, classes);\n};\nconst ClockRoot = styled('div', {\n  name: 'MuiClock',\n  slot: 'Root',\n  overridesResolver: (_, styles) => styles.root\n})(({\n  theme\n}) => ({\n  display: 'flex',\n  justifyContent: 'center',\n  alignItems: 'center',\n  margin: theme.spacing(2)\n}));\nconst ClockClock = styled('div', {\n  name: 'MuiClock',\n  slot: 'Clock',\n  overridesResolver: (_, styles) => styles.clock\n})({\n  backgroundColor: 'rgba(0,0,0,.07)',\n  borderRadius: '50%',\n  height: 220,\n  width: 220,\n  flexShrink: 0,\n  position: 'relative',\n  pointerEvents: 'none'\n});\nconst ClockWrapper = styled('div', {\n  name: 'MuiClock',\n  slot: 'Wrapper',\n  overridesResolver: (_, styles) => styles.wrapper\n})({\n  '&:focus': {\n    outline: 'none'\n  }\n});\nconst ClockSquareMask = styled('div', {\n  name: 'MuiClock',\n  slot: 'SquareMask',\n  overridesResolver: (_, styles) => styles.squareMask\n})(({\n  ownerState\n}) => _extends({\n  width: '100%',\n  height: '100%',\n  position: 'absolute',\n  pointerEvents: 'auto',\n  outline: 0,\n  // Disable scroll capabilities.\n  touchAction: 'none',\n  userSelect: 'none'\n}, ownerState.disabled ? {} : {\n  '@media (pointer: fine)': {\n    cursor: 'pointer',\n    borderRadius: '50%'\n  },\n  '&:active': {\n    cursor: 'move'\n  }\n}));\nconst ClockPin = styled('div', {\n  name: 'MuiClock',\n  slot: 'Pin',\n  overridesResolver: (_, styles) => styles.pin\n})(({\n  theme\n}) => ({\n  width: 6,\n  height: 6,\n  borderRadius: '50%',\n  backgroundColor: (theme.vars || theme).palette.primary.main,\n  position: 'absolute',\n  top: '50%',\n  left: '50%',\n  transform: 'translate(-50%, -50%)'\n}));\nconst ClockAmButton = styled(IconButton, {\n  name: 'MuiClock',\n  slot: 'AmButton',\n  overridesResolver: (_, styles) => styles.amButton\n})(({\n  theme,\n  ownerState\n}) => _extends({\n  zIndex: 1,\n  position: 'absolute',\n  bottom: 8,\n  left: 8,\n  paddingLeft: 4,\n  paddingRight: 4,\n  width: CLOCK_HOUR_WIDTH\n}, ownerState.meridiemMode === 'am' && {\n  backgroundColor: (theme.vars || theme).palette.primary.main,\n  color: (theme.vars || theme).palette.primary.contrastText,\n  '&:hover': {\n    backgroundColor: (theme.vars || theme).palette.primary.light\n  }\n}));\nconst ClockPmButton = styled(IconButton, {\n  name: 'MuiClock',\n  slot: 'PmButton',\n  overridesResolver: (_, styles) => styles.pmButton\n})(({\n  theme,\n  ownerState\n}) => _extends({\n  zIndex: 1,\n  position: 'absolute',\n  bottom: 8,\n  right: 8,\n  paddingLeft: 4,\n  paddingRight: 4,\n  width: CLOCK_HOUR_WIDTH\n}, ownerState.meridiemMode === 'pm' && {\n  backgroundColor: (theme.vars || theme).palette.primary.main,\n  color: (theme.vars || theme).palette.primary.contrastText,\n  '&:hover': {\n    backgroundColor: (theme.vars || theme).palette.primary.light\n  }\n}));\nconst ClockMeridiemText = styled(Typography, {\n  name: 'MuiClock',\n  slot: 'meridiemText',\n  overridesResolver: (_, styles) => styles.meridiemText\n})({\n  overflow: 'hidden',\n  whiteSpace: 'nowrap',\n  textOverflow: 'ellipsis'\n});\n\n/**\n * @ignore - internal component.\n */\nexport function Clock(inProps) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiClock'\n  });\n  const {\n    ampm,\n    ampmInClock,\n    autoFocus,\n    children,\n    value,\n    handleMeridiemChange,\n    isTimeDisabled,\n    meridiemMode,\n    minutesStep = 1,\n    onChange,\n    selectedId,\n    type,\n    viewValue,\n    disabled,\n    readOnly,\n    className\n  } = props;\n  const ownerState = props;\n  const utils = useUtils();\n  const localeText = useLocaleText();\n  const isMoving = React.useRef(false);\n  const classes = useUtilityClasses(ownerState);\n  const isSelectedTimeDisabled = isTimeDisabled(viewValue, type);\n  const isPointerInner = !ampm && type === 'hours' && (viewValue < 1 || viewValue > 12);\n  const handleValueChange = (newValue, isFinish) => {\n    if (disabled || readOnly) {\n      return;\n    }\n    if (isTimeDisabled(newValue, type)) {\n      return;\n    }\n    onChange(newValue, isFinish);\n  };\n  const setTime = (event, isFinish) => {\n    let {\n      offsetX,\n      offsetY\n    } = event;\n    if (offsetX === undefined) {\n      const rect = event.target.getBoundingClientRect();\n      offsetX = event.changedTouches[0].clientX - rect.left;\n      offsetY = event.changedTouches[0].clientY - rect.top;\n    }\n    const newSelectedValue = type === 'seconds' || type === 'minutes' ? getMinutes(offsetX, offsetY, minutesStep) : getHours(offsetX, offsetY, Boolean(ampm));\n    handleValueChange(newSelectedValue, isFinish);\n  };\n  const handleTouchMove = event => {\n    isMoving.current = true;\n    setTime(event, 'shallow');\n  };\n  const handleTouchEnd = event => {\n    if (isMoving.current) {\n      setTime(event, 'finish');\n      isMoving.current = false;\n    }\n  };\n  const handleMouseMove = event => {\n    // event.buttons & PRIMARY_MOUSE_BUTTON\n    if (event.buttons > 0) {\n      setTime(event.nativeEvent, 'shallow');\n    }\n  };\n  const handleMouseUp = event => {\n    if (isMoving.current) {\n      isMoving.current = false;\n    }\n    setTime(event.nativeEvent, 'finish');\n  };\n  const hasSelected = React.useMemo(() => {\n    if (type === 'hours') {\n      return true;\n    }\n    return viewValue % 5 === 0;\n  }, [type, viewValue]);\n  const keyboardControlStep = type === 'minutes' ? minutesStep : 1;\n  const listboxRef = React.useRef(null);\n  // Since this is rendered when a Popper is opened we can't use passive effects.\n  // Focusing in passive effects in Popper causes scroll jump.\n  useEnhancedEffect(() => {\n    if (autoFocus) {\n      // The ref not being resolved would be a bug in MUI.\n      listboxRef.current.focus();\n    }\n  }, [autoFocus]);\n  const handleKeyDown = event => {\n    // TODO: Why this early exit?\n    if (isMoving.current) {\n      return;\n    }\n    switch (event.key) {\n      case 'Home':\n        // annulate both hours and minutes\n        handleValueChange(0, 'partial');\n        event.preventDefault();\n        break;\n      case 'End':\n        handleValueChange(type === 'minutes' ? 59 : 23, 'partial');\n        event.preventDefault();\n        break;\n      case 'ArrowUp':\n        handleValueChange(viewValue + keyboardControlStep, 'partial');\n        event.preventDefault();\n        break;\n      case 'ArrowDown':\n        handleValueChange(viewValue - keyboardControlStep, 'partial');\n        event.preventDefault();\n        break;\n      default:\n      // do nothing\n    }\n  };\n  return /*#__PURE__*/_jsxs(ClockRoot, {\n    className: clsx(className, classes.root),\n    children: [/*#__PURE__*/_jsxs(ClockClock, {\n      className: classes.clock,\n      children: [/*#__PURE__*/_jsx(ClockSquareMask, {\n        onTouchMove: handleTouchMove,\n        onTouchEnd: handleTouchEnd,\n        onMouseUp: handleMouseUp,\n        onMouseMove: handleMouseMove,\n        ownerState: {\n          disabled\n        },\n        className: classes.squareMask\n      }), !isSelectedTimeDisabled && /*#__PURE__*/_jsxs(React.Fragment, {\n        children: [/*#__PURE__*/_jsx(ClockPin, {\n          className: classes.pin\n        }), value != null && /*#__PURE__*/_jsx(ClockPointer, {\n          type: type,\n          viewValue: viewValue,\n          isInner: isPointerInner,\n          hasSelected: hasSelected\n        })]\n      }), /*#__PURE__*/_jsx(ClockWrapper, {\n        \"aria-activedescendant\": selectedId,\n        \"aria-label\": localeText.clockLabelText(type, value, utils),\n        ref: listboxRef,\n        role: \"listbox\",\n        onKeyDown: handleKeyDown,\n        tabIndex: 0,\n        className: classes.wrapper,\n        children: children\n      })]\n    }), ampm && ampmInClock && /*#__PURE__*/_jsxs(React.Fragment, {\n      children: [/*#__PURE__*/_jsx(ClockAmButton, {\n        onClick: readOnly ? undefined : () => handleMeridiemChange('am'),\n        disabled: disabled || meridiemMode === null,\n        ownerState: ownerState,\n        className: classes.amButton,\n        title: formatMeridiem(utils, 'am'),\n        children: /*#__PURE__*/_jsx(ClockMeridiemText, {\n          variant: \"caption\",\n          className: classes.meridiemText,\n          children: formatMeridiem(utils, 'am')\n        })\n      }), /*#__PURE__*/_jsx(ClockPmButton, {\n        disabled: disabled || meridiemMode === null,\n        onClick: readOnly ? undefined : () => handleMeridiemChange('pm'),\n        ownerState: ownerState,\n        className: classes.pmButton,\n        title: formatMeridiem(utils, 'pm'),\n        children: /*#__PURE__*/_jsx(ClockMeridiemText, {\n          variant: \"caption\",\n          className: classes.meridiemText,\n          children: formatMeridiem(utils, 'pm')\n        })\n      })]\n    })]\n  });\n}","import { unstable_generateUtilityClass as generateUtilityClass, unstable_generateUtilityClasses as generateUtilityClasses } from '@mui/utils';\nexport function getClockNumberUtilityClass(slot) {\n  return generateUtilityClass('MuiClockNumber', slot);\n}\nexport const clockNumberClasses = generateUtilityClasses('MuiClockNumber', ['root', 'selected', 'disabled']);","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"className\", \"disabled\", \"index\", \"inner\", \"label\", \"selected\"];\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport { styled, useThemeProps } from '@mui/material/styles';\nimport { unstable_composeClasses as composeClasses } from '@mui/utils';\nimport { CLOCK_WIDTH, CLOCK_HOUR_WIDTH } from './shared';\nimport { getClockNumberUtilityClass, clockNumberClasses } from './clockNumberClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    selected,\n    disabled\n  } = ownerState;\n  const slots = {\n    root: ['root', selected && 'selected', disabled && 'disabled']\n  };\n  return composeClasses(slots, getClockNumberUtilityClass, classes);\n};\nconst ClockNumberRoot = styled('span', {\n  name: 'MuiClockNumber',\n  slot: 'Root',\n  overridesResolver: (_, styles) => [styles.root, {\n    [`&.${clockNumberClasses.disabled}`]: styles.disabled\n  }, {\n    [`&.${clockNumberClasses.selected}`]: styles.selected\n  }]\n})(({\n  theme,\n  ownerState\n}) => _extends({\n  height: CLOCK_HOUR_WIDTH,\n  width: CLOCK_HOUR_WIDTH,\n  position: 'absolute',\n  left: `calc((100% - ${CLOCK_HOUR_WIDTH}px) / 2)`,\n  display: 'inline-flex',\n  justifyContent: 'center',\n  alignItems: 'center',\n  borderRadius: '50%',\n  color: (theme.vars || theme).palette.text.primary,\n  fontFamily: theme.typography.fontFamily,\n  '&:focused': {\n    backgroundColor: (theme.vars || theme).palette.background.paper\n  },\n  [`&.${clockNumberClasses.selected}`]: {\n    color: (theme.vars || theme).palette.primary.contrastText\n  },\n  [`&.${clockNumberClasses.disabled}`]: {\n    pointerEvents: 'none',\n    color: (theme.vars || theme).palette.text.disabled\n  }\n}, ownerState.inner && _extends({}, theme.typography.body2, {\n  color: (theme.vars || theme).palette.text.secondary\n})));\n\n/**\n * @ignore - internal component.\n */\nexport function ClockNumber(inProps) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiClockNumber'\n  });\n  const {\n      className,\n      disabled,\n      index,\n      inner,\n      label,\n      selected\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const ownerState = props;\n  const classes = useUtilityClasses(ownerState);\n  const angle = index % 12 / 12 * Math.PI * 2 - Math.PI / 2;\n  const length = (CLOCK_WIDTH - CLOCK_HOUR_WIDTH - 2) / 2 * (inner ? 0.65 : 1);\n  const x = Math.round(Math.cos(angle) * length);\n  const y = Math.round(Math.sin(angle) * length);\n  return /*#__PURE__*/_jsx(ClockNumberRoot, _extends({\n    className: clsx(className, classes.root),\n    \"aria-disabled\": disabled ? true : undefined,\n    \"aria-selected\": selected ? true : undefined,\n    role: \"option\",\n    style: {\n      transform: `translate(${x}px, ${y + (CLOCK_WIDTH - CLOCK_HOUR_WIDTH) / 2}px`\n    },\n    ownerState: ownerState\n  }, other, {\n    children: label\n  }));\n}","import * as React from 'react';\nimport { ClockNumber } from './ClockNumber';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n/**\n * @ignore - internal component.\n */\nexport const getHourNumbers = ({\n  ampm,\n  value,\n  getClockNumberText,\n  isDisabled,\n  selectedId,\n  utils\n}) => {\n  const currentHours = value ? utils.getHours(value) : null;\n  const hourNumbers = [];\n  const startHour = ampm ? 1 : 0;\n  const endHour = ampm ? 12 : 23;\n  const isSelected = hour => {\n    if (currentHours === null) {\n      return false;\n    }\n    if (ampm) {\n      if (hour === 12) {\n        return currentHours === 12 || currentHours === 0;\n      }\n      return currentHours === hour || currentHours - 12 === hour;\n    }\n    return currentHours === hour;\n  };\n  for (let hour = startHour; hour <= endHour; hour += 1) {\n    let label = hour.toString();\n    if (hour === 0) {\n      label = '00';\n    }\n    const inner = !ampm && (hour === 0 || hour > 12);\n    label = utils.formatNumber(label);\n    const selected = isSelected(hour);\n    hourNumbers.push( /*#__PURE__*/_jsx(ClockNumber, {\n      id: selected ? selectedId : undefined,\n      index: hour,\n      inner: inner,\n      selected: selected,\n      disabled: isDisabled(hour),\n      label: label,\n      \"aria-label\": getClockNumberText(label)\n    }, hour));\n  }\n  return hourNumbers;\n};\nexport const getMinutesNumbers = ({\n  utils,\n  value,\n  isDisabled,\n  getClockNumberText,\n  selectedId\n}) => {\n  const f = utils.formatNumber;\n  return [[5, f('05')], [10, f('10')], [15, f('15')], [20, f('20')], [25, f('25')], [30, f('30')], [35, f('35')], [40, f('40')], [45, f('45')], [50, f('50')], [55, f('55')], [0, f('00')]].map(([numberValue, label], index) => {\n    const selected = numberValue === value;\n    return /*#__PURE__*/_jsx(ClockNumber, {\n      label: label,\n      id: selected ? selectedId : undefined,\n      index: index + 1,\n      inner: false,\n      disabled: isDisabled(numberValue),\n      selected: selected,\n      \"aria-label\": getClockNumberText(label)\n    }, numberValue);\n  });\n};","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"ampm\", \"ampmInClock\", \"autoFocus\", \"components\", \"componentsProps\", \"slots\", \"slotProps\", \"value\", \"defaultValue\", \"referenceDate\", \"disableIgnoringDatePartForTimeValidation\", \"maxTime\", \"minTime\", \"disableFuture\", \"disablePast\", \"minutesStep\", \"shouldDisableClock\", \"shouldDisableTime\", \"showViewSwitcher\", \"onChange\", \"view\", \"views\", \"openTo\", \"onViewChange\", \"focusedView\", \"onFocusedViewChange\", \"className\", \"disabled\", \"readOnly\", \"timezone\"];\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport { styled, useThemeProps } from '@mui/material/styles';\nimport { unstable_composeClasses as composeClasses, unstable_useId as useId } from '@mui/utils';\nimport { useUtils, useNow, useLocaleText } from '../internals/hooks/useUtils';\nimport { PickersArrowSwitcher } from '../internals/components/PickersArrowSwitcher';\nimport { convertValueToMeridiem, createIsAfterIgnoreDatePart } from '../internals/utils/time-utils';\nimport { useViews } from '../internals/hooks/useViews';\nimport { useMeridiemMode } from '../internals/hooks/date-helpers-hooks';\nimport { PickerViewRoot } from '../internals/components/PickerViewRoot';\nimport { getTimeClockUtilityClass } from './timeClockClasses';\nimport { Clock } from './Clock';\nimport { getHourNumbers, getMinutesNumbers } from './ClockNumbers';\nimport { useControlledValueWithTimezone } from '../internals/hooks/useValueWithTimezone';\nimport { singleItemValueManager } from '../internals/utils/valueManagers';\nimport { uncapitalizeObjectKeys } from '../internals/utils/slots-migration';\nimport { useClockReferenceDate } from '../internals/hooks/useClockReferenceDate';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root'],\n    arrowSwitcher: ['arrowSwitcher']\n  };\n  return composeClasses(slots, getTimeClockUtilityClass, classes);\n};\nconst TimeClockRoot = styled(PickerViewRoot, {\n  name: 'MuiTimeClock',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})({\n  display: 'flex',\n  flexDirection: 'column',\n  position: 'relative'\n});\nconst TimeClockArrowSwitcher = styled(PickersArrowSwitcher, {\n  name: 'MuiTimeClock',\n  slot: 'ArrowSwitcher',\n  overridesResolver: (props, styles) => styles.arrowSwitcher\n})({\n  position: 'absolute',\n  right: 12,\n  top: 15\n});\nconst TIME_CLOCK_DEFAULT_VIEWS = ['hours', 'minutes'];\n\n/**\n * Demos:\n *\n * - [TimePicker](https://mui.com/x/react-date-pickers/time-picker/)\n * - [TimeClock](https://mui.com/x/react-date-pickers/time-clock/)\n *\n * API:\n *\n * - [TimeClock API](https://mui.com/x/api/date-pickers/time-clock/)\n */\nexport const TimeClock = /*#__PURE__*/React.forwardRef(function TimeClock(inProps, ref) {\n  const utils = useUtils();\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiTimeClock'\n  });\n  const {\n      ampm = utils.is12HourCycleInCurrentLocale(),\n      ampmInClock = false,\n      autoFocus,\n      components,\n      componentsProps,\n      slots: innerSlots,\n      slotProps: innerSlotProps,\n      value: valueProp,\n      defaultValue,\n      referenceDate: referenceDateProp,\n      disableIgnoringDatePartForTimeValidation = false,\n      maxTime,\n      minTime,\n      disableFuture,\n      disablePast,\n      minutesStep = 1,\n      shouldDisableClock,\n      shouldDisableTime,\n      showViewSwitcher,\n      onChange,\n      view: inView,\n      views = TIME_CLOCK_DEFAULT_VIEWS,\n      openTo,\n      onViewChange,\n      focusedView,\n      onFocusedViewChange,\n      className,\n      disabled,\n      readOnly,\n      timezone: timezoneProp\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const slots = innerSlots != null ? innerSlots : uncapitalizeObjectKeys(components);\n  const slotProps = innerSlotProps != null ? innerSlotProps : componentsProps;\n  const {\n    value,\n    handleValueChange,\n    timezone\n  } = useControlledValueWithTimezone({\n    name: 'TimeClock',\n    timezone: timezoneProp,\n    value: valueProp,\n    defaultValue,\n    onChange,\n    valueManager: singleItemValueManager\n  });\n  const valueOrReferenceDate = useClockReferenceDate({\n    value,\n    referenceDate: referenceDateProp,\n    utils,\n    props,\n    timezone\n  });\n  const localeText = useLocaleText();\n  const now = useNow(timezone);\n  const {\n    view,\n    setView,\n    previousView,\n    nextView,\n    setValueAndGoToNextView\n  } = useViews({\n    view: inView,\n    views,\n    openTo,\n    onViewChange,\n    onChange: handleValueChange,\n    focusedView,\n    onFocusedViewChange\n  });\n  const {\n    meridiemMode,\n    handleMeridiemChange\n  } = useMeridiemMode(valueOrReferenceDate, ampm, setValueAndGoToNextView);\n  const isTimeDisabled = React.useCallback((rawValue, viewType) => {\n    const isAfter = createIsAfterIgnoreDatePart(disableIgnoringDatePartForTimeValidation, utils);\n    const shouldCheckPastEnd = viewType === 'hours' || viewType === 'minutes' && views.includes('seconds');\n    const containsValidTime = ({\n      start,\n      end\n    }) => {\n      if (minTime && isAfter(minTime, end)) {\n        return false;\n      }\n      if (maxTime && isAfter(start, maxTime)) {\n        return false;\n      }\n      if (disableFuture && isAfter(start, now)) {\n        return false;\n      }\n      if (disablePast && isAfter(now, shouldCheckPastEnd ? end : start)) {\n        return false;\n      }\n      return true;\n    };\n    const isValidValue = (timeValue, step = 1) => {\n      if (timeValue % step !== 0) {\n        return false;\n      }\n      if (shouldDisableClock != null && shouldDisableClock(timeValue, viewType)) {\n        return false;\n      }\n      if (shouldDisableTime) {\n        switch (viewType) {\n          case 'hours':\n            return !shouldDisableTime(utils.setHours(valueOrReferenceDate, timeValue), 'hours');\n          case 'minutes':\n            return !shouldDisableTime(utils.setMinutes(valueOrReferenceDate, timeValue), 'minutes');\n          case 'seconds':\n            return !shouldDisableTime(utils.setSeconds(valueOrReferenceDate, timeValue), 'seconds');\n          default:\n            return false;\n        }\n      }\n      return true;\n    };\n    switch (viewType) {\n      case 'hours':\n        {\n          const valueWithMeridiem = convertValueToMeridiem(rawValue, meridiemMode, ampm);\n          const dateWithNewHours = utils.setHours(valueOrReferenceDate, valueWithMeridiem);\n          const start = utils.setSeconds(utils.setMinutes(dateWithNewHours, 0), 0);\n          const end = utils.setSeconds(utils.setMinutes(dateWithNewHours, 59), 59);\n          return !containsValidTime({\n            start,\n            end\n          }) || !isValidValue(valueWithMeridiem);\n        }\n      case 'minutes':\n        {\n          const dateWithNewMinutes = utils.setMinutes(valueOrReferenceDate, rawValue);\n          const start = utils.setSeconds(dateWithNewMinutes, 0);\n          const end = utils.setSeconds(dateWithNewMinutes, 59);\n          return !containsValidTime({\n            start,\n            end\n          }) || !isValidValue(rawValue, minutesStep);\n        }\n      case 'seconds':\n        {\n          const dateWithNewSeconds = utils.setSeconds(valueOrReferenceDate, rawValue);\n          const start = dateWithNewSeconds;\n          const end = dateWithNewSeconds;\n          return !containsValidTime({\n            start,\n            end\n          }) || !isValidValue(rawValue);\n        }\n      default:\n        throw new Error('not supported');\n    }\n  }, [ampm, valueOrReferenceDate, disableIgnoringDatePartForTimeValidation, maxTime, meridiemMode, minTime, minutesStep, shouldDisableClock, shouldDisableTime, utils, disableFuture, disablePast, now, views]);\n  const selectedId = useId();\n  const viewProps = React.useMemo(() => {\n    switch (view) {\n      case 'hours':\n        {\n          const handleHoursChange = (hourValue, isFinish) => {\n            const valueWithMeridiem = convertValueToMeridiem(hourValue, meridiemMode, ampm);\n            setValueAndGoToNextView(utils.setHours(valueOrReferenceDate, valueWithMeridiem), isFinish);\n          };\n          return {\n            onChange: handleHoursChange,\n            viewValue: utils.getHours(valueOrReferenceDate),\n            children: getHourNumbers({\n              value,\n              utils,\n              ampm,\n              onChange: handleHoursChange,\n              getClockNumberText: localeText.hoursClockNumberText,\n              isDisabled: hourValue => disabled || isTimeDisabled(hourValue, 'hours'),\n              selectedId\n            })\n          };\n        }\n      case 'minutes':\n        {\n          const minutesValue = utils.getMinutes(valueOrReferenceDate);\n          const handleMinutesChange = (minuteValue, isFinish) => {\n            setValueAndGoToNextView(utils.setMinutes(valueOrReferenceDate, minuteValue), isFinish);\n          };\n          return {\n            viewValue: minutesValue,\n            onChange: handleMinutesChange,\n            children: getMinutesNumbers({\n              utils,\n              value: minutesValue,\n              onChange: handleMinutesChange,\n              getClockNumberText: localeText.minutesClockNumberText,\n              isDisabled: minuteValue => disabled || isTimeDisabled(minuteValue, 'minutes'),\n              selectedId\n            })\n          };\n        }\n      case 'seconds':\n        {\n          const secondsValue = utils.getSeconds(valueOrReferenceDate);\n          const handleSecondsChange = (secondValue, isFinish) => {\n            setValueAndGoToNextView(utils.setSeconds(valueOrReferenceDate, secondValue), isFinish);\n          };\n          return {\n            viewValue: secondsValue,\n            onChange: handleSecondsChange,\n            children: getMinutesNumbers({\n              utils,\n              value: secondsValue,\n              onChange: handleSecondsChange,\n              getClockNumberText: localeText.secondsClockNumberText,\n              isDisabled: secondValue => disabled || isTimeDisabled(secondValue, 'seconds'),\n              selectedId\n            })\n          };\n        }\n      default:\n        throw new Error('You must provide the type for ClockView');\n    }\n  }, [view, utils, value, ampm, localeText.hoursClockNumberText, localeText.minutesClockNumberText, localeText.secondsClockNumberText, meridiemMode, setValueAndGoToNextView, valueOrReferenceDate, isTimeDisabled, selectedId, disabled]);\n  const ownerState = props;\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsxs(TimeClockRoot, _extends({\n    ref: ref,\n    className: clsx(classes.root, className),\n    ownerState: ownerState\n  }, other, {\n    children: [/*#__PURE__*/_jsx(Clock, _extends({\n      autoFocus: autoFocus != null ? autoFocus : !!focusedView,\n      ampmInClock: ampmInClock && views.includes('hours'),\n      value: value,\n      type: view,\n      ampm: ampm,\n      minutesStep: minutesStep,\n      isTimeDisabled: isTimeDisabled,\n      meridiemMode: meridiemMode,\n      handleMeridiemChange: handleMeridiemChange,\n      selectedId: selectedId,\n      disabled: disabled,\n      readOnly: readOnly\n    }, viewProps)), showViewSwitcher && /*#__PURE__*/_jsx(TimeClockArrowSwitcher, {\n      className: classes.arrowSwitcher,\n      slots: slots,\n      slotProps: slotProps,\n      onGoToPrevious: () => setView(previousView),\n      isPreviousDisabled: !previousView,\n      previousLabel: localeText.openPreviousView,\n      onGoToNext: () => setView(nextView),\n      isNextDisabled: !nextView,\n      nextLabel: localeText.openNextView,\n      ownerState: ownerState\n    })]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? TimeClock.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // | To update them edit the TypeScript types and run \"yarn proptypes\"  |\n  // ----------------------------------------------------------------------\n  /**\n   * 12h/24h view for hour selection clock.\n   * @default `utils.is12HourCycleInCurrentLocale()`\n   */\n  ampm: PropTypes.bool,\n  /**\n   * Display ampm controls under the clock (instead of in the toolbar).\n   * @default false\n   */\n  ampmInClock: PropTypes.bool,\n  /**\n   * If `true`, the main element is focused during the first mount.\n   * This main element is:\n   * - the element chosen by the visible view if any (i.e: the selected day on the `day` view).\n   * - the `input` element if there is a field rendered.\n   */\n  autoFocus: PropTypes.bool,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  /**\n   * Overridable components.\n   * @default {}\n   * @deprecated Please use `slots`.\n   */\n  components: PropTypes.object,\n  /**\n   * The props used for each component slot.\n   * @default {}\n   * @deprecated Please use `slotProps`.\n   */\n  componentsProps: PropTypes.object,\n  /**\n   * The default selected value.\n   * Used when the component is not controlled.\n   */\n  defaultValue: PropTypes.any,\n  /**\n   * If `true`, the picker views and text field are disabled.\n   * @default false\n   */\n  disabled: PropTypes.bool,\n  /**\n   * If `true`, disable values after the current date for date components, time for time components and both for date time components.\n   * @default false\n   */\n  disableFuture: PropTypes.bool,\n  /**\n   * Do not ignore date part when validating min/max time.\n   * @default false\n   */\n  disableIgnoringDatePartForTimeValidation: PropTypes.bool,\n  /**\n   * If `true`, disable values before the current date for date components, time for time components and both for date time components.\n   * @default false\n   */\n  disablePast: PropTypes.bool,\n  /**\n   * Controlled focused view.\n   */\n  focusedView: PropTypes.oneOf(['hours', 'minutes', 'seconds']),\n  /**\n   * Maximal selectable time.\n   * The date part of the object will be ignored unless `props.disableIgnoringDatePartForTimeValidation === true`.\n   */\n  maxTime: PropTypes.any,\n  /**\n   * Minimal selectable time.\n   * The date part of the object will be ignored unless `props.disableIgnoringDatePartForTimeValidation === true`.\n   */\n  minTime: PropTypes.any,\n  /**\n   * Step over minutes.\n   * @default 1\n   */\n  minutesStep: PropTypes.number,\n  /**\n   * Callback fired when the value changes.\n   * @template TValue The value type. Will be either the same type as `value` or `null`. Can be in `[start, end]` format in case of range value.\n   * @template TView The view type. Will be one of date or time views.\n   * @param {TValue} value The new value.\n   * @param {PickerSelectionState | undefined} selectionState Indicates if the date selection is complete.\n   * @param {TView | undefined} selectedView Indicates the view in which the selection has been made.\n   */\n  onChange: PropTypes.func,\n  /**\n   * Callback fired on focused view change.\n   * @template TView\n   * @param {TView} view The new view to focus or not.\n   * @param {boolean} hasFocus `true` if the view should be focused.\n   */\n  onFocusedViewChange: PropTypes.func,\n  /**\n   * Callback fired on view change.\n   * @template TView\n   * @param {TView} view The new view.\n   */\n  onViewChange: PropTypes.func,\n  /**\n   * The default visible view.\n   * Used when the component view is not controlled.\n   * Must be a valid option from `views` list.\n   */\n  openTo: PropTypes.oneOf(['hours', 'minutes', 'seconds']),\n  /**\n   * If `true`, the picker views and text field are read-only.\n   * @default false\n   */\n  readOnly: PropTypes.bool,\n  /**\n   * The date used to generate the new value when both `value` and `defaultValue` are empty.\n   * @default The closest valid time using the validation props, except callbacks such as `shouldDisableTime`.\n   */\n  referenceDate: PropTypes.any,\n  /**\n   * Disable specific clock time.\n   * @param {number} clockValue The value to check.\n   * @param {TimeView} view The clock type of the timeValue.\n   * @returns {boolean} If `true` the time will be disabled.\n   * @deprecated Consider using `shouldDisableTime`.\n   */\n  shouldDisableClock: PropTypes.func,\n  /**\n   * Disable specific time.\n   * @template TDate\n   * @param {TDate} value The value to check.\n   * @param {TimeView} view The clock type of the timeValue.\n   * @returns {boolean} If `true` the time will be disabled.\n   */\n  shouldDisableTime: PropTypes.func,\n  showViewSwitcher: PropTypes.bool,\n  /**\n   * The props used for each component slot.\n   * @default {}\n   */\n  slotProps: PropTypes.object,\n  /**\n   * Overridable component slots.\n   * @default {}\n   */\n  slots: PropTypes.object,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n  /**\n   * Choose which timezone to use for the value.\n   * Example: \"default\", \"system\", \"UTC\", \"America/New_York\".\n   * If you pass values from other timezones to some props, they will be converted to this timezone before being used.\n   * @see See the {@link https://mui.com/x/react-date-pickers/timezone/ timezones documention} for more details.\n   * @default The timezone of the `value` or `defaultValue` prop is defined, 'default' otherwise.\n   */\n  timezone: PropTypes.string,\n  /**\n   * The selected value.\n   * Used when the component is controlled.\n   */\n  value: PropTypes.any,\n  /**\n   * The visible view.\n   * Used when the component view is controlled.\n   * Must be a valid option from `views` list.\n   */\n  view: PropTypes.oneOf(['hours', 'minutes', 'seconds']),\n  /**\n   * Available views.\n   * @default ['hours', 'minutes']\n   */\n  views: PropTypes.arrayOf(PropTypes.oneOf(['hours', 'minutes', 'seconds']).isRequired)\n} : void 0;","import generateUtilityClass from '@mui/utils/generateUtilityClass';\nimport generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nexport function getDigitalClockUtilityClass(slot) {\n  return generateUtilityClass('MuiDigitalClock', slot);\n}\nexport const digitalClockClasses = generateUtilityClasses('MuiDigitalClock', ['root', 'list', 'item']);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"ampm\", \"timeStep\", \"autoFocus\", \"components\", \"componentsProps\", \"slots\", \"slotProps\", \"value\", \"defaultValue\", \"referenceDate\", \"disableIgnoringDatePartForTimeValidation\", \"maxTime\", \"minTime\", \"disableFuture\", \"disablePast\", \"minutesStep\", \"shouldDisableClock\", \"shouldDisableTime\", \"onChange\", \"view\", \"openTo\", \"onViewChange\", \"focusedView\", \"onFocusedViewChange\", \"className\", \"disabled\", \"readOnly\", \"views\", \"skipDisabled\", \"timezone\"];\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport { useSlotProps } from '@mui/base/utils';\nimport { alpha, styled, useThemeProps } from '@mui/material/styles';\nimport useEventCallback from '@mui/utils/useEventCallback';\nimport composeClasses from '@mui/utils/composeClasses';\nimport MenuItem from '@mui/material/MenuItem';\nimport MenuList from '@mui/material/MenuList';\nimport useForkRef from '@mui/utils/useForkRef';\nimport { useUtils, useNow, useLocaleText } from '../internals/hooks/useUtils';\nimport { createIsAfterIgnoreDatePart } from '../internals/utils/time-utils';\nimport { PickerViewRoot } from '../internals/components/PickerViewRoot';\nimport { getDigitalClockUtilityClass } from './digitalClockClasses';\nimport { useViews } from '../internals/hooks/useViews';\nimport { DIGITAL_CLOCK_VIEW_HEIGHT } from '../internals/constants/dimensions';\nimport { useControlledValueWithTimezone } from '../internals/hooks/useValueWithTimezone';\nimport { singleItemValueManager } from '../internals/utils/valueManagers';\nimport { useClockReferenceDate } from '../internals/hooks/useClockReferenceDate';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root'],\n    list: ['list'],\n    item: ['item']\n  };\n  return composeClasses(slots, getDigitalClockUtilityClass, classes);\n};\nconst DigitalClockRoot = styled(PickerViewRoot, {\n  name: 'MuiDigitalClock',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})(({\n  ownerState\n}) => ({\n  overflowY: 'auto',\n  width: '100%',\n  '@media (prefers-reduced-motion: no-preference)': {\n    scrollBehavior: ownerState.alreadyRendered ? 'smooth' : 'auto'\n  },\n  maxHeight: DIGITAL_CLOCK_VIEW_HEIGHT\n}));\nconst DigitalClockList = styled(MenuList, {\n  name: 'MuiDigitalClock',\n  slot: 'List',\n  overridesResolver: (props, styles) => styles.list\n})({\n  padding: 0\n});\nconst DigitalClockItem = styled(MenuItem, {\n  name: 'MuiDigitalClock',\n  slot: 'Item',\n  overridesResolver: (props, styles) => styles.item\n})(({\n  theme\n}) => ({\n  padding: '8px 16px',\n  margin: '2px 4px',\n  '&:first-of-type': {\n    marginTop: 4\n  },\n  '&:hover': {\n    backgroundColor: theme.vars ? `rgba(${theme.vars.palette.primary.mainChannel} / ${theme.vars.palette.action.hoverOpacity})` : alpha(theme.palette.primary.main, theme.palette.action.hoverOpacity)\n  },\n  '&.Mui-selected': {\n    backgroundColor: (theme.vars || theme).palette.primary.main,\n    color: (theme.vars || theme).palette.primary.contrastText,\n    '&:focus-visible, &:hover': {\n      backgroundColor: (theme.vars || theme).palette.primary.dark\n    }\n  },\n  '&.Mui-focusVisible': {\n    backgroundColor: theme.vars ? `rgba(${theme.vars.palette.primary.mainChannel} / ${theme.vars.palette.action.focusOpacity})` : alpha(theme.palette.primary.main, theme.palette.action.focusOpacity)\n  }\n}));\n/**\n * Demos:\n *\n * - [TimePicker](https://mui.com/x/react-date-pickers/time-picker/)\n * - [DigitalClock](https://mui.com/x/react-date-pickers/digital-clock/)\n *\n * API:\n *\n * - [DigitalClock API](https://mui.com/x/api/date-pickers/digital-clock/)\n */\nexport const DigitalClock = /*#__PURE__*/React.forwardRef(function DigitalClock(inProps, ref) {\n  var _ref, _slots$digitalClockIt, _slotProps$digitalClo;\n  const utils = useUtils();\n  const containerRef = React.useRef(null);\n  const handleRef = useForkRef(ref, containerRef);\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiDigitalClock'\n  });\n  const {\n      ampm = utils.is12HourCycleInCurrentLocale(),\n      timeStep = 30,\n      autoFocus,\n      components,\n      componentsProps,\n      slots,\n      slotProps,\n      value: valueProp,\n      defaultValue,\n      referenceDate: referenceDateProp,\n      disableIgnoringDatePartForTimeValidation = false,\n      maxTime,\n      minTime,\n      disableFuture,\n      disablePast,\n      minutesStep = 1,\n      shouldDisableClock,\n      shouldDisableTime,\n      onChange,\n      view: inView,\n      openTo,\n      onViewChange,\n      focusedView,\n      onFocusedViewChange,\n      className,\n      disabled,\n      readOnly,\n      views = ['hours'],\n      skipDisabled = false,\n      timezone: timezoneProp\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const {\n    value,\n    handleValueChange: handleRawValueChange,\n    timezone\n  } = useControlledValueWithTimezone({\n    name: 'DigitalClock',\n    timezone: timezoneProp,\n    value: valueProp,\n    defaultValue,\n    onChange,\n    valueManager: singleItemValueManager\n  });\n  const localeText = useLocaleText();\n  const now = useNow(timezone);\n  const ownerState = React.useMemo(() => _extends({}, props, {\n    alreadyRendered: !!containerRef.current\n  }), [props]);\n  const classes = useUtilityClasses(ownerState);\n  const ClockItem = (_ref = (_slots$digitalClockIt = slots == null ? void 0 : slots.digitalClockItem) != null ? _slots$digitalClockIt : components == null ? void 0 : components.DigitalClockItem) != null ? _ref : DigitalClockItem;\n  const clockItemProps = useSlotProps({\n    elementType: ClockItem,\n    externalSlotProps: (_slotProps$digitalClo = slotProps == null ? void 0 : slotProps.digitalClockItem) != null ? _slotProps$digitalClo : componentsProps == null ? void 0 : componentsProps.digitalClockItem,\n    ownerState: {},\n    className: classes.item\n  });\n  const valueOrReferenceDate = useClockReferenceDate({\n    value,\n    referenceDate: referenceDateProp,\n    utils,\n    props,\n    timezone\n  });\n  const handleValueChange = useEventCallback(newValue => handleRawValueChange(newValue, 'finish', 'hours'));\n  const {\n    setValueAndGoToNextView\n  } = useViews({\n    view: inView,\n    views,\n    openTo,\n    onViewChange,\n    onChange: handleValueChange,\n    focusedView,\n    onFocusedViewChange\n  });\n  const handleItemSelect = useEventCallback(newValue => {\n    setValueAndGoToNextView(newValue, 'finish');\n  });\n  React.useEffect(() => {\n    if (containerRef.current === null) {\n      return;\n    }\n    const selectedItem = containerRef.current.querySelector('[role=\"listbox\"] [role=\"option\"][aria-selected=\"true\"]');\n    if (!selectedItem) {\n      return;\n    }\n    const offsetTop = selectedItem.offsetTop;\n\n    // Subtracting the 4px of extra margin intended for the first visible section item\n    containerRef.current.scrollTop = offsetTop - 4;\n  });\n  const isTimeDisabled = React.useCallback(valueToCheck => {\n    const isAfter = createIsAfterIgnoreDatePart(disableIgnoringDatePartForTimeValidation, utils);\n    const containsValidTime = () => {\n      if (minTime && isAfter(minTime, valueToCheck)) {\n        return false;\n      }\n      if (maxTime && isAfter(valueToCheck, maxTime)) {\n        return false;\n      }\n      if (disableFuture && isAfter(valueToCheck, now)) {\n        return false;\n      }\n      if (disablePast && isAfter(now, valueToCheck)) {\n        return false;\n      }\n      return true;\n    };\n    const isValidValue = () => {\n      if (utils.getMinutes(valueToCheck) % minutesStep !== 0) {\n        return false;\n      }\n      if (shouldDisableClock != null && shouldDisableClock(utils.toJsDate(valueToCheck).getTime(), 'hours')) {\n        return false;\n      }\n      if (shouldDisableTime) {\n        return !shouldDisableTime(valueToCheck, 'hours');\n      }\n      return true;\n    };\n    return !containsValidTime() || !isValidValue();\n  }, [disableIgnoringDatePartForTimeValidation, utils, minTime, maxTime, disableFuture, now, disablePast, minutesStep, shouldDisableClock, shouldDisableTime]);\n  const timeOptions = React.useMemo(() => {\n    const startOfDay = utils.startOfDay(valueOrReferenceDate);\n    return [startOfDay, ...Array.from({\n      length: Math.ceil(24 * 60 / timeStep) - 1\n    }, (_, index) => utils.addMinutes(startOfDay, timeStep * (index + 1)))];\n  }, [valueOrReferenceDate, timeStep, utils]);\n  return /*#__PURE__*/_jsx(DigitalClockRoot, _extends({\n    ref: handleRef,\n    className: clsx(classes.root, className),\n    ownerState: ownerState\n  }, other, {\n    children: /*#__PURE__*/_jsx(DigitalClockList, {\n      autoFocusItem: autoFocus || !!focusedView,\n      role: \"listbox\",\n      \"aria-label\": localeText.timePickerToolbarTitle,\n      className: classes.list,\n      children: timeOptions.map(option => {\n        if (skipDisabled && isTimeDisabled(option)) {\n          return null;\n        }\n        const isSelected = utils.isEqual(option, value);\n        return /*#__PURE__*/_jsx(ClockItem, _extends({\n          onClick: () => !readOnly && handleItemSelect(option),\n          selected: isSelected,\n          disabled: disabled || isTimeDisabled(option),\n          disableRipple: readOnly,\n          role: \"option\"\n          // aria-readonly is not supported here and does not have any effect\n          ,\n          \"aria-disabled\": readOnly,\n          \"aria-selected\": isSelected\n        }, clockItemProps, {\n          children: utils.format(option, ampm ? 'fullTime12h' : 'fullTime24h')\n        }), utils.toISO(option));\n      })\n    })\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? DigitalClock.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // | To update them edit the TypeScript types and run \"yarn proptypes\"  |\n  // ----------------------------------------------------------------------\n  /**\n   * 12h/24h view for hour selection clock.\n   * @default `utils.is12HourCycleInCurrentLocale()`\n   */\n  ampm: PropTypes.bool,\n  /**\n   * If `true`, the main element is focused during the first mount.\n   * This main element is:\n   * - the element chosen by the visible view if any (i.e: the selected day on the `day` view).\n   * - the `input` element if there is a field rendered.\n   */\n  autoFocus: PropTypes.bool,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  /**\n   * Overrideable components.\n   * @default {}\n   * @deprecated Please use `slots`.\n   */\n  components: PropTypes.object,\n  /**\n   * The props used for each component slot.\n   * @default {}\n   * @deprecated Please use `slotProps`.\n   */\n  componentsProps: PropTypes.object,\n  /**\n   * The default selected value.\n   * Used when the component is not controlled.\n   */\n  defaultValue: PropTypes.any,\n  /**\n   * If `true`, the picker views and text field are disabled.\n   * @default false\n   */\n  disabled: PropTypes.bool,\n  /**\n   * If `true`, disable values after the current date for date components, time for time components and both for date time components.\n   * @default false\n   */\n  disableFuture: PropTypes.bool,\n  /**\n   * Do not ignore date part when validating min/max time.\n   * @default false\n   */\n  disableIgnoringDatePartForTimeValidation: PropTypes.bool,\n  /**\n   * If `true`, disable values before the current date for date components, time for time components and both for date time components.\n   * @default false\n   */\n  disablePast: PropTypes.bool,\n  /**\n   * Controlled focused view.\n   */\n  focusedView: PropTypes.oneOf(['hours']),\n  /**\n   * Maximal selectable time.\n   * The date part of the object will be ignored unless `props.disableIgnoringDatePartForTimeValidation === true`.\n   */\n  maxTime: PropTypes.any,\n  /**\n   * Minimal selectable time.\n   * The date part of the object will be ignored unless `props.disableIgnoringDatePartForTimeValidation === true`.\n   */\n  minTime: PropTypes.any,\n  /**\n   * Step over minutes.\n   * @default 1\n   */\n  minutesStep: PropTypes.number,\n  /**\n   * Callback fired when the value changes.\n   * @template TValue The value type. Will be either the same type as `value` or `null`. Can be in `[start, end]` format in case of range value.\n   * @template TView The view type. Will be one of date or time views.\n   * @param {TValue} value The new value.\n   * @param {PickerSelectionState | undefined} selectionState Indicates if the date selection is complete.\n   * @param {TView | undefined} selectedView Indicates the view in which the selection has been made.\n   */\n  onChange: PropTypes.func,\n  /**\n   * Callback fired on focused view change.\n   * @template TView\n   * @param {TView} view The new view to focus or not.\n   * @param {boolean} hasFocus `true` if the view should be focused.\n   */\n  onFocusedViewChange: PropTypes.func,\n  /**\n   * Callback fired on view change.\n   * @template TView\n   * @param {TView} view The new view.\n   */\n  onViewChange: PropTypes.func,\n  /**\n   * The default visible view.\n   * Used when the component view is not controlled.\n   * Must be a valid option from `views` list.\n   */\n  openTo: PropTypes.oneOf(['hours']),\n  /**\n   * If `true`, the picker views and text field are read-only.\n   * @default false\n   */\n  readOnly: PropTypes.bool,\n  /**\n   * The date used to generate the new value when both `value` and `defaultValue` are empty.\n   * @default The closest valid time using the validation props, except callbacks such as `shouldDisableTime`.\n   */\n  referenceDate: PropTypes.any,\n  /**\n   * Disable specific clock time.\n   * @param {number} clockValue The value to check.\n   * @param {TimeView} view The clock type of the timeValue.\n   * @returns {boolean} If `true` the time will be disabled.\n   * @deprecated Consider using `shouldDisableTime`.\n   */\n  shouldDisableClock: PropTypes.func,\n  /**\n   * Disable specific time.\n   * @template TDate\n   * @param {TDate} value The value to check.\n   * @param {TimeView} view The clock type of the timeValue.\n   * @returns {boolean} If `true` the time will be disabled.\n   */\n  shouldDisableTime: PropTypes.func,\n  /**\n   * If `true`, disabled digital clock items will not be rendered.\n   * @default false\n   */\n  skipDisabled: PropTypes.bool,\n  /**\n   * The props used for each component slot.\n   * @default {}\n   */\n  slotProps: PropTypes.object,\n  /**\n   * Overrideable component slots.\n   * @default {}\n   */\n  slots: PropTypes.object,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n  /**\n   * The time steps between two time options.\n   * For example, if `timeStep = 45`, then the available time options will be `[00:00, 00:45, 01:30, 02:15, 03:00, etc.]`.\n   * @default 30\n   */\n  timeStep: PropTypes.number,\n  /**\n   * Choose which timezone to use for the value.\n   * Example: \"default\", \"system\", \"UTC\", \"America/New_York\".\n   * If you pass values from other timezones to some props, they will be converted to this timezone before being used.\n   * @see See the {@link https://mui.com/x/react-date-pickers/timezone/ timezones documention} for more details.\n   * @default The timezone of the `value` or `defaultValue` prop is defined, 'default' otherwise.\n   */\n  timezone: PropTypes.string,\n  /**\n   * The selected value.\n   * Used when the component is controlled.\n   */\n  value: PropTypes.any,\n  /**\n   * The visible view.\n   * Used when the component view is controlled.\n   * Must be a valid option from `views` list.\n   */\n  view: PropTypes.oneOf(['hours']),\n  /**\n   * Available views.\n   * @default ['hours']\n   */\n  views: PropTypes.arrayOf(PropTypes.oneOf(['hours']))\n} : void 0;","import * as React from 'react';\nimport { TimeClock } from '../TimeClock';\nimport { DigitalClock } from '../DigitalClock';\nimport { MultiSectionDigitalClock } from '../MultiSectionDigitalClock';\nimport { isTimeView } from '../internals/utils/time-utils';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const renderTimeViewClock = ({\n  view,\n  onViewChange,\n  focusedView,\n  onFocusedViewChange,\n  views,\n  value,\n  defaultValue,\n  referenceDate,\n  onChange,\n  className,\n  classes,\n  disableFuture,\n  disablePast,\n  minTime,\n  maxTime,\n  shouldDisableTime,\n  shouldDisableClock,\n  minutesStep,\n  ampm,\n  ampmInClock,\n  components,\n  componentsProps,\n  slots,\n  slotProps,\n  readOnly,\n  disabled,\n  sx,\n  autoFocus,\n  showViewSwitcher,\n  disableIgnoringDatePartForTimeValidation,\n  timezone\n}) => /*#__PURE__*/_jsx(TimeClock, {\n  view: view,\n  onViewChange: onViewChange,\n  focusedView: focusedView && isTimeView(focusedView) ? focusedView : null,\n  onFocusedViewChange: onFocusedViewChange,\n  views: views.filter(isTimeView),\n  value: value,\n  defaultValue: defaultValue,\n  referenceDate: referenceDate,\n  onChange: onChange,\n  className: className,\n  classes: classes,\n  disableFuture: disableFuture,\n  disablePast: disablePast,\n  minTime: minTime,\n  maxTime: maxTime,\n  shouldDisableTime: shouldDisableTime,\n  shouldDisableClock: shouldDisableClock,\n  minutesStep: minutesStep,\n  ampm: ampm,\n  ampmInClock: ampmInClock,\n  components: components,\n  componentsProps: componentsProps,\n  slots: slots,\n  slotProps: slotProps,\n  readOnly: readOnly,\n  disabled: disabled,\n  sx: sx,\n  autoFocus: autoFocus,\n  showViewSwitcher: showViewSwitcher,\n  disableIgnoringDatePartForTimeValidation: disableIgnoringDatePartForTimeValidation,\n  timezone: timezone\n});\nexport const renderDigitalClockTimeView = ({\n  view,\n  onViewChange,\n  focusedView,\n  onFocusedViewChange,\n  views,\n  value,\n  defaultValue,\n  referenceDate,\n  onChange,\n  className,\n  classes,\n  disableFuture,\n  disablePast,\n  minTime,\n  maxTime,\n  shouldDisableTime,\n  shouldDisableClock,\n  minutesStep,\n  ampm,\n  components,\n  componentsProps,\n  slots,\n  slotProps,\n  readOnly,\n  disabled,\n  sx,\n  autoFocus,\n  disableIgnoringDatePartForTimeValidation,\n  timeSteps,\n  skipDisabled,\n  timezone\n}) => /*#__PURE__*/_jsx(DigitalClock, {\n  view: view,\n  onViewChange: onViewChange,\n  focusedView: focusedView,\n  onFocusedViewChange: onFocusedViewChange,\n  views: views.filter(isTimeView),\n  value: value,\n  defaultValue: defaultValue,\n  referenceDate: referenceDate,\n  onChange: onChange,\n  className: className,\n  classes: classes,\n  disableFuture: disableFuture,\n  disablePast: disablePast,\n  minTime: minTime,\n  maxTime: maxTime,\n  shouldDisableTime: shouldDisableTime,\n  shouldDisableClock: shouldDisableClock,\n  minutesStep: minutesStep,\n  ampm: ampm,\n  components: components,\n  componentsProps: componentsProps,\n  slots: slots,\n  slotProps: slotProps,\n  readOnly: readOnly,\n  disabled: disabled,\n  sx: sx,\n  autoFocus: autoFocus,\n  disableIgnoringDatePartForTimeValidation: disableIgnoringDatePartForTimeValidation,\n  timeStep: timeSteps == null ? void 0 : timeSteps.minutes,\n  skipDisabled: skipDisabled,\n  timezone: timezone\n});\nexport const renderMultiSectionDigitalClockTimeView = ({\n  view,\n  onViewChange,\n  focusedView,\n  onFocusedViewChange,\n  views,\n  value,\n  defaultValue,\n  referenceDate,\n  onChange,\n  className,\n  classes,\n  disableFuture,\n  disablePast,\n  minTime,\n  maxTime,\n  shouldDisableTime,\n  shouldDisableClock,\n  minutesStep,\n  ampm,\n  components,\n  componentsProps,\n  slots,\n  slotProps,\n  readOnly,\n  disabled,\n  sx,\n  autoFocus,\n  disableIgnoringDatePartForTimeValidation,\n  timeSteps,\n  skipDisabled,\n  timezone\n}) => /*#__PURE__*/_jsx(MultiSectionDigitalClock, {\n  view: view,\n  onViewChange: onViewChange,\n  focusedView: focusedView,\n  onFocusedViewChange: onFocusedViewChange,\n  views: views.filter(isTimeView),\n  value: value,\n  defaultValue: defaultValue,\n  referenceDate: referenceDate,\n  onChange: onChange,\n  className: className,\n  classes: classes,\n  disableFuture: disableFuture,\n  disablePast: disablePast,\n  minTime: minTime,\n  maxTime: maxTime,\n  shouldDisableTime: shouldDisableTime,\n  shouldDisableClock: shouldDisableClock,\n  minutesStep: minutesStep,\n  ampm: ampm,\n  components: components,\n  componentsProps: componentsProps,\n  slots: slots,\n  slotProps: slotProps,\n  readOnly: readOnly,\n  disabled: disabled,\n  sx: sx,\n  autoFocus: autoFocus,\n  disableIgnoringDatePartForTimeValidation: disableIgnoringDatePartForTimeValidation,\n  timeSteps: timeSteps,\n  skipDisabled: skipDisabled,\n  timezone: timezone\n});","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport Divider from '@mui/material/Divider';\nimport { resolveComponentProps } from '@mui/base/utils';\nimport { DateCalendar } from '../DateCalendar';\nimport { multiSectionDigitalClockSectionClasses } from '../MultiSectionDigitalClock';\nimport { DateTimeViewWrapper } from '../internals/components/DateTimeViewWrapper';\nimport { isInternalTimeView } from '../internals/utils/time-utils';\nimport { isDatePickerView } from '../internals/utils/date-utils';\nimport { renderDigitalClockTimeView, renderMultiSectionDigitalClockTimeView } from '../timeViewRenderers';\nimport { digitalClockClasses } from '../DigitalClock';\nimport { VIEW_HEIGHT } from '../internals/constants/dimensions';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport const renderDesktopDateTimeView = ({\n  view,\n  onViewChange,\n  views,\n  focusedView,\n  onFocusedViewChange,\n  value,\n  defaultValue,\n  referenceDate,\n  onChange,\n  className,\n  classes,\n  disableFuture,\n  disablePast,\n  minDate,\n  minTime,\n  maxDate,\n  maxTime,\n  shouldDisableDate,\n  shouldDisableMonth,\n  shouldDisableYear,\n  shouldDisableTime,\n  shouldDisableClock,\n  reduceAnimations,\n  minutesStep,\n  ampm,\n  onMonthChange,\n  monthsPerRow,\n  onYearChange,\n  yearsPerRow,\n  defaultCalendarMonth,\n  components,\n  componentsProps,\n  slots,\n  slotProps,\n  loading,\n  renderLoading,\n  disableHighlightToday,\n  readOnly,\n  disabled,\n  showDaysOutsideCurrentMonth,\n  dayOfWeekFormatter,\n  sx,\n  autoFocus,\n  fixedWeekNumber,\n  displayWeekNumber,\n  timezone,\n  disableIgnoringDatePartForTimeValidation,\n  timeSteps,\n  skipDisabled,\n  timeViewsCount,\n  shouldRenderTimeInASingleColumn\n}) => {\n  var _resolveComponentProp, _slotProps$actionBar;\n  const isActionBarVisible = !!((_resolveComponentProp = resolveComponentProps((_slotProps$actionBar = slotProps == null ? void 0 : slotProps.actionBar) != null ? _slotProps$actionBar : componentsProps == null ? void 0 : componentsProps.actionBar, {})) != null && (_resolveComponentProp = _resolveComponentProp.actions) != null && _resolveComponentProp.length);\n  const commonTimeProps = {\n    view: isInternalTimeView(view) ? view : 'hours',\n    onViewChange,\n    focusedView: focusedView && isInternalTimeView(focusedView) ? focusedView : null,\n    onFocusedViewChange,\n    views: views.filter(isInternalTimeView),\n    value,\n    defaultValue,\n    referenceDate,\n    onChange,\n    className,\n    classes,\n    disableFuture,\n    disablePast,\n    minTime,\n    maxTime,\n    shouldDisableTime,\n    shouldDisableClock,\n    minutesStep,\n    ampm,\n    components,\n    componentsProps,\n    slots,\n    slotProps,\n    readOnly,\n    disabled,\n    autoFocus,\n    disableIgnoringDatePartForTimeValidation,\n    timeSteps,\n    skipDisabled,\n    timezone\n  };\n  return /*#__PURE__*/_jsxs(React.Fragment, {\n    children: [/*#__PURE__*/_jsxs(DateTimeViewWrapper, {\n      children: [/*#__PURE__*/_jsx(DateCalendar, {\n        view: isDatePickerView(view) ? view : 'day',\n        onViewChange: onViewChange,\n        views: views.filter(isDatePickerView),\n        focusedView: focusedView && isDatePickerView(focusedView) ? focusedView : null,\n        onFocusedViewChange: onFocusedViewChange,\n        value: value,\n        defaultValue: defaultValue,\n        referenceDate: referenceDate,\n        onChange: onChange,\n        className: className,\n        classes: classes,\n        disableFuture: disableFuture,\n        disablePast: disablePast,\n        minDate: minDate,\n        maxDate: maxDate,\n        shouldDisableDate: shouldDisableDate,\n        shouldDisableMonth: shouldDisableMonth,\n        shouldDisableYear: shouldDisableYear,\n        reduceAnimations: reduceAnimations,\n        onMonthChange: onMonthChange,\n        monthsPerRow: monthsPerRow,\n        onYearChange: onYearChange,\n        yearsPerRow: yearsPerRow,\n        defaultCalendarMonth: defaultCalendarMonth,\n        components: components,\n        componentsProps: componentsProps,\n        slots: slots,\n        slotProps: slotProps,\n        loading: loading,\n        renderLoading: renderLoading,\n        disableHighlightToday: disableHighlightToday,\n        readOnly: readOnly,\n        disabled: disabled,\n        showDaysOutsideCurrentMonth: showDaysOutsideCurrentMonth,\n        dayOfWeekFormatter: dayOfWeekFormatter,\n        sx: sx,\n        autoFocus: autoFocus,\n        fixedWeekNumber: fixedWeekNumber,\n        displayWeekNumber: displayWeekNumber,\n        timezone: timezone\n      }), timeViewsCount > 0 && /*#__PURE__*/_jsxs(React.Fragment, {\n        children: [/*#__PURE__*/_jsx(Divider, {\n          orientation: \"vertical\"\n        }), shouldRenderTimeInASingleColumn ? renderDigitalClockTimeView(_extends({}, commonTimeProps, {\n          view: 'hours',\n          views: ['hours'],\n          focusedView: focusedView && isInternalTimeView(focusedView) ? 'hours' : null,\n          sx: _extends({\n            width: 'auto',\n            [`&.${digitalClockClasses.root}`]: {\n              maxHeight: VIEW_HEIGHT\n            }\n          }, Array.isArray(sx) ? sx : [sx])\n        })) : renderMultiSectionDigitalClockTimeView(_extends({}, commonTimeProps, {\n          view: isInternalTimeView(view) ? view : 'hours',\n          views: views.filter(isInternalTimeView),\n          focusedView: focusedView && isInternalTimeView(focusedView) ? focusedView : null,\n          sx: _extends({\n            borderBottom: 0,\n            width: 'auto',\n            [`.${multiSectionDigitalClockSectionClasses.root}`]: {\n              maxHeight: '100%'\n            }\n          }, Array.isArray(sx) ? sx : [sx])\n        }))]\n      })]\n    }), isActionBarVisible && /*#__PURE__*/_jsx(Divider, {})]\n  });\n};","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"views\", \"format\"];\nimport { resolveTimeFormat, isTimeView, isInternalTimeView } from './time-utils';\nimport { resolveDateFormat } from './date-utils';\nexport const resolveDateTimeFormat = (utils, _ref) => {\n  let {\n      views,\n      format\n    } = _ref,\n    other = _objectWithoutPropertiesLoose(_ref, _excluded);\n  if (format) {\n    return format;\n  }\n  const dateViews = [];\n  const timeViews = [];\n  views.forEach(view => {\n    if (isTimeView(view)) {\n      timeViews.push(view);\n    } else {\n      dateViews.push(view);\n    }\n  });\n  if (timeViews.length === 0) {\n    return resolveDateFormat(utils, _extends({\n      views: dateViews\n    }, other), false);\n  }\n  if (dateViews.length === 0) {\n    return resolveTimeFormat(utils, _extends({\n      views: timeViews\n    }, other));\n  }\n  const timeFormat = resolveTimeFormat(utils, _extends({\n    views: timeViews\n  }, other));\n  const dateFormat = resolveDateFormat(utils, _extends({\n    views: dateViews\n  }, other), false);\n  return `${dateFormat} ${timeFormat}`;\n};\nconst resolveViews = (ampm, views, shouldUseSingleColumn) => {\n  if (shouldUseSingleColumn) {\n    return views.filter(view => !isInternalTimeView(view) || view === 'hours');\n  }\n  return ampm ? [...views, 'meridiem'] : views;\n};\nconst resolveShouldRenderTimeInASingleColumn = (timeSteps, threshold) => {\n  var _timeSteps$hours, _timeSteps$minutes;\n  return 24 * 60 / (((_timeSteps$hours = timeSteps.hours) != null ? _timeSteps$hours : 1) * ((_timeSteps$minutes = timeSteps.minutes) != null ? _timeSteps$minutes : 5)) <= threshold;\n};\nexport function resolveTimeViewsResponse({\n  thresholdToRenderTimeInASingleColumn: inThreshold,\n  ampm,\n  timeSteps: inTimeSteps,\n  views\n}) {\n  const thresholdToRenderTimeInASingleColumn = inThreshold != null ? inThreshold : 24;\n  const timeSteps = _extends({\n    hours: 1,\n    minutes: 5,\n    seconds: 5\n  }, inTimeSteps);\n  const shouldRenderTimeInASingleColumn = resolveShouldRenderTimeInASingleColumn(timeSteps, thresholdToRenderTimeInASingleColumn);\n  return {\n    thresholdToRenderTimeInASingleColumn,\n    timeSteps,\n    shouldRenderTimeInASingleColumn,\n    views: resolveViews(ampm, views, shouldRenderTimeInASingleColumn)\n  };\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { resolveComponentProps } from '@mui/base/utils';\nimport { refType } from '@mui/utils';\nimport { singleItemValueManager } from '../internals/utils/valueManagers';\nimport { DateTimeField } from '../DateTimeField';\nimport { useDateTimePickerDefaultizedProps } from '../DateTimePicker/shared';\nimport { renderDateViewCalendar } from '../dateViewRenderers/dateViewRenderers';\nimport { renderDesktopDateTimeView } from '../dateTimeViewRenderers';\nimport { useLocaleText, useUtils } from '../internals/hooks/useUtils';\nimport { validateDateTime } from '../internals/utils/validation/validateDateTime';\nimport { CalendarIcon } from '../icons';\nimport { useDesktopPicker } from '../internals/hooks/useDesktopPicker';\nimport { extractValidationProps } from '../internals/utils/validation/extractValidationProps';\nimport { resolveDateTimeFormat, resolveTimeViewsResponse } from '../internals/utils/date-time-utils';\n/**\n * Demos:\n *\n * - [DateTimePicker](https://mui.com/x/react-date-pickers/date-time-picker/)\n * - [Validation](https://mui.com/x/react-date-pickers/validation/)\n *\n * API:\n *\n * - [DesktopDateTimePicker API](https://mui.com/x/api/date-pickers/desktop-date-time-picker/)\n */\nconst DesktopDateTimePicker = /*#__PURE__*/React.forwardRef(function DesktopDateTimePicker(inProps, ref) {\n  var _defaultizedProps$amp, _defaultizedProps$yea, _defaultizedProps$slo2, _defaultizedProps$slo3, _defaultizedProps$slo4, _props$localeText$ope, _props$localeText;\n  const localeText = useLocaleText();\n  const utils = useUtils();\n\n  // Props with the default values common to all date time pickers\n  const defaultizedProps = useDateTimePickerDefaultizedProps(inProps, 'MuiDesktopDateTimePicker');\n  const {\n    shouldRenderTimeInASingleColumn,\n    thresholdToRenderTimeInASingleColumn,\n    views,\n    timeSteps\n  } = resolveTimeViewsResponse(defaultizedProps);\n  const shouldUseNewRenderer = !defaultizedProps.viewRenderers || Object.keys(defaultizedProps.viewRenderers).length === 0;\n  const viewRenderers =\n  // we can only ensure the expected two-column layout if none of the renderers are overridden\n  shouldUseNewRenderer ? {\n    day: renderDesktopDateTimeView,\n    month: renderDesktopDateTimeView,\n    year: renderDesktopDateTimeView,\n    hours: renderDesktopDateTimeView,\n    minutes: renderDesktopDateTimeView,\n    seconds: renderDesktopDateTimeView,\n    meridiem: renderDesktopDateTimeView\n  } : _extends({\n    day: renderDateViewCalendar,\n    month: renderDateViewCalendar,\n    year: renderDateViewCalendar,\n    hours: null,\n    minutes: null,\n    seconds: null,\n    meridiem: null\n  }, defaultizedProps.viewRenderers);\n  const ampmInClock = (_defaultizedProps$amp = defaultizedProps.ampmInClock) != null ? _defaultizedProps$amp : true;\n  // add \"accept\" action only when the new date time view renderers are used\n  const actionBarActions = shouldUseNewRenderer ? ['accept'] : [];\n\n  // Props with the default values specific to the desktop variant\n  const props = _extends({}, defaultizedProps, {\n    viewRenderers,\n    format: resolveDateTimeFormat(utils, defaultizedProps),\n    views,\n    yearsPerRow: (_defaultizedProps$yea = defaultizedProps.yearsPerRow) != null ? _defaultizedProps$yea : 4,\n    ampmInClock,\n    timeSteps,\n    thresholdToRenderTimeInASingleColumn,\n    shouldRenderTimeInASingleColumn,\n    slots: _extends({\n      field: DateTimeField,\n      openPickerIcon: CalendarIcon\n    }, defaultizedProps.slots),\n    slotProps: _extends({}, defaultizedProps.slotProps, {\n      field: ownerState => {\n        var _defaultizedProps$slo;\n        return _extends({}, resolveComponentProps((_defaultizedProps$slo = defaultizedProps.slotProps) == null ? void 0 : _defaultizedProps$slo.field, ownerState), extractValidationProps(defaultizedProps), {\n          ref\n        });\n      },\n      toolbar: _extends({\n        hidden: true,\n        ampmInClock,\n        toolbarVariant: shouldUseNewRenderer ? 'desktop' : 'mobile'\n      }, (_defaultizedProps$slo2 = defaultizedProps.slotProps) == null ? void 0 : _defaultizedProps$slo2.toolbar),\n      tabs: _extends({\n        hidden: true\n      }, (_defaultizedProps$slo3 = defaultizedProps.slotProps) == null ? void 0 : _defaultizedProps$slo3.tabs),\n      actionBar: _extends({\n        actions: actionBarActions\n      }, (_defaultizedProps$slo4 = defaultizedProps.slotProps) == null ? void 0 : _defaultizedProps$slo4.actionBar)\n    })\n  });\n  const {\n    renderPicker\n  } = useDesktopPicker({\n    props,\n    valueManager: singleItemValueManager,\n    valueType: 'date-time',\n    getOpenDialogAriaText: (_props$localeText$ope = (_props$localeText = props.localeText) == null ? void 0 : _props$localeText.openDatePickerDialogue) != null ? _props$localeText$ope : localeText.openDatePickerDialogue,\n    validator: validateDateTime\n  });\n  return renderPicker();\n});\nDesktopDateTimePicker.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // | To update them edit the TypeScript types and run \"yarn proptypes\"  |\n  // ----------------------------------------------------------------------\n  /**\n   * 12h/24h view for hour selection clock.\n   * @default `utils.is12HourCycleInCurrentLocale()`\n   */\n  ampm: PropTypes.bool,\n  /**\n   * Display ampm controls under the clock (instead of in the toolbar).\n   * @default true on desktop, false on mobile\n   */\n  ampmInClock: PropTypes.bool,\n  /**\n   * If `true`, the main element is focused during the first mount.\n   * This main element is:\n   * - the element chosen by the visible view if any (i.e: the selected day on the `day` view).\n   * - the `input` element if there is a field rendered.\n   */\n  autoFocus: PropTypes.bool,\n  /**\n   * Class name applied to the root element.\n   */\n  className: PropTypes.string,\n  /**\n   * If `true`, the popover or modal will close after submitting the full date.\n   * @default `true` for desktop, `false` for mobile (based on the chosen wrapper and `desktopModeMediaQuery` prop).\n   */\n  closeOnSelect: PropTypes.bool,\n  /**\n   * Overridable components.\n   * @default {}\n   * @deprecated Please use `slots`.\n   */\n  components: PropTypes.object,\n  /**\n   * The props used for each component slot.\n   * @default {}\n   * @deprecated Please use `slotProps`.\n   */\n  componentsProps: PropTypes.object,\n  /**\n   * Formats the day of week displayed in the calendar header.\n   * @param {string} day The day of week provided by the adapter.  Deprecated, will be removed in v7: Use `date` instead.\n   * @param {TDate} date The date of the day of week provided by the adapter.\n   * @returns {string} The name to display.\n   * @default (_day: string, date: TDate) => adapter.format(date, 'weekdayShort').charAt(0).toUpperCase()\n   */\n  dayOfWeekFormatter: PropTypes.func,\n  /**\n   * Default calendar month displayed when `value` and `defaultValue` are empty.\n   * @deprecated Consider using `referenceDate` instead.\n   */\n  defaultCalendarMonth: PropTypes.any,\n  /**\n   * The default value.\n   * Used when the component is not controlled.\n   */\n  defaultValue: PropTypes.any,\n  /**\n   * If `true`, the picker and text field are disabled.\n   * @default false\n   */\n  disabled: PropTypes.bool,\n  /**\n   * If `true`, disable values after the current date for date components, time for time components and both for date time components.\n   * @default false\n   */\n  disableFuture: PropTypes.bool,\n  /**\n   * If `true`, today's date is rendering without highlighting with circle.\n   * @default false\n   */\n  disableHighlightToday: PropTypes.bool,\n  /**\n   * Do not ignore date part when validating min/max time.\n   * @default false\n   */\n  disableIgnoringDatePartForTimeValidation: PropTypes.bool,\n  /**\n   * If `true`, the open picker button will not be rendered (renders only the field).\n   * @default false\n   */\n  disableOpenPicker: PropTypes.bool,\n  /**\n   * If `true`, disable values before the current date for date components, time for time components and both for date time components.\n   * @default false\n   */\n  disablePast: PropTypes.bool,\n  /**\n   * If `true`, the week number will be display in the calendar.\n   */\n  displayWeekNumber: PropTypes.bool,\n  /**\n   * Calendar will show more weeks in order to match this value.\n   * Put it to 6 for having fix number of week in Gregorian calendars\n   * @default undefined\n   */\n  fixedWeekNumber: PropTypes.number,\n  /**\n   * Format of the date when rendered in the input(s).\n   * Defaults to localized format based on the used `views`.\n   */\n  format: PropTypes.string,\n  /**\n   * Density of the format when rendered in the input.\n   * Setting `formatDensity` to `\"spacious\"` will add a space before and after each `/`, `-` and `.` character.\n   * @default \"dense\"\n   */\n  formatDensity: PropTypes.oneOf(['dense', 'spacious']),\n  /**\n   * Pass a ref to the `input` element.\n   */\n  inputRef: refType,\n  /**\n   * The label content.\n   */\n  label: PropTypes.node,\n  /**\n   * If `true`, calls `renderLoading` instead of rendering the day calendar.\n   * Can be used to preload information and show it in calendar.\n   * @default false\n   */\n  loading: PropTypes.bool,\n  /**\n   * Locale for components texts.\n   * Allows overriding texts coming from `LocalizationProvider` and `theme`.\n   */\n  localeText: PropTypes.object,\n  /**\n   * Maximal selectable date.\n   */\n  maxDate: PropTypes.any,\n  /**\n   * Maximal selectable moment of time with binding to date, to set max time in each day use `maxTime`.\n   */\n  maxDateTime: PropTypes.any,\n  /**\n   * Maximal selectable time.\n   * The date part of the object will be ignored unless `props.disableIgnoringDatePartForTimeValidation === true`.\n   */\n  maxTime: PropTypes.any,\n  /**\n   * Minimal selectable date.\n   */\n  minDate: PropTypes.any,\n  /**\n   * Minimal selectable moment of time with binding to date, to set min time in each day use `minTime`.\n   */\n  minDateTime: PropTypes.any,\n  /**\n   * Minimal selectable time.\n   * The date part of the object will be ignored unless `props.disableIgnoringDatePartForTimeValidation === true`.\n   */\n  minTime: PropTypes.any,\n  /**\n   * Step over minutes.\n   * @default 1\n   */\n  minutesStep: PropTypes.number,\n  /**\n   * Months rendered per row.\n   * @default 3\n   */\n  monthsPerRow: PropTypes.oneOf([3, 4]),\n  /**\n   * Name attribute used by the `input` element in the Field.\n   */\n  name: PropTypes.string,\n  /**\n   * Callback fired when the value is accepted.\n   * @template TValue The value type. Will be either the same type as `value` or `null`. Can be in `[start, end]` format in case of range value.\n   * @param {TValue} value The value that was just accepted.\n   */\n  onAccept: PropTypes.func,\n  /**\n   * Callback fired when the value changes.\n   * @template TValue The value type. Will be either the same type as `value` or `null`. Can be in `[start, end]` format in case of range value.\n   * @template TError The validation error type. Will be either `string` or a `null`. Can be in `[start, end]` format in case of range value.\n   * @param {TValue} value The new value.\n   * @param {FieldChangeHandlerContext<TError>} context The context containing the validation result of the current value.\n   */\n  onChange: PropTypes.func,\n  /**\n   * Callback fired when the popup requests to be closed.\n   * Use in controlled mode (see `open`).\n   */\n  onClose: PropTypes.func,\n  /**\n   * Callback fired when the error associated to the current value changes.\n   * If the error has a non-null value, then the `TextField` will be rendered in `error` state.\n   *\n   * @template TValue The value type. Will be either the same type as `value` or `null`. Can be in `[start, end]` format in case of range value.\n   * @template TError The validation error type. Will be either `string` or a `null`. Can be in `[start, end]` format in case of range value.\n   * @param {TError} error The new error describing why the current value is not valid.\n   * @param {TValue} value The value associated to the error.\n   */\n  onError: PropTypes.func,\n  /**\n   * Callback fired on month change.\n   * @template TDate\n   * @param {TDate} month The new month.\n   */\n  onMonthChange: PropTypes.func,\n  /**\n   * Callback fired when the popup requests to be opened.\n   * Use in controlled mode (see `open`).\n   */\n  onOpen: PropTypes.func,\n  /**\n   * Callback fired when the selected sections change.\n   * @param {FieldSelectedSections} newValue The new selected sections.\n   */\n  onSelectedSectionsChange: PropTypes.func,\n  /**\n   * Callback fired on view change.\n   * @template TView\n   * @param {TView} view The new view.\n   */\n  onViewChange: PropTypes.func,\n  /**\n   * Callback fired on year change.\n   * @template TDate\n   * @param {TDate} year The new year.\n   */\n  onYearChange: PropTypes.func,\n  /**\n   * Control the popup or dialog open state.\n   * @default false\n   */\n  open: PropTypes.bool,\n  /**\n   * The default visible view.\n   * Used when the component view is not controlled.\n   * Must be a valid option from `views` list.\n   */\n  openTo: PropTypes.oneOf(['day', 'hours', 'meridiem', 'minutes', 'month', 'seconds', 'year']),\n  /**\n   * Force rendering in particular orientation.\n   */\n  orientation: PropTypes.oneOf(['landscape', 'portrait']),\n  readOnly: PropTypes.bool,\n  /**\n   * If `true`, disable heavy animations.\n   * @default `@media(prefers-reduced-motion: reduce)` || `navigator.userAgent` matches Android <10 or iOS <13\n   */\n  reduceAnimations: PropTypes.bool,\n  /**\n   * The date used to generate the new value when both `value` and `defaultValue` are empty.\n   * @default The closest valid date-time using the validation props, except callbacks like `shouldDisable<...>`.\n   */\n  referenceDate: PropTypes.any,\n  /**\n   * Component displaying when passed `loading` true.\n   * @returns {React.ReactNode} The node to render when loading.\n   * @default () => <span data-mui-test=\"loading-progress\">...</span>\n   */\n  renderLoading: PropTypes.func,\n  /**\n   * The currently selected sections.\n   * This prop accept four formats:\n   * 1. If a number is provided, the section at this index will be selected.\n   * 2. If an object with a `startIndex` and `endIndex` properties are provided, the sections between those two indexes will be selected.\n   * 3. If a string of type `FieldSectionType` is provided, the first section with that name will be selected.\n   * 4. If `null` is provided, no section will be selected\n   * If not provided, the selected sections will be handled internally.\n   */\n  selectedSections: PropTypes.oneOfType([PropTypes.oneOf(['all', 'day', 'hours', 'meridiem', 'minutes', 'month', 'seconds', 'weekDay', 'year']), PropTypes.number, PropTypes.shape({\n    endIndex: PropTypes.number.isRequired,\n    startIndex: PropTypes.number.isRequired\n  })]),\n  /**\n   * Disable specific clock time.\n   * @param {number} clockValue The value to check.\n   * @param {TimeView} view The clock type of the timeValue.\n   * @returns {boolean} If `true` the time will be disabled.\n   * @deprecated Consider using `shouldDisableTime`.\n   */\n  shouldDisableClock: PropTypes.func,\n  /**\n   * Disable specific date.\n   *\n   * Warning: This function can be called multiple times (e.g. when rendering date calendar, checking if focus can be moved to a certain date, etc.). Expensive computations can impact performance.\n   *\n   * @template TDate\n   * @param {TDate} day The date to test.\n   * @returns {boolean} If `true` the date will be disabled.\n   */\n  shouldDisableDate: PropTypes.func,\n  /**\n   * Disable specific month.\n   * @template TDate\n   * @param {TDate} month The month to test.\n   * @returns {boolean} If `true`, the month will be disabled.\n   */\n  shouldDisableMonth: PropTypes.func,\n  /**\n   * Disable specific time.\n   * @template TDate\n   * @param {TDate} value The value to check.\n   * @param {TimeView} view The clock type of the timeValue.\n   * @returns {boolean} If `true` the time will be disabled.\n   */\n  shouldDisableTime: PropTypes.func,\n  /**\n   * Disable specific year.\n   * @template TDate\n   * @param {TDate} year The year to test.\n   * @returns {boolean} If `true`, the year will be disabled.\n   */\n  shouldDisableYear: PropTypes.func,\n  /**\n   * If `true`, days outside the current month are rendered:\n   *\n   * - if `fixedWeekNumber` is defined, renders days to have the weeks requested.\n   *\n   * - if `fixedWeekNumber` is not defined, renders day to fill the first and last week of the current month.\n   *\n   * - ignored if `calendars` equals more than `1` on range pickers.\n   * @default false\n   */\n  showDaysOutsideCurrentMonth: PropTypes.bool,\n  /**\n   * If `true`, disabled digital clock items will not be rendered.\n   * @default false\n   */\n  skipDisabled: PropTypes.bool,\n  /**\n   * The props used for each component slot.\n   * @default {}\n   */\n  slotProps: PropTypes.object,\n  /**\n   * Overridable component slots.\n   * @default {}\n   */\n  slots: PropTypes.object,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n  /**\n   * Amount of time options below or at which the single column time renderer is used.\n   * @default 24\n   */\n  thresholdToRenderTimeInASingleColumn: PropTypes.number,\n  /**\n   * The time steps between two time unit options.\n   * For example, if `timeStep.minutes = 8`, then the available minute options will be `[0, 8, 16, 24, 32, 40, 48, 56]`.\n   * When single column time renderer is used, only `timeStep.minutes` will be used.\n   * @default{ hours: 1, minutes: 5, seconds: 5 }\n   */\n  timeSteps: PropTypes.shape({\n    hours: PropTypes.number,\n    minutes: PropTypes.number,\n    seconds: PropTypes.number\n  }),\n  /**\n   * Choose which timezone to use for the value.\n   * Example: \"default\", \"system\", \"UTC\", \"America/New_York\".\n   * If you pass values from other timezones to some props, they will be converted to this timezone before being used.\n   * @see See the {@link https://mui.com/x/react-date-pickers/timezone/ timezones documention} for more details.\n   * @default The timezone of the `value` or `defaultValue` prop is defined, 'default' otherwise.\n   */\n  timezone: PropTypes.string,\n  /**\n   * The selected value.\n   * Used when the component is controlled.\n   */\n  value: PropTypes.any,\n  /**\n   * The visible view.\n   * Used when the component view is controlled.\n   * Must be a valid option from `views` list.\n   */\n  view: PropTypes.oneOf(['day', 'hours', 'meridiem', 'minutes', 'month', 'seconds', 'year']),\n  /**\n   * Define custom view renderers for each section.\n   * If `null`, the section will only have field editing.\n   * If `undefined`, internally defined view will be the used.\n   */\n  viewRenderers: PropTypes.shape({\n    day: PropTypes.func,\n    hours: PropTypes.func,\n    meridiem: PropTypes.func,\n    minutes: PropTypes.func,\n    month: PropTypes.func,\n    seconds: PropTypes.func,\n    year: PropTypes.func\n  }),\n  /**\n   * Available views.\n   */\n  views: PropTypes.arrayOf(PropTypes.oneOf(['day', 'hours', 'minutes', 'month', 'seconds', 'year']).isRequired),\n  /**\n   * Years rendered per row.\n   * @default 4\n   */\n  yearsPerRow: PropTypes.oneOf([3, 4])\n};\nexport { DesktopDateTimePicker };","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { resolveComponentProps } from '@mui/base/utils';\nimport { refType } from '@mui/utils';\nimport { singleItemValueManager } from '../internals/utils/valueManagers';\nimport { DateTimeField } from '../DateTimeField';\nimport { useDateTimePickerDefaultizedProps } from '../DateTimePicker/shared';\nimport { useLocaleText, useUtils } from '../internals/hooks/useUtils';\nimport { validateDateTime } from '../internals/utils/validation/validateDateTime';\nimport { useMobilePicker } from '../internals/hooks/useMobilePicker';\nimport { extractValidationProps } from '../internals/utils/validation/extractValidationProps';\nimport { renderDateViewCalendar } from '../dateViewRenderers';\nimport { renderTimeViewClock } from '../timeViewRenderers';\nimport { resolveDateTimeFormat } from '../internals/utils/date-time-utils';\n/**\n * Demos:\n *\n * - [DateTimePicker](https://mui.com/x/react-date-pickers/date-time-picker/)\n * - [Validation](https://mui.com/x/react-date-pickers/validation/)\n *\n * API:\n *\n * - [MobileDateTimePicker API](https://mui.com/x/api/date-pickers/mobile-date-time-picker/)\n */\nconst MobileDateTimePicker = /*#__PURE__*/React.forwardRef(function MobileDateTimePicker(inProps, ref) {\n  var _defaultizedProps$amp, _defaultizedProps$slo2, _defaultizedProps$slo3, _props$localeText$ope, _props$localeText;\n  const localeText = useLocaleText();\n  const utils = useUtils();\n\n  // Props with the default values common to all date time pickers\n  const defaultizedProps = useDateTimePickerDefaultizedProps(inProps, 'MuiMobileDateTimePicker');\n  const viewRenderers = _extends({\n    day: renderDateViewCalendar,\n    month: renderDateViewCalendar,\n    year: renderDateViewCalendar,\n    hours: renderTimeViewClock,\n    minutes: renderTimeViewClock,\n    seconds: renderTimeViewClock\n  }, defaultizedProps.viewRenderers);\n  const ampmInClock = (_defaultizedProps$amp = defaultizedProps.ampmInClock) != null ? _defaultizedProps$amp : false;\n\n  // Props with the default values specific to the mobile variant\n  const props = _extends({}, defaultizedProps, {\n    viewRenderers,\n    format: resolveDateTimeFormat(utils, defaultizedProps),\n    ampmInClock,\n    slots: _extends({\n      field: DateTimeField\n    }, defaultizedProps.slots),\n    slotProps: _extends({}, defaultizedProps.slotProps, {\n      field: ownerState => {\n        var _defaultizedProps$slo;\n        return _extends({}, resolveComponentProps((_defaultizedProps$slo = defaultizedProps.slotProps) == null ? void 0 : _defaultizedProps$slo.field, ownerState), extractValidationProps(defaultizedProps), {\n          ref\n        });\n      },\n      toolbar: _extends({\n        hidden: false,\n        ampmInClock\n      }, (_defaultizedProps$slo2 = defaultizedProps.slotProps) == null ? void 0 : _defaultizedProps$slo2.toolbar),\n      tabs: _extends({\n        hidden: false\n      }, (_defaultizedProps$slo3 = defaultizedProps.slotProps) == null ? void 0 : _defaultizedProps$slo3.tabs)\n    })\n  });\n  const {\n    renderPicker\n  } = useMobilePicker({\n    props,\n    valueManager: singleItemValueManager,\n    valueType: 'date-time',\n    getOpenDialogAriaText: (_props$localeText$ope = (_props$localeText = props.localeText) == null ? void 0 : _props$localeText.openDatePickerDialogue) != null ? _props$localeText$ope : localeText.openDatePickerDialogue,\n    validator: validateDateTime\n  });\n  return renderPicker();\n});\nMobileDateTimePicker.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // | To update them edit the TypeScript types and run \"yarn proptypes\"  |\n  // ----------------------------------------------------------------------\n  /**\n   * 12h/24h view for hour selection clock.\n   * @default `utils.is12HourCycleInCurrentLocale()`\n   */\n  ampm: PropTypes.bool,\n  /**\n   * Display ampm controls under the clock (instead of in the toolbar).\n   * @default true on desktop, false on mobile\n   */\n  ampmInClock: PropTypes.bool,\n  /**\n   * If `true`, the main element is focused during the first mount.\n   * This main element is:\n   * - the element chosen by the visible view if any (i.e: the selected day on the `day` view).\n   * - the `input` element if there is a field rendered.\n   */\n  autoFocus: PropTypes.bool,\n  /**\n   * Class name applied to the root element.\n   */\n  className: PropTypes.string,\n  /**\n   * If `true`, the popover or modal will close after submitting the full date.\n   * @default `true` for desktop, `false` for mobile (based on the chosen wrapper and `desktopModeMediaQuery` prop).\n   */\n  closeOnSelect: PropTypes.bool,\n  /**\n   * Overridable components.\n   * @default {}\n   * @deprecated Please use `slots`.\n   */\n  components: PropTypes.object,\n  /**\n   * The props used for each component slot.\n   * @default {}\n   * @deprecated Please use `slotProps`.\n   */\n  componentsProps: PropTypes.object,\n  /**\n   * Formats the day of week displayed in the calendar header.\n   * @param {string} day The day of week provided by the adapter.  Deprecated, will be removed in v7: Use `date` instead.\n   * @param {TDate} date The date of the day of week provided by the adapter.\n   * @returns {string} The name to display.\n   * @default (_day: string, date: TDate) => adapter.format(date, 'weekdayShort').charAt(0).toUpperCase()\n   */\n  dayOfWeekFormatter: PropTypes.func,\n  /**\n   * Default calendar month displayed when `value` and `defaultValue` are empty.\n   * @deprecated Consider using `referenceDate` instead.\n   */\n  defaultCalendarMonth: PropTypes.any,\n  /**\n   * The default value.\n   * Used when the component is not controlled.\n   */\n  defaultValue: PropTypes.any,\n  /**\n   * If `true`, the picker and text field are disabled.\n   * @default false\n   */\n  disabled: PropTypes.bool,\n  /**\n   * If `true`, disable values after the current date for date components, time for time components and both for date time components.\n   * @default false\n   */\n  disableFuture: PropTypes.bool,\n  /**\n   * If `true`, today's date is rendering without highlighting with circle.\n   * @default false\n   */\n  disableHighlightToday: PropTypes.bool,\n  /**\n   * Do not ignore date part when validating min/max time.\n   * @default false\n   */\n  disableIgnoringDatePartForTimeValidation: PropTypes.bool,\n  /**\n   * If `true`, the open picker button will not be rendered (renders only the field).\n   * @default false\n   */\n  disableOpenPicker: PropTypes.bool,\n  /**\n   * If `true`, disable values before the current date for date components, time for time components and both for date time components.\n   * @default false\n   */\n  disablePast: PropTypes.bool,\n  /**\n   * If `true`, the week number will be display in the calendar.\n   */\n  displayWeekNumber: PropTypes.bool,\n  /**\n   * Calendar will show more weeks in order to match this value.\n   * Put it to 6 for having fix number of week in Gregorian calendars\n   * @default undefined\n   */\n  fixedWeekNumber: PropTypes.number,\n  /**\n   * Format of the date when rendered in the input(s).\n   * Defaults to localized format based on the used `views`.\n   */\n  format: PropTypes.string,\n  /**\n   * Density of the format when rendered in the input.\n   * Setting `formatDensity` to `\"spacious\"` will add a space before and after each `/`, `-` and `.` character.\n   * @default \"dense\"\n   */\n  formatDensity: PropTypes.oneOf(['dense', 'spacious']),\n  /**\n   * Pass a ref to the `input` element.\n   */\n  inputRef: refType,\n  /**\n   * The label content.\n   */\n  label: PropTypes.node,\n  /**\n   * If `true`, calls `renderLoading` instead of rendering the day calendar.\n   * Can be used to preload information and show it in calendar.\n   * @default false\n   */\n  loading: PropTypes.bool,\n  /**\n   * Locale for components texts.\n   * Allows overriding texts coming from `LocalizationProvider` and `theme`.\n   */\n  localeText: PropTypes.object,\n  /**\n   * Maximal selectable date.\n   */\n  maxDate: PropTypes.any,\n  /**\n   * Maximal selectable moment of time with binding to date, to set max time in each day use `maxTime`.\n   */\n  maxDateTime: PropTypes.any,\n  /**\n   * Maximal selectable time.\n   * The date part of the object will be ignored unless `props.disableIgnoringDatePartForTimeValidation === true`.\n   */\n  maxTime: PropTypes.any,\n  /**\n   * Minimal selectable date.\n   */\n  minDate: PropTypes.any,\n  /**\n   * Minimal selectable moment of time with binding to date, to set min time in each day use `minTime`.\n   */\n  minDateTime: PropTypes.any,\n  /**\n   * Minimal selectable time.\n   * The date part of the object will be ignored unless `props.disableIgnoringDatePartForTimeValidation === true`.\n   */\n  minTime: PropTypes.any,\n  /**\n   * Step over minutes.\n   * @default 1\n   */\n  minutesStep: PropTypes.number,\n  /**\n   * Months rendered per row.\n   * @default 3\n   */\n  monthsPerRow: PropTypes.oneOf([3, 4]),\n  /**\n   * Name attribute used by the `input` element in the Field.\n   */\n  name: PropTypes.string,\n  /**\n   * Callback fired when the value is accepted.\n   * @template TValue The value type. Will be either the same type as `value` or `null`. Can be in `[start, end]` format in case of range value.\n   * @param {TValue} value The value that was just accepted.\n   */\n  onAccept: PropTypes.func,\n  /**\n   * Callback fired when the value changes.\n   * @template TValue The value type. Will be either the same type as `value` or `null`. Can be in `[start, end]` format in case of range value.\n   * @template TError The validation error type. Will be either `string` or a `null`. Can be in `[start, end]` format in case of range value.\n   * @param {TValue} value The new value.\n   * @param {FieldChangeHandlerContext<TError>} context The context containing the validation result of the current value.\n   */\n  onChange: PropTypes.func,\n  /**\n   * Callback fired when the popup requests to be closed.\n   * Use in controlled mode (see `open`).\n   */\n  onClose: PropTypes.func,\n  /**\n   * Callback fired when the error associated to the current value changes.\n   * If the error has a non-null value, then the `TextField` will be rendered in `error` state.\n   *\n   * @template TValue The value type. Will be either the same type as `value` or `null`. Can be in `[start, end]` format in case of range value.\n   * @template TError The validation error type. Will be either `string` or a `null`. Can be in `[start, end]` format in case of range value.\n   * @param {TError} error The new error describing why the current value is not valid.\n   * @param {TValue} value The value associated to the error.\n   */\n  onError: PropTypes.func,\n  /**\n   * Callback fired on month change.\n   * @template TDate\n   * @param {TDate} month The new month.\n   */\n  onMonthChange: PropTypes.func,\n  /**\n   * Callback fired when the popup requests to be opened.\n   * Use in controlled mode (see `open`).\n   */\n  onOpen: PropTypes.func,\n  /**\n   * Callback fired when the selected sections change.\n   * @param {FieldSelectedSections} newValue The new selected sections.\n   */\n  onSelectedSectionsChange: PropTypes.func,\n  /**\n   * Callback fired on view change.\n   * @template TView\n   * @param {TView} view The new view.\n   */\n  onViewChange: PropTypes.func,\n  /**\n   * Callback fired on year change.\n   * @template TDate\n   * @param {TDate} year The new year.\n   */\n  onYearChange: PropTypes.func,\n  /**\n   * Control the popup or dialog open state.\n   * @default false\n   */\n  open: PropTypes.bool,\n  /**\n   * The default visible view.\n   * Used when the component view is not controlled.\n   * Must be a valid option from `views` list.\n   */\n  openTo: PropTypes.oneOf(['day', 'hours', 'minutes', 'month', 'seconds', 'year']),\n  /**\n   * Force rendering in particular orientation.\n   */\n  orientation: PropTypes.oneOf(['landscape', 'portrait']),\n  readOnly: PropTypes.bool,\n  /**\n   * If `true`, disable heavy animations.\n   * @default `@media(prefers-reduced-motion: reduce)` || `navigator.userAgent` matches Android <10 or iOS <13\n   */\n  reduceAnimations: PropTypes.bool,\n  /**\n   * The date used to generate the new value when both `value` and `defaultValue` are empty.\n   * @default The closest valid date-time using the validation props, except callbacks like `shouldDisable<...>`.\n   */\n  referenceDate: PropTypes.any,\n  /**\n   * Component displaying when passed `loading` true.\n   * @returns {React.ReactNode} The node to render when loading.\n   * @default () => <span data-mui-test=\"loading-progress\">...</span>\n   */\n  renderLoading: PropTypes.func,\n  /**\n   * The currently selected sections.\n   * This prop accept four formats:\n   * 1. If a number is provided, the section at this index will be selected.\n   * 2. If an object with a `startIndex` and `endIndex` properties are provided, the sections between those two indexes will be selected.\n   * 3. If a string of type `FieldSectionType` is provided, the first section with that name will be selected.\n   * 4. If `null` is provided, no section will be selected\n   * If not provided, the selected sections will be handled internally.\n   */\n  selectedSections: PropTypes.oneOfType([PropTypes.oneOf(['all', 'day', 'hours', 'meridiem', 'minutes', 'month', 'seconds', 'weekDay', 'year']), PropTypes.number, PropTypes.shape({\n    endIndex: PropTypes.number.isRequired,\n    startIndex: PropTypes.number.isRequired\n  })]),\n  /**\n   * Disable specific clock time.\n   * @param {number} clockValue The value to check.\n   * @param {TimeView} view The clock type of the timeValue.\n   * @returns {boolean} If `true` the time will be disabled.\n   * @deprecated Consider using `shouldDisableTime`.\n   */\n  shouldDisableClock: PropTypes.func,\n  /**\n   * Disable specific date.\n   *\n   * Warning: This function can be called multiple times (e.g. when rendering date calendar, checking if focus can be moved to a certain date, etc.). Expensive computations can impact performance.\n   *\n   * @template TDate\n   * @param {TDate} day The date to test.\n   * @returns {boolean} If `true` the date will be disabled.\n   */\n  shouldDisableDate: PropTypes.func,\n  /**\n   * Disable specific month.\n   * @template TDate\n   * @param {TDate} month The month to test.\n   * @returns {boolean} If `true`, the month will be disabled.\n   */\n  shouldDisableMonth: PropTypes.func,\n  /**\n   * Disable specific time.\n   * @template TDate\n   * @param {TDate} value The value to check.\n   * @param {TimeView} view The clock type of the timeValue.\n   * @returns {boolean} If `true` the time will be disabled.\n   */\n  shouldDisableTime: PropTypes.func,\n  /**\n   * Disable specific year.\n   * @template TDate\n   * @param {TDate} year The year to test.\n   * @returns {boolean} If `true`, the year will be disabled.\n   */\n  shouldDisableYear: PropTypes.func,\n  /**\n   * If `true`, days outside the current month are rendered:\n   *\n   * - if `fixedWeekNumber` is defined, renders days to have the weeks requested.\n   *\n   * - if `fixedWeekNumber` is not defined, renders day to fill the first and last week of the current month.\n   *\n   * - ignored if `calendars` equals more than `1` on range pickers.\n   * @default false\n   */\n  showDaysOutsideCurrentMonth: PropTypes.bool,\n  /**\n   * The props used for each component slot.\n   * @default {}\n   */\n  slotProps: PropTypes.object,\n  /**\n   * Overridable component slots.\n   * @default {}\n   */\n  slots: PropTypes.object,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n  /**\n   * Choose which timezone to use for the value.\n   * Example: \"default\", \"system\", \"UTC\", \"America/New_York\".\n   * If you pass values from other timezones to some props, they will be converted to this timezone before being used.\n   * @see See the {@link https://mui.com/x/react-date-pickers/timezone/ timezones documention} for more details.\n   * @default The timezone of the `value` or `defaultValue` prop is defined, 'default' otherwise.\n   */\n  timezone: PropTypes.string,\n  /**\n   * The selected value.\n   * Used when the component is controlled.\n   */\n  value: PropTypes.any,\n  /**\n   * The visible view.\n   * Used when the component view is controlled.\n   * Must be a valid option from `views` list.\n   */\n  view: PropTypes.oneOf(['day', 'hours', 'minutes', 'month', 'seconds', 'year']),\n  /**\n   * Define custom view renderers for each section.\n   * If `null`, the section will only have field editing.\n   * If `undefined`, internally defined view will be the used.\n   */\n  viewRenderers: PropTypes.shape({\n    day: PropTypes.func,\n    hours: PropTypes.func,\n    minutes: PropTypes.func,\n    month: PropTypes.func,\n    seconds: PropTypes.func,\n    year: PropTypes.func\n  }),\n  /**\n   * Available views.\n   */\n  views: PropTypes.arrayOf(PropTypes.oneOf(['day', 'hours', 'minutes', 'month', 'seconds', 'year']).isRequired),\n  /**\n   * Years rendered per row.\n   * @default 3\n   */\n  yearsPerRow: PropTypes.oneOf([3, 4])\n};\nexport { MobileDateTimePicker };","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"desktopModeMediaQuery\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport useMediaQuery from '@mui/material/useMediaQuery';\nimport { useThemeProps } from '@mui/material/styles';\nimport { refType } from '@mui/utils';\nimport { DesktopDateTimePicker } from '../DesktopDateTimePicker';\nimport { MobileDateTimePicker } from '../MobileDateTimePicker';\nimport { DEFAULT_DESKTOP_MODE_MEDIA_QUERY } from '../internals/utils/utils';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n/**\n * Demos:\n *\n * - [DateTimePicker](https://mui.com/x/react-date-pickers/date-time-picker/)\n * - [Validation](https://mui.com/x/react-date-pickers/validation/)\n *\n * API:\n *\n * - [DateTimePicker API](https://mui.com/x/api/date-pickers/date-time-picker/)\n */\nconst DateTimePicker = /*#__PURE__*/React.forwardRef(function DateTimePicker(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiDateTimePicker'\n  });\n  const {\n      desktopModeMediaQuery = DEFAULT_DESKTOP_MODE_MEDIA_QUERY\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  // defaults to `true` in environments where `window.matchMedia` would not be available (i.e. test/jsdom)\n  const isDesktop = useMediaQuery(desktopModeMediaQuery, {\n    defaultMatches: true\n  });\n  if (isDesktop) {\n    return /*#__PURE__*/_jsx(DesktopDateTimePicker, _extends({\n      ref: ref\n    }, other));\n  }\n  return /*#__PURE__*/_jsx(MobileDateTimePicker, _extends({\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? DateTimePicker.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // | To update them edit the TypeScript types and run \"yarn proptypes\"  |\n  // ----------------------------------------------------------------------\n  /**\n   * 12h/24h view for hour selection clock.\n   * @default `utils.is12HourCycleInCurrentLocale()`\n   */\n  ampm: PropTypes.bool,\n  /**\n   * Display ampm controls under the clock (instead of in the toolbar).\n   * @default true on desktop, false on mobile\n   */\n  ampmInClock: PropTypes.bool,\n  /**\n   * If `true`, the main element is focused during the first mount.\n   * This main element is:\n   * - the element chosen by the visible view if any (i.e: the selected day on the `day` view).\n   * - the `input` element if there is a field rendered.\n   */\n  autoFocus: PropTypes.bool,\n  /**\n   * Class name applied to the root element.\n   */\n  className: PropTypes.string,\n  /**\n   * If `true`, the popover or modal will close after submitting the full date.\n   * @default `true` for desktop, `false` for mobile (based on the chosen wrapper and `desktopModeMediaQuery` prop).\n   */\n  closeOnSelect: PropTypes.bool,\n  /**\n   * Overridable components.\n   * @default {}\n   * @deprecated Please use `slots`.\n   */\n  components: PropTypes.object,\n  /**\n   * The props used for each component slot.\n   * @default {}\n   * @deprecated Please use `slotProps`.\n   */\n  componentsProps: PropTypes.object,\n  /**\n   * Formats the day of week displayed in the calendar header.\n   * @param {string} day The day of week provided by the adapter.  Deprecated, will be removed in v7: Use `date` instead.\n   * @param {TDate} date The date of the day of week provided by the adapter.\n   * @returns {string} The name to display.\n   * @default (_day: string, date: TDate) => adapter.format(date, 'weekdayShort').charAt(0).toUpperCase()\n   */\n  dayOfWeekFormatter: PropTypes.func,\n  /**\n   * Default calendar month displayed when `value` and `defaultValue` are empty.\n   * @deprecated Consider using `referenceDate` instead.\n   */\n  defaultCalendarMonth: PropTypes.any,\n  /**\n   * The default value.\n   * Used when the component is not controlled.\n   */\n  defaultValue: PropTypes.any,\n  /**\n   * CSS media query when `Mobile` mode will be changed to `Desktop`.\n   * @default '@media (pointer: fine)'\n   * @example '@media (min-width: 720px)' or theme.breakpoints.up(\"sm\")\n   */\n  desktopModeMediaQuery: PropTypes.string,\n  /**\n   * If `true`, the picker and text field are disabled.\n   * @default false\n   */\n  disabled: PropTypes.bool,\n  /**\n   * If `true`, disable values after the current date for date components, time for time components and both for date time components.\n   * @default false\n   */\n  disableFuture: PropTypes.bool,\n  /**\n   * If `true`, today's date is rendering without highlighting with circle.\n   * @default false\n   */\n  disableHighlightToday: PropTypes.bool,\n  /**\n   * Do not ignore date part when validating min/max time.\n   * @default false\n   */\n  disableIgnoringDatePartForTimeValidation: PropTypes.bool,\n  /**\n   * If `true`, the open picker button will not be rendered (renders only the field).\n   * @default false\n   */\n  disableOpenPicker: PropTypes.bool,\n  /**\n   * If `true`, disable values before the current date for date components, time for time components and both for date time components.\n   * @default false\n   */\n  disablePast: PropTypes.bool,\n  /**\n   * If `true`, the week number will be display in the calendar.\n   */\n  displayWeekNumber: PropTypes.bool,\n  /**\n   * Calendar will show more weeks in order to match this value.\n   * Put it to 6 for having fix number of week in Gregorian calendars\n   * @default undefined\n   */\n  fixedWeekNumber: PropTypes.number,\n  /**\n   * Format of the date when rendered in the input(s).\n   * Defaults to localized format based on the used `views`.\n   */\n  format: PropTypes.string,\n  /**\n   * Density of the format when rendered in the input.\n   * Setting `formatDensity` to `\"spacious\"` will add a space before and after each `/`, `-` and `.` character.\n   * @default \"dense\"\n   */\n  formatDensity: PropTypes.oneOf(['dense', 'spacious']),\n  /**\n   * Pass a ref to the `input` element.\n   */\n  inputRef: refType,\n  /**\n   * The label content.\n   */\n  label: PropTypes.node,\n  /**\n   * If `true`, calls `renderLoading` instead of rendering the day calendar.\n   * Can be used to preload information and show it in calendar.\n   * @default false\n   */\n  loading: PropTypes.bool,\n  /**\n   * Locale for components texts.\n   * Allows overriding texts coming from `LocalizationProvider` and `theme`.\n   */\n  localeText: PropTypes.object,\n  /**\n   * Maximal selectable date.\n   */\n  maxDate: PropTypes.any,\n  /**\n   * Maximal selectable moment of time with binding to date, to set max time in each day use `maxTime`.\n   */\n  maxDateTime: PropTypes.any,\n  /**\n   * Maximal selectable time.\n   * The date part of the object will be ignored unless `props.disableIgnoringDatePartForTimeValidation === true`.\n   */\n  maxTime: PropTypes.any,\n  /**\n   * Minimal selectable date.\n   */\n  minDate: PropTypes.any,\n  /**\n   * Minimal selectable moment of time with binding to date, to set min time in each day use `minTime`.\n   */\n  minDateTime: PropTypes.any,\n  /**\n   * Minimal selectable time.\n   * The date part of the object will be ignored unless `props.disableIgnoringDatePartForTimeValidation === true`.\n   */\n  minTime: PropTypes.any,\n  /**\n   * Step over minutes.\n   * @default 1\n   */\n  minutesStep: PropTypes.number,\n  /**\n   * Months rendered per row.\n   * @default 3\n   */\n  monthsPerRow: PropTypes.oneOf([3, 4]),\n  /**\n   * Name attribute used by the `input` element in the Field.\n   */\n  name: PropTypes.string,\n  /**\n   * Callback fired when the value is accepted.\n   * @template TValue The value type. Will be either the same type as `value` or `null`. Can be in `[start, end]` format in case of range value.\n   * @param {TValue} value The value that was just accepted.\n   */\n  onAccept: PropTypes.func,\n  /**\n   * Callback fired when the value changes.\n   * @template TValue The value type. Will be either the same type as `value` or `null`. Can be in `[start, end]` format in case of range value.\n   * @template TError The validation error type. Will be either `string` or a `null`. Can be in `[start, end]` format in case of range value.\n   * @param {TValue} value The new value.\n   * @param {FieldChangeHandlerContext<TError>} context The context containing the validation result of the current value.\n   */\n  onChange: PropTypes.func,\n  /**\n   * Callback fired when the popup requests to be closed.\n   * Use in controlled mode (see `open`).\n   */\n  onClose: PropTypes.func,\n  /**\n   * Callback fired when the error associated to the current value changes.\n   * If the error has a non-null value, then the `TextField` will be rendered in `error` state.\n   *\n   * @template TValue The value type. Will be either the same type as `value` or `null`. Can be in `[start, end]` format in case of range value.\n   * @template TError The validation error type. Will be either `string` or a `null`. Can be in `[start, end]` format in case of range value.\n   * @param {TError} error The new error describing why the current value is not valid.\n   * @param {TValue} value The value associated to the error.\n   */\n  onError: PropTypes.func,\n  /**\n   * Callback fired on month change.\n   * @template TDate\n   * @param {TDate} month The new month.\n   */\n  onMonthChange: PropTypes.func,\n  /**\n   * Callback fired when the popup requests to be opened.\n   * Use in controlled mode (see `open`).\n   */\n  onOpen: PropTypes.func,\n  /**\n   * Callback fired when the selected sections change.\n   * @param {FieldSelectedSections} newValue The new selected sections.\n   */\n  onSelectedSectionsChange: PropTypes.func,\n  /**\n   * Callback fired on view change.\n   * @template TView\n   * @param {TView} view The new view.\n   */\n  onViewChange: PropTypes.func,\n  /**\n   * Callback fired on year change.\n   * @template TDate\n   * @param {TDate} year The new year.\n   */\n  onYearChange: PropTypes.func,\n  /**\n   * Control the popup or dialog open state.\n   * @default false\n   */\n  open: PropTypes.bool,\n  /**\n   * The default visible view.\n   * Used when the component view is not controlled.\n   * Must be a valid option from `views` list.\n   */\n  openTo: PropTypes.oneOf(['day', 'hours', 'meridiem', 'minutes', 'month', 'seconds', 'year']),\n  /**\n   * Force rendering in particular orientation.\n   */\n  orientation: PropTypes.oneOf(['landscape', 'portrait']),\n  readOnly: PropTypes.bool,\n  /**\n   * If `true`, disable heavy animations.\n   * @default `@media(prefers-reduced-motion: reduce)` || `navigator.userAgent` matches Android <10 or iOS <13\n   */\n  reduceAnimations: PropTypes.bool,\n  /**\n   * The date used to generate the new value when both `value` and `defaultValue` are empty.\n   * @default The closest valid date-time using the validation props, except callbacks like `shouldDisable<...>`.\n   */\n  referenceDate: PropTypes.any,\n  /**\n   * Component displaying when passed `loading` true.\n   * @returns {React.ReactNode} The node to render when loading.\n   * @default () => <span data-mui-test=\"loading-progress\">...</span>\n   */\n  renderLoading: PropTypes.func,\n  /**\n   * The currently selected sections.\n   * This prop accept four formats:\n   * 1. If a number is provided, the section at this index will be selected.\n   * 2. If an object with a `startIndex` and `endIndex` properties are provided, the sections between those two indexes will be selected.\n   * 3. If a string of type `FieldSectionType` is provided, the first section with that name will be selected.\n   * 4. If `null` is provided, no section will be selected\n   * If not provided, the selected sections will be handled internally.\n   */\n  selectedSections: PropTypes.oneOfType([PropTypes.oneOf(['all', 'day', 'hours', 'meridiem', 'minutes', 'month', 'seconds', 'weekDay', 'year']), PropTypes.number, PropTypes.shape({\n    endIndex: PropTypes.number.isRequired,\n    startIndex: PropTypes.number.isRequired\n  })]),\n  /**\n   * Disable specific clock time.\n   * @param {number} clockValue The value to check.\n   * @param {TimeView} view The clock type of the timeValue.\n   * @returns {boolean} If `true` the time will be disabled.\n   * @deprecated Consider using `shouldDisableTime`.\n   */\n  shouldDisableClock: PropTypes.func,\n  /**\n   * Disable specific date.\n   *\n   * Warning: This function can be called multiple times (e.g. when rendering date calendar, checking if focus can be moved to a certain date, etc.). Expensive computations can impact performance.\n   *\n   * @template TDate\n   * @param {TDate} day The date to test.\n   * @returns {boolean} If `true` the date will be disabled.\n   */\n  shouldDisableDate: PropTypes.func,\n  /**\n   * Disable specific month.\n   * @template TDate\n   * @param {TDate} month The month to test.\n   * @returns {boolean} If `true`, the month will be disabled.\n   */\n  shouldDisableMonth: PropTypes.func,\n  /**\n   * Disable specific time.\n   * @template TDate\n   * @param {TDate} value The value to check.\n   * @param {TimeView} view The clock type of the timeValue.\n   * @returns {boolean} If `true` the time will be disabled.\n   */\n  shouldDisableTime: PropTypes.func,\n  /**\n   * Disable specific year.\n   * @template TDate\n   * @param {TDate} year The year to test.\n   * @returns {boolean} If `true`, the year will be disabled.\n   */\n  shouldDisableYear: PropTypes.func,\n  /**\n   * If `true`, days outside the current month are rendered:\n   *\n   * - if `fixedWeekNumber` is defined, renders days to have the weeks requested.\n   *\n   * - if `fixedWeekNumber` is not defined, renders day to fill the first and last week of the current month.\n   *\n   * - ignored if `calendars` equals more than `1` on range pickers.\n   * @default false\n   */\n  showDaysOutsideCurrentMonth: PropTypes.bool,\n  /**\n   * If `true`, disabled digital clock items will not be rendered.\n   * @default false\n   */\n  skipDisabled: PropTypes.bool,\n  /**\n   * The props used for each component slot.\n   * @default {}\n   */\n  slotProps: PropTypes.object,\n  /**\n   * Overridable component slots.\n   * @default {}\n   */\n  slots: PropTypes.object,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n  /**\n   * Amount of time options below or at which the single column time renderer is used.\n   * @default 24\n   */\n  thresholdToRenderTimeInASingleColumn: PropTypes.number,\n  /**\n   * The time steps between two time unit options.\n   * For example, if `timeStep.minutes = 8`, then the available minute options will be `[0, 8, 16, 24, 32, 40, 48, 56]`.\n   * When single column time renderer is used, only `timeStep.minutes` will be used.\n   * @default{ hours: 1, minutes: 5, seconds: 5 }\n   */\n  timeSteps: PropTypes.shape({\n    hours: PropTypes.number,\n    minutes: PropTypes.number,\n    seconds: PropTypes.number\n  }),\n  /**\n   * Choose which timezone to use for the value.\n   * Example: \"default\", \"system\", \"UTC\", \"America/New_York\".\n   * If you pass values from other timezones to some props, they will be converted to this timezone before being used.\n   * @see See the {@link https://mui.com/x/react-date-pickers/timezone/ timezones documention} for more details.\n   * @default The timezone of the `value` or `defaultValue` prop is defined, 'default' otherwise.\n   */\n  timezone: PropTypes.string,\n  /**\n   * The selected value.\n   * Used when the component is controlled.\n   */\n  value: PropTypes.any,\n  /**\n   * The visible view.\n   * Used when the component view is controlled.\n   * Must be a valid option from `views` list.\n   */\n  view: PropTypes.oneOf(['day', 'hours', 'meridiem', 'minutes', 'month', 'seconds', 'year']),\n  /**\n   * Define custom view renderers for each section.\n   * If `null`, the section will only have field editing.\n   * If `undefined`, internally defined view will be the used.\n   */\n  viewRenderers: PropTypes.shape({\n    day: PropTypes.func,\n    hours: PropTypes.func,\n    meridiem: PropTypes.func,\n    minutes: PropTypes.func,\n    month: PropTypes.func,\n    seconds: PropTypes.func,\n    year: PropTypes.func\n  }),\n  /**\n   * Available views.\n   */\n  views: PropTypes.arrayOf(PropTypes.oneOf(['day', 'hours', 'minutes', 'month', 'seconds', 'year']).isRequired),\n  /**\n   * Years rendered per row.\n   * @default 4 on desktop, 3 on mobile\n   */\n  yearsPerRow: PropTypes.oneOf([3, 4])\n} : void 0;\nexport { DateTimePicker };","import React, { useState, useEffect } from 'react';\r\nimport {\r\n    Box,\r\n    Typography,\r\n    Card,\r\n    CardContent,\r\n    Button,\r\n    Stack,\r\n    Grid,\r\n    Switch,\r\n    FormControlLabel,\r\n    Dialog,\r\n    DialogTitle,\r\n    DialogContent,\r\n    DialogActions,\r\n    TextField,\r\n    MenuItem,\r\n    Alert,\r\n    Chip,\r\n    Table,\r\n    TableBody,\r\n    TableCell,\r\n    TableContainer,\r\n    TableHead,\r\n    TableRow,\r\n    Paper,\r\n    IconButton,\r\n    Tooltip,\r\n    Divider,\r\n    FormControl,\r\n    InputLabel,\r\n    Select,\r\n    Accordion,\r\n    AccordionSummary,\r\n    AccordionDetails,\r\n    CircularProgress,\r\n    Badge,\r\n    Tab,\r\n    Tabs\r\n} from '@mui/material';\r\nimport {\r\n    IconPlus,\r\n    IconEdit,\r\n    IconTrash,\r\n    IconSend,\r\n    IconClock,\r\n    IconUsers,\r\n    IconMail,\r\n    IconBell,\r\n    IconSettings,\r\n    IconChevronDown,\r\n    IconEye,\r\n    IconAlertTriangle,\r\n    IconCheck,\r\n    IconX\r\n} from '@tabler/icons-react';\r\nimport { DateTimePicker } from '@mui/x-date-pickers/DateTimePicker';\r\nimport { AdapterDateFns } from '@mui/x-date-pickers/AdapterDateFns';\r\nimport { LocalizationProvider } from '@mui/x-date-pickers/LocalizationProvider';\r\n\r\ninterface NotificationType {\r\n    id: number;\r\n    name: string;\r\n    description: string;\r\n    category: string;\r\n    default_enabled: boolean;\r\n    is_active: boolean;\r\n}\r\n\r\ninterface SystemRole {\r\n    id: number;\r\n    name: string;\r\n    description: string;\r\n    is_system: number;\r\n}\r\n\r\ninterface CustomNotification {\r\n    id?: number;\r\n    title: string;\r\n    message: string;\r\n    priority: 'low' | 'normal' | 'high' | 'urgent';\r\n    scheduled_at: Date | null;\r\n    target_audience: 'all' | 'admins' | 'users' | 'church_specific' | string; // string for role:roleName format\r\n    church_id?: number;\r\n    icon?: string;\r\n    action_url?: string;\r\n    action_text?: string;\r\n    is_draft: boolean;\r\n}\r\n\r\ninterface NotificationQueue {\r\n    id: number;\r\n    title: string;\r\n    message: string;\r\n    priority: string;\r\n    notification_type?: string;\r\n    category?: string;\r\n    scheduled_at: string;\r\n    created_at: string;\r\n    target_audience: string;\r\n    status: 'pending' | 'sent' | 'failed' | 'draft';\r\n    total_sent?: number;\r\n    read_count?: number;\r\n    dismissed_count?: number;\r\n    target_user_count: number;\r\n    created_by?: string | null;\r\n    is_custom?: boolean;\r\n}\r\n\r\nconst NotificationManagement: React.FC = () => {\r\n    const [tabValue, setTabValue] = useState(0);\r\n    const [notificationTypes, setNotificationTypes] = useState<NotificationType[]>([]);\r\n    const [customNotifications, setCustomNotifications] = useState<NotificationQueue[]>([]);\r\n    const [systemRoles, setSystemRoles] = useState<SystemRole[]>([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState<string | null>(null);\r\n    const [success, setSuccess] = useState<string | null>(null);\r\n\r\n    // Dialog states\r\n    const [createDialogOpen, setCreateDialogOpen] = useState(false);\r\n    const [viewQueueDialogOpen, setViewQueueDialogOpen] = useState(false);\r\n    const [selectedNotification, setSelectedNotification] = useState<NotificationQueue | null>(null);\r\n    const [newNotification, setNewNotification] = useState<CustomNotification>({\r\n        title: '',\r\n        message: '',\r\n        priority: 'normal',\r\n        scheduled_at: null,\r\n        target_audience: 'all',\r\n        icon: '',\r\n        action_url: '',\r\n        action_text: '',\r\n        is_draft: false\r\n    });\r\n\r\n    useEffect(() => {\r\n        fetchNotificationTypes();\r\n        fetchNotificationQueue();\r\n        fetchSystemRoles();\r\n    }, []);\r\n\r\n    const fetchSystemRoles = async () => {\r\n        try {\r\n            const response = await fetch('/api/admin/roles', {\r\n                credentials: 'include'\r\n            });\r\n            if (response.ok) {\r\n                const data = await response.json();\r\n                setSystemRoles(data.roles || []);\r\n            }\r\n        } catch (err) {\r\n            console.error('Failed to load system roles:', err);\r\n        }\r\n    };\r\n\r\n    const fetchNotificationTypes = async () => {\r\n        try {\r\n            setLoading(true);\r\n            const response = await fetch('/api/admin/notifications/types', {\r\n                credentials: 'include'\r\n            });\r\n            if (response.ok) {\r\n                const data = await response.json();\r\n                setNotificationTypes(data.types || []);\r\n            }\r\n        } catch (err) {\r\n            setError('Failed to load notification types');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const fetchNotificationQueue = async () => {\r\n        try {\r\n            const response = await fetch('/api/admin/notifications/queue', {\r\n                credentials: 'include'\r\n            });\r\n            if (response.ok) {\r\n                const data = await response.json();\r\n                setCustomNotifications(data.queue || []);\r\n            }\r\n        } catch (err) {\r\n            console.error('Failed to load notification queue:', err);\r\n        }\r\n    };\r\n\r\n    const handleToggleNotificationType = async (typeId: number, enabled: boolean) => {\r\n        try {\r\n            const response = await fetch(`/api/admin/notifications/types/${typeId}/toggle`, {\r\n                method: 'PUT',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                credentials: 'include',\r\n                body: JSON.stringify({ enabled })\r\n            });\r\n\r\n            if (response.ok) {\r\n                setNotificationTypes(prev =>\r\n                    prev.map(type =>\r\n                        type.id === typeId ? { ...type, default_enabled: enabled } : type\r\n                    )\r\n                );\r\n                setSuccess(`Notification type ${enabled ? 'enabled' : 'disabled'} system-wide`);\r\n            } else {\r\n                throw new Error('Failed to update notification type');\r\n            }\r\n        } catch (err) {\r\n            setError('Failed to update notification type');\r\n        }\r\n    };\r\n\r\n    const handleCreateCustomNotification = async () => {\r\n        try {\r\n            setLoading(true);\r\n            const response = await fetch('/api/admin/notifications/custom', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                credentials: 'include',\r\n                body: JSON.stringify(newNotification)\r\n            });\r\n\r\n            if (response.ok) {\r\n                const data = await response.json();\r\n                setSuccess(`Custom notification ${newNotification.is_draft ? 'saved as draft' : 'scheduled'} successfully`);\r\n                setCreateDialogOpen(false);\r\n                setNewNotification({\r\n                    title: '',\r\n                    message: '',\r\n                    priority: 'normal',\r\n                    scheduled_at: null,\r\n                    target_audience: 'all',\r\n                    icon: '',\r\n                    action_url: '',\r\n                    action_text: '',\r\n                    is_draft: false\r\n                });\r\n                fetchNotificationQueue();\r\n            } else {\r\n                throw new Error('Failed to create notification');\r\n            }\r\n        } catch (err) {\r\n            setError('Failed to create custom notification');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const getCategoryIcon = (category: string) => {\r\n        switch (category) {\r\n            case 'system': return '';\r\n            case 'security': return '';\r\n            case 'backup': return '';\r\n            case 'billing': return '';\r\n            case 'user': return '';\r\n            case 'admin': return '';\r\n            case 'certificates': return '';\r\n            case 'reminders': return '';\r\n            default: return '';\r\n        }\r\n    };\r\n\r\n    const getPriorityColor = (priority: string) => {\r\n        switch (priority) {\r\n            case 'urgent': return 'error';\r\n            case 'high': return 'warning';\r\n            case 'normal': return 'primary';\r\n            case 'low': return 'default';\r\n            default: return 'default';\r\n        }\r\n    };\r\n\r\n    const groupedNotificationTypes = notificationTypes.reduce((acc, type) => {\r\n        if (!acc[type.category]) {\r\n            acc[type.category] = [];\r\n        }\r\n        acc[type.category].push(type);\r\n        return acc;\r\n    }, {} as Record<string, NotificationType[]>);\r\n\r\n    return (\r\n        <LocalizationProvider dateAdapter={AdapterDateFns}>\r\n            <Box>\r\n                {error && (\r\n                    <Alert severity=\"error\" sx={{ mb: 3 }} onClose={() => setError(null)}>\r\n                        {error}\r\n                    </Alert>\r\n                )}\r\n                {success && (\r\n                    <Alert severity=\"success\" sx={{ mb: 3 }} onClose={() => setSuccess(null)}>\r\n                        {success}\r\n                    </Alert>\r\n                )}\r\n\r\n                <Box sx={{ borderBottom: 1, borderColor: 'divider', mb: 3 }}>\r\n                    <Tabs value={tabValue} onChange={(_, newValue) => setTabValue(newValue)}>\r\n                        <Tab icon={<IconSettings />} label=\"System-wide Settings\" />\r\n                        <Tab icon={<IconPlus />} label=\"Custom Notifications\" />\r\n                        <Tab icon={<IconClock />} label=\"Notification Queue\" />\r\n                    </Tabs>\r\n                </Box>\r\n\r\n                {/* System-wide Notification Settings */}\r\n                {tabValue === 0 && (\r\n                    <Box>\r\n                        <Box display=\"flex\" justifyContent=\"between\" alignItems=\"center\" mb={3}>\r\n                            <Typography variant=\"h6\">\r\n                                System-wide Notification Types\r\n                            </Typography>\r\n                            <Typography variant=\"body2\" color=\"text.secondary\">\r\n                                Control which notification types are enabled for all users\r\n                            </Typography>\r\n                        </Box>\r\n\r\n                        {loading ? (\r\n                            <Box display=\"flex\" justifyContent=\"center\" py={4}>\r\n                                <CircularProgress />\r\n                            </Box>\r\n                        ) : (\r\n                            <Stack spacing={2}>\r\n                                {Object.entries(groupedNotificationTypes).map(([category, types]) => (\r\n                                    <Accordion key={category} defaultExpanded>\r\n                                        <AccordionSummary expandIcon={<IconChevronDown />}>\r\n                                            <Box display=\"flex\" alignItems=\"center\">\r\n                                                <Typography sx={{ mr: 1 }}>{getCategoryIcon(category)}</Typography>\r\n                                                <Typography variant=\"h6\" sx={{ textTransform: 'capitalize' }}>\r\n                                                    {category}\r\n                                                </Typography>\r\n                                                <Chip\r\n                                                    label={`${types.filter(t => t.default_enabled).length}/${types.length} enabled`}\r\n                                                    size=\"small\"\r\n                                                    sx={{ ml: 2 }}\r\n                                                />\r\n                                            </Box>\r\n                                        </AccordionSummary>\r\n                                        <AccordionDetails>\r\n                                            <Grid container spacing={2}>\r\n                                                {types.map((type) => (\r\n                                                    <Grid item xs={12} md={6} key={type.id}>\r\n                                                        <Card variant=\"outlined\">\r\n                                                            <CardContent>\r\n                                                                <Box display=\"flex\" justifyContent=\"between\" alignItems=\"flex-start\">\r\n                                                                    <Box flex={1}>\r\n                                                                        <Typography variant=\"subtitle1\" fontWeight={600}>\r\n                                                                            {type.name.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase())}\r\n                                                                        </Typography>\r\n                                                                        <Typography variant=\"body2\" color=\"text.secondary\">\r\n                                                                            {type.description}\r\n                                                                        </Typography>\r\n                                                                    </Box>\r\n                                                                    <FormControlLabel\r\n                                                                        control={\r\n                                                                            <Switch\r\n                                                                                checked={type.default_enabled}\r\n                                                                                onChange={(e) => handleToggleNotificationType(type.id, e.target.checked)}\r\n                                                                                size=\"small\"\r\n                                                                            />\r\n                                                                        }\r\n                                                                        label=\"\"\r\n                                                                        sx={{ ml: 1 }}\r\n                                                                    />\r\n                                                                </Box>\r\n                                                            </CardContent>\r\n                                                        </Card>\r\n                                                    </Grid>\r\n                                                ))}\r\n                                            </Grid>\r\n                                        </AccordionDetails>\r\n                                    </Accordion>\r\n                                ))}\r\n                            </Stack>\r\n                        )}\r\n                    </Box>\r\n                )}\r\n\r\n                {/* Custom Notifications */}\r\n                {tabValue === 1 && (\r\n                    <Box>\r\n                        <Box display=\"flex\" justifyContent=\"between\" alignItems=\"center\" mb={3}>\r\n                            <Typography variant=\"h6\">\r\n                                Create Custom Notifications\r\n                            </Typography>\r\n                            <Button\r\n                                variant=\"contained\"\r\n                                startIcon={<IconPlus />}\r\n                                onClick={() => setCreateDialogOpen(true)}\r\n                            >\r\n                                Create Notification\r\n                            </Button>\r\n                        </Box>\r\n\r\n                        <Alert severity=\"info\" sx={{ mb: 3 }}>\r\n                            Create custom notifications that will be sent to all users or specific groups. You can schedule them for future delivery or send immediately.\r\n                        </Alert>\r\n\r\n                        <Grid container spacing={3}>\r\n                            <Grid item xs={12} md={4}>\r\n                                <Card>\r\n                                    <CardContent>\r\n                                        <Box display=\"flex\" alignItems=\"center\" mb={2}>\r\n                                            <IconUsers style={{ marginRight: 8 }} />\r\n                                            <Typography variant=\"h6\">Broadcast to All</Typography>\r\n                                        </Box>\r\n                                        <Typography variant=\"body2\" color=\"text.secondary\" mb={2}>\r\n                                            Send notifications to all registered users in the system.\r\n                                        </Typography>\r\n                                        <Button\r\n                                            variant=\"outlined\"\r\n                                            fullWidth\r\n                                            onClick={() => {\r\n                                                setNewNotification(prev => ({ ...prev, target_audience: 'all' }));\r\n                                                setCreateDialogOpen(true);\r\n                                            }}\r\n                                        >\r\n                                            Create Broadcast\r\n                                        </Button>\r\n                                    </CardContent>\r\n                                </Card>\r\n                            </Grid>\r\n                            <Grid item xs={12} md={4}>\r\n                                <Card>\r\n                                    <CardContent>\r\n                                        <Box display=\"flex\" alignItems=\"center\" mb={2}>\r\n                                            <IconMail style={{ marginRight: 8 }} />\r\n                                            <Typography variant=\"h6\">Admin Alert</Typography>\r\n                                        </Box>\r\n                                        <Typography variant=\"body2\" color=\"text.secondary\" mb={2}>\r\n                                            Send important notifications to administrators only (admin + super_admin).\r\n                                        </Typography>\r\n                                        <Button\r\n                                            variant=\"outlined\"\r\n                                            fullWidth\r\n                                            onClick={() => {\r\n                                                setNewNotification(prev => ({ ...prev, target_audience: 'admins' }));\r\n                                                setCreateDialogOpen(true);\r\n                                            }}\r\n                                        >\r\n                                            Create Admin Alert\r\n                                        </Button>\r\n                                    </CardContent>\r\n                                </Card>\r\n                            </Grid>\r\n                            <Grid item xs={12} md={4}>\r\n                                <Card>\r\n                                    <CardContent>\r\n                                        <Box display=\"flex\" alignItems=\"center\" mb={2}>\r\n                                            <IconClock style={{ marginRight: 8 }} />\r\n                                            <Typography variant=\"h6\">Scheduled Message</Typography>\r\n                                        </Box>\r\n                                        <Typography variant=\"body2\" color=\"text.secondary\" mb={2}>\r\n                                            Schedule notifications for future delivery at specific times.\r\n                                        </Typography>\r\n                                        <Button\r\n                                            variant=\"outlined\"\r\n                                            fullWidth\r\n                                            onClick={() => {\r\n                                                setNewNotification(prev => ({ \r\n                                                    ...prev, \r\n                                                    scheduled_at: new Date(Date.now() + 24 * 60 * 60 * 1000) // Tomorrow\r\n                                                }));\r\n                                                setCreateDialogOpen(true);\r\n                                            }}\r\n                                        >\r\n                                            Schedule Message\r\n                                        </Button>\r\n                                    </CardContent>\r\n                                </Card>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Box>\r\n                )}\r\n\r\n                {/* Notification Queue */}\r\n                {tabValue === 2 && (\r\n                    <Box>\r\n                        <Box display=\"flex\" justifyContent=\"between\" alignItems=\"center\" mb={3}>\r\n                            <Typography variant=\"h6\">\r\n                                Notification Queue & History\r\n                            </Typography>\r\n                            <Button\r\n                                variant=\"outlined\"\r\n                                startIcon={<IconEye />}\r\n                                onClick={() => setViewQueueDialogOpen(true)}\r\n                            >\r\n                                View Details\r\n                            </Button>\r\n                        </Box>\r\n\r\n                        <TableContainer component={Paper}>\r\n                            <Table>\r\n                                <TableHead>\r\n                                    <TableRow>\r\n                                        <TableCell>Title</TableCell>\r\n                                        <TableCell>Audience</TableCell>\r\n                                        <TableCell>Priority</TableCell>\r\n                                        <TableCell>Scheduled</TableCell>\r\n                                        <TableCell>Status</TableCell>\r\n                                        <TableCell>Recipients</TableCell>\r\n                                        <TableCell align=\"right\">Actions</TableCell>\r\n                                    </TableRow>\r\n                                </TableHead>\r\n                                <TableBody>\r\n                                    {customNotifications.length === 0 ? (\r\n                                        <TableRow>\r\n                                            <TableCell colSpan={7} align=\"center\" sx={{ py: 4 }}>\r\n                                                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                                                    No notifications in queue\r\n                                                </Typography>\r\n                                            </TableCell>\r\n                                        </TableRow>\r\n                                    ) : (\r\n                                        customNotifications.map((notification) => (\r\n                                            <TableRow key={notification.id}>\r\n                                                <TableCell>\r\n                                                    <Typography variant=\"subtitle2\">\r\n                                                        {notification.title}\r\n                                                    </Typography>\r\n                                                    <Typography variant=\"body2\" color=\"text.secondary\">\r\n                                                        {notification.message && notification.message.length > 50 \r\n                                                            ? notification.message.slice(0, 50) + '...'\r\n                                                            : notification.message || 'No message'}\r\n                                                    </Typography>\r\n                                                    {notification.created_by && (\r\n                                                        <Typography variant=\"caption\" color=\"text.secondary\" sx={{ fontStyle: 'italic' }}>\r\n                                                            by {notification.created_by}\r\n                                                        </Typography>\r\n                                                    )}\r\n                                                </TableCell>\r\n                                                <TableCell>\r\n                                                    <Chip\r\n                                                        label={\r\n                                                            notification.target_audience?.startsWith('role:')\r\n                                                                ? (systemRoles && systemRoles.length > 0 \r\n                                                                    ? systemRoles.find(r => r.name === notification.target_audience.replace('role:', ''))?.description || notification.target_audience\r\n                                                                    : notification.target_audience)\r\n                                                                : notification.target_audience === 'admins'\r\n                                                                ? 'Administrators'\r\n                                                                : notification.target_audience === 'users'\r\n                                                                ? 'Regular Users'\r\n                                                                : notification.target_audience === 'all'\r\n                                                                ? 'All Users'\r\n                                                                : notification.target_audience\r\n                                                        }\r\n                                                        size=\"small\"\r\n                                                        variant=\"outlined\"\r\n                                                    />\r\n                                                </TableCell>\r\n                                                <TableCell>\r\n                                                    <Chip\r\n                                                        label={notification.priority}\r\n                                                        size=\"small\"\r\n                                                        color={getPriorityColor(notification.priority) as any}\r\n                                                    />\r\n                                                </TableCell>\r\n                                                <TableCell>\r\n                                                    {notification.scheduled_at \r\n                                                        ? new Date(notification.scheduled_at).toLocaleString()\r\n                                                        : notification.created_at\r\n                                                            ? new Date(notification.created_at).toLocaleString()\r\n                                                            : 'N/A'}\r\n                                                </TableCell>\r\n                                                <TableCell>\r\n                                                    <Chip\r\n                                                        label={notification.status}\r\n                                                        size=\"small\"\r\n                                                        color={\r\n                                                            notification.status === 'sent' ? 'success' \r\n                                                            : notification.status === 'failed' ? 'error'\r\n                                                            : notification.status === 'draft' ? 'warning'\r\n                                                            : 'default'\r\n                                                        }\r\n                                                    />\r\n                                                </TableCell>\r\n                                                <TableCell>\r\n                                                    <Tooltip title={`Sent: ${notification.total_sent || notification.target_user_count || 0} | Read: ${notification.read_count || 0} | Dismissed: ${notification.dismissed_count || 0}`}>\r\n                                                        <Badge \r\n                                                            badgeContent={notification.total_sent || notification.target_user_count || 0} \r\n                                                            color=\"primary\"\r\n                                                        >\r\n                                                            <IconUsers size={20} />\r\n                                                        </Badge>\r\n                                                    </Tooltip>\r\n                                                </TableCell>\r\n                                                <TableCell align=\"right\">\r\n                                                    <Tooltip title=\"View Details\">\r\n                                                        <IconButton size=\"small\">\r\n                                                            <IconEye />\r\n                                                        </IconButton>\r\n                                                    </Tooltip>\r\n                                                    {notification.status === 'pending' && (\r\n                                                        <Tooltip title=\"Cancel\">\r\n                                                            <IconButton size=\"small\" color=\"error\">\r\n                                                                <IconX />\r\n                                                            </IconButton>\r\n                                                        </Tooltip>\r\n                                                    )}\r\n                                                </TableCell>\r\n                                            </TableRow>\r\n                                        ))\r\n                                    )}\r\n                                </TableBody>\r\n                            </Table>\r\n                        </TableContainer>\r\n                    </Box>\r\n                )}\r\n\r\n                {/* Create Custom Notification Dialog */}\r\n                <Dialog open={createDialogOpen} onClose={() => setCreateDialogOpen(false)} maxWidth=\"md\" fullWidth>\r\n                    <DialogTitle>Create Custom Notification</DialogTitle>\r\n                    <DialogContent>\r\n                        <Stack spacing={3} sx={{ mt: 1 }}>\r\n                            <TextField\r\n                                fullWidth\r\n                                label=\"Notification Title\"\r\n                                value={newNotification.title}\r\n                                onChange={(e) => setNewNotification(prev => ({ ...prev, title: e.target.value }))}\r\n                                placeholder=\"Enter a clear, descriptive title\"\r\n                            />\r\n                            \r\n                            <TextField\r\n                                fullWidth\r\n                                multiline\r\n                                rows={4}\r\n                                label=\"Message\"\r\n                                value={newNotification.message}\r\n                                onChange={(e) => setNewNotification(prev => ({ ...prev, message: e.target.value }))}\r\n                                placeholder=\"Write your notification message here...\"\r\n                            />\r\n\r\n                            <Grid container spacing={2}>\r\n                                <Grid item xs={12} md={6}>\r\n                                    <FormControl fullWidth>\r\n                                        <InputLabel>Priority</InputLabel>\r\n                                        <Select\r\n                                            value={newNotification.priority}\r\n                                            label=\"Priority\"\r\n                                            onChange={(e) => setNewNotification(prev => ({ ...prev, priority: e.target.value as any }))}\r\n                                        >\r\n                                            <MenuItem value=\"low\">Low</MenuItem>\r\n                                            <MenuItem value=\"normal\">Normal</MenuItem>\r\n                                            <MenuItem value=\"high\">High</MenuItem>\r\n                                            <MenuItem value=\"urgent\">Urgent</MenuItem>\r\n                                        </Select>\r\n                                    </FormControl>\r\n                                </Grid>\r\n                                <Grid item xs={12} md={6}>\r\n                                    <FormControl fullWidth>\r\n                                        <InputLabel>Target Audience</InputLabel>\r\n                                        <Select\r\n                                            value={newNotification.target_audience}\r\n                                            label=\"Target Audience\"\r\n                                            onChange={(e) => setNewNotification(prev => ({ ...prev, target_audience: e.target.value as any }))}\r\n                                        >\r\n                                            <MenuItem value=\"all\">All Users</MenuItem>\r\n                                            <MenuItem value=\"admins\">Administrators (admin + super_admin)</MenuItem>\r\n                                            <MenuItem value=\"users\">Regular Users (non-admin)</MenuItem>\r\n                                            <MenuItem disabled>\r\n                                                <em>--- By Role ---</em>\r\n                                            </MenuItem>\r\n                                            {systemRoles.map((role) => (\r\n                                                <MenuItem key={role.id} value={`role:${role.name}`}>\r\n                                                    {role.description} ({role.name})\r\n                                                </MenuItem>\r\n                                            ))}\r\n                                            <MenuItem value=\"church_specific\">Specific Church</MenuItem>\r\n                                        </Select>\r\n                                    </FormControl>\r\n                                </Grid>\r\n                            </Grid>\r\n\r\n                            <DateTimePicker\r\n                                label=\"Schedule Delivery (Optional)\"\r\n                                value={newNotification.scheduled_at}\r\n                                onChange={(newValue) => setNewNotification(prev => ({ ...prev, scheduled_at: newValue }))}\r\n                                slotProps={{\r\n                                    textField: {\r\n                                        fullWidth: true,\r\n                                        helperText: \"Leave empty to send immediately\"\r\n                                    }\r\n                                }}\r\n                            />\r\n\r\n                            <Grid container spacing={2}>\r\n                                <Grid item xs={12} md={6}>\r\n                                    <TextField\r\n                                        fullWidth\r\n                                        label=\"Icon (Optional)\"\r\n                                        value={newNotification.icon}\r\n                                        onChange={(e) => setNewNotification(prev => ({ ...prev, icon: e.target.value }))}\r\n                                        placeholder=\", , , etc.\"\r\n                                    />\r\n                                </Grid>\r\n                                <Grid item xs={12} md={6}>\r\n                                    <TextField\r\n                                        fullWidth\r\n                                        label=\"Action Text (Optional)\"\r\n                                        value={newNotification.action_text}\r\n                                        onChange={(e) => setNewNotification(prev => ({ ...prev, action_text: e.target.value }))}\r\n                                        placeholder=\"View Details, Learn More, etc.\"\r\n                                    />\r\n                                </Grid>\r\n                            </Grid>\r\n\r\n                            <TextField\r\n                                fullWidth\r\n                                label=\"Action URL (Optional)\"\r\n                                value={newNotification.action_url}\r\n                                onChange={(e) => setNewNotification(prev => ({ ...prev, action_url: e.target.value }))}\r\n                                placeholder=\"/some-page, https://example.com, etc.\"\r\n                            />\r\n                        </Stack>\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                        <Button onClick={() => setCreateDialogOpen(false)}>\r\n                            Cancel\r\n                        </Button>\r\n                        <Button\r\n                            variant=\"outlined\"\r\n                            onClick={() => {\r\n                                setNewNotification(prev => ({ ...prev, is_draft: true }));\r\n                                handleCreateCustomNotification();\r\n                            }}\r\n                            disabled={!newNotification.title || !newNotification.message}\r\n                        >\r\n                            Save as Draft\r\n                        </Button>\r\n                        <Button\r\n                            variant=\"contained\"\r\n                            onClick={() => {\r\n                                setNewNotification(prev => ({ ...prev, is_draft: false }));\r\n                                handleCreateCustomNotification();\r\n                            }}\r\n                            disabled={!newNotification.title || !newNotification.message}\r\n                            startIcon={newNotification.scheduled_at ? <IconClock /> : <IconSend />}\r\n                        >\r\n                            {newNotification.scheduled_at ? 'Schedule' : 'Send Now'}\r\n                        </Button>\r\n                    </DialogActions>\r\n                </Dialog>\r\n\r\n                {/* View Notification Details Dialog */}\r\n                <Dialog open={viewQueueDialogOpen} onClose={() => setViewQueueDialogOpen(false)} maxWidth=\"md\" fullWidth>\r\n                    <DialogTitle>\r\n                        Notification Details\r\n                    </DialogTitle>\r\n                    <DialogContent>\r\n                        {selectedNotification ? (\r\n                            <Stack spacing={2} sx={{ mt: 1 }}>\r\n                                <Box>\r\n                                    <Typography variant=\"subtitle2\" color=\"text.secondary\">Title</Typography>\r\n                                    <Typography variant=\"h6\">{selectedNotification.title}</Typography>\r\n                                </Box>\r\n                                \r\n                                <Box>\r\n                                    <Typography variant=\"subtitle2\" color=\"text.secondary\">Message</Typography>\r\n                                    <Typography variant=\"body1\">{selectedNotification.message}</Typography>\r\n                                </Box>\r\n\r\n                                <Grid container spacing={2}>\r\n                                    <Grid item xs={6}>\r\n                                        <Typography variant=\"subtitle2\" color=\"text.secondary\">Priority</Typography>\r\n                                        <Chip\r\n                                            label={selectedNotification.priority}\r\n                                            size=\"small\"\r\n                                            color={getPriorityColor(selectedNotification.priority) as any}\r\n                                        />\r\n                                    </Grid>\r\n                                    <Grid item xs={6}>\r\n                                        <Typography variant=\"subtitle2\" color=\"text.secondary\">Status</Typography>\r\n                                        <Chip\r\n                                            label={selectedNotification.status}\r\n                                            size=\"small\"\r\n                                            color={\r\n                                                selectedNotification.status === 'sent' ? 'success' \r\n                                                : selectedNotification.status === 'failed' ? 'error'\r\n                                                : selectedNotification.status === 'draft' ? 'warning'\r\n                                                : 'default'\r\n                                            }\r\n                                        />\r\n                                    </Grid>\r\n                                    <Grid item xs={6}>\r\n                                        <Typography variant=\"subtitle2\" color=\"text.secondary\">Target Audience</Typography>\r\n                                        <Chip\r\n                                            label={\r\n                                                selectedNotification.target_audience?.startsWith('role:')\r\n                                                    ? (systemRoles && systemRoles.length > 0 \r\n                                                        ? systemRoles.find(r => r.name === selectedNotification.target_audience.replace('role:', ''))?.description || selectedNotification.target_audience\r\n                                                        : selectedNotification.target_audience)\r\n                                                    : selectedNotification.target_audience === 'admins'\r\n                                                    ? 'Administrators'\r\n                                                    : selectedNotification.target_audience === 'users'\r\n                                                    ? 'Regular Users'\r\n                                                    : selectedNotification.target_audience === 'all'\r\n                                                    ? 'All Users'\r\n                                                    : selectedNotification.target_audience\r\n                                            }\r\n                                            size=\"small\"\r\n                                            variant=\"outlined\"\r\n                                        />\r\n                                    </Grid>\r\n                                    <Grid item xs={6}>\r\n                                        <Typography variant=\"subtitle2\" color=\"text.secondary\">Notification Type</Typography>\r\n                                        <Typography variant=\"body2\">\r\n                                            {selectedNotification.notification_type || 'N/A'}\r\n                                        </Typography>\r\n                                    </Grid>\r\n                                </Grid>\r\n\r\n                                <Divider />\r\n\r\n                                <Grid container spacing={2}>\r\n                                    <Grid item xs={6}>\r\n                                        <Typography variant=\"subtitle2\" color=\"text.secondary\">Total Sent</Typography>\r\n                                        <Typography variant=\"h6\">{selectedNotification.total_sent || selectedNotification.target_user_count || 0}</Typography>\r\n                                    </Grid>\r\n                                    <Grid item xs={6}>\r\n                                        <Typography variant=\"subtitle2\" color=\"text.secondary\">Read Count</Typography>\r\n                                        <Typography variant=\"h6\">{selectedNotification.read_count || 0}</Typography>\r\n                                    </Grid>\r\n                                    <Grid item xs={6}>\r\n                                        <Typography variant=\"subtitle2\" color=\"text.secondary\">Dismissed Count</Typography>\r\n                                        <Typography variant=\"h6\">{selectedNotification.dismissed_count || 0}</Typography>\r\n                                    </Grid>\r\n                                    <Grid item xs={6}>\r\n                                        <Typography variant=\"subtitle2\" color=\"text.secondary\">Created By</Typography>\r\n                                        <Typography variant=\"body2\">{selectedNotification.created_by || 'System'}</Typography>\r\n                                    </Grid>\r\n                                </Grid>\r\n\r\n                                <Divider />\r\n\r\n                                <Box>\r\n                                    <Typography variant=\"subtitle2\" color=\"text.secondary\">Created At</Typography>\r\n                                    <Typography variant=\"body2\">\r\n                                        {selectedNotification.created_at \r\n                                            ? new Date(selectedNotification.created_at).toLocaleString()\r\n                                            : 'N/A'}\r\n                                    </Typography>\r\n                                </Box>\r\n\r\n                                {selectedNotification.scheduled_at && (\r\n                                    <Box>\r\n                                        <Typography variant=\"subtitle2\" color=\"text.secondary\">Scheduled At</Typography>\r\n                                        <Typography variant=\"body2\">\r\n                                            {new Date(selectedNotification.scheduled_at).toLocaleString()}\r\n                                        </Typography>\r\n                                    </Box>\r\n                                )}\r\n                            </Stack>\r\n                        ) : (\r\n                            <Typography>No notification selected</Typography>\r\n                        )}\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                        <Button onClick={() => setViewQueueDialogOpen(false)}>Close</Button>\r\n                    </DialogActions>\r\n                </Dialog>\r\n            </Box>\r\n        </LocalizationProvider>\r\n    );\r\n};\r\n\r\nexport default NotificationManagement; ","import React from 'react';\r\nimport {\r\n  List,\r\n  ListItem,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  ListItemButton,\r\n  Chip,\r\n  Box,\r\n  Typography,\r\n  IconButton,\r\n  Tooltip,\r\n  Paper,\r\n  Divider,\r\n  Stack,\r\n  TextField,\r\n  InputAdornment\r\n} from '@mui/material';\r\nimport {\r\n  Search as SearchIcon,\r\n  PlayArrow as PlayIcon,\r\n  Delete as Trash2Icon,\r\n  Description as FileTextIcon,\r\n  Code as CodeIcon,\r\n  Storage as DatabaseIcon,\r\n  Article as ArticleIcon,\r\n  Javascript as JavaScriptIcon,\r\n  Code as ShellScriptIcon,\r\n  Code as PythonIcon,\r\n  Html as HtmlIcon,\r\n  Css as CssIcon,\r\n  DataObject as JsonIcon,\r\n  Code as XmlIcon,\r\n  Image as ImageIcon,\r\n  VideoFile as VideoIcon,\r\n  AudioFile as AudioIcon,\r\n  Archive as ArchiveIcon,\r\n  PictureAsPdf as PdfIcon,\r\n  TextSnippet as TextIcon,\r\n  FolderOpen as FolderOpenIcon,\r\n  Psychology as PsychologyIcon\r\n} from '@mui/icons-material';\r\n\r\ninterface FileUpload {\r\n  id: string;\r\n  name: string;\r\n  type: 'sql' | 'script' | 'markdown' | 'javascript' | 'shell' | 'python' | 'html' | 'css' | 'json' | 'xml' | 'text' | 'image' | 'video' | 'audio' | 'archive' | 'pdf' | 'other';\r\n  content: string;\r\n  size: number;\r\n  uploadedAt: Date;\r\n  status: 'pending' | 'uploaded' | 'error';\r\n  extension: string;\r\n  mimeType?: string;\r\n  isQuestionnaire?: boolean;\r\n  questionnaireMetadata?: {\r\n    id: string;\r\n    fileName: string;\r\n    title: string;\r\n    description: string;\r\n    ageGroup: string;\r\n    type: string;\r\n    version: string;\r\n    author: string;\r\n    estimatedDuration: number;\r\n    questions: any[];\r\n    metadata: any;\r\n  };\r\n}\r\n\r\ninterface UploadedFileListProps {\r\n  files: FileUpload[];\r\n  selectedFile: FileUpload | null;\r\n  onFileSelect: (file: FileUpload) => void;\r\n  onFileExecute: (file: FileUpload) => void;\r\n  onFileDelete: (fileId: string) => void;\r\n  onQuestionnairePreview?: (file: FileUpload) => void;\r\n  isExecuting: boolean;\r\n  settings?: {\r\n    showHiddenFiles?: boolean;\r\n    darkModeConsole?: boolean;\r\n  };\r\n}\r\n\r\nconst UploadedFileList: React.FC<UploadedFileListProps> = ({\r\n  files,\r\n  selectedFile,\r\n  onFileSelect,\r\n  onFileExecute,\r\n  onFileDelete,\r\n  onQuestionnairePreview,\r\n  isExecuting,\r\n  settings = {}\r\n}) => {\r\n  const [searchTerm, setSearchTerm] = React.useState('');\r\n\r\n  const getFileIcon = (type: string) => {\r\n    switch (type) {\r\n      case 'markdown':\r\n      case 'text':\r\n        return <FileTextIcon />;\r\n      case 'javascript':\r\n        return <JavaScriptIcon />;\r\n      case 'sql':\r\n        return <DatabaseIcon />;\r\n      case 'shell':\r\n        return <ShellScriptIcon />;\r\n      case 'python':\r\n        return <PythonIcon />;\r\n      case 'html':\r\n        return <HtmlIcon />;\r\n      case 'css':\r\n        return <CssIcon />;\r\n      case 'json':\r\n        return <JsonIcon />;\r\n      case 'xml':\r\n        return <XmlIcon />;\r\n      case 'image':\r\n        return <ImageIcon />;\r\n      case 'video':\r\n        return <VideoIcon />;\r\n      case 'audio':\r\n        return <AudioIcon />;\r\n      case 'archive':\r\n        return <ArchiveIcon />;\r\n      case 'pdf':\r\n        return <PdfIcon />;\r\n      default:\r\n        return <CodeIcon />;\r\n    }\r\n  };\r\n\r\n  const getFileTypeChip = (type: string) => {\r\n    const colorMap: { [key: string]: 'default' | 'primary' | 'secondary' | 'error' | 'info' | 'success' | 'warning' } = {\r\n      'markdown': 'primary',\r\n      'javascript': 'secondary',\r\n      'sql': 'info',\r\n      'shell': 'warning',\r\n      'python': 'success',\r\n      'html': 'error',\r\n      'css': 'info',\r\n      'json': 'secondary',\r\n      'xml': 'warning',\r\n      'text': 'default',\r\n      'image': 'success',\r\n      'video': 'error',\r\n      'audio': 'info',\r\n      'archive': 'warning',\r\n      'pdf': 'error',\r\n      'other': 'default'\r\n    };\r\n\r\n    return (\r\n      <Chip\r\n        label={type.toUpperCase()}\r\n        size=\"small\"\r\n        color={colorMap[type] || 'default'}\r\n        variant=\"outlined\"\r\n      />\r\n    );\r\n  };\r\n\r\n  const filteredFiles = files.filter(file =>\r\n    file.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n    file.type.toLowerCase().includes(searchTerm.toLowerCase())\r\n  );\r\n\r\n  const formatFileSize = (bytes: number) => {\r\n    if (bytes === 0) return '0 Bytes';\r\n    const k = 1024;\r\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + ' ' + sizes[i];\r\n  };\r\n\r\n  const formatDate = (date: Date) => {\r\n    return new Intl.DateTimeFormat('en-US', {\r\n      month: 'short',\r\n      day: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    }).format(date);\r\n  };\r\n\r\n  if (files.length === 0) {\r\n    return (\r\n      <Paper sx={{ height: '100%', display: 'flex', flexDirection: 'column' }}>\r\n        <Box sx={{ p: 2, borderBottom: 1, borderColor: 'divider' }}>\r\n          <Typography variant=\"h6\">Files</Typography>\r\n        </Box>\r\n        <Box sx={{ \r\n          flex: 1, \r\n          display: 'flex', \r\n          alignItems: 'center', \r\n          justifyContent: 'center',\r\n          p: 3\r\n        }}>\r\n          <Stack spacing={2} alignItems=\"center\">\r\n            <FolderOpenIcon sx={{ fontSize: 48, color: 'grey.400' }} />\r\n            <Typography variant=\"body1\" color=\"text.secondary\" textAlign=\"center\">\r\n              No files uploaded yet\r\n            </Typography>\r\n            <Typography variant=\"body2\" color=\"text.secondary\" textAlign=\"center\">\r\n              Use the Import tab to upload files\r\n            </Typography>\r\n          </Stack>\r\n        </Box>\r\n      </Paper>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Paper sx={{ height: '100%', display: 'flex', flexDirection: 'column' }}>\r\n      <Box sx={{ p: 2, borderBottom: 1, borderColor: 'divider' }}>\r\n        <Stack spacing={2}>\r\n          <Typography variant=\"h6\">Files ({files.length})</Typography>\r\n          <TextField\r\n            size=\"small\"\r\n            placeholder=\"Search files...\"\r\n            value={searchTerm}\r\n            onChange={(e) => setSearchTerm(e.target.value)}\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                  <SearchIcon />\r\n                </InputAdornment>\r\n              ),\r\n            }}\r\n            fullWidth\r\n          />\r\n        </Stack>\r\n      </Box>\r\n      \r\n      <List sx={{ flex: 1, overflow: 'auto', p: 0 }}>\r\n        {filteredFiles.map((file, index) => (\r\n          <React.Fragment key={file.id}>\r\n            <ListItem disablePadding>\r\n              <ListItemButton\r\n                selected={selectedFile?.id === file.id}\r\n                onClick={() => onFileSelect(file)}\r\n                sx={{\r\n                  '&.Mui-selected': {\r\n                    backgroundColor: 'primary.light',\r\n                    '&:hover': {\r\n                      backgroundColor: 'primary.light',\r\n                    },\r\n                  },\r\n                }}\r\n              >\r\n                <ListItemIcon>\r\n                  {getFileIcon(file.type)}\r\n                </ListItemIcon>\r\n                <ListItemText\r\n                  primary={\r\n                    <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                      <Typography variant=\"body2\" noWrap sx={{ flex: 1 }}>\r\n                        {file.name}\r\n                      </Typography>\r\n                      {getFileTypeChip(file.type)}\r\n                    </Box>\r\n                  }\r\n                  secondary={\r\n                    <Stack direction=\"row\" spacing={1} alignItems=\"center\">\r\n                      <Typography variant=\"caption\" color=\"text.secondary\">\r\n                        {formatFileSize(file.size)}\r\n                      </Typography>\r\n                      <Typography variant=\"caption\" color=\"text.secondary\">\r\n                        \r\n                      </Typography>\r\n                      <Typography variant=\"caption\" color=\"text.secondary\">\r\n                        {formatDate(file.uploadedAt)}\r\n                      </Typography>\r\n                    </Stack>\r\n                  }\r\n                />\r\n                <Box sx={{ display: 'flex', alignItems: 'center', gap: 0.5 }}>\r\n                  {file.isQuestionnaire && onQuestionnairePreview && (\r\n                    <Tooltip title=\"Preview Questionnaire\">\r\n                      <IconButton\r\n                        size=\"small\"\r\n                        onClick={(e) => {\r\n                          e.stopPropagation();\r\n                          onQuestionnairePreview(file);\r\n                        }}\r\n                        color=\"secondary\"\r\n                      >\r\n                        <PsychologyIcon fontSize=\"small\" />\r\n                      </IconButton>\r\n                    </Tooltip>\r\n                  )}\r\n                  <Tooltip title=\"Execute\">\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        onFileExecute(file);\r\n                      }}\r\n                      disabled={isExecuting}\r\n                      color=\"primary\"\r\n                    >\r\n                      <PlayIcon fontSize=\"small\" />\r\n                    </IconButton>\r\n                  </Tooltip>\r\n                  <Tooltip title=\"Delete\">\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        onFileDelete(file.id);\r\n                      }}\r\n                      color=\"error\"\r\n                    >\r\n                      <Trash2Icon fontSize=\"small\" />\r\n                    </IconButton>\r\n                  </Tooltip>\r\n                </Box>\r\n              </ListItemButton>\r\n            </ListItem>\r\n            {index < filteredFiles.length - 1 && <Divider />}\r\n          </React.Fragment>\r\n        ))}\r\n      </List>\r\n      \r\n      {filteredFiles.length === 0 && searchTerm && (\r\n        <Box sx={{ \r\n          flex: 1, \r\n          display: 'flex', \r\n          alignItems: 'center', \r\n          justifyContent: 'center',\r\n          p: 3\r\n        }}>\r\n          <Typography variant=\"body2\" color=\"text.secondary\">\r\n            No files match \"{searchTerm}\"\r\n          </Typography>\r\n        </Box>\r\n      )}\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport default UploadedFileList; ","import React from 'react';\r\nimport {\r\n  Box,\r\n  Typography,\r\n  Paper,\r\n  Chip,\r\n  Stack,\r\n  IconButton,\r\n  Tooltip,\r\n  Divider,\r\n  Alert\r\n} from '@mui/material';\r\nimport {\r\n  PlayArrow as PlayIcon,\r\n  ContentCopy as CopyIcon,\r\n  Download as DownloadIcon,\r\n  Visibility as ViewIcon,\r\n  Code as CodeIcon,\r\n  Description as FileTextIcon,\r\n  Storage as DatabaseIcon,\r\n  Article as ArticleIcon,\r\n  Javascript as JavaScriptIcon,\r\n  Code as ShellScriptIcon,\r\n  Code as PythonIcon,\r\n  Html as HtmlIcon,\r\n  Css as CssIcon,\r\n  DataObject as JsonIcon,\r\n  Code as XmlIcon,\r\n  Image as ImageIcon,\r\n  VideoFile as VideoIcon,\r\n  AudioFile as AudioIcon,\r\n  Archive as ArchiveIcon,\r\n  PictureAsPdf as PdfIcon,\r\n  TextSnippet as TextIcon,\r\n  FolderOpen as FolderOpenIcon\r\n} from '@mui/icons-material';\r\n\r\ninterface FileUpload {\r\n  id: string;\r\n  name: string;\r\n  type: 'sql' | 'script' | 'markdown' | 'javascript' | 'shell' | 'python' | 'html' | 'css' | 'json' | 'xml' | 'text' | 'image' | 'video' | 'audio' | 'archive' | 'pdf' | 'other';\r\n  content: string;\r\n  size: number;\r\n  uploadedAt: Date;\r\n  status: 'pending' | 'uploaded' | 'error';\r\n  extension: string;\r\n  mimeType?: string;\r\n}\r\n\r\ninterface FileViewerProps {\r\n  file: FileUpload | null;\r\n  onExecute: (file: FileUpload) => void;\r\n  isExecuting: boolean;\r\n  settings?: {\r\n    defaultPreviewMode?: 'auto' | 'raw' | 'markdown' | 'code';\r\n    autoExpandJson?: boolean;\r\n    enableSyntaxHighlighting?: boolean;\r\n    maxPreviewFileSize?: number;\r\n    lineWrapInPreview?: boolean;\r\n    darkModeConsole?: boolean;\r\n  };\r\n}\r\n\r\nconst FileViewer: React.FC<FileViewerProps> = ({\r\n  file,\r\n  onExecute,\r\n  isExecuting,\r\n  settings = {}\r\n}) => {\r\n  const getFileIcon = (type: string) => {\r\n    switch (type) {\r\n      case 'markdown':\r\n      case 'text':\r\n        return <FileTextIcon />;\r\n      case 'javascript':\r\n        return <JavaScriptIcon />;\r\n      case 'sql':\r\n        return <DatabaseIcon />;\r\n      case 'shell':\r\n        return <ShellScriptIcon />;\r\n      case 'python':\r\n        return <PythonIcon />;\r\n      case 'html':\r\n        return <HtmlIcon />;\r\n      case 'css':\r\n        return <CssIcon />;\r\n      case 'json':\r\n        return <JsonIcon />;\r\n      case 'xml':\r\n        return <XmlIcon />;\r\n      case 'image':\r\n        return <ImageIcon />;\r\n      case 'video':\r\n        return <VideoIcon />;\r\n      case 'audio':\r\n        return <AudioIcon />;\r\n      case 'archive':\r\n        return <ArchiveIcon />;\r\n      case 'pdf':\r\n        return <PdfIcon />;\r\n      default:\r\n        return <CodeIcon />;\r\n    }\r\n  };\r\n\r\n  const getFileTypeChip = (type: string) => {\r\n    const colorMap: { [key: string]: 'default' | 'primary' | 'secondary' | 'error' | 'info' | 'success' | 'warning' } = {\r\n      'markdown': 'primary',\r\n      'javascript': 'secondary',\r\n      'sql': 'info',\r\n      'shell': 'warning',\r\n      'python': 'success',\r\n      'html': 'error',\r\n      'css': 'info',\r\n      'json': 'secondary',\r\n      'xml': 'warning',\r\n      'text': 'default',\r\n      'image': 'success',\r\n      'video': 'error',\r\n      'audio': 'info',\r\n      'archive': 'warning',\r\n      'pdf': 'error',\r\n      'other': 'default'\r\n    };\r\n\r\n    return (\r\n      <Chip\r\n        label={type.toUpperCase()}\r\n        size=\"small\"\r\n        color={colorMap[type] || 'default'}\r\n        variant=\"outlined\"\r\n      />\r\n    );\r\n  };\r\n\r\n  const formatFileSize = (bytes: number) => {\r\n    if (bytes === 0) return '0 Bytes';\r\n    const k = 1024;\r\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + ' ' + sizes[i];\r\n  };\r\n\r\n  const formatDate = (date: Date) => {\r\n    return new Intl.DateTimeFormat('en-US', {\r\n      year: 'numeric',\r\n      month: 'long',\r\n      day: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    }).format(date);\r\n  };\r\n\r\n  const copyToClipboard = async () => {\r\n    if (file) {\r\n      try {\r\n        await navigator.clipboard.writeText(file.content);\r\n        // You could add a toast notification here\r\n      } catch (err) {\r\n        console.error('Failed to copy to clipboard:', err);\r\n      }\r\n    }\r\n  };\r\n\r\n  const downloadFile = () => {\r\n    if (file) {\r\n      const blob = new Blob([file.content], { type: 'text/plain' });\r\n      const url = URL.createObjectURL(blob);\r\n      const a = document.createElement('a');\r\n      a.href = url;\r\n      a.download = file.name;\r\n      document.body.appendChild(a);\r\n      a.click();\r\n      document.body.removeChild(a);\r\n      URL.revokeObjectURL(url);\r\n    }\r\n  };\r\n\r\n  const renderMarkdown = (content: string) => {\r\n    // Simple markdown rendering - you could use react-markdown for better support\r\n    return (\r\n      <Box sx={{ \r\n        '& h1': { fontSize: '2rem', fontWeight: 'bold', mb: 2 },\r\n        '& h2': { fontSize: '1.5rem', fontWeight: 'bold', mb: 1.5 },\r\n        '& h3': { fontSize: '1.25rem', fontWeight: 'bold', mb: 1 },\r\n        '& p': { mb: 1 },\r\n        '& code': { \r\n          backgroundColor: 'grey.100', \r\n          padding: '2px 4px', \r\n          borderRadius: '4px',\r\n          fontFamily: 'monospace'\r\n        },\r\n        '& pre': { \r\n          backgroundColor: 'grey.100', \r\n          padding: 2, \r\n          borderRadius: '4px',\r\n          overflow: 'auto',\r\n          fontFamily: 'monospace'\r\n        },\r\n        '& ul, & ol': { pl: 2 },\r\n        '& li': { mb: 0.5 }\r\n      }}>\r\n        {content.split('\\n').map((line, index) => {\r\n          if (line.startsWith('# ')) {\r\n            return <Typography key={index} variant=\"h4\" component=\"h1\">{line.substring(2)}</Typography>;\r\n          } else if (line.startsWith('## ')) {\r\n            return <Typography key={index} variant=\"h5\" component=\"h2\">{line.substring(3)}</Typography>;\r\n          } else if (line.startsWith('### ')) {\r\n            return <Typography key={index} variant=\"h6\" component=\"h3\">{line.substring(4)}</Typography>;\r\n          } else if (line.startsWith('```')) {\r\n            return <Box key={index} component=\"pre\" sx={{ backgroundColor: 'grey.100', p: 2, borderRadius: 1 }}>{line.substring(3)}</Box>;\r\n          } else if (line.startsWith('- ')) {\r\n            return <Typography key={index} component=\"li\"> {line.substring(2)}</Typography>;\r\n          } else if (line.trim() === '') {\r\n            return <Box key={index} sx={{ height: 8 }} />;\r\n          } else {\r\n            return <Typography key={index} paragraph>{line}</Typography>;\r\n          }\r\n        })}\r\n      </Box>\r\n    );\r\n  };\r\n\r\n  const renderJson = (content: string) => {\r\n    try {\r\n      const parsed = JSON.parse(content);\r\n      const formattedJson = settings.autoExpandJson \r\n        ? JSON.stringify(parsed, null, 2)\r\n        : JSON.stringify(parsed);\r\n      \r\n      return (\r\n        <Box component=\"pre\" sx={{ \r\n          backgroundColor: settings.darkModeConsole ? '#1e1e1e' : 'grey.50', \r\n          color: settings.darkModeConsole ? '#ffffff' : 'text.primary',\r\n          p: 2, \r\n          borderRadius: 1,\r\n          overflow: 'auto',\r\n          fontFamily: 'monospace',\r\n          fontSize: '0.875rem',\r\n          whiteSpace: settings.lineWrapInPreview ? 'pre-wrap' : 'pre'\r\n        }}>\r\n          {formattedJson}\r\n        </Box>\r\n      );\r\n    } catch (error) {\r\n      return (\r\n        <Alert severity=\"error\">\r\n          Invalid JSON format\r\n        </Alert>\r\n      );\r\n    }\r\n  };\r\n\r\n  const renderCode = (content: string, language: string) => {\r\n    const useDarkTheme = settings.darkModeConsole !== false;\r\n    const useSyntaxHighlighting = settings.enableSyntaxHighlighting !== false;\r\n    \r\n    return (\r\n      <Box component=\"pre\" sx={{ \r\n        backgroundColor: useDarkTheme ? '#1e1e1e' : '#f8f9fa', \r\n        color: useDarkTheme ? '#ffffff' : '#212529',\r\n        p: 2, \r\n        borderRadius: 1,\r\n        overflow: 'auto',\r\n        fontFamily: 'monospace',\r\n        fontSize: '0.875rem',\r\n        whiteSpace: settings.lineWrapInPreview ? 'pre-wrap' : 'pre',\r\n        border: useDarkTheme ? '1px solid #404040' : '1px solid #dee2e6',\r\n        '& .keyword': { color: useDarkTheme ? '#569cd6' : '#d73a49' },\r\n        '& .string': { color: useDarkTheme ? '#ce9178' : '#032f62' },\r\n        '& .comment': { color: useDarkTheme ? '#6a9955' : '#6a737d' },\r\n        '& .number': { color: useDarkTheme ? '#b5cea8' : '#005cc5' },\r\n        '& .function': { color: useDarkTheme ? '#dcdcaa' : '#6f42c1' },\r\n        '& .operator': { color: useDarkTheme ? '#d4d4d4' : '#d73a49' }\r\n      }}>\r\n        {useSyntaxHighlighting ? applyBasicSyntaxHighlighting(content, language) : content}\r\n      </Box>\r\n    );\r\n  };\r\n\r\n  const applyBasicSyntaxHighlighting = (content: string, language: string) => {\r\n    if (!settings.enableSyntaxHighlighting) return content;\r\n    \r\n    // Basic syntax highlighting for common languages\r\n    let highlighted = content;\r\n    \r\n    // JavaScript/TypeScript highlighting\r\n    if (language === 'javascript' || language === 'typescript') {\r\n      highlighted = highlighted\r\n        .replace(/\\b(const|let|var|function|return|if|else|for|while|class|import|export|default|async|await)\\b/g, '<span class=\"keyword\">$1</span>')\r\n        .replace(/\\b(console|log|error|warn|info)\\b/g, '<span class=\"function\">$1</span>')\r\n        .replace(/\"([^\"]*)\"/g, '<span class=\"string\">\"$1\"</span>')\r\n        .replace(/'([^']*)'/g, '<span class=\"string\">\\'$1\\'</span>')\r\n        .replace(/\\/\\/.*$/gm, '<span class=\"comment\">$&</span>')\r\n        .replace(/\\/\\*[\\s\\S]*?\\*\\//g, '<span class=\"comment\">$&</span>')\r\n        .replace(/\\b(\\d+)\\b/g, '<span class=\"number\">$1</span>');\r\n    }\r\n    \r\n    // SQL highlighting\r\n    if (language === 'sql') {\r\n      highlighted = highlighted\r\n        .replace(/\\b(SELECT|FROM|WHERE|INSERT|UPDATE|DELETE|CREATE|DROP|TABLE|INDEX|PRIMARY|FOREIGN|KEY|JOIN|LEFT|RIGHT|INNER|OUTER|GROUP|BY|ORDER|HAVING|UNION|ALL|DISTINCT|COUNT|SUM|AVG|MAX|MIN)\\b/gi, '<span class=\"keyword\">$1</span>')\r\n        .replace(/\"([^\"]*)\"/g, '<span class=\"string\">\"$1\"</span>')\r\n        .replace(/'([^']*)'/g, '<span class=\"string\">\\'$1\\'</span>')\r\n        .replace(/--.*$/gm, '<span class=\"comment\">$&</span>')\r\n        .replace(/\\b(\\d+)\\b/g, '<span class=\"number\">$1</span>');\r\n    }\r\n    \r\n    // Python highlighting\r\n    if (language === 'python') {\r\n      highlighted = highlighted\r\n        .replace(/\\b(def|class|import|from|as|if|elif|else|for|while|try|except|finally|with|return|yield|True|False|None)\\b/g, '<span class=\"keyword\">$1</span>')\r\n        .replace(/\\b(print|len|range|str|int|float|list|dict|set)\\b/g, '<span class=\"function\">$1</span>')\r\n        .replace(/(\"\"\"[\\s\\S]*?\"\"\")/g, '<span class=\"comment\">$1</span>')\r\n        .replace(/('''[\\s\\S]*?''')/g, '<span class=\"comment\">$1</span>')\r\n        .replace(/#.*$/gm, '<span class=\"comment\">$&</span>')\r\n        .replace(/(\"([^\"]*)\")/g, '<span class=\"string\">$1</span>')\r\n        .replace(/('([^']*)')/g, '<span class=\"string\">$1</span>')\r\n        .replace(/\\b(\\d+)\\b/g, '<span class=\"number\">$1</span>');\r\n    }\r\n    \r\n    return highlighted;\r\n  };\r\n\r\n  const renderContent = () => {\r\n    if (!file) return null;\r\n\r\n    // Check file size limit\r\n    const fileSizeKB = file.size / 1024;\r\n    if (settings.maxPreviewFileSize && fileSizeKB > settings.maxPreviewFileSize) {\r\n      return (\r\n        <Alert severity=\"warning\">\r\n          <Typography variant=\"body2\">\r\n            File is too large to preview ({fileSizeKB.toFixed(1)} KB). \r\n            Maximum preview size is {settings.maxPreviewFileSize} KB.\r\n          </Typography>\r\n        </Alert>\r\n      );\r\n    }\r\n\r\n    // Determine preview mode\r\n    const previewMode = settings.defaultPreviewMode || 'auto';\r\n    let effectiveType = file.type;\r\n\r\n    if (previewMode === 'raw') {\r\n      effectiveType = 'text';\r\n    } else if (previewMode === 'markdown' && file.type === 'text') {\r\n      effectiveType = 'markdown';\r\n    } else if (previewMode === 'code' && ['text', 'markdown'].includes(file.type)) {\r\n      effectiveType = 'javascript'; // Default to JS for code mode\r\n    }\r\n\r\n    switch (effectiveType) {\r\n      case 'markdown':\r\n        return renderMarkdown(file.content);\r\n      case 'json':\r\n        return renderJson(file.content);\r\n      case 'javascript':\r\n      case 'typescript':\r\n        return renderCode(file.content, 'javascript');\r\n      case 'sql':\r\n        return renderCode(file.content, 'sql');\r\n      case 'shell':\r\n        return renderCode(file.content, 'bash');\r\n      case 'python':\r\n        return renderCode(file.content, 'python');\r\n      case 'html':\r\n        return renderCode(file.content, 'html');\r\n      case 'css':\r\n        return renderCode(file.content, 'css');\r\n      case 'xml':\r\n        return renderCode(file.content, 'xml');\r\n      case 'text':\r\n      default:\r\n        return (\r\n          <Box component=\"pre\" sx={{ \r\n            backgroundColor: settings.darkModeConsole ? '#1e1e1e' : 'grey.50', \r\n            color: settings.darkModeConsole ? '#ffffff' : 'text.primary',\r\n            p: 2, \r\n            borderRadius: 1,\r\n            overflow: 'auto',\r\n            fontFamily: 'monospace',\r\n            fontSize: '0.875rem',\r\n            whiteSpace: settings.lineWrapInPreview ? 'pre-wrap' : 'pre',\r\n            border: settings.darkModeConsole ? '1px solid #404040' : '1px solid #dee2e6'\r\n          }}>\r\n            {file.content}\r\n          </Box>\r\n        );\r\n    }\r\n  };\r\n\r\n  if (!file) {\r\n    return (\r\n      <Paper sx={{ height: '100%', display: 'flex', flexDirection: 'column' }}>\r\n        <Box sx={{ \r\n          flex: 1, \r\n          display: 'flex', \r\n          alignItems: 'center', \r\n          justifyContent: 'center',\r\n          p: 3\r\n        }}>\r\n          <Stack spacing={2} alignItems=\"center\">\r\n            <ViewIcon sx={{ fontSize: 48, color: 'grey.400' }} />\r\n            <Typography variant=\"h6\" color=\"text.secondary\" textAlign=\"center\">\r\n              No file selected\r\n            </Typography>\r\n            <Typography variant=\"body2\" color=\"text.secondary\" textAlign=\"center\">\r\n              Select a file from the list to view its contents\r\n            </Typography>\r\n          </Stack>\r\n        </Box>\r\n      </Paper>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Paper sx={{ height: '100%', display: 'flex', flexDirection: 'column' }}>\r\n      {/* File Header */}\r\n      <Box sx={{ p: 2, borderBottom: 1, borderColor: 'divider' }}>\r\n        <Stack direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\">\r\n          <Stack direction=\"row\" spacing={2} alignItems=\"center\">\r\n            {getFileIcon(file.type)}\r\n            <Box>\r\n              <Typography variant=\"h6\" noWrap>\r\n                {file.name}\r\n              </Typography>\r\n              <Stack direction=\"row\" spacing={1} alignItems=\"center\">\r\n                {getFileTypeChip(file.type)}\r\n                <Typography variant=\"caption\" color=\"text.secondary\">\r\n                  {formatFileSize(file.size)}\r\n                </Typography>\r\n                <Typography variant=\"caption\" color=\"text.secondary\">\r\n                  \r\n                </Typography>\r\n                <Typography variant=\"caption\" color=\"text.secondary\">\r\n                  {formatDate(file.uploadedAt)}\r\n                </Typography>\r\n              </Stack>\r\n            </Box>\r\n          </Stack>\r\n          \r\n          <Stack direction=\"row\" spacing={1}>\r\n            <Tooltip title=\"Execute\">\r\n              <IconButton\r\n                onClick={() => onExecute(file)}\r\n                disabled={isExecuting}\r\n                color=\"primary\"\r\n                size=\"small\"\r\n              >\r\n                <PlayIcon />\r\n              </IconButton>\r\n            </Tooltip>\r\n            <Tooltip title=\"Copy to clipboard\">\r\n              <IconButton\r\n                onClick={copyToClipboard}\r\n                size=\"small\"\r\n              >\r\n                <CopyIcon />\r\n              </IconButton>\r\n            </Tooltip>\r\n            <Tooltip title=\"Download\">\r\n              <IconButton\r\n                onClick={downloadFile}\r\n                size=\"small\"\r\n              >\r\n                <DownloadIcon />\r\n              </IconButton>\r\n            </Tooltip>\r\n          </Stack>\r\n        </Stack>\r\n      </Box>\r\n\r\n      {/* File Content */}\r\n      <Box sx={{ flex: 1, overflow: 'auto', p: 2 }}>\r\n        {renderContent()}\r\n      </Box>\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport default FileViewer; ","import React, { useState } from 'react';\r\nimport {\r\n  Box,\r\n  Typography,\r\n  Paper,\r\n  Stack,\r\n  TextField,\r\n  FormControl,\r\n  FormLabel,\r\n  FormControlLabel,\r\n  Switch,\r\n  Select,\r\n  MenuItem,\r\n  InputLabel,\r\n  Divider,\r\n  Button,\r\n  Alert,\r\n  Chip,\r\n  Accordion,\r\n  AccordionSummary,\r\n  AccordionDetails,\r\n  Slider,\r\n  InputAdornment,\r\n  CircularProgress,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemIcon,\r\n  LinearProgress,\r\n  Tooltip\r\n} from '@mui/material';\r\nimport {\r\n  Settings as SettingsIcon,\r\n  Visibility as ViewIcon,\r\n  PlayArrow as ExecuteIcon,\r\n  Palette as UIIcon,\r\n  Psychology as OMAIIcon,\r\n  ExpandMore as ExpandMoreIcon,\r\n  Save as SaveIcon,\r\n  Refresh as ResetIcon,\r\n  FolderOpen as FileProcessingIcon,\r\n  Security as SecurityIcon,\r\n  CloudQueue as StorageIcon,\r\n  PlayCircleFilled as ProcessIcon,\r\n  CheckCircle as TestIcon\r\n} from '@mui/icons-material';\r\n\r\nexport interface BigBookConsoleSettings {\r\n  // File Viewer Settings\r\n  defaultPreviewMode: 'auto' | 'raw' | 'markdown' | 'code';\r\n  autoExpandJson: boolean;\r\n  enableSyntaxHighlighting: boolean;\r\n  maxPreviewFileSize: number; // in KB\r\n  \r\n  // Execution Settings\r\n  defaultScriptEngine: 'node' | 'python' | 'sh' | 'sql';\r\n  executionTimeout: number; // in seconds\r\n  dryRunMode: boolean;\r\n  autoSaveConsoleOutput: boolean;\r\n  \r\n  // UI Behavior\r\n  darkModeConsole: boolean;\r\n  lineWrapInPreview: boolean;\r\n  showHiddenFiles: boolean;\r\n  autoScrollConsole: boolean;\r\n  \r\n  // OMAI Integration\r\n  forwardToOMAIMemory: boolean;\r\n  tagForAgentReflection: boolean;\r\n  enableOMAIRecommendations: boolean;\r\n  \r\n  // File Processing Settings\r\n  useSecureStorage: boolean;\r\n  retryOnMountFailure: boolean;\r\n  autoProcessOnUpload: boolean;\r\n}\r\n\r\ninterface ProcessingResult {\r\n  success: boolean;\r\n  processedFiles: any[];\r\n  failedFiles: any[];\r\n  secureStorage: {\r\n    mounted: boolean;\r\n    mountPath: string;\r\n    retryCount: number;\r\n  };\r\n  summary: {\r\n    totalFiles: number;\r\n    processedCount: number;\r\n    failedCount: number;\r\n    startTime: string;\r\n    endTime?: string;\r\n    durationMs?: number;\r\n  };\r\n}\r\n\r\ninterface BigBookSettingsProps {\r\n  settings: BigBookConsoleSettings;\r\n  onSettingsChange: (settings: BigBookConsoleSettings) => void;\r\n  onSave: () => void;\r\n  onReset: () => void;\r\n}\r\n\r\nconst defaultSettings: BigBookConsoleSettings = {\r\n  // File Viewer Settings\r\n  defaultPreviewMode: 'auto',\r\n  autoExpandJson: true,\r\n  enableSyntaxHighlighting: true,\r\n  maxPreviewFileSize: 1024, // 1MB\r\n  \r\n  // Execution Settings\r\n  defaultScriptEngine: 'node',\r\n  executionTimeout: 30,\r\n  dryRunMode: false,\r\n  autoSaveConsoleOutput: true,\r\n  \r\n  // UI Behavior\r\n  darkModeConsole: true,\r\n  lineWrapInPreview: false,\r\n  showHiddenFiles: false,\r\n  autoScrollConsole: true,\r\n  \r\n  // OMAI Integration\r\n  forwardToOMAIMemory: true,\r\n  tagForAgentReflection: false,\r\n  enableOMAIRecommendations: true,\r\n  \r\n  // File Processing Settings\r\n  useSecureStorage: true,\r\n  retryOnMountFailure: true,\r\n  autoProcessOnUpload: false,\r\n};\r\n\r\nconst BigBookSettings: React.FC<BigBookSettingsProps> = ({\r\n  settings,\r\n  onSettingsChange,\r\n  onSave,\r\n  onReset\r\n}) => {\r\n  const [hasChanges, setHasChanges] = useState(false);\r\n  \r\n  // File Processing State\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n  const [isTesting, setIsTesting] = useState(false);\r\n  const [processingResult, setProcessingResult] = useState<ProcessingResult | null>(null);\r\n  const [mountTestResult, setMountTestResult] = useState<any>(null);\r\n  const [processingProgress, setProcessingProgress] = useState(0);\r\n\r\n  const handleSettingChange = (key: keyof BigBookConsoleSettings, value: any) => {\r\n    const newSettings = { ...settings, [key]: value };\r\n    onSettingsChange(newSettings);\r\n    setHasChanges(true);\r\n  };\r\n\r\n  const handleSave = () => {\r\n    onSave();\r\n    setHasChanges(false);\r\n  };\r\n\r\n  const handleReset = () => {\r\n    onReset();\r\n    setHasChanges(false);\r\n  };\r\n\r\n  // File Processing Handlers\r\n  const handleProcessAllFiles = async () => {\r\n    setIsProcessing(true);\r\n    setProcessingProgress(0);\r\n    setProcessingResult(null);\r\n\r\n    try {\r\n      const response = await fetch('/api/bigbook/process-all', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        credentials: 'include',\r\n        body: JSON.stringify({\r\n          useSecureStorage: settings.useSecureStorage,\r\n          retryOnFailure: settings.retryOnMountFailure,\r\n        }),\r\n      });\r\n\r\n      const result = await response.json();\r\n      setProcessingResult(result);\r\n      setProcessingProgress(100);\r\n\r\n    } catch (error) {\r\n      console.error('File processing error:', error);\r\n      setProcessingResult({\r\n        success: false,\r\n        processedFiles: [],\r\n        failedFiles: [],\r\n        secureStorage: { mounted: false, mountPath: '', retryCount: 0 },\r\n        summary: { totalFiles: 0, processedCount: 0, failedCount: 0, startTime: new Date().toISOString() },\r\n      });\r\n    } finally {\r\n      setIsProcessing(false);\r\n    }\r\n  };\r\n\r\n  const handleTestSecureMount = async () => {\r\n    setIsTesting(true);\r\n    setMountTestResult(null);\r\n\r\n    try {\r\n      const response = await fetch('/api/bigbook/test-secure-mount', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        credentials: 'include',\r\n      });\r\n\r\n      const result = await response.json();\r\n      setMountTestResult(result.testResult);\r\n\r\n    } catch (error) {\r\n      console.error('Mount test error:', error);\r\n      setMountTestResult({\r\n        mountPath: '/mnt/bigbook_secure',\r\n        accessible: false,\r\n        writable: false,\r\n        error: error.message,\r\n        testTime: new Date().toISOString(),\r\n      });\r\n    } finally {\r\n      setIsTesting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box sx={{ p: 3, maxWidth: 800, mx: 'auto' }}>\r\n      <Stack spacing={3}>\r\n        {/* Header */}\r\n        <Box>\r\n          <Typography variant=\"h4\" component=\"h1\" gutterBottom sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n            <SettingsIcon />\r\n            Big Book Console Settings\r\n          </Typography>\r\n          <Typography variant=\"body1\" color=\"text.secondary\">\r\n            Configure file viewer, execution, UI behavior, and OMAI integration preferences\r\n          </Typography>\r\n        </Box>\r\n\r\n        {hasChanges && (\r\n          <Alert severity=\"info\" action={\r\n            <Stack direction=\"row\" spacing={1}>\r\n              <Button size=\"small\" onClick={handleReset}>Reset</Button>\r\n              <Button size=\"small\" variant=\"contained\" onClick={handleSave}>Save Changes</Button>\r\n            </Stack>\r\n          }>\r\n            You have unsaved changes. Save them to apply the new settings.\r\n          </Alert>\r\n        )}\r\n\r\n        {/* File Viewer Settings */}\r\n        <Accordion defaultExpanded>\r\n          <AccordionSummary expandIcon={<ExpandMoreIcon />}>\r\n            <Stack direction=\"row\" spacing={1} alignItems=\"center\">\r\n              <ViewIcon />\r\n              <Typography variant=\"h6\">File Viewer Settings</Typography>\r\n            </Stack>\r\n          </AccordionSummary>\r\n          <AccordionDetails>\r\n            <Stack spacing={3}>\r\n              <FormControl fullWidth>\r\n                <InputLabel>Default Preview Mode</InputLabel>\r\n                <Select\r\n                  value={settings.defaultPreviewMode}\r\n                  onChange={(e) => handleSettingChange('defaultPreviewMode', e.target.value)}\r\n                  label=\"Default Preview Mode\"\r\n                >\r\n                  <MenuItem value=\"auto\">Auto (Detect from file type)</MenuItem>\r\n                  <MenuItem value=\"raw\">Raw Text</MenuItem>\r\n                  <MenuItem value=\"markdown\">Markdown</MenuItem>\r\n                  <MenuItem value=\"code\">Code (with syntax highlighting)</MenuItem>\r\n                </Select>\r\n              </FormControl>\r\n\r\n              <FormControlLabel\r\n                control={\r\n                  <Switch\r\n                    checked={settings.autoExpandJson}\r\n                    onChange={(e) => handleSettingChange('autoExpandJson', e.target.checked)}\r\n                  />\r\n                }\r\n                label=\"Auto-expand JSON files\"\r\n              />\r\n\r\n              <FormControlLabel\r\n                control={\r\n                  <Switch\r\n                    checked={settings.enableSyntaxHighlighting}\r\n                    onChange={(e) => handleSettingChange('enableSyntaxHighlighting', e.target.checked)}\r\n                  />\r\n                }\r\n                label=\"Enable syntax highlighting\"\r\n              />\r\n\r\n              <TextField\r\n                fullWidth\r\n                type=\"number\"\r\n                label=\"Max Preview File Size\"\r\n                value={settings.maxPreviewFileSize}\r\n                onChange={(e) => handleSettingChange('maxPreviewFileSize', parseInt(e.target.value))}\r\n                InputProps={{\r\n                  endAdornment: <InputAdornment position=\"end\">KB</InputAdornment>,\r\n                }}\r\n                helperText=\"Files larger than this will show truncated content\"\r\n              />\r\n            </Stack>\r\n          </AccordionDetails>\r\n        </Accordion>\r\n\r\n        {/* Execution Settings */}\r\n        <Accordion>\r\n          <AccordionSummary expandIcon={<ExpandMoreIcon />}>\r\n            <Stack direction=\"row\" spacing={1} alignItems=\"center\">\r\n              <ExecuteIcon />\r\n              <Typography variant=\"h6\">Execution Settings</Typography>\r\n            </Stack>\r\n          </AccordionSummary>\r\n          <AccordionDetails>\r\n            <Stack spacing={3}>\r\n              <FormControl fullWidth>\r\n                <InputLabel>Default Script Engine</InputLabel>\r\n                <Select\r\n                  value={settings.defaultScriptEngine}\r\n                  onChange={(e) => handleSettingChange('defaultScriptEngine', e.target.value)}\r\n                  label=\"Default Script Engine\"\r\n                >\r\n                  <MenuItem value=\"node\">Node.js</MenuItem>\r\n                  <MenuItem value=\"python\">Python</MenuItem>\r\n                  <MenuItem value=\"sh\">Shell (Bash)</MenuItem>\r\n                  <MenuItem value=\"sql\">SQL</MenuItem>\r\n                </Select>\r\n              </FormControl>\r\n\r\n              <TextField\r\n                fullWidth\r\n                type=\"number\"\r\n                label=\"Execution Timeout\"\r\n                value={settings.executionTimeout}\r\n                onChange={(e) => handleSettingChange('executionTimeout', parseInt(e.target.value))}\r\n                InputProps={{\r\n                  endAdornment: <InputAdornment position=\"end\">seconds</InputAdornment>,\r\n                }}\r\n                helperText=\"Maximum time to wait for script execution\"\r\n              />\r\n\r\n              <FormControlLabel\r\n                control={\r\n                  <Switch\r\n                    checked={settings.dryRunMode}\r\n                    onChange={(e) => handleSettingChange('dryRunMode', e.target.checked)}\r\n                  />\r\n                }\r\n                label=\"Dry Run Mode (disable actual script effects)\"\r\n              />\r\n\r\n              <FormControlLabel\r\n                control={\r\n                  <Switch\r\n                    checked={settings.autoSaveConsoleOutput}\r\n                    onChange={(e) => handleSettingChange('autoSaveConsoleOutput', e.target.checked)}\r\n                  />\r\n                }\r\n                label=\"Auto-save console output\"\r\n              />\r\n            </Stack>\r\n          </AccordionDetails>\r\n        </Accordion>\r\n\r\n        {/* UI Behavior Settings */}\r\n        <Accordion>\r\n          <AccordionSummary expandIcon={<ExpandMoreIcon />}>\r\n            <Stack direction=\"row\" spacing={1} alignItems=\"center\">\r\n              <UIIcon />\r\n              <Typography variant=\"h6\">UI Behavior</Typography>\r\n            </Stack>\r\n          </AccordionSummary>\r\n          <AccordionDetails>\r\n            <Stack spacing={3}>\r\n              <FormControlLabel\r\n                control={\r\n                  <Switch\r\n                    checked={settings.darkModeConsole}\r\n                    onChange={(e) => handleSettingChange('darkModeConsole', e.target.checked)}\r\n                  />\r\n                }\r\n                label=\"Dark mode console\"\r\n              />\r\n\r\n              <FormControlLabel\r\n                control={\r\n                  <Switch\r\n                    checked={settings.lineWrapInPreview}\r\n                    onChange={(e) => handleSettingChange('lineWrapInPreview', e.target.checked)}\r\n                  />\r\n                }\r\n                label=\"Line wrap in preview\"\r\n              />\r\n\r\n              <FormControlLabel\r\n                control={\r\n                  <Switch\r\n                    checked={settings.showHiddenFiles}\r\n                    onChange={(e) => handleSettingChange('showHiddenFiles', e.target.checked)}\r\n                  />\r\n                }\r\n                label=\"Show hidden files\"\r\n              />\r\n\r\n              <FormControlLabel\r\n                control={\r\n                  <Switch\r\n                    checked={settings.autoScrollConsole}\r\n                    onChange={(e) => handleSettingChange('autoScrollConsole', e.target.checked)}\r\n                  />\r\n                }\r\n                label=\"Auto-scroll console to bottom\"\r\n              />\r\n            </Stack>\r\n          </AccordionDetails>\r\n        </Accordion>\r\n\r\n        {/* OMAI Integration Settings */}\r\n        <Accordion>\r\n          <AccordionSummary expandIcon={<ExpandMoreIcon />}>\r\n            <Stack direction=\"row\" spacing={1} alignItems=\"center\">\r\n              <OMAIIcon />\r\n              <Typography variant=\"h6\">OMAI Integration</Typography>\r\n            </Stack>\r\n          </AccordionSummary>\r\n          <AccordionDetails>\r\n            <Stack spacing={3}>\r\n              <FormControlLabel\r\n                control={\r\n                  <Switch\r\n                    checked={settings.forwardToOMAIMemory}\r\n                    onChange={(e) => handleSettingChange('forwardToOMAIMemory', e.target.checked)}\r\n                  />\r\n                }\r\n                label=\"Forward executed files to OMAI memory\"\r\n              />\r\n\r\n              <FormControlLabel\r\n                control={\r\n                  <Switch\r\n                    checked={settings.tagForAgentReflection}\r\n                    onChange={(e) => handleSettingChange('tagForAgentReflection', e.target.checked)}\r\n                  />\r\n                }\r\n                label=\"Tag uploaded files for agent reflection\"\r\n              />\r\n\r\n              <FormControlLabel\r\n                control={\r\n                  <Switch\r\n                    checked={settings.enableOMAIRecommendations}\r\n                    onChange={(e) => handleSettingChange('enableOMAIRecommendations', e.target.checked)}\r\n                  />\r\n                }\r\n                label=\"Enable OMAI recommendations after execution\"\r\n              />\r\n\r\n              <Alert severity=\"info\">\r\n                <Typography variant=\"body2\">\r\n                  OMAI integration allows the AI agent to learn from your file operations and provide intelligent suggestions.\r\n                </Typography>\r\n              </Alert>\r\n            </Stack>\r\n          </AccordionDetails>\r\n        </Accordion>\r\n\r\n        {/* File Processing */}\r\n        <Accordion>\r\n          <AccordionSummary expandIcon={<ExpandMoreIcon />}>\r\n            <Stack direction=\"row\" spacing={1} alignItems=\"center\">\r\n              <FileProcessingIcon />\r\n              <Typography variant=\"h6\"> File Processing</Typography>\r\n            </Stack>\r\n          </AccordionSummary>\r\n          <AccordionDetails>\r\n            <Stack spacing={3}>\r\n              {/* Processing Controls */}\r\n              <Box>\r\n                <Typography variant=\"subtitle1\" gutterBottom sx={{ fontWeight: 'bold' }}>\r\n                  Batch Processing\r\n                </Typography>\r\n                <Stack direction=\"row\" spacing={2} sx={{ mb: 2 }}>\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    startIcon={isProcessing ? <CircularProgress size={16} /> : <ProcessIcon />}\r\n                    onClick={handleProcessAllFiles}\r\n                    disabled={isProcessing}\r\n                    color=\"primary\"\r\n                  >\r\n                    {isProcessing ? 'Processing...' : 'Process All Files'}\r\n                  </Button>\r\n                  \r\n                  <Tooltip title=\"Test if secure storage mount is accessible and writable\">\r\n                    <Button\r\n                      variant=\"outlined\"\r\n                      startIcon={isTesting ? <CircularProgress size={16} /> : <TestIcon />}\r\n                      onClick={handleTestSecureMount}\r\n                      disabled={isTesting}\r\n                      color=\"secondary\"\r\n                    >\r\n                      {isTesting ? 'Testing...' : 'Test Secure Mount'}\r\n                    </Button>\r\n                  </Tooltip>\r\n                </Stack>\r\n\r\n                {isProcessing && (\r\n                  <Box sx={{ width: '100%', mb: 2 }}>\r\n                    <LinearProgress variant=\"indeterminate\" />\r\n                    <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mt: 1 }}>\r\n                      Processing files... This may take a few minutes.\r\n                    </Typography>\r\n                  </Box>\r\n                )}\r\n              </Box>\r\n\r\n              {/* Storage Settings */}\r\n              <Box>\r\n                <Typography variant=\"subtitle1\" gutterBottom sx={{ fontWeight: 'bold' }}>\r\n                  Storage Configuration\r\n                </Typography>\r\n                <Stack spacing={2}>\r\n                  <FormControlLabel\r\n                    control={\r\n                      <Switch\r\n                        checked={settings.useSecureStorage}\r\n                        onChange={(e) => handleSettingChange('useSecureStorage', e.target.checked)}\r\n                      />\r\n                    }\r\n                    label={\r\n                      <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                        <SecurityIcon fontSize=\"small\" />\r\n                        <span>Use Secure Storage (eCryptfs)</span>\r\n                      </Box>\r\n                    }\r\n                  />\r\n\r\n                  <FormControlLabel\r\n                    control={\r\n                      <Switch\r\n                        checked={settings.retryOnMountFailure}\r\n                        onChange={(e) => handleSettingChange('retryOnMountFailure', e.target.checked)}\r\n                      />\r\n                    }\r\n                    label=\"Retry on mount failure (up to 3 attempts)\"\r\n                  />\r\n\r\n                  <FormControlLabel\r\n                    control={\r\n                      <Switch\r\n                        checked={settings.autoProcessOnUpload}\r\n                        onChange={(e) => handleSettingChange('autoProcessOnUpload', e.target.checked)}\r\n                      />\r\n                    }\r\n                    label=\"Auto-process files on upload\"\r\n                  />\r\n                </Stack>\r\n              </Box>\r\n\r\n              {/* Mount Test Results */}\r\n              {mountTestResult && (\r\n                <Alert \r\n                  severity={mountTestResult.accessible && mountTestResult.writable ? 'success' : 'error'}\r\n                  sx={{ mt: 2 }}\r\n                >\r\n                  <Typography variant=\"subtitle2\" gutterBottom>\r\n                    Secure Mount Test Results\r\n                  </Typography>\r\n                  <Stack spacing={1}>\r\n                    <Typography variant=\"body2\">\r\n                      Path: <code>{mountTestResult.mountPath}</code>\r\n                    </Typography>\r\n                    <Typography variant=\"body2\">\r\n                      Accessible: {mountTestResult.accessible ? ' Yes' : ' No'}\r\n                    </Typography>\r\n                    <Typography variant=\"body2\">\r\n                      Writable: {mountTestResult.writable ? ' Yes' : ' No'}\r\n                    </Typography>\r\n                    {mountTestResult.error && (\r\n                      <Typography variant=\"body2\" color=\"error\">\r\n                        Error: {mountTestResult.error}\r\n                      </Typography>\r\n                    )}\r\n                    <Typography variant=\"caption\" color=\"text.secondary\">\r\n                      Tested at: {new Date(mountTestResult.testTime).toLocaleString()}\r\n                    </Typography>\r\n                  </Stack>\r\n                </Alert>\r\n              )}\r\n\r\n              {/* Processing Results */}\r\n              {processingResult && (\r\n                <Alert \r\n                  severity={processingResult.success ? 'success' : 'error'}\r\n                  sx={{ mt: 2 }}\r\n                >\r\n                  <Typography variant=\"subtitle2\" gutterBottom>\r\n                    Processing Results\r\n                  </Typography>\r\n                  <Stack spacing={1}>\r\n                    <Typography variant=\"body2\">\r\n                      Total Files: {processingResult.summary.totalFiles}\r\n                    </Typography>\r\n                    <Typography variant=\"body2\">\r\n                       Processed: {processingResult.summary.processedCount}\r\n                    </Typography>\r\n                    <Typography variant=\"body2\">\r\n                       Failed: {processingResult.summary.failedCount}\r\n                    </Typography>\r\n                    <Typography variant=\"body2\">\r\n                       Secure Storage: {processingResult.secureStorage.mounted ? ' Mounted' : ' Not Available'}\r\n                    </Typography>\r\n                    {processingResult.summary.durationMs && (\r\n                      <Typography variant=\"body2\">\r\n                        Duration: {(processingResult.summary.durationMs / 1000).toFixed(2)}s\r\n                      </Typography>\r\n                    )}\r\n                  </Stack>\r\n                </Alert>\r\n              )}\r\n\r\n              {/* Processing Log */}\r\n              {processingResult && (processingResult.processedFiles.length > 0 || processingResult.failedFiles.length > 0) && (\r\n                <Box>\r\n                  <Typography variant=\"subtitle1\" gutterBottom sx={{ fontWeight: 'bold' }}>\r\n                    Processing Log\r\n                  </Typography>\r\n                  <Paper sx={{ maxHeight: 300, overflow: 'auto', bgcolor: '#f5f5f5' }}>\r\n                    <List dense>\r\n                      {processingResult.processedFiles.map((file, index) => (\r\n                        <ListItem key={`success-${index}`}>\r\n                          <ListItemIcon>\r\n                            <Chip \r\n                              label=\"\" \r\n                              size=\"small\" \r\n                              sx={{ bgcolor: '#4caf50', color: 'white', fontWeight: 'bold' }} \r\n                            />\r\n                          </ListItemIcon>\r\n                          <ListItemText\r\n                            primary={file.fileName}\r\n                            secondary={`${(file.size / 1024).toFixed(1)} KB ${file.securelyStored ? ' Stored securely' : ''}`}\r\n                            primaryTypographyProps={{ fontFamily: 'monospace', fontSize: '0.875rem' }}\r\n                          />\r\n                        </ListItem>\r\n                      ))}\r\n                      {processingResult.failedFiles.map((file, index) => (\r\n                        <ListItem key={`failed-${index}`}>\r\n                          <ListItemIcon>\r\n                            <Chip \r\n                              label=\"\" \r\n                              size=\"small\" \r\n                              sx={{ bgcolor: '#f44336', color: 'white', fontWeight: 'bold' }} \r\n                            />\r\n                          </ListItemIcon>\r\n                          <ListItemText\r\n                            primary={file.fileName}\r\n                            secondary={`Error: ${file.error}`}\r\n                            primaryTypographyProps={{ fontFamily: 'monospace', fontSize: '0.875rem' }}\r\n                            secondaryTypographyProps={{ color: 'error' }}\r\n                          />\r\n                        </ListItem>\r\n                      ))}\r\n                    </List>\r\n                  </Paper>\r\n                </Box>\r\n              )}\r\n\r\n              <Alert severity=\"info\">\r\n                <Typography variant=\"body2\">\r\n                  File processing converts uploaded .md files into the Big Book knowledge base. \r\n                  Enable secure storage for encrypted file storage using eCryptfs mounting.\r\n                </Typography>\r\n              </Alert>\r\n            </Stack>\r\n          </AccordionDetails>\r\n        </Accordion>\r\n\r\n        {/* Action Buttons */}\r\n        <Paper sx={{ p: 2 }}>\r\n          <Stack direction=\"row\" spacing={2} justifyContent=\"flex-end\">\r\n            <Button\r\n              variant=\"outlined\"\r\n              startIcon={<ResetIcon />}\r\n              onClick={handleReset}\r\n            >\r\n              Reset to Defaults\r\n            </Button>\r\n            <Button\r\n              variant=\"contained\"\r\n              startIcon={<SaveIcon />}\r\n              onClick={handleSave}\r\n              disabled={!hasChanges}\r\n            >\r\n              Save Settings\r\n            </Button>\r\n          </Stack>\r\n        </Paper>\r\n      </Stack>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default BigBookSettings;\r\nexport { defaultSettings }; ","import React, { useState } from 'react';\r\nimport {\r\n  Box,\r\n  Grid,\r\n  Paper,\r\n  Typography,\r\n  Stack,\r\n  Button,\r\n  IconButton,\r\n  Tooltip,\r\n  Divider,\r\n  Alert,\r\n  Collapse,\r\n  Tabs,\r\n  Tab\r\n} from '@mui/material';\r\nimport {\r\n  Terminal as TerminalIcon,\r\n  ExpandMore as ExpandMoreIcon,\r\n  ExpandLess as ExpandLessIcon,\r\n  Refresh as RefreshIcon,\r\n  Clear as ClearIcon,\r\n  Settings as SettingsIcon,\r\n  ViewList as ViewListIcon,\r\n  Visibility as ViewIcon\r\n} from '@mui/icons-material';\r\nimport UploadedFileList from './UploadedFileList.tsx';\r\nimport FileViewer from './FileViewer.tsx';\r\nimport BigBookSettings, { BigBookConsoleSettings, defaultSettings } from './BigBookSettings.tsx';\r\n\r\ninterface FileUpload {\r\n  id: string;\r\n  name: string;\r\n  type: 'sql' | 'script' | 'markdown' | 'javascript' | 'shell' | 'python' | 'html' | 'css' | 'json' | 'xml' | 'text' | 'image' | 'video' | 'audio' | 'archive' | 'pdf' | 'other';\r\n  content: string;\r\n  size: number;\r\n  uploadedAt: Date;\r\n  status: 'pending' | 'uploaded' | 'error';\r\n  extension: string;\r\n  mimeType?: string;\r\n  isQuestionnaire?: boolean;\r\n  questionnaireMetadata?: {\r\n    id: string;\r\n    fileName: string;\r\n    title: string;\r\n    description: string;\r\n    ageGroup: string;\r\n    type: string;\r\n    version: string;\r\n    author: string;\r\n    estimatedDuration: number;\r\n    questions: any[];\r\n    metadata: any;\r\n  };\r\n}\r\n\r\ninterface ConsoleOutput {\r\n  id: string;\r\n  timestamp: Date;\r\n  type: 'info' | 'success' | 'error' | 'warning' | 'command';\r\n  message: string;\r\n  details?: string;\r\n}\r\n\r\ninterface BigBookConsolePageProps {\r\n  files: FileUpload[];\r\n  consoleOutput: ConsoleOutput[];\r\n  isExecuting: boolean;\r\n  onFileSelect: (file: FileUpload) => void;\r\n  onFileExecute: (file: FileUpload) => void;\r\n  onFileDelete: (fileId: string) => void;\r\n  onQuestionnairePreview?: (file: FileUpload) => void;\r\n  onClearConsole: () => void;\r\n  selectedFile: FileUpload | null;\r\n}\r\n\r\nconst BigBookConsolePage: React.FC<BigBookConsolePageProps> = ({\r\n  files,\r\n  consoleOutput,\r\n  isExecuting,\r\n  onFileSelect,\r\n  onFileExecute,\r\n  onFileDelete,\r\n  onQuestionnairePreview,\r\n  onClearConsole,\r\n  selectedFile\r\n}) => {\r\n  const [showConsole, setShowConsole] = useState(false);\r\n  const [activeView, setActiveView] = useState<'files' | 'settings'>('files');\r\n  const [settings, setSettings] = useState<BigBookConsoleSettings>(defaultSettings);\r\n\r\n  const toggleConsole = () => {\r\n    setShowConsole(!showConsole);\r\n  };\r\n\r\n  const handleSettingsChange = (newSettings: BigBookConsoleSettings) => {\r\n    setSettings(newSettings);\r\n  };\r\n\r\n  const handleSettingsSave = () => {\r\n    // Save settings to localStorage or API\r\n    localStorage.setItem('bigbook-console-settings', JSON.stringify(settings));\r\n    // You could also save to API here\r\n  };\r\n\r\n  const handleSettingsReset = () => {\r\n    setSettings(defaultSettings);\r\n  };\r\n\r\n  return (\r\n    <Box sx={{ height: '100vh', display: 'flex', flexDirection: 'column' }}>\r\n      {/* Header */}\r\n      <Box sx={{ p: 2, borderBottom: 1, borderColor: 'divider', backgroundColor: 'background.paper' }}>\r\n        <Stack direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\">\r\n          <Box>\r\n            <Typography variant=\"h5\" component=\"h1\">\r\n              Big Book Console\r\n            </Typography>\r\n            <Typography variant=\"body2\" color=\"text.secondary\">\r\n              File explorer and execution console\r\n            </Typography>\r\n          </Box>\r\n          \r\n          <Stack direction=\"row\" spacing={1}>\r\n            <Tooltip title=\"Toggle Console\">\r\n              <IconButton onClick={toggleConsole} color=\"primary\">\r\n                <TerminalIcon />\r\n              </IconButton>\r\n            </Tooltip>\r\n            {showConsole && (\r\n              <Tooltip title=\"Clear Console\">\r\n                <IconButton onClick={onClearConsole} color=\"error\">\r\n                  <ClearIcon />\r\n                </IconButton>\r\n              </Tooltip>\r\n            )}\r\n            <Tooltip title=\"Refresh\">\r\n              <IconButton color=\"primary\">\r\n                <RefreshIcon />\r\n              </IconButton>\r\n            </Tooltip>\r\n            <Tooltip title=\"Settings\">\r\n              <IconButton \r\n                onClick={() => setActiveView(activeView === 'files' ? 'settings' : 'files')}\r\n                color={activeView === 'settings' ? 'secondary' : 'primary'}\r\n              >\r\n                <SettingsIcon />\r\n              </IconButton>\r\n            </Tooltip>\r\n          </Stack>\r\n        </Stack>\r\n      </Box>\r\n\r\n      {/* Main Content */}\r\n      <Box sx={{ flex: 1, display: 'flex', flexDirection: 'column', overflow: 'hidden' }}>\r\n        {activeView === 'files' ? (\r\n          /* File List and Viewer */\r\n          <Box sx={{ flex: 1, display: 'flex', overflow: 'hidden' }}>\r\n            {/* File List Panel */}\r\n            <Box sx={{ width: '30%', minWidth: 300, borderRight: 1, borderColor: 'divider' }}>\r\n              <UploadedFileList\r\n                files={files}\r\n                selectedFile={selectedFile}\r\n                onFileSelect={onFileSelect}\r\n                onFileExecute={onFileExecute}\r\n                onFileDelete={onFileDelete}\r\n                onQuestionnairePreview={onQuestionnairePreview}\r\n                isExecuting={isExecuting}\r\n                settings={settings}\r\n              />\r\n            </Box>\r\n\r\n            {/* File Viewer Panel */}\r\n            <Box sx={{ flex: 1 }}>\r\n              <FileViewer\r\n                file={selectedFile}\r\n                onExecute={onFileExecute}\r\n                isExecuting={isExecuting}\r\n                settings={settings}\r\n              />\r\n            </Box>\r\n          </Box>\r\n        ) : (\r\n          /* Settings Panel */\r\n          <Box sx={{ flex: 1, overflow: 'auto' }}>\r\n            <BigBookSettings\r\n              settings={settings}\r\n              onSettingsChange={handleSettingsChange}\r\n              onSave={handleSettingsSave}\r\n              onReset={handleSettingsReset}\r\n            />\r\n          </Box>\r\n        )}\r\n\r\n        {/* Console Panel */}\r\n        <Collapse in={showConsole}>\r\n          <Box sx={{ height: 300, borderTop: 1, borderColor: 'divider' }}>\r\n            <Box sx={{ \r\n              p: 2, \r\n              borderBottom: 1, \r\n              borderColor: 'divider',\r\n              backgroundColor: 'grey.50',\r\n              display: 'flex',\r\n              justifyContent: 'space-between',\r\n              alignItems: 'center'\r\n            }}>\r\n              <Typography variant=\"h6\" sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                <TerminalIcon fontSize=\"small\" />\r\n                Console Output\r\n              </Typography>\r\n              <Stack direction=\"row\" spacing={1}>\r\n                <Typography variant=\"caption\" color=\"text.secondary\">\r\n                  {consoleOutput.length} messages\r\n                </Typography>\r\n                <Button\r\n                  size=\"small\"\r\n                  startIcon={<ClearIcon />}\r\n                  onClick={onClearConsole}\r\n                  variant=\"outlined\"\r\n                >\r\n                  Clear\r\n                </Button>\r\n              </Stack>\r\n            </Box>\r\n            \r\n            <Box sx={{ \r\n              height: 250, \r\n              overflow: 'auto',\r\n              p: 2,\r\n              backgroundColor: settings.darkModeConsole ? '#1e1e1e' : '#f8f9fa',\r\n              color: settings.darkModeConsole ? '#ffffff' : '#212529',\r\n              fontFamily: 'monospace',\r\n              fontSize: '0.875rem'\r\n            }}>\r\n              {consoleOutput.length === 0 ? (\r\n                <Box sx={{ \r\n                  display: 'flex', \r\n                  alignItems: 'center', \r\n                  justifyContent: 'center',\r\n                  height: '100%'\r\n                }}>\r\n                  <Typography color=\"grey.500\" textAlign=\"center\">\r\n                    No console output yet. Execute files to see results.\r\n                  </Typography>\r\n                </Box>\r\n              ) : (\r\n                consoleOutput.map((output) => (\r\n                  <Box key={output.id} sx={{ mb: 1 }}>\r\n                    <Typography\r\n                      component=\"span\"\r\n                      sx={{\r\n                        color: output.type === 'error' ? '#ff6b6b' :\r\n                               output.type === 'success' ? '#51cf66' :\r\n                               output.type === 'warning' ? '#ffd43b' :\r\n                               output.type === 'command' ? '#74c0fc' : '#ffffff',\r\n                        fontWeight: output.type === 'command' ? 'bold' : 'normal'\r\n                      }}\r\n                    >\r\n                      [{formatTimeOnly(output.timestamp)}] {output.message}\r\n                    </Typography>\r\n                    {output.details && (\r\n                      <Typography\r\n                        component=\"div\"\r\n                        sx={{\r\n                          color: '#adb5bd',\r\n                          ml: 2,\r\n                          mt: 0.5,\r\n                          whiteSpace: 'pre-wrap'\r\n                        }}\r\n                      >\r\n                        {output.details}\r\n                      </Typography>\r\n                    )}\r\n                  </Box>\r\n                ))\r\n              )}\r\n            </Box>\r\n          </Box>\r\n        </Collapse>\r\n      </Box>\r\n\r\n      {/* Status Bar */}\r\n      <Box sx={{ \r\n        p: 1, \r\n        borderTop: 1, \r\n        borderColor: 'divider',\r\n        backgroundColor: 'grey.50',\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center'\r\n      }}>\r\n        <Stack direction=\"row\" spacing={2} alignItems=\"center\">\r\n          <Typography variant=\"caption\" color=\"text.secondary\">\r\n            {files.length} files loaded\r\n          </Typography>\r\n          {selectedFile && (\r\n            <>\r\n              <Typography variant=\"caption\" color=\"text.secondary\"></Typography>\r\n              <Typography variant=\"caption\" color=\"text.secondary\">\r\n                Selected: {selectedFile.name}\r\n              </Typography>\r\n            </>\r\n          )}\r\n        </Stack>\r\n        \r\n        <Stack direction=\"row\" spacing={1} alignItems=\"center\">\r\n          {isExecuting && (\r\n            <Alert severity=\"info\" sx={{ py: 0, px: 1 }}>\r\n              Executing...\r\n            </Alert>\r\n          )}\r\n          <Typography variant=\"caption\" color=\"text.secondary\">\r\n            {consoleOutput.length} console messages\r\n          </Typography>\r\n        </Stack>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default BigBookConsolePage; ","import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  Typography,\r\n  Button,\r\n  Box,\r\n  Alert,\r\n  Chip,\r\n  Stack,\r\n  Divider,\r\n  IconButton,\r\n  Tooltip,\r\n  CircularProgress,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemIcon,\r\n  ListItemSecondaryAction\r\n} from '@mui/material';\r\nimport {\r\n  Storage as StorageIcon,\r\n  Lock as LockIcon,\r\n  LockOpen as LockOpenIcon,\r\n  Refresh as RefreshIcon,\r\n  Security as SecurityIcon,\r\n  Key as KeyIcon,\r\n  CheckCircle as CheckCircleIcon,\r\n  Error as ErrorIcon,\r\n  Warning as WarningIcon,\r\n  Info as InfoIcon,\r\n  CloudUpload as CloudUploadIcon,\r\n  CloudDownload as CloudDownloadIcon,\r\n  Delete as DeleteIcon\r\n} from '@mui/icons-material';\r\n\r\ninterface StorageStatus {\r\n  isMounted: boolean;\r\n  mountPath: string;\r\n  sourcePath: string;\r\n  fileCount: number;\r\n  totalSize: number;\r\n  lastChecked: string;\r\n  error?: string;\r\n}\r\n\r\ninterface StorageFile {\r\n  fileId: string;\r\n  encryptedPath: string;\r\n  relativePath: string;\r\n  originalName: string;\r\n  size: number;\r\n  modifiedAt: string;\r\n  createdAt: string;\r\n}\r\n\r\nconst EncryptedStoragePanel: React.FC = () => {\r\n  const [status, setStatus] = useState<StorageStatus | null>(null);\r\n  const [files, setFiles] = useState<StorageFile[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string>('');\r\n\r\n  const loadStatus = async () => {\r\n    setLoading(true);\r\n    setError('');\r\n    \r\n    try {\r\n      const response = await fetch('/api/bigbook/storage/status');\r\n      const result = await response.json();\r\n      \r\n      if (result.success) {\r\n        setStatus(result.status);\r\n      } else {\r\n        setError(result.error || 'Failed to load storage status');\r\n      }\r\n    } catch (error) {\r\n      setError(error instanceof Error ? error.message : 'Failed to load storage status');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const loadFiles = async () => {\r\n    if (!status?.isMounted) return;\r\n    \r\n    setLoading(true);\r\n    setError('');\r\n    \r\n    try {\r\n      const response = await fetch('/api/bigbook/storage/files');\r\n      const result = await response.json();\r\n      \r\n      if (result.success) {\r\n        setFiles(result.files);\r\n      } else {\r\n        setError(result.error || 'Failed to load files');\r\n      }\r\n    } catch (error) {\r\n      setError(error instanceof Error ? error.message : 'Failed to load files');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const mountVolume = async () => {\r\n    setLoading(true);\r\n    setError('');\r\n    \r\n    try {\r\n      const response = await fetch('/api/bigbook/storage/mount', { method: 'POST' });\r\n      const result = await response.json();\r\n      \r\n      if (result.success) {\r\n        await loadStatus();\r\n        await loadFiles();\r\n      } else {\r\n        setError(result.error || 'Failed to mount volume');\r\n      }\r\n    } catch (error) {\r\n      setError(error instanceof Error ? error.message : 'Failed to mount volume');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const unmountVolume = async () => {\r\n    setLoading(true);\r\n    setError('');\r\n    \r\n    try {\r\n      const response = await fetch('/api/bigbook/storage/unmount', { method: 'POST' });\r\n      const result = await response.json();\r\n      \r\n      if (result.success) {\r\n        await loadStatus();\r\n        setFiles([]);\r\n      } else {\r\n        setError(result.error || 'Failed to unmount volume');\r\n      }\r\n    } catch (error) {\r\n      setError(error instanceof Error ? error.message : 'Failed to unmount volume');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const rotateKey = async () => {\r\n    if (!window.confirm('Are you sure you want to rotate the encryption key? This will require remounting the volume.')) {\r\n      return;\r\n    }\r\n    \r\n    setLoading(true);\r\n    setError('');\r\n    \r\n    try {\r\n      const response = await fetch('/api/bigbook/storage/rotate-key', { method: 'POST' });\r\n      const result = await response.json();\r\n      \r\n      if (result.success) {\r\n        await loadStatus();\r\n        await loadFiles();\r\n      } else {\r\n        setError(result.error || 'Failed to rotate key');\r\n      }\r\n    } catch (error) {\r\n      setError(error instanceof Error ? error.message : 'Failed to rotate key');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadStatus();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (status?.isMounted) {\r\n      loadFiles();\r\n    }\r\n  }, [status?.isMounted]);\r\n\r\n  const formatBytes = (bytes: number) => {\r\n    if (bytes === 0) return '0 Bytes';\r\n    const k = 1024;\r\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\r\n  };\r\n\r\n  const getStatusIcon = () => {\r\n    if (!status) return <InfoIcon />;\r\n    if (status.error) return <ErrorIcon />;\r\n    if (status.isMounted) return <CheckCircleIcon />;\r\n    return <WarningIcon />;\r\n  };\r\n\r\n  const getStatusColor = () => {\r\n    if (!status) return 'default';\r\n    if (status.error) return 'error';\r\n    if (status.isMounted) return 'success';\r\n    return 'warning';\r\n  };\r\n\r\n  const getStatusText = () => {\r\n    if (!status) return 'Unknown';\r\n    if (status.error) return 'Error';\r\n    if (status.isMounted) return 'Mounted';\r\n    return 'Not Mounted';\r\n  };\r\n\r\n  return (\r\n    <Box sx={{ p: 3 }}>\r\n      <Typography variant=\"h4\" gutterBottom>\r\n        <StorageIcon sx={{ mr: 1, verticalAlign: 'middle' }} />\r\n        Encrypted Storage Management\r\n      </Typography>\r\n\r\n      {error && (\r\n        <Alert severity=\"error\" sx={{ mb: 2 }}>\r\n          {error}\r\n        </Alert>\r\n      )}\r\n\r\n      {/* Status Card */}\r\n      <Card sx={{ mb: 3 }}>\r\n        <CardContent>\r\n          <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', mb: 2 }}>\r\n            <Typography variant=\"h6\">\r\n              Storage Status\r\n            </Typography>\r\n            <Box>\r\n              <Tooltip title=\"Refresh Status\">\r\n                <IconButton onClick={loadStatus} disabled={loading}>\r\n                  <RefreshIcon />\r\n                </IconButton>\r\n              </Tooltip>\r\n            </Box>\r\n          </Box>\r\n\r\n          {loading ? (\r\n            <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'center', py: 2 }}>\r\n              <CircularProgress size={24} sx={{ mr: 1 }} />\r\n              <Typography>Loading...</Typography>\r\n            </Box>\r\n          ) : status ? (\r\n            <Stack spacing={2}>\r\n              <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                <Chip\r\n                  icon={getStatusIcon()}\r\n                  label={getStatusText()}\r\n                  color={getStatusColor()}\r\n                  variant=\"outlined\"\r\n                />\r\n                {status.isMounted && (\r\n                  <Chip\r\n                    icon={<LockOpenIcon />}\r\n                    label=\"Unlocked\"\r\n                    color=\"success\"\r\n                    variant=\"outlined\"\r\n                  />\r\n                )}\r\n              </Box>\r\n\r\n              <Box sx={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: 2 }}>\r\n                <Box>\r\n                  <Typography variant=\"body2\" color=\"text.secondary\">Mount Path</Typography>\r\n                  <Typography variant=\"body1\" fontFamily=\"monospace\">{status.mountPath}</Typography>\r\n                </Box>\r\n                <Box>\r\n                  <Typography variant=\"body2\" color=\"text.secondary\">Source Path</Typography>\r\n                  <Typography variant=\"body1\" fontFamily=\"monospace\">{status.sourcePath}</Typography>\r\n                </Box>\r\n                <Box>\r\n                  <Typography variant=\"body2\" color=\"text.secondary\">File Count</Typography>\r\n                  <Typography variant=\"body1\">{status.fileCount}</Typography>\r\n                </Box>\r\n                <Box>\r\n                  <Typography variant=\"body2\" color=\"text.secondary\">Total Size</Typography>\r\n                  <Typography variant=\"body1\">{formatBytes(status.totalSize)}</Typography>\r\n                </Box>\r\n              </Box>\r\n\r\n              <Divider />\r\n\r\n              <Box sx={{ display: 'flex', gap: 1 }}>\r\n                {!status.isMounted ? (\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    startIcon={<LockOpenIcon />}\r\n                    onClick={mountVolume}\r\n                    disabled={loading}\r\n                  >\r\n                    Mount Volume\r\n                  </Button>\r\n                ) : (\r\n                  <Button\r\n                    variant=\"outlined\"\r\n                    startIcon={<LockIcon />}\r\n                    onClick={unmountVolume}\r\n                    disabled={loading}\r\n                  >\r\n                    Unmount Volume\r\n                  </Button>\r\n                )}\r\n                \r\n                <Button\r\n                  variant=\"outlined\"\r\n                  startIcon={<KeyIcon />}\r\n                  onClick={rotateKey}\r\n                  disabled={loading || !status.isMounted}\r\n                >\r\n                  Rotate Key\r\n                </Button>\r\n              </Box>\r\n            </Stack>\r\n          ) : (\r\n            <Typography color=\"text.secondary\">No status available</Typography>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Files List */}\r\n      {status?.isMounted && (\r\n        <Card>\r\n          <CardContent>\r\n            <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', mb: 2 }}>\r\n              <Typography variant=\"h6\">\r\n                Stored Files ({files.length})\r\n              </Typography>\r\n              <Tooltip title=\"Refresh Files\">\r\n                <IconButton onClick={loadFiles} disabled={loading}>\r\n                  <RefreshIcon />\r\n                </IconButton>\r\n              </Tooltip>\r\n            </Box>\r\n\r\n            {loading ? (\r\n              <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'center', py: 2 }}>\r\n                <CircularProgress size={24} sx={{ mr: 1 }} />\r\n                <Typography>Loading files...</Typography>\r\n              </Box>\r\n            ) : files.length > 0 ? (\r\n              <List>\r\n                {files.map((file) => (\r\n                  <ListItem key={file.fileId} divider>\r\n                    <ListItemIcon>\r\n                      <StorageIcon />\r\n                    </ListItemIcon>\r\n                    <ListItemText\r\n                      primary={file.originalName}\r\n                      secondary={\r\n                        <Box>\r\n                          <Typography variant=\"body2\" color=\"text.secondary\">\r\n                            ID: {file.fileId}\r\n                          </Typography>\r\n                          <Typography variant=\"body2\" color=\"text.secondary\">\r\n                            Size: {formatBytes(file.size)} | Created: {new Date(file.createdAt).toLocaleString()}\r\n                          </Typography>\r\n                          <Typography variant=\"body2\" color=\"text.secondary\" fontFamily=\"monospace\" fontSize=\"0.75rem\">\r\n                            {file.relativePath}\r\n                          </Typography>\r\n                        </Box>\r\n                      }\r\n                    />\r\n                    <ListItemSecondaryAction>\r\n                      <Stack direction=\"row\" spacing={1}>\r\n                        <Tooltip title=\"Download\">\r\n                          <IconButton size=\"small\">\r\n                            <CloudDownloadIcon />\r\n                          </IconButton>\r\n                        </Tooltip>\r\n                        <Tooltip title=\"Delete\">\r\n                          <IconButton size=\"small\" color=\"error\">\r\n                            <DeleteIcon />\r\n                          </IconButton>\r\n                        </Tooltip>\r\n                      </Stack>\r\n                    </ListItemSecondaryAction>\r\n                  </ListItem>\r\n                ))}\r\n              </List>\r\n            ) : (\r\n              <Typography color=\"text.secondary\" textAlign=\"center\" py={2}>\r\n                No files stored in encrypted storage\r\n              </Typography>\r\n            )}\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n\r\n      {/* Security Information */}\r\n      <Card sx={{ mt: 3 }}>\r\n        <CardContent>\r\n          <Typography variant=\"h6\" gutterBottom>\r\n            <SecurityIcon sx={{ mr: 1, verticalAlign: 'middle' }} />\r\n            Security Information\r\n          </Typography>\r\n          \r\n          <Stack spacing={1}>\r\n            <Typography variant=\"body2\">\r\n               Files are encrypted using eCryptFS with AES-256 encryption\r\n            </Typography>\r\n            <Typography variant=\"body2\">\r\n               Encryption keys are stored securely and never exposed in plaintext\r\n            </Typography>\r\n            <Typography variant=\"body2\">\r\n               Files are only accessible through the Big Book Viewer interface\r\n            </Typography>\r\n            <Typography variant=\"body2\">\r\n               Direct filesystem access is blocked via restrictive permissions\r\n            </Typography>\r\n            <Typography variant=\"body2\">\r\n               Volume auto-locks when unmounted or service stops\r\n            </Typography>\r\n          </Stack>\r\n        </CardContent>\r\n      </Card>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default EncryptedStoragePanel; ","import React, { useState, useRef, useEffect } from 'react';\r\nimport {\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  Button,\r\n  Box,\r\n  Typography,\r\n  Paper,\r\n  Chip,\r\n  Alert,\r\n  CircularProgress,\r\n  IconButton,\r\n  Tooltip,\r\n  Stack,\r\n  Card,\r\n  CardContent,\r\n  Divider\r\n} from '@mui/material';\r\nimport {\r\n  Close as CloseIcon,\r\n  PlayArrow as PlayIcon,\r\n  Save as SaveIcon,\r\n  Send as SendIcon,\r\n  Security as SecurityIcon,\r\n  Psychology as PsychologyIcon,\r\n  Timer as TimerIcon,\r\n  Group as GroupIcon\r\n} from '@mui/icons-material';\r\n\r\n// Types for questionnaire responses\r\ninterface QuestionnaireResponse {\r\n  questionId: string;\r\n  answer: any;\r\n  timestamp: Date;\r\n}\r\n\r\ninterface QuestionnaireSubmission {\r\n  questionnaireId: string;\r\n  userId?: number;\r\n  responses: QuestionnaireResponse[];\r\n  ageGroup?: string;\r\n  questionnaireTitle?: string;\r\n  progressPercent: number;\r\n  isCompleted: boolean;\r\n}\r\n\r\ninterface FileUpload {\r\n  id: string;\r\n  name: string;\r\n  content: string;\r\n  isQuestionnaire?: boolean;\r\n  questionnaireMetadata?: {\r\n    id: string;\r\n    fileName: string;\r\n    title: string;\r\n    description: string;\r\n    ageGroup: string;\r\n    type: string;\r\n    version: string;\r\n    author: string;\r\n    estimatedDuration: number;\r\n    questions: any[];\r\n    metadata: any;\r\n  };\r\n}\r\n\r\ninterface QuestionnairePreviewProps {\r\n  open: boolean;\r\n  onClose: () => void;\r\n  file: FileUpload | null;\r\n  onSubmit: (submission: QuestionnaireSubmission) => void;\r\n}\r\n\r\nconst QuestionnairePreview: React.FC<QuestionnairePreviewProps> = ({\r\n  open,\r\n  onClose,\r\n  file,\r\n  onSubmit\r\n}) => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState<string>('');\r\n  const [responses, setResponses] = useState<{ [key: string]: any }>({});\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [renderError, setRenderError] = useState<string>('');\r\n  const iframeRef = useRef<HTMLIFrameElement>(null);\r\n\r\n  // Security validation\r\n  const validateTSXContent = (content: string): { isValid: boolean; issues: string[] } => {\r\n    const issues: string[] = [];\r\n    \r\n    // Check for dangerous patterns\r\n    const dangerousPatterns = [\r\n      { pattern: /eval\\s*\\(/, message: 'eval() calls are not allowed' },\r\n      { pattern: /Function\\s*\\(/, message: 'Function constructor is not allowed' },\r\n      { pattern: /innerHTML\\s*=/, message: 'innerHTML is not allowed' },\r\n      { pattern: /dangerouslySetInnerHTML/, message: 'dangerouslySetInnerHTML is not allowed' },\r\n      { pattern: /document\\.write/, message: 'document.write is not allowed' },\r\n      { pattern: /window\\./, message: 'Direct window access is restricted' },\r\n      { pattern: /fetch\\s*\\(/, message: 'fetch calls should be validated' },\r\n      { pattern: /XMLHttpRequest/, message: 'XMLHttpRequest is not allowed' }\r\n    ];\r\n\r\n    for (const { pattern, message } of dangerousPatterns) {\r\n      if (pattern.test(content)) {\r\n        issues.push(message);\r\n      }\r\n    }\r\n\r\n    return {\r\n      isValid: issues.length === 0,\r\n      issues\r\n    };\r\n  };\r\n\r\n  // Create secure sandbox for component rendering\r\n  const createSecureSandbox = (content: string): string => {\r\n    // Remove dangerous imports and replace with safe alternatives\r\n    const sanitizedContent = content\r\n      .replace(/import\\s+.*?from\\s+['\"][^'\"]*?['\"];?/g, '') // Remove imports\r\n      .replace(/export\\s+default\\s+/, '') // Remove export default\r\n      .replace(/export\\s+/, ''); // Remove other exports\r\n\r\n    // Create sandbox wrapper\r\n    return `\r\n      (function() {\r\n        'use strict';\r\n        \r\n        // Restricted globals\r\n        const window = undefined;\r\n        const document = undefined;\r\n        const global = undefined;\r\n        const process = undefined;\r\n        const require = undefined;\r\n        const module = undefined;\r\n        const exports = undefined;\r\n        \r\n        // Safe React context\r\n        const React = {\r\n          useState: parent.React.useState,\r\n          useEffect: parent.React.useEffect,\r\n          useCallback: parent.React.useCallback,\r\n          useMemo: parent.React.useMemo,\r\n          createElement: parent.React.createElement,\r\n          Fragment: parent.React.Fragment\r\n        };\r\n        \r\n        // Safe UI components (limited subset)\r\n        const { \r\n          Box, \r\n          Typography, \r\n          Button, \r\n          TextField, \r\n          Radio, \r\n          RadioGroup, \r\n          FormControl, \r\n          FormLabel, \r\n          FormControlLabel,\r\n          Checkbox,\r\n          Select,\r\n          MenuItem,\r\n          Slider,\r\n          Stack,\r\n          Card,\r\n          CardContent\r\n        } = parent.MUI;\r\n        \r\n        // Response handler\r\n        const handleResponse = (questionId, answer) => {\r\n          parent.postMessage({\r\n            type: 'QUESTIONNAIRE_RESPONSE',\r\n            data: { questionId, answer }\r\n          }, '*');\r\n        };\r\n        \r\n        // Component code\r\n        ${sanitizedContent}\r\n        \r\n        // Render the component\r\n        try {\r\n          const component = typeof Questionnaire === 'function' \r\n            ? React.createElement(Questionnaire, { onResponse: handleResponse })\r\n            : React.createElement('div', {}, 'Invalid questionnaire component');\r\n          \r\n          parent.ReactDOM.render(component, document.getElementById('questionnaire-root'));\r\n        } catch (error) {\r\n          parent.postMessage({\r\n            type: 'QUESTIONNAIRE_ERROR',\r\n            data: { message: error.message }\r\n          }, '*');\r\n        }\r\n      })();\r\n    `;\r\n  };\r\n\r\n  // Handle component rendering\r\n  const renderComponent = () => {\r\n    if (!file || !file.isQuestionnaire || !file.content) {\r\n      setRenderError('Invalid questionnaire file');\r\n      return;\r\n    }\r\n\r\n    const validation = validateTSXContent(file.content);\r\n    if (!validation.isValid) {\r\n      setRenderError(`Security validation failed: ${validation.issues.join(', ')}`);\r\n      return;\r\n    }\r\n\r\n    setIsLoading(true);\r\n    setRenderError('');\r\n\r\n    try {\r\n      const sandboxCode = createSecureSandbox(file.content);\r\n      \r\n      // Create sandboxed iframe content\r\n      const iframeContent = `\r\n        <!DOCTYPE html>\r\n        <html>\r\n        <head>\r\n          <meta charset=\"utf-8\">\r\n          <title>Questionnaire Preview</title>\r\n          <style>\r\n            body { \r\n              font-family: 'Roboto', sans-serif; \r\n              margin: 16px; \r\n              background: #fafafa;\r\n            }\r\n            #questionnaire-root { \r\n              max-width: 800px; \r\n              margin: 0 auto; \r\n              background: white;\r\n              border-radius: 8px;\r\n              padding: 24px;\r\n              box-shadow: 0 2px 8px rgba(0,0,0,0.1);\r\n            }\r\n          </style>\r\n          <script crossorigin src=\"https://unpkg.com/react@18/umd/react.development.js\"></script>\r\n          <script crossorigin src=\"https://unpkg.com/react-dom@18/umd/react-dom.development.js\"></script>\r\n          <script crossorigin src=\"https://unpkg.com/@mui/material@latest/umd/material-ui.development.js\"></script>\r\n        </head>\r\n        <body>\r\n          <div id=\"questionnaire-root\">\r\n            <div style=\"text-align: center; padding: 40px;\">\r\n              <div style=\"font-size: 18px; color: #666;\">Loading questionnaire...</div>\r\n            </div>\r\n          </div>\r\n          <script>\r\n            // Set up communication\r\n            window.addEventListener('message', function(event) {\r\n              if (event.data.type === 'QUESTIONNAIRE_RESPONSE') {\r\n                parent.postMessage(event.data, '*');\r\n              } else if (event.data.type === 'QUESTIONNAIRE_ERROR') {\r\n                parent.postMessage(event.data, '*');\r\n              }\r\n            });\r\n            \r\n            // Make React and MUI available\r\n            window.React = React;\r\n            window.ReactDOM = ReactDOM;\r\n            window.MUI = MaterialUI;\r\n            \r\n            // Execute sandboxed component\r\n            ${sandboxCode}\r\n          </script>\r\n        </body>\r\n        </html>\r\n      `;\r\n\r\n      if (iframeRef.current) {\r\n        const iframe = iframeRef.current;\r\n        iframe.srcdoc = iframeContent;\r\n      }\r\n\r\n      setIsLoading(false);\r\n    } catch (error) {\r\n      setRenderError(`Failed to render component: ${error instanceof Error ? error.message : 'Unknown error'}`);\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // Handle messages from iframe\r\n  useEffect(() => {\r\n    const handleMessage = (event: MessageEvent) => {\r\n      if (event.data.type === 'QUESTIONNAIRE_RESPONSE') {\r\n        const { questionId, answer } = event.data.data;\r\n        setResponses(prev => ({\r\n          ...prev,\r\n          [questionId]: {\r\n            answer,\r\n            timestamp: new Date()\r\n          }\r\n        }));\r\n      } else if (event.data.type === 'QUESTIONNAIRE_ERROR') {\r\n        setRenderError(event.data.data.message);\r\n      }\r\n    };\r\n\r\n    window.addEventListener('message', handleMessage);\r\n    return () => window.removeEventListener('message', handleMessage);\r\n  }, []);\r\n\r\n  // Render component when file changes\r\n  useEffect(() => {\r\n    if (open && file && file.isQuestionnaire) {\r\n      renderComponent();\r\n    }\r\n  }, [open, file]);\r\n\r\n  // Handle submission\r\n  const handleSubmit = async () => {\r\n    if (!file?.questionnaireMetadata) return;\r\n\r\n    setIsSubmitting(true);\r\n    try {\r\n      const submission: QuestionnaireSubmission = {\r\n        questionnaireId: file.questionnaireMetadata.id,\r\n        responses: Object.entries(responses).map(([questionId, response]) => ({\r\n          questionId,\r\n          answer: response.answer,\r\n          timestamp: response.timestamp\r\n        })),\r\n        ageGroup: file.questionnaireMetadata.ageGroup,\r\n        questionnaireTitle: file.questionnaireMetadata.title,\r\n        progressPercent: Object.keys(responses).length > 0 ? 100 : 0,\r\n        isCompleted: true\r\n      };\r\n\r\n      await onSubmit(submission);\r\n      onClose();\r\n    } catch (error) {\r\n      setError(error instanceof Error ? error.message : 'Submission failed');\r\n    }\r\n    setIsSubmitting(false);\r\n  };\r\n\r\n  const responseCount = Object.keys(responses).length;\r\n\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      onClose={onClose}\r\n      maxWidth=\"lg\"\r\n      fullWidth\r\n      PaperProps={{\r\n        sx: { height: '90vh', display: 'flex', flexDirection: 'column' }\r\n      }}\r\n    >\r\n      <DialogTitle sx={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\r\n        <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n          <PsychologyIcon color=\"primary\" />\r\n          <Typography variant=\"h6\">\r\n            {file?.questionnaireMetadata?.title || 'Questionnaire Preview'}\r\n          </Typography>\r\n        </Box>\r\n        <IconButton onClick={onClose} size=\"small\">\r\n          <CloseIcon />\r\n        </IconButton>\r\n      </DialogTitle>\r\n\r\n      <DialogContent sx={{ flex: 1, display: 'flex', flexDirection: 'column', p: 0 }}>\r\n        {/* Metadata Header */}\r\n        {file?.questionnaireMetadata && (\r\n          <Card sx={{ m: 2, mb: 1 }} variant=\"outlined\">\r\n            <CardContent sx={{ py: 2 }}>\r\n              <Stack direction=\"row\" spacing={2} alignItems=\"center\" flexWrap=\"wrap\">\r\n                <Chip \r\n                  icon={<GroupIcon />} \r\n                  label={file.questionnaireMetadata.ageGroup} \r\n                  size=\"small\" \r\n                  color=\"primary\" \r\n                />\r\n                <Chip \r\n                  icon={<TimerIcon />} \r\n                  label={`${file.questionnaireMetadata.estimatedDuration} min`} \r\n                  size=\"small\" \r\n                  color=\"secondary\" \r\n                />\r\n                <Chip \r\n                  icon={<SecurityIcon />} \r\n                  label=\"Sandboxed\" \r\n                  size=\"small\" \r\n                  color=\"success\" \r\n                />\r\n                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                  v{file.questionnaireMetadata.version} by {file.questionnaireMetadata.author}\r\n                </Typography>\r\n              </Stack>\r\n              {file.questionnaireMetadata.description && (\r\n                <Typography variant=\"body2\" sx={{ mt: 1 }}>\r\n                  {file.questionnaireMetadata.description}\r\n                </Typography>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n        )}\r\n\r\n        {/* Error Display */}\r\n        {(error || renderError) && (\r\n          <Alert severity=\"error\" sx={{ m: 2 }}>\r\n            {error || renderError}\r\n          </Alert>\r\n        )}\r\n\r\n        {/* Loading State */}\r\n        {isLoading && (\r\n          <Box sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center', flex: 1 }}>\r\n            <Stack alignItems=\"center\" spacing={2}>\r\n              <CircularProgress />\r\n              <Typography>Loading questionnaire...</Typography>\r\n            </Stack>\r\n          </Box>\r\n        )}\r\n\r\n        {/* Component Preview */}\r\n        {!isLoading && !error && !renderError && (\r\n          <Box sx={{ flex: 1, border: 1, borderColor: 'divider', m: 2, borderRadius: 1 }}>\r\n            <iframe\r\n              ref={iframeRef}\r\n              style={{\r\n                width: '100%',\r\n                height: '100%',\r\n                border: 'none',\r\n                borderRadius: '4px'\r\n              }}\r\n              sandbox=\"allow-scripts allow-same-origin\"\r\n              title=\"Questionnaire Preview\"\r\n            />\r\n          </Box>\r\n        )}\r\n\r\n        {/* Response Summary */}\r\n        {responseCount > 0 && (\r\n          <Card sx={{ m: 2, mt: 0 }} variant=\"outlined\">\r\n            <CardContent sx={{ py: 2 }}>\r\n              <Typography variant=\"subtitle2\" gutterBottom>\r\n                Responses Collected: {responseCount}\r\n              </Typography>\r\n              <Box sx={{ maxHeight: 100, overflow: 'auto' }}>\r\n                {Object.entries(responses).map(([questionId, response]) => (\r\n                  <Typography key={questionId} variant=\"body2\" color=\"text.secondary\">\r\n                    {questionId}: {JSON.stringify(response.answer).substring(0, 50)}...\r\n                  </Typography>\r\n                ))}\r\n              </Box>\r\n            </CardContent>\r\n          </Card>\r\n        )}\r\n      </DialogContent>\r\n\r\n      <DialogActions sx={{ p: 2, borderTop: 1, borderColor: 'divider' }}>\r\n        <Button onClick={onClose} disabled={isSubmitting}>\r\n          Cancel\r\n        </Button>\r\n        <Button\r\n          onClick={handleSubmit}\r\n          variant=\"contained\"\r\n          disabled={responseCount === 0 || isSubmitting}\r\n          startIcon={isSubmitting ? <CircularProgress size={16} /> : <SendIcon />}\r\n        >\r\n          {isSubmitting ? 'Submitting...' : 'Submit Responses'}\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default QuestionnairePreview; ","import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  Typography,\r\n  Button,\r\n  Box,\r\n  Grid,\r\n  Chip,\r\n  LinearProgress,\r\n  Alert,\r\n  Paper,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemSecondaryAction,\r\n  IconButton,\r\n  Divider,\r\n  CircularProgress,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  TextField,\r\n  Accordion,\r\n  AccordionSummary,\r\n  AccordionDetails,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  Badge,\r\n  Tooltip\r\n} from '@mui/material';\r\nimport {\r\n  Search as SearchIcon,\r\n  Refresh as RefreshIcon,\r\n  PlayArrow as StartIcon,\r\n  Stop as StopIcon,\r\n  Schedule as ScheduleIcon,\r\n  Folder as FolderIcon,\r\n  Description as FileIcon,\r\n  Code as CodeIcon,\r\n  Security as SecurityIcon,\r\n  Info as InfoIcon,\r\n  ExpandMore as ExpandMoreIcon,\r\n  Visibility as ViewIcon,\r\n  Assessment as StatsIcon,\r\n  Timeline as TimelineIcon,\r\n  AutoMode as AutoIcon\r\n} from '@mui/icons-material';\r\n\r\ninterface DiscoveryStatus {\r\n  status: string;\r\n  version?: string;\r\n  totalFiles?: number;\r\n  categories?: number;\r\n  lastDiscovery?: string;\r\n  indexPath?: string;\r\n  message?: string;\r\n  error?: string;\r\n}\r\n\r\ninterface DiscoverySummary {\r\n  timestamp: string;\r\n  totalFiles: number;\r\n  categories: Record<string, number>;\r\n  types: Record<string, number>;\r\n  topCategories: Array<{ category: string; count: number }>;\r\n  averageFileSize: number;\r\n  totalSize: number;\r\n}\r\n\r\ninterface BigBookIndex {\r\n  version: string;\r\n  createdAt: string;\r\n  totalFiles: number;\r\n  categories: Record<string, { files: any[]; count: number }>;\r\n  files: Record<string, any>;\r\n}\r\n\r\ninterface FileMetadata {\r\n  id: string;\r\n  originalPath: string;\r\n  name: string;\r\n  extension: string;\r\n  size: number;\r\n  classification: {\r\n    type: string;\r\n    category: string;\r\n    confidence: number;\r\n  };\r\n  metadata: {\r\n    fileStats: {\r\n      lines: number;\r\n      characters: number;\r\n      words: number;\r\n    };\r\n    dependencies: any[];\r\n    security: {\r\n      findings: any[];\r\n      hasSecurityIssues: boolean;\r\n    };\r\n    complexity: any;\r\n  };\r\n}\r\n\r\nconst OMAIDiscoveryPanel: React.FC = () => {\r\n  const [status, setStatus] = useState<DiscoveryStatus | null>(null);\r\n  const [summary, setSummary] = useState<DiscoverySummary | null>(null);\r\n  const [index, setIndex] = useState<BigBookIndex | null>(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [discovering, setDiscovering] = useState(false);\r\n  const [selectedCategory, setSelectedCategory] = useState<string | null>(null);\r\n  const [categoryFiles, setCategoryFiles] = useState<any[]>([]);\r\n  const [selectedFile, setSelectedFile] = useState<FileMetadata | null>(null);\r\n  const [fileContent, setFileContent] = useState<string>('');\r\n  const [fileDialogOpen, setFileDialogOpen] = useState(false);\r\n  const [scheduleDialogOpen, setScheduleDialogOpen] = useState(false);\r\n  const [scheduleHours, setScheduleHours] = useState(24);\r\n  const [learningLoading, setLearningLoading] = useState(false);\r\n  const [learningStatus, setLearningStatus] = useState<any>(null);\r\n  const [learningDialogOpen, setLearningDialogOpen] = useState(false);\r\n\r\n  // Load initial data\r\n  useEffect(() => {\r\n    loadStatus();\r\n    loadSummary();\r\n    loadIndex();\r\n    loadLearningStatus();\r\n  }, []);\r\n\r\n  const loadStatus = async () => {\r\n    try {\r\n      const response = await fetch('/api/bigbook/omai/status');\r\n      const data = await response.json();\r\n      if (data.success) {\r\n        setStatus(data.status);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to load OMAI status:', error);\r\n    }\r\n  };\r\n\r\n  const loadSummary = async () => {\r\n    try {\r\n      const response = await fetch('/api/bigbook/omai/summary');\r\n      const data = await response.json();\r\n      if (data.success && data.summary) {\r\n        setSummary(data.summary);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to load discovery summary:', error);\r\n    }\r\n  };\r\n\r\n  const loadIndex = async () => {\r\n    try {\r\n      const response = await fetch('/api/bigbook/omai/index');\r\n      const data = await response.json();\r\n      if (data.success && data.index) {\r\n        setIndex(data.index);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to load Big Book index:', error);\r\n    }\r\n  };\r\n\r\n  const initializeOMAI = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await fetch('/api/bigbook/omai/initialize', {\r\n        method: 'POST'\r\n      });\r\n      const data = await response.json();\r\n      if (data.success) {\r\n        await loadStatus();\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to initialize OMAI:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const startDiscovery = async () => {\r\n    setDiscovering(true);\r\n    try {\r\n      const response = await fetch('/api/bigbook/omai/discover', {\r\n        method: 'POST'\r\n      });\r\n      const data = await response.json();\r\n      if (data.success) {\r\n        // Poll for completion\r\n        const pollInterval = setInterval(async () => {\r\n          await loadStatus();\r\n          await loadSummary();\r\n          await loadIndex();\r\n        }, 5000);\r\n\r\n        // Stop polling after 5 minutes\r\n        setTimeout(() => {\r\n          clearInterval(pollInterval);\r\n          setDiscovering(false);\r\n        }, 300000);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to start discovery:', error);\r\n      setDiscovering(false);\r\n    }\r\n  };\r\n\r\n  const loadCategoryFiles = async (category: string) => {\r\n    try {\r\n      const encodedCategory = category.toLowerCase().replace(/[^a-z0-9]/g, '_');\r\n      const response = await fetch(`/api/bigbook/omai/category/${encodedCategory}`);\r\n      const data = await response.json();\r\n      if (data.success) {\r\n        setCategoryFiles(data.files);\r\n        setSelectedCategory(category);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to load category files:', error);\r\n    }\r\n  };\r\n\r\n  const loadFileDetails = async (fileId: string) => {\r\n    try {\r\n      const [metadataResponse, contentResponse] = await Promise.all([\r\n        fetch(`/api/bigbook/omai/file/${fileId}`),\r\n        fetch(`/api/bigbook/omai/file/${fileId}/content`)\r\n      ]);\r\n\r\n      const metadataData = await metadataResponse.json();\r\n      const contentData = await contentResponse.json();\r\n\r\n      if (metadataData.success && contentData.success) {\r\n        setSelectedFile(metadataData.file);\r\n        setFileContent(contentData.content);\r\n        setFileDialogOpen(true);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to load file details:', error);\r\n    }\r\n  };\r\n\r\n  const scheduleDiscovery = async () => {\r\n    try {\r\n      const response = await fetch('/api/bigbook/omai/schedule', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ intervalHours: scheduleHours })\r\n      });\r\n      const data = await response.json();\r\n      if (data.success) {\r\n        setScheduleDialogOpen(false);\r\n        await loadStatus();\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to schedule discovery:', error);\r\n    }\r\n  };\r\n\r\n  const loadLearningStatus = async () => {\r\n    try {\r\n      const response = await fetch('/api/omai/learning-status');\r\n      const data = await response.json();\r\n      if (data.success) {\r\n        setLearningStatus(data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to load learning status:', error);\r\n    }\r\n  };\r\n\r\n  const refreshLearning = async () => {\r\n    setLearningLoading(true);\r\n    try {\r\n      const response = await fetch('/api/omai/learn-now', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ forceRefresh: true })\r\n      });\r\n      const data = await response.json();\r\n      \r\n      if (data.success) {\r\n        setLearningDialogOpen(true);\r\n        await loadLearningStatus();\r\n      } else {\r\n        console.error('Learning refresh failed:', data.error);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to refresh learning:', error);\r\n    } finally {\r\n      setLearningLoading(false);\r\n    }\r\n  };\r\n\r\n  const formatFileSize = (bytes: number) => {\r\n    if (bytes === 0) return '0 Bytes';\r\n    const k = 1024;\r\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\r\n  };\r\n\r\n  const getStatusColor = (status: string) => {\r\n    switch (status) {\r\n      case 'ready': return 'success';\r\n      case 'not_initialized': return 'warning';\r\n      case 'error': return 'error';\r\n      default: return 'default';\r\n    }\r\n  };\r\n\r\n  const getCategoryIcon = (category: string) => {\r\n    if (category.includes('DevOps')) return <CodeIcon />;\r\n    if (category.includes('Documentation')) return <FileIcon />;\r\n    if (category.includes('Backend')) return <CodeIcon />;\r\n    if (category.includes('Frontend')) return <CodeIcon />;\r\n    return <FolderIcon />;\r\n  };\r\n\r\n  return (\r\n    <Box sx={{ p: 3 }}>\r\n      {/* Header */}\r\n      <Card sx={{ mb: 3 }}>\r\n        <CardContent>\r\n          <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={2}>\r\n            <Typography variant=\"h5\" component=\"h2\">\r\n              <AutoIcon sx={{ mr: 1, verticalAlign: 'middle' }} />\r\n              OMAI Path Discovery\r\n            </Typography>\r\n            <Box>\r\n              <Button\r\n                variant=\"outlined\"\r\n                startIcon={<RefreshIcon />}\r\n                onClick={loadStatus}\r\n                sx={{ mr: 1 }}\r\n              >\r\n                Refresh\r\n              </Button>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"secondary\"\r\n                startIcon={learningLoading ? <CircularProgress size={16} /> : <AutoIcon />}\r\n                onClick={refreshLearning}\r\n                disabled={learningLoading}\r\n                sx={{ mr: 1 }}\r\n              >\r\n                {learningLoading ? 'Learning...' : 'Refresh Learning'}\r\n              </Button>\r\n              <Button\r\n                variant=\"contained\"\r\n                startIcon={<ScheduleIcon />}\r\n                onClick={() => setScheduleDialogOpen(true)}\r\n              >\r\n                Schedule\r\n              </Button>\r\n            </Box>\r\n          </Box>\r\n\r\n          {/* Status */}\r\n          {status && (\r\n            <Alert \r\n              severity={getStatusColor(status.status) as any}\r\n              sx={{ mb: 2 }}\r\n            >\r\n              <Typography variant=\"body2\">\r\n                <strong>Status:</strong> {status.status}\r\n                {status.message && ` - ${status.message}`}\r\n                {status.totalFiles && ` | ${status.totalFiles} files indexed`}\r\n                {status.lastDiscovery && ` | Last discovery: ${new Date(status.lastDiscovery).toLocaleString()}`}\r\n              </Typography>\r\n            </Alert>\r\n          )}\r\n\r\n          {/* Control Buttons */}\r\n          <Box display=\"flex\" gap={2}>\r\n            {status?.status === 'not_initialized' && (\r\n              <Button\r\n                variant=\"contained\"\r\n                startIcon={<StartIcon />}\r\n                onClick={initializeOMAI}\r\n                disabled={loading}\r\n              >\r\n                {loading ? <CircularProgress size={20} /> : 'Initialize OMAI'}\r\n              </Button>\r\n            )}\r\n            \r\n            {status?.status === 'ready' && (\r\n              <Button\r\n                variant=\"contained\"\r\n                startIcon={discovering ? <CircularProgress size={20} /> : <SearchIcon />}\r\n                onClick={startDiscovery}\r\n                disabled={discovering}\r\n              >\r\n                {discovering ? 'Discovering...' : 'Start Discovery'}\r\n              </Button>\r\n            )}\r\n          </Box>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Discovery Summary */}\r\n      {summary && (\r\n        <Card sx={{ mb: 3 }}>\r\n          <CardContent>\r\n            <Typography variant=\"h6\" gutterBottom>\r\n              <StatsIcon sx={{ mr: 1, verticalAlign: 'middle' }} />\r\n              Discovery Summary\r\n            </Typography>\r\n            \r\n            <Grid container spacing={3}>\r\n              <Grid item xs={12} sm={6} md={3}>\r\n                <Paper sx={{ p: 2, textAlign: 'center' }}>\r\n                  <Typography variant=\"h4\" color=\"primary\">\r\n                    {summary.totalFiles}\r\n                  </Typography>\r\n                  <Typography variant=\"body2\" color=\"text.secondary\">\r\n                    Total Files\r\n                  </Typography>\r\n                </Paper>\r\n              </Grid>\r\n              \r\n              <Grid item xs={12} sm={6} md={3}>\r\n                <Paper sx={{ p: 2, textAlign: 'center' }}>\r\n                  <Typography variant=\"h4\" color=\"success.main\">\r\n                    {Object.keys(summary.categories).length}\r\n                  </Typography>\r\n                  <Typography variant=\"body2\" color=\"text.secondary\">\r\n                    Categories\r\n                  </Typography>\r\n                </Paper>\r\n              </Grid>\r\n              \r\n              <Grid item xs={12} sm={6} md={3}>\r\n                <Paper sx={{ p: 2, textAlign: 'center' }}>\r\n                  <Typography variant=\"h4\" color=\"info.main\">\r\n                    {formatFileSize(summary.totalSize)}\r\n                  </Typography>\r\n                  <Typography variant=\"body2\" color=\"text.secondary\">\r\n                    Total Size\r\n                  </Typography>\r\n                </Paper>\r\n              </Grid>\r\n              \r\n              <Grid item xs={12} sm={6} md={3}>\r\n                <Paper sx={{ p: 2, textAlign: 'center' }}>\r\n                  <Typography variant=\"h4\" color=\"warning.main\">\r\n                    {formatFileSize(summary.averageFileSize)}\r\n                  </Typography>\r\n                  <Typography variant=\"body2\" color=\"text.secondary\">\r\n                    Avg File Size\r\n                  </Typography>\r\n                </Paper>\r\n              </Grid>\r\n            </Grid>\r\n\r\n            {/* Top Categories */}\r\n            <Box mt={3}>\r\n              <Typography variant=\"subtitle1\" gutterBottom>\r\n                Top Categories\r\n              </Typography>\r\n              <Grid container spacing={1}>\r\n                {summary.topCategories.slice(0, 6).map((category, index) => (\r\n                  <Grid item key={index}>\r\n                    <Chip\r\n                      label={`${category.category}: ${category.count}`}\r\n                      variant=\"outlined\"\r\n                      size=\"small\"\r\n                      clickable\r\n                      onClick={() => loadCategoryFiles(category.category)}\r\n                    />\r\n                  </Grid>\r\n                ))}\r\n              </Grid>\r\n            </Box>\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n\r\n      {/* File Index */}\r\n      {index && (\r\n        <Card>\r\n          <CardContent>\r\n            <Typography variant=\"h6\" gutterBottom>\r\n              <FolderIcon sx={{ mr: 1, verticalAlign: 'middle' }} />\r\n              File Index - {index.totalFiles} Files\r\n            </Typography>\r\n\r\n            {/* Categories */}\r\n            <Box mb={2}>\r\n              {Object.entries(index.categories).map(([category, data]) => (\r\n                <Accordion key={category}>\r\n                  <AccordionSummary expandIcon={<ExpandMoreIcon />}>\r\n                    <Box display=\"flex\" alignItems=\"center\" width=\"100%\">\r\n                      {getCategoryIcon(category)}\r\n                      <Typography sx={{ ml: 1, flex: 1 }}>\r\n                        {category}\r\n                      </Typography>\r\n                      <Badge badgeContent={data.count} color=\"primary\" sx={{ mr: 2 }} />\r\n                    </Box>\r\n                  </AccordionSummary>\r\n                  <AccordionDetails>\r\n                    <TableContainer>\r\n                      <Table size=\"small\">\r\n                        <TableHead>\r\n                          <TableRow>\r\n                            <TableCell>Name</TableCell>\r\n                            <TableCell>Type</TableCell>\r\n                            <TableCell>Size</TableCell>\r\n                            <TableCell>Modified</TableCell>\r\n                            <TableCell>Actions</TableCell>\r\n                          </TableRow>\r\n                        </TableHead>\r\n                        <TableBody>\r\n                          {data.files.slice(0, 10).map((file) => (\r\n                            <TableRow key={file.id}>\r\n                              <TableCell>\r\n                                <Typography variant=\"body2\" noWrap>\r\n                                  {file.name}\r\n                                </Typography>\r\n                              </TableCell>\r\n                              <TableCell>\r\n                                <Chip label={file.type} size=\"small\" variant=\"outlined\" />\r\n                              </TableCell>\r\n                              <TableCell>{formatFileSize(file.size)}</TableCell>\r\n                              <TableCell>\r\n                                {new Date(file.modified).toLocaleDateString()}\r\n                              </TableCell>\r\n                              <TableCell>\r\n                                <IconButton\r\n                                  size=\"small\"\r\n                                  onClick={() => loadFileDetails(file.id)}\r\n                                >\r\n                                  <ViewIcon />\r\n                                </IconButton>\r\n                              </TableCell>\r\n                            </TableRow>\r\n                          ))}\r\n                        </TableBody>\r\n                      </Table>\r\n                    </TableContainer>\r\n                    {data.files.length > 10 && (\r\n                      <Typography variant=\"caption\" sx={{ mt: 1, display: 'block' }}>\r\n                        Showing 10 of {data.files.length} files\r\n                      </Typography>\r\n                    )}\r\n                  </AccordionDetails>\r\n                </Accordion>\r\n              ))}\r\n            </Box>\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n\r\n      {/* File Details Dialog */}\r\n      <Dialog \r\n        open={fileDialogOpen} \r\n        onClose={() => setFileDialogOpen(false)}\r\n        maxWidth=\"lg\"\r\n        fullWidth\r\n      >\r\n        <DialogTitle>\r\n          {selectedFile?.name}\r\n          {selectedFile?.metadata.security.hasSecurityIssues && (\r\n            <Chip\r\n              icon={<SecurityIcon />}\r\n              label=\"Security Redacted\"\r\n              color=\"warning\"\r\n              size=\"small\"\r\n              sx={{ ml: 2 }}\r\n            />\r\n          )}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          {selectedFile && (\r\n            <Box>\r\n              {/* Metadata */}\r\n              <Grid container spacing={2} mb={3}>\r\n                <Grid item xs={12} sm={6}>\r\n                  <Typography variant=\"subtitle2\">Classification</Typography>\r\n                  <Typography variant=\"body2\">{selectedFile.classification.type}</Typography>\r\n                  <Typography variant=\"body2\" color=\"text.secondary\">\r\n                    {selectedFile.classification.category}\r\n                  </Typography>\r\n                </Grid>\r\n                <Grid item xs={12} sm={6}>\r\n                  <Typography variant=\"subtitle2\">File Stats</Typography>\r\n                  <Typography variant=\"body2\">\r\n                    {selectedFile.metadata.fileStats.lines} lines, {' '}\r\n                    {selectedFile.metadata.fileStats.words} words, {' '}\r\n                    {formatFileSize(selectedFile.size)}\r\n                  </Typography>\r\n                </Grid>\r\n              </Grid>\r\n\r\n              {/* Content */}\r\n              <Typography variant=\"subtitle2\" gutterBottom>\r\n                Content Preview\r\n              </Typography>\r\n              <TextField\r\n                multiline\r\n                rows={20}\r\n                fullWidth\r\n                variant=\"outlined\"\r\n                value={fileContent}\r\n                InputProps={{\r\n                  readOnly: true,\r\n                  sx: { fontFamily: 'monospace', fontSize: '0.875rem' }\r\n                }}\r\n              />\r\n            </Box>\r\n          )}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setFileDialogOpen(false)}>Close</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Learning Status Dialog */}\r\n      <Dialog \r\n        open={learningDialogOpen} \r\n        onClose={() => setLearningDialogOpen(false)}\r\n        maxWidth=\"md\"\r\n        fullWidth\r\n      >\r\n        <DialogTitle>\r\n          <AutoIcon sx={{ mr: 1, verticalAlign: 'middle' }} />\r\n          OMAI Learning Refresh Complete\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          {learningStatus && (\r\n            <Box>\r\n              <Alert severity=\"success\" sx={{ mb: 2 }}>\r\n                Learning refresh completed successfully! OMAI has updated its knowledge base.\r\n              </Alert>\r\n              \r\n              <Grid container spacing={2}>\r\n                <Grid item xs={12} sm={6}>\r\n                  <Typography variant=\"subtitle2\" gutterBottom>Learning Status</Typography>\r\n                  <Typography variant=\"body2\">\r\n                    Active: {learningStatus.learning?.isActive ? 'Yes' : 'No'}\r\n                  </Typography>\r\n                  <Typography variant=\"body2\">\r\n                    Last Run: {learningStatus.learning?.lastRun ? \r\n                      new Date(learningStatus.learning.lastRun).toLocaleString() : 'Never'}\r\n                  </Typography>\r\n                  <Typography variant=\"body2\">\r\n                    Files Processed: {learningStatus.learning?.totalFilesProcessed || 0}\r\n                  </Typography>\r\n                  <Typography variant=\"body2\">\r\n                    Memory Cache: {learningStatus.learning?.memoryCacheSize || 0} entries\r\n                  </Typography>\r\n                </Grid>\r\n                \r\n                <Grid item xs={12} sm={6}>\r\n                  <Typography variant=\"subtitle2\" gutterBottom>Learning Sources</Typography>\r\n                  <List dense>\r\n                    {learningStatus.sources && Object.entries(learningStatus.sources).map(([key, source]: [string, any]) => (\r\n                      <ListItem key={key} divider>\r\n                        <ListItemText \r\n                          primary={source.path}\r\n                          secondary={`${source.type} (${source.priority} priority)`}\r\n                        />\r\n                      </ListItem>\r\n                    ))}\r\n                  </List>\r\n                </Grid>\r\n              </Grid>\r\n              \r\n              <Box mt={2}>\r\n                <Typography variant=\"subtitle2\" gutterBottom>Registered OMAI Agents</Typography>\r\n                <Box>\r\n                  {learningStatus.agents?.registered?.map((agentId: string) => (\r\n                    <Chip key={agentId} label={agentId} size=\"small\" sx={{ mr: 1, mb: 1 }} />\r\n                  ))}\r\n                </Box>\r\n              </Box>\r\n            </Box>\r\n          )}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setLearningDialogOpen(false)}>Close</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Schedule Dialog */}\r\n      <Dialog open={scheduleDialogOpen} onClose={() => setScheduleDialogOpen(false)}>\r\n        <DialogTitle>Schedule Discovery</DialogTitle>\r\n        <DialogContent>\r\n          <TextField\r\n            autoFocus\r\n            margin=\"dense\"\r\n            label=\"Interval (hours)\"\r\n            type=\"number\"\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            value={scheduleHours}\r\n            onChange={(e) => setScheduleHours(parseInt(e.target.value) || 24)}\r\n            helperText=\"How often should OMAI scan for new/changed files?\"\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setScheduleDialogOpen(false)}>Cancel</Button>\r\n          <Button onClick={scheduleDiscovery} variant=\"contained\">\r\n            Schedule\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default OMAIDiscoveryPanel; ","import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  Button,\r\n  TextField,\r\n  FormControl,\r\n  FormLabel,\r\n  FormControlLabel,\r\n  Switch,\r\n  Box,\r\n  Typography,\r\n  Alert,\r\n  Stepper,\r\n  Step,\r\n  StepLabel,\r\n  CircularProgress,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemIcon,\r\n  Chip,\r\n  Divider,\r\n  Card,\r\n  CardContent,\r\n  Grid,\r\n  Paper,\r\n  Accordion,\r\n  AccordionSummary,\r\n  AccordionDetails\r\n} from '@mui/material';\r\nimport {\r\n  Extension as ComponentIcon,\r\n  Folder as FolderIcon,\r\n  GetApp as InstallIcon,\r\n  Visibility as PreviewIcon,\r\n  Warning as WarningIcon,\r\n  CheckCircle as CheckIcon,\r\n  Error as ErrorIcon,\r\n  Code as CodeIcon,\r\n  Storage as RegistryIcon,\r\n  ExpandMore as ExpandMoreIcon\r\n} from '@mui/icons-material';\r\n\r\ninterface TSXComponentInfo {\r\n  fileName: string;\r\n  componentName: string;\r\n  isDefaultExport: boolean;\r\n  imports: string[];\r\n  content: string;\r\n  size: number;\r\n  isValid: boolean;\r\n  errors: string[];\r\n  warnings: string[];\r\n  missingPackages: string[];\r\n  hasJSX: boolean;\r\n  hasHooks: boolean;\r\n  dependencies: string[];\r\n}\r\n\r\ninterface InstallationOptions {\r\n  targetDirectory: string;\r\n  installMissingPackages: boolean;\r\n  registerInRegistry: boolean;\r\n  openPreview: boolean;\r\n  overwriteExisting: boolean;\r\n  bigBookAutoInstall: boolean;\r\n}\r\n\r\ninterface TSXComponentInstallWizardProps {\r\n  open: boolean;\r\n  onClose: () => void;\r\n  file: File | null;\r\n  onInstallComplete: (result: any) => void;\r\n  onConsoleMessage: (type: 'info' | 'success' | 'error' | 'warning', message: string) => void;\r\n}\r\n\r\nconst TSXComponentInstallWizard: React.FC<TSXComponentInstallWizardProps> = ({\r\n  open,\r\n  onClose,\r\n  file,\r\n  onInstallComplete,\r\n  onConsoleMessage\r\n}) => {\r\n  const [activeStep, setActiveStep] = useState(0);\r\n  const [componentInfo, setComponentInfo] = useState<TSXComponentInfo | null>(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [installOptions, setInstallOptions] = useState<InstallationOptions>({\r\n    targetDirectory: 'src/components/',\r\n    installMissingPackages: true,\r\n    registerInRegistry: true,\r\n    openPreview: true,\r\n    overwriteExisting: false,\r\n    bigBookAutoInstall: false\r\n  });\r\n  const [installationResult, setInstallationResult] = useState<any>(null);\r\n  const [availableDirectories, setAvailableDirectories] = useState<string[]>([\r\n    'src/components/',\r\n    'src/components/admin/',\r\n    'src/components/shared/',\r\n    'src/components/custom/',\r\n    'src/pages/',\r\n    'src/views/',\r\n    'src/addons/'\r\n  ]);\r\n\r\n  const steps = ['Parse & Validate', 'Configure Installation', 'Install Component'];\r\n\r\n  // Parse the .tsx file when dialog opens\r\n  useEffect(() => {\r\n    if (open && file && activeStep === 0) {\r\n      parseComponentFile();\r\n    }\r\n  }, [open, file, activeStep]);\r\n\r\n  const parseComponentFile = async () => {\r\n    if (!file) return;\r\n\r\n    setLoading(true);\r\n    onConsoleMessage('info', ` Parsing .tsx file: ${file.name}`);\r\n\r\n    try {\r\n      const content = await file.text();\r\n      \r\n      const response = await fetch('/api/bigbook/parse-tsx-component', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        credentials: 'include',\r\n        body: JSON.stringify({\r\n          fileName: file.name,\r\n          content: content\r\n        })\r\n      });\r\n\r\n      // Check for authentication errors first\r\n      if (response.status === 401 || response.status === 403) {\r\n        onConsoleMessage('error', ` Authentication required: Please log in as super_admin or editor to use Big Book auto-install`);\r\n        return;\r\n      }\r\n\r\n      // Check for other HTTP errors\r\n      if (!response.ok) {\r\n        onConsoleMessage('error', ` Server error: HTTP ${response.status} - ${response.statusText}`);\r\n        return;\r\n      }\r\n\r\n      const result = await response.json();\r\n      \r\n      if (result.success) {\r\n        setComponentInfo(result.componentInfo);\r\n        onConsoleMessage('success', ` Component parsed successfully: ${result.componentInfo.componentName}`);\r\n        \r\n        if (result.componentInfo.warnings.length > 0) {\r\n          result.componentInfo.warnings.forEach((warning: string) => {\r\n            onConsoleMessage('warning', ` ${warning}`);\r\n          });\r\n        }\r\n        \r\n        setActiveStep(1); // Move to configuration step\r\n      } else {\r\n        onConsoleMessage('error', ` Failed to parse component: ${result.error}`);\r\n        result.errors?.forEach((error: string) => {\r\n          onConsoleMessage('error', ` ${error}`);\r\n        });\r\n      }\r\n    } catch (error) {\r\n      onConsoleMessage('error', ` Parse error: ${error instanceof Error ? error.message : 'Unknown error'}`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleInstallComponent = async () => {\r\n    if (!componentInfo) return;\r\n\r\n    setLoading(true);\r\n    setActiveStep(2);\r\n    onConsoleMessage('info', ` Installing component: ${componentInfo.componentName}`);\r\n\r\n    try {\r\n      // Choose installation endpoint based on Big Book auto-install option\r\n      const endpoint = installOptions.bigBookAutoInstall \r\n        ? '/api/bigbook/install-bigbook-component'\r\n        : '/api/bigbook/install-tsx-component';\r\n      \r\n      onConsoleMessage('info', installOptions.bigBookAutoInstall \r\n        ? ' Installing as Big Book custom component with auto-menu integration...'\r\n        : ' Installing as standard TSX component...');\r\n\r\n      const response = await fetch(endpoint, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        credentials: 'include',\r\n        body: JSON.stringify({\r\n          componentInfo,\r\n          installOptions\r\n        })\r\n      });\r\n\r\n      const result = await response.json();\r\n      \r\n      if (result.success) {\r\n        setInstallationResult(result);\r\n        onConsoleMessage('success', ` Component installed successfully!`);\r\n        onConsoleMessage('info', ` Location: ${result.installedPath}`);\r\n        \r\n        if (result.packagesInstalled && result.packagesInstalled.length > 0) {\r\n          onConsoleMessage('success', ` Packages installed: ${result.packagesInstalled.join(', ')}`);\r\n        }\r\n        \r\n        if (result.registryUpdated) {\r\n          onConsoleMessage('success', ` Component registered in registry`);\r\n        }\r\n        \r\n        if (result.menuUpdated) {\r\n          onConsoleMessage('success', ` Component added to Big Book sidebar menu`);\r\n        }\r\n        \r\n        if (installOptions.openPreview && result.previewUrl) {\r\n          onConsoleMessage('info', ` Preview available at: ${result.previewUrl}`);\r\n        }\r\n        \r\n        onInstallComplete(result);\r\n      } else {\r\n        onConsoleMessage('error', ` Installation failed: ${result.error}`);\r\n      }\r\n    } catch (error) {\r\n      onConsoleMessage('error', ` Installation error: ${error instanceof Error ? error.message : 'Unknown error'}`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleRemoveComponent = async () => {\r\n    if (!installationResult) return;\r\n\r\n    setLoading(true);\r\n    onConsoleMessage('info', ` Removing component: ${componentInfo?.componentName}`);\r\n\r\n    try {\r\n      // Choose removal endpoint based on installation type\r\n      const endpoint = installOptions.bigBookAutoInstall \r\n        ? '/api/bigbook/remove-bigbook-component'\r\n        : '/api/bigbook/remove-tsx-component';\r\n      \r\n      const response = await fetch(endpoint, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        credentials: 'include',\r\n        body: JSON.stringify({\r\n          installationResult\r\n        })\r\n      });\r\n\r\n      const result = await response.json();\r\n      \r\n      if (result.success) {\r\n        onConsoleMessage('success', ` Component removed successfully`);\r\n        setInstallationResult(null);\r\n        setActiveStep(1); // Back to configuration\r\n      } else {\r\n        onConsoleMessage('error', ` Removal failed: ${result.error}`);\r\n      }\r\n    } catch (error) {\r\n      onConsoleMessage('error', ` Removal error: ${error instanceof Error ? error.message : 'Unknown error'}`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const renderParseStep = () => (\r\n    <Box sx={{ mt: 2 }}>\r\n      {loading ? (\r\n        <Box display=\"flex\" alignItems=\"center\" justifyContent=\"center\" py={4}>\r\n          <CircularProgress sx={{ mr: 2 }} />\r\n          <Typography>Parsing component file...</Typography>\r\n        </Box>\r\n      ) : componentInfo ? (\r\n        <Box>\r\n          <Alert severity={componentInfo.isValid ? \"success\" : \"error\"} sx={{ mb: 2 }}>\r\n            <Typography variant=\"h6\">\r\n              {componentInfo.isValid ? \"Valid React Component\" : \"Invalid Component\"}\r\n            </Typography>\r\n            <Typography variant=\"body2\">\r\n              {componentInfo.componentName} ({componentInfo.size} bytes)\r\n            </Typography>\r\n          </Alert>\r\n\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12} md={6}>\r\n              <Card>\r\n                <CardContent>\r\n                  <Typography variant=\"h6\" gutterBottom>\r\n                    <CodeIcon sx={{ mr: 1, verticalAlign: 'middle' }} />\r\n                    Component Details\r\n                  </Typography>\r\n                  <List dense>\r\n                    <ListItem>\r\n                      <ListItemText \r\n                        primary=\"Component Name\" \r\n                        secondary={componentInfo.componentName}\r\n                      />\r\n                    </ListItem>\r\n                    <ListItem>\r\n                      <ListItemText \r\n                        primary=\"Export Type\" \r\n                        secondary={componentInfo.isDefaultExport ? \"Default Export\" : \"Named Export\"}\r\n                      />\r\n                    </ListItem>\r\n                    <ListItem>\r\n                      <ListItemText \r\n                        primary=\"Uses JSX\" \r\n                        secondary={componentInfo.hasJSX ? \"Yes\" : \"No\"}\r\n                      />\r\n                    </ListItem>\r\n                    <ListItem>\r\n                      <ListItemText \r\n                        primary=\"Uses Hooks\" \r\n                        secondary={componentInfo.hasHooks ? \"Yes\" : \"No\"}\r\n                      />\r\n                    </ListItem>\r\n                  </List>\r\n                </CardContent>\r\n              </Card>\r\n            </Grid>\r\n\r\n            <Grid item xs={12} md={6}>\r\n              <Card>\r\n                <CardContent>\r\n                  <Typography variant=\"h6\" gutterBottom>\r\n                    <InstallIcon sx={{ mr: 1, verticalAlign: 'middle' }} />\r\n                    Dependencies\r\n                  </Typography>\r\n                  \r\n                  {componentInfo.imports.length > 0 ? (\r\n                    <Box sx={{ mb: 2 }}>\r\n                      <Typography variant=\"subtitle2\" gutterBottom>Imports:</Typography>\r\n                      {componentInfo.imports.map((imp, index) => (\r\n                        <Chip key={index} label={imp} size=\"small\" sx={{ mr: 0.5, mb: 0.5 }} />\r\n                      ))}\r\n                    </Box>\r\n                  ) : null}\r\n                  \r\n                  {componentInfo.missingPackages.length > 0 ? (\r\n                    <Box>\r\n                      <Typography variant=\"subtitle2\" gutterBottom color=\"warning.main\">\r\n                        Missing Packages:\r\n                      </Typography>\r\n                      {componentInfo.missingPackages.map((pkg, index) => (\r\n                        <Chip \r\n                          key={index} \r\n                          label={pkg} \r\n                          size=\"small\" \r\n                          color=\"warning\" \r\n                          sx={{ mr: 0.5, mb: 0.5 }} \r\n                        />\r\n                      ))}\r\n                    </Box>\r\n                  ) : (\r\n                    <Typography variant=\"body2\" color=\"success.main\">\r\n                      All dependencies available\r\n                    </Typography>\r\n                  )}\r\n                </CardContent>\r\n              </Card>\r\n            </Grid>\r\n          </Grid>\r\n\r\n          {(componentInfo.errors.length > 0 || componentInfo.warnings.length > 0) && (\r\n            <Accordion sx={{ mt: 2 }}>\r\n              <AccordionSummary expandIcon={<ExpandMoreIcon />}>\r\n                <Typography>\r\n                  Issues ({componentInfo.errors.length} errors, {componentInfo.warnings.length} warnings)\r\n                </Typography>\r\n              </AccordionSummary>\r\n              <AccordionDetails>\r\n                {componentInfo.errors.map((error, index) => (\r\n                  <Alert key={index} severity=\"error\" sx={{ mb: 1 }}>\r\n                    {error}\r\n                  </Alert>\r\n                ))}\r\n                {componentInfo.warnings.map((warning, index) => (\r\n                  <Alert key={index} severity=\"warning\" sx={{ mb: 1 }}>\r\n                    {warning}\r\n                  </Alert>\r\n                ))}\r\n              </AccordionDetails>\r\n            </Accordion>\r\n          )}\r\n        </Box>\r\n      ) : (\r\n        <Alert severity=\"info\">\r\n          Drop a .tsx file to begin parsing...\r\n        </Alert>\r\n      )}\r\n    </Box>\r\n  );\r\n\r\n  const renderConfigStep = () => (\r\n    <Box sx={{ mt: 2 }}>\r\n      <Typography variant=\"h6\" gutterBottom>\r\n        Installation Configuration\r\n      </Typography>\r\n\r\n      <Grid container spacing={3}>\r\n        <Grid item xs={12}>\r\n          <Paper sx={{ p: 2, mb: 2, bgcolor: 'primary.50', border: '1px solid', borderColor: 'primary.200' }}>\r\n            <FormControlLabel\r\n              control={\r\n                <Switch\r\n                  checked={installOptions.bigBookAutoInstall}\r\n                  onChange={(e) => {\r\n                    const isEnabled = e.target.checked;\r\n                    setInstallOptions(prev => ({ \r\n                      ...prev, \r\n                      bigBookAutoInstall: isEnabled,\r\n                      targetDirectory: isEnabled ? 'src/components/bigbook/custom' : 'src/components/',\r\n                      registerInRegistry: true // Always register for Big Book components\r\n                    }));\r\n                  }}\r\n                  color=\"primary\"\r\n                />\r\n              }\r\n              label={\r\n                <Box>\r\n                  <Typography variant=\"subtitle1\" fontWeight={600} color=\"primary.main\">\r\n                     Big Book Auto-Install Mode\r\n                  </Typography>\r\n                  <Typography variant=\"body2\" color=\"text.secondary\">\r\n                    Install as Big Book custom component with automatic menu integration and routing\r\n                  </Typography>\r\n                </Box>\r\n              }\r\n            />\r\n          </Paper>\r\n        </Grid>\r\n\r\n        <Grid item xs={12}>\r\n          <FormControl fullWidth>\r\n            <FormLabel>Target Directory</FormLabel>\r\n            <TextField\r\n              select\r\n              value={installOptions.targetDirectory}\r\n              onChange={(e) => setInstallOptions(prev => ({ ...prev, targetDirectory: e.target.value }))}\r\n              SelectProps={{ native: true }}\r\n              sx={{ mt: 1 }}\r\n              disabled={installOptions.bigBookAutoInstall}\r\n              helperText={installOptions.bigBookAutoInstall ? \"Directory is automatically set for Big Book components\" : \"Choose where to install the component\"}\r\n            >\r\n              {availableDirectories.map((dir) => (\r\n                <option key={dir} value={dir}>{dir}</option>\r\n              ))}\r\n            </TextField>\r\n          </FormControl>\r\n        </Grid>\r\n\r\n        <Grid item xs={12}>\r\n          <Paper sx={{ p: 2 }}>\r\n            <Typography variant=\"subtitle1\" gutterBottom>Installation Options</Typography>\r\n            \r\n            <FormControlLabel\r\n              control={\r\n                <Switch\r\n                  checked={installOptions.installMissingPackages}\r\n                  onChange={(e) => setInstallOptions(prev => ({ ...prev, installMissingPackages: e.target.checked }))}\r\n                />\r\n              }\r\n              label={\r\n                <Box>\r\n                  <Typography variant=\"body2\">Install Missing NPM Packages</Typography>\r\n                  <Typography variant=\"caption\" color=\"text.secondary\">\r\n                    Automatically install any missing dependencies\r\n                  </Typography>\r\n                </Box>\r\n              }\r\n            />\r\n\r\n            <FormControlLabel\r\n              control={\r\n                <Switch\r\n                  checked={installOptions.registerInRegistry}\r\n                  onChange={(e) => setInstallOptions(prev => ({ ...prev, registerInRegistry: e.target.checked }))}\r\n                />\r\n              }\r\n              label={\r\n                <Box>\r\n                  <Typography variant=\"body2\">Register in Component Registry</Typography>\r\n                  <Typography variant=\"caption\" color=\"text.secondary\">\r\n                    Add component to the system registry for discovery\r\n                  </Typography>\r\n                </Box>\r\n              }\r\n            />\r\n\r\n            <FormControlLabel\r\n              control={\r\n                <Switch\r\n                  checked={installOptions.openPreview}\r\n                  onChange={(e) => setInstallOptions(prev => ({ ...prev, openPreview: e.target.checked }))}\r\n                />\r\n              }\r\n              label={\r\n                <Box>\r\n                  <Typography variant=\"body2\">Open Component Preview</Typography>\r\n                  <Typography variant=\"caption\" color=\"text.secondary\">\r\n                    Launch component preview after installation\r\n                  </Typography>\r\n                </Box>\r\n              }\r\n            />\r\n\r\n            <FormControlLabel\r\n              control={\r\n                <Switch\r\n                  checked={installOptions.overwriteExisting}\r\n                  onChange={(e) => setInstallOptions(prev => ({ ...prev, overwriteExisting: e.target.checked }))}\r\n                />\r\n              }\r\n              label={\r\n                <Box>\r\n                  <Typography variant=\"body2\">Overwrite Existing Files</Typography>\r\n                  <Typography variant=\"caption\" color=\"text.secondary\">\r\n                    Replace files if they already exist\r\n                  </Typography>\r\n                </Box>\r\n              }\r\n            />\r\n          </Paper>\r\n        </Grid>\r\n      </Grid>\r\n    </Box>\r\n  );\r\n\r\n  const renderInstallStep = () => (\r\n    <Box sx={{ mt: 2 }}>\r\n      {loading ? (\r\n        <Box display=\"flex\" alignItems=\"center\" justifyContent=\"center\" py={4}>\r\n          <CircularProgress sx={{ mr: 2 }} />\r\n          <Typography>Installing component...</Typography>\r\n        </Box>\r\n      ) : installationResult ? (\r\n        <Box>\r\n          <Alert severity=\"success\" sx={{ mb: 2 }}>\r\n            <Typography variant=\"h6\">Component Installed Successfully!</Typography>\r\n            <Typography variant=\"body2\">\r\n              {componentInfo?.componentName} has been installed to {installationResult.installedPath}\r\n            </Typography>\r\n          </Alert>\r\n\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12} md={6}>\r\n              <Card>\r\n                <CardContent>\r\n                  <Typography variant=\"h6\" gutterBottom>Installation Summary</Typography>\r\n                  <List dense>\r\n                    <ListItem>\r\n                      <ListItemIcon><FolderIcon /></ListItemIcon>\r\n                      <ListItemText \r\n                        primary=\"Installed to\" \r\n                        secondary={installationResult.installedPath}\r\n                      />\r\n                    </ListItem>\r\n                    {installationResult.packagesInstalled?.length > 0 && (\r\n                      <ListItem>\r\n                        <ListItemIcon><InstallIcon /></ListItemIcon>\r\n                        <ListItemText \r\n                          primary=\"Packages Installed\" \r\n                          secondary={installationResult.packagesInstalled.join(', ')}\r\n                        />\r\n                      </ListItem>\r\n                    )}\r\n                    {installationResult.registryUpdated && (\r\n                      <ListItem>\r\n                        <ListItemIcon><RegistryIcon /></ListItemIcon>\r\n                        <ListItemText \r\n                          primary=\"Registry Updated\" \r\n                          secondary=\"Component added to registry\"\r\n                        />\r\n                      </ListItem>\r\n                    )}\r\n                  </List>\r\n                </CardContent>\r\n              </Card>\r\n            </Grid>\r\n\r\n            <Grid item xs={12} md={6}>\r\n              <Card>\r\n                <CardContent>\r\n                  <Typography variant=\"h6\" gutterBottom>Quick Actions</Typography>\r\n                  <Box sx={{ display: 'flex', flexDirection: 'column', gap: 1 }}>\r\n                    {installationResult.previewUrl && (\r\n                      <Button\r\n                        variant=\"outlined\"\r\n                        startIcon={<PreviewIcon />}\r\n                        onClick={() => window.open(installationResult.previewUrl, '_blank')}\r\n                      >\r\n                        View Component Preview\r\n                      </Button>\r\n                    )}\r\n                    <Button\r\n                      variant=\"outlined\"\r\n                      color=\"error\"\r\n                      startIcon={<ErrorIcon />}\r\n                      onClick={handleRemoveComponent}\r\n                      disabled={loading}\r\n                    >\r\n                      Remove Component\r\n                    </Button>\r\n                  </Box>\r\n                </CardContent>\r\n              </Card>\r\n            </Grid>\r\n          </Grid>\r\n        </Box>\r\n      ) : (\r\n        <Alert severity=\"info\">\r\n          Ready to install component...\r\n        </Alert>\r\n      )}\r\n    </Box>\r\n  );\r\n\r\n  return (\r\n    <Dialog open={open} onClose={onClose} maxWidth=\"md\" fullWidth>\r\n      <DialogTitle>\r\n        <Box display=\"flex\" alignItems=\"center\">\r\n          <ComponentIcon sx={{ mr: 1 }} />\r\n          TSX Component Installation\r\n        </Box>\r\n      </DialogTitle>\r\n\r\n      <DialogContent>\r\n        <Stepper activeStep={activeStep} sx={{ mb: 3 }}>\r\n          {steps.map((label) => (\r\n            <Step key={label}>\r\n              <StepLabel>{label}</StepLabel>\r\n            </Step>\r\n          ))}\r\n        </Stepper>\r\n\r\n        {activeStep === 0 && renderParseStep()}\r\n        {activeStep === 1 && renderConfigStep()}\r\n        {activeStep === 2 && renderInstallStep()}\r\n      </DialogContent>\r\n\r\n      <DialogActions>\r\n        <Button onClick={onClose}>\r\n          {installationResult ? 'Close' : 'Cancel'}\r\n        </Button>\r\n        \r\n        {/* Previous button */}\r\n        {activeStep > 0 && !installationResult && (\r\n          <Button onClick={() => setActiveStep(activeStep - 1)}>\r\n            Previous\r\n          </Button>\r\n        )}\r\n        \r\n        {/* Parse button for step 0 */}\r\n        {activeStep === 0 && !componentInfo && (\r\n          <Button\r\n            variant=\"contained\"\r\n            onClick={parseComponentFile}\r\n            disabled={loading || !file}\r\n            startIcon={loading ? <CircularProgress size={20} /> : <CodeIcon />}\r\n          >\r\n            Parse Component\r\n          </Button>\r\n        )}\r\n        \r\n        {/* Next button from step 0 to step 1 (after parsing) */}\r\n        {activeStep === 0 && componentInfo?.isValid && (\r\n          <Button\r\n            variant=\"contained\"\r\n            onClick={() => setActiveStep(1)}\r\n          >\r\n            Next: Configure\r\n          </Button>\r\n        )}\r\n        \r\n        {/* Next button from step 1 to step 2 (configure to install) */}\r\n        {activeStep === 1 && componentInfo && (\r\n          <Button\r\n            variant=\"contained\"\r\n            onClick={() => setActiveStep(2)}\r\n            disabled={!componentInfo.isValid}\r\n          >\r\n            Next: Install Component\r\n          </Button>\r\n        )}\r\n        \r\n        {/* Install button for step 2 */}\r\n        {activeStep === 2 && componentInfo?.isValid && !installationResult && (\r\n          <Button\r\n            variant=\"contained\"\r\n            onClick={handleInstallComponent}\r\n            disabled={loading}\r\n            startIcon={loading ? <CircularProgress size={20} /> : <InstallIcon />}\r\n            color=\"primary\"\r\n          >\r\n            Install Component\r\n          </Button>\r\n        )}\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default TSXComponentInstallWizard; ","import React, { useState, useEffect, Suspense, Component } from 'react';\r\nimport {\r\n  Box,\r\n  Typography,\r\n  Alert,\r\n  CircularProgress,\r\n  Paper,\r\n  Breadcrumbs,\r\n  Link,\r\n  IconButton,\r\n  Tooltip\r\n} from '@mui/material';\r\nimport {\r\n  ArrowBack as ArrowBackIcon,\r\n  Refresh as RefreshIcon,\r\n  Error as ErrorIcon\r\n} from '@mui/icons-material';\r\n\r\n// Simple Error Boundary component\r\nclass ErrorBoundary extends Component<\r\n  { children: React.ReactNode; fallback: React.ReactNode },\r\n  { hasError: boolean }\r\n> {\r\n  constructor(props: any) {\r\n    super(props);\r\n    this.state = { hasError: false };\r\n  }\r\n\r\n  static getDerivedStateFromError(error: any) {\r\n    return { hasError: true };\r\n  }\r\n\r\n  componentDidCatch(error: any, errorInfo: any) {\r\n    console.error('ErrorBoundary caught an error:', error, errorInfo);\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      return this.props.fallback;\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\ninterface BigBookCustomComponentViewerProps {\r\n  componentName: string;\r\n  onBack: () => void;\r\n  onError?: (error: string) => void;\r\n}\r\n\r\ninterface CustomComponentRegistry {\r\n  components: Record<string, {\r\n    id: string;\r\n    name: string;\r\n    path: string;\r\n    route: string;\r\n    displayName: string;\r\n    description?: string;\r\n    installedAt: string;\r\n    autoInstalled: boolean;\r\n    isDefaultExport: boolean;\r\n    hasJSX: boolean;\r\n    hasHooks: boolean;\r\n    dependencies: string[];\r\n  }>;\r\n  routes: Record<string, string>;\r\n  menu: Array<{\r\n    id: string;\r\n    name: string;\r\n    displayName: string;\r\n    route: string;\r\n    icon?: string;\r\n  }>;\r\n  lastUpdated: string | null;\r\n  version: string;\r\n}\r\n\r\nconst BigBookCustomComponentViewer: React.FC<BigBookCustomComponentViewerProps> = ({\r\n  componentName,\r\n  onBack,\r\n  onError\r\n}) => {\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [componentInfo, setComponentInfo] = useState<any>(null);\r\n  const [CustomComponent, setCustomComponent] = useState<React.ComponentType | null>(null);\r\n\r\n  useEffect(() => {\r\n    loadCustomComponent();\r\n  }, [componentName]);\r\n\r\n  const loadCustomComponent = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      // Load the custom component registry\r\n      const response = await fetch('/api/bigbook/custom-components-registry', {\r\n        credentials: 'include'\r\n      });\r\n      if (!response.ok) {\r\n        throw new Error('Failed to load custom components registry');\r\n      }\r\n\r\n      const registry: CustomComponentRegistry = await response.json();\r\n      const component = registry.components[componentName];\r\n\r\n      if (!component) {\r\n        throw new Error(`Component \"${componentName}\" not found in registry`);\r\n      }\r\n\r\n      setComponentInfo(component);\r\n\r\n      // Dynamically import the component\r\n      try {\r\n        // Convert the server path to a relative import path (matching BigBookDynamicRoute pattern)\r\n        const importPath = component.path.replace('src/', '../');\r\n        console.log(` Importing component from: ${importPath}`);\r\n        \r\n        const module = await import(/* @vite-ignore */ importPath);\r\n        \r\n        let ComponentToRender;\r\n        if (component.isDefaultExport) {\r\n          ComponentToRender = module.default;\r\n        } else {\r\n          ComponentToRender = module[component.name];\r\n        }\r\n        \r\n        if (!ComponentToRender) {\r\n          throw new Error(`Component \"${componentName}\" not found in module`);\r\n        }\r\n\r\n        console.log(' Component imported successfully');\r\n        setCustomComponent(() => ComponentToRender);\r\n      } catch (importError) {\r\n        console.error('Component import error:', importError);\r\n        throw new Error(`Failed to load component: ${importError instanceof Error ? importError.message : 'Unknown error'}`);\r\n      }\r\n\r\n    } catch (err) {\r\n      const errorMessage = err instanceof Error ? err.message : 'Unknown error occurred';\r\n      setError(errorMessage);\r\n      onError?.(errorMessage);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleRefresh = () => {\r\n    loadCustomComponent();\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Box \r\n        display=\"flex\" \r\n        justifyContent=\"center\" \r\n        alignItems=\"center\" \r\n        minHeight={300}\r\n        flexDirection=\"column\"\r\n        gap={2}\r\n      >\r\n        <CircularProgress />\r\n        <Typography variant=\"body2\" color=\"text.secondary\">\r\n          Loading custom component: {componentName}\r\n        </Typography>\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <Box sx={{ p: 3 }}>\r\n        <Box display=\"flex\" alignItems=\"center\" gap={1} mb={2}>\r\n          <IconButton onClick={onBack} size=\"small\">\r\n            <ArrowBackIcon />\r\n          </IconButton>\r\n          <Typography variant=\"h6\">\r\n            Custom Component Error\r\n          </Typography>\r\n        </Box>\r\n        \r\n        <Alert \r\n          severity=\"error\" \r\n          sx={{ mb: 2 }}\r\n          action={\r\n            <Tooltip title=\"Retry loading component\">\r\n              <IconButton\r\n                color=\"inherit\"\r\n                size=\"small\"\r\n                onClick={handleRefresh}\r\n              >\r\n                <RefreshIcon fontSize=\"inherit\" />\r\n              </IconButton>\r\n            </Tooltip>\r\n          }\r\n        >\r\n          <Typography variant=\"subtitle2\" gutterBottom>\r\n            Failed to load component: {componentName}\r\n          </Typography>\r\n          <Typography variant=\"body2\">\r\n            {error}\r\n          </Typography>\r\n        </Alert>\r\n\r\n        <Typography variant=\"body2\" color=\"text.secondary\">\r\n          This usually happens when:\r\n        </Typography>\r\n        <Box component=\"ul\" sx={{ mt: 1, mb: 2 }}>\r\n          <li>The component file was moved or deleted</li>\r\n          <li>There are syntax errors in the component</li>\r\n          <li>Required dependencies are missing</li>\r\n          <li>The component export doesn't match the registry</li>\r\n        </Box>\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Box sx={{ height: '100%', display: 'flex', flexDirection: 'column' }}>\r\n      {/* Header with navigation */}\r\n      <Paper sx={{ p: 2, mb: 2 }}>\r\n        <Box display=\"flex\" alignItems=\"center\" justifyContent=\"space-between\">\r\n          <Box display=\"flex\" alignItems=\"center\" gap={1}>\r\n            <IconButton onClick={onBack} size=\"small\">\r\n              <ArrowBackIcon />\r\n            </IconButton>\r\n            \r\n            <Breadcrumbs>\r\n              <Link \r\n                color=\"inherit\" \r\n                href=\"#\" \r\n                onClick={(e) => {\r\n                  e.preventDefault();\r\n                  onBack();\r\n                }}\r\n                sx={{ cursor: 'pointer' }}\r\n              >\r\n                Big Book\r\n              </Link>\r\n              <Typography color=\"text.primary\">\r\n                Custom Components\r\n              </Typography>\r\n              <Typography color=\"text.primary\" fontWeight={600}>\r\n                {componentInfo?.displayName || componentName}\r\n              </Typography>\r\n            </Breadcrumbs>\r\n          </Box>\r\n\r\n          <Box display=\"flex\" alignItems=\"center\" gap={1}>\r\n            <Tooltip title=\"Refresh component\">\r\n              <IconButton onClick={handleRefresh} size=\"small\">\r\n                <RefreshIcon />\r\n              </IconButton>\r\n            </Tooltip>\r\n          </Box>\r\n        </Box>\r\n\r\n        {componentInfo?.description && (\r\n          <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mt: 1 }}>\r\n            {componentInfo.description}\r\n          </Typography>\r\n        )}\r\n      </Paper>\r\n\r\n      {/* Component container */}\r\n      <Paper sx={{ flex: 1, p: 2, overflow: 'auto' }}>\r\n        <Suspense \r\n          fallback={\r\n            <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight={200}>\r\n              <CircularProgress />\r\n            </Box>\r\n          }\r\n        >\r\n          {CustomComponent ? (\r\n            <ErrorBoundary\r\n              fallback={\r\n                <Alert severity=\"error\" sx={{ mt: 2 }}>\r\n                  <Typography variant=\"subtitle2\" gutterBottom>\r\n                    Component Runtime Error\r\n                  </Typography>\r\n                  <Typography variant=\"body2\">\r\n                    The component \"{componentName}\" encountered an error during rendering.\r\n                    Check the browser console for more details.\r\n                  </Typography>\r\n                </Alert>\r\n              }\r\n            >\r\n              <CustomComponent />\r\n            </ErrorBoundary>\r\n          ) : (\r\n            <Alert severity=\"warning\">\r\n              <Typography variant=\"body2\">\r\n                Component \"{componentName}\" loaded but is not renderable.\r\n              </Typography>\r\n            </Alert>\r\n          )}\r\n        </Suspense>\r\n      </Paper>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default BigBookCustomComponentViewer; ","import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Box,\r\n  Typography,\r\n  Card,\r\n  CardContent,\r\n  Button,\r\n  TextField,\r\n  Select,\r\n  MenuItem,\r\n  FormControl,\r\n  InputLabel,\r\n  Chip,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  IconButton,\r\n  Grid,\r\n  Alert,\r\n  CircularProgress,\r\n  Pagination,\r\n  Stack,\r\n  Tooltip,\r\n  Badge,\r\n  Divider,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemIcon,\r\n  ListItemSecondaryAction\r\n} from '@mui/material';\r\nimport {\r\n  Add as AddIcon,\r\n  Edit as EditIcon,\r\n  Delete as DeleteIcon,\r\n  Memory as MemoryIcon,\r\n  Search as SearchIcon,\r\n  FilterList as FilterIcon,\r\n  Sort as SortIcon,\r\n  Star as StarIcon,\r\n  StarBorder as StarBorderIcon,\r\n  Label as LabelIcon,\r\n  Folder as FolderIcon,\r\n  Visibility as ViewIcon,\r\n  Refresh as RefreshIcon\r\n} from '@mui/icons-material';\r\n\r\ninterface Memory {\r\n  id: string;\r\n  title: string;\r\n  content: string;\r\n  category: string;\r\n  priority: 'low' | 'medium' | 'high' | 'critical';\r\n  tags: string[];\r\n  access_level: 'private' | 'shared' | 'public';\r\n  expires_at?: string;\r\n  usage_count: number;\r\n  last_accessed_at?: string;\r\n  is_active: boolean;\r\n  created_at: string;\r\n  updated_at: string;\r\n}\r\n\r\ninterface MemoryFilters {\r\n  category?: string;\r\n  priority?: string;\r\n  tags?: string[];\r\n  search?: string;\r\n  is_active?: boolean;\r\n}\r\n\r\nconst MemoryManager: React.FC = () => {\r\n  const [memories, setMemories] = useState<Memory[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [filters, setFilters] = useState<MemoryFilters>({});\r\n  const [page, setPage] = useState(1);\r\n  const [totalPages, setTotalPages] = useState(1);\r\n  const [selectedMemory, setSelectedMemory] = useState<Memory | null>(null);\r\n  const [dialogOpen, setDialogOpen] = useState(false);\r\n  const [dialogMode, setDialogMode] = useState<'create' | 'edit' | 'view'>('create');\r\n\r\n  // Form state\r\n  const [formData, setFormData] = useState({\r\n    title: '',\r\n    content: '',\r\n    category: '',\r\n    priority: 'medium',\r\n    tags: [] as string[],\r\n    access_level: 'private',\r\n    expires_at: ''\r\n  });\r\n\r\n  const categories = ['learning', 'user_preference', 'system', 'analytics', 'tasks', 'knowledge'];\r\n  const priorities = ['low', 'medium', 'high', 'critical'];\r\n  const accessLevels = ['private', 'shared', 'public'];\r\n\r\n  useEffect(() => {\r\n    loadMemories();\r\n  }, [filters, page]);\r\n\r\n  const loadMemories = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    \r\n    try {\r\n      // Mock API call - replace with actual API\r\n      console.log('Loading OMAI memories...', { filters, page });\r\n      \r\n      // Simulate API delay\r\n      await new Promise(resolve => setTimeout(resolve, 500));\r\n      \r\n      // Mock data\r\n      const mockMemories: Memory[] = [\r\n        {\r\n          id: '1',\r\n          title: 'User prefers dark mode',\r\n          content: 'The user consistently chooses dark mode themes and mentions preference for low-light interfaces.',\r\n          category: 'user_preference',\r\n          priority: 'medium',\r\n          tags: ['ui', 'theme', 'accessibility'],\r\n          access_level: 'private',\r\n          usage_count: 15,\r\n          last_accessed_at: '2025-01-29T10:30:00Z',\r\n          is_active: true,\r\n          created_at: '2025-01-20T09:00:00Z',\r\n          updated_at: '2025-01-29T10:30:00Z'\r\n        },\r\n        {\r\n          id: '2',\r\n          title: 'Church management workflow insights',\r\n          content: 'User frequently manages multiple churches and prefers bulk operations for administrative tasks.',\r\n          category: 'learning',\r\n          priority: 'high',\r\n          tags: ['workflow', 'admin', 'churches'],\r\n          access_level: 'shared',\r\n          usage_count: 8,\r\n          last_accessed_at: '2025-01-28T14:20:00Z',\r\n          is_active: true,\r\n          created_at: '2025-01-15T11:00:00Z',\r\n          updated_at: '2025-01-28T14:20:00Z'\r\n        },\r\n        {\r\n          id: '3',\r\n          title: 'OMAI training progress checkpoint',\r\n          content: 'Completed Phase 1 foundation training with 85% accuracy on site understanding tasks.',\r\n          category: 'system',\r\n          priority: 'high',\r\n          tags: ['training', 'checkpoint', 'progress'],\r\n          access_level: 'private',\r\n          usage_count: 3,\r\n          is_active: true,\r\n          created_at: '2025-01-25T16:45:00Z',\r\n          updated_at: '2025-01-25T16:45:00Z'\r\n        }\r\n      ];\r\n      \r\n      setMemories(mockMemories);\r\n      setTotalPages(1);\r\n      \r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'Failed to load memories');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleCreateMemory = () => {\r\n    setFormData({\r\n      title: '',\r\n      content: '',\r\n      category: '',\r\n      priority: 'medium',\r\n      tags: [],\r\n      access_level: 'private',\r\n      expires_at: ''\r\n    });\r\n    setDialogMode('create');\r\n    setDialogOpen(true);\r\n  };\r\n\r\n  const handleEditMemory = (memory: Memory) => {\r\n    setFormData({\r\n      title: memory.title,\r\n      content: memory.content,\r\n      category: memory.category,\r\n      priority: memory.priority,\r\n      tags: memory.tags,\r\n      access_level: memory.access_level,\r\n      expires_at: memory.expires_at || ''\r\n    });\r\n    setSelectedMemory(memory);\r\n    setDialogMode('edit');\r\n    setDialogOpen(true);\r\n  };\r\n\r\n  const handleViewMemory = (memory: Memory) => {\r\n    setSelectedMemory(memory);\r\n    setDialogMode('view');\r\n    setDialogOpen(true);\r\n  };\r\n\r\n  const handleSaveMemory = async () => {\r\n    try {\r\n      console.log('Saving memory:', formData);\r\n      // Simulate API call\r\n      await new Promise(resolve => setTimeout(resolve, 500));\r\n      \r\n      setDialogOpen(false);\r\n      loadMemories();\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'Failed to save memory');\r\n    }\r\n  };\r\n\r\n  const handleDeleteMemory = async (memoryId: string) => {\r\n    if (!confirm('Are you sure you want to delete this memory?')) return;\r\n    \r\n    try {\r\n      console.log('Deleting memory:', memoryId);\r\n      // Simulate API call\r\n      await new Promise(resolve => setTimeout(resolve, 500));\r\n      \r\n      loadMemories();\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'Failed to delete memory');\r\n    }\r\n  };\r\n\r\n  const getPriorityColor = (priority: string) => {\r\n    switch (priority) {\r\n      case 'critical': return 'error';\r\n      case 'high': return 'warning';\r\n      case 'medium': return 'info';\r\n      case 'low': return 'default';\r\n      default: return 'default';\r\n    }\r\n  };\r\n\r\n  const getAccessLevelIcon = (level: string) => {\r\n    switch (level) {\r\n      case 'public': return '';\r\n      case 'shared': return '';\r\n      case 'private': return '';\r\n      default: return '';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box sx={{ p: 3 }}>\r\n      {/* Header */}\r\n      <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={3}>\r\n        <Box>\r\n          <Typography variant=\"h5\" component=\"h2\" gutterBottom>\r\n            <MemoryIcon sx={{ mr: 1, verticalAlign: 'middle' }} />\r\n            OMAI Memory Management\r\n          </Typography>\r\n          <Typography variant=\"body2\" color=\"text.secondary\">\r\n            Store and manage OMAI's learning memories, preferences, and knowledge\r\n          </Typography>\r\n        </Box>\r\n        <Stack direction=\"row\" spacing={2}>\r\n          <Button\r\n            variant=\"outlined\"\r\n            startIcon={<RefreshIcon />}\r\n            onClick={loadMemories}\r\n            disabled={loading}\r\n          >\r\n            Refresh\r\n          </Button>\r\n          <Button\r\n            variant=\"contained\"\r\n            startIcon={<AddIcon />}\r\n            onClick={handleCreateMemory}\r\n          >\r\n            Add Memory\r\n          </Button>\r\n        </Stack>\r\n      </Box>\r\n\r\n      {/* Filters */}\r\n      <Card sx={{ mb: 3 }}>\r\n        <CardContent>\r\n          <Typography variant=\"h6\" gutterBottom>\r\n            <FilterIcon sx={{ mr: 1, verticalAlign: 'middle' }} />\r\n            Filters\r\n          </Typography>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12} md={3}>\r\n              <TextField\r\n                fullWidth\r\n                label=\"Search\"\r\n                placeholder=\"Search memories...\"\r\n                value={filters.search || ''}\r\n                onChange={(e) => setFilters({ ...filters, search: e.target.value })}\r\n                InputProps={{\r\n                  startAdornment: <SearchIcon sx={{ mr: 1, color: 'text.secondary' }} />\r\n                }}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} md={3}>\r\n              <FormControl fullWidth>\r\n                <InputLabel>Category</InputLabel>\r\n                <Select\r\n                  value={filters.category || ''}\r\n                  label=\"Category\"\r\n                  onChange={(e) => setFilters({ ...filters, category: e.target.value })}\r\n                >\r\n                  <MenuItem value=\"\">All Categories</MenuItem>\r\n                  {categories.map(cat => (\r\n                    <MenuItem key={cat} value={cat}>{cat}</MenuItem>\r\n                  ))}\r\n                </Select>\r\n              </FormControl>\r\n            </Grid>\r\n            <Grid item xs={12} md={3}>\r\n              <FormControl fullWidth>\r\n                <InputLabel>Priority</InputLabel>\r\n                <Select\r\n                  value={filters.priority || ''}\r\n                  label=\"Priority\"\r\n                  onChange={(e) => setFilters({ ...filters, priority: e.target.value })}\r\n                >\r\n                  <MenuItem value=\"\">All Priorities</MenuItem>\r\n                  {priorities.map(priority => (\r\n                    <MenuItem key={priority} value={priority}>{priority}</MenuItem>\r\n                  ))}\r\n                </Select>\r\n              </FormControl>\r\n            </Grid>\r\n            <Grid item xs={12} md={3}>\r\n              <FormControl fullWidth>\r\n                <InputLabel>Status</InputLabel>\r\n                <Select\r\n                  value={filters.is_active === undefined ? '' : filters.is_active ? 'active' : 'inactive'}\r\n                  label=\"Status\"\r\n                  onChange={(e) => setFilters({ \r\n                    ...filters, \r\n                    is_active: e.target.value === '' ? undefined : e.target.value === 'active' \r\n                  })}\r\n                >\r\n                  <MenuItem value=\"\">All</MenuItem>\r\n                  <MenuItem value=\"active\">Active</MenuItem>\r\n                  <MenuItem value=\"inactive\">Inactive</MenuItem>\r\n                </Select>\r\n              </FormControl>\r\n            </Grid>\r\n          </Grid>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Error Alert */}\r\n      {error && (\r\n        <Alert severity=\"error\" sx={{ mb: 2 }} onClose={() => setError(null)}>\r\n          {error}\r\n        </Alert>\r\n      )}\r\n\r\n      {/* Memories List */}\r\n      {loading ? (\r\n        <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"300px\">\r\n          <CircularProgress />\r\n          <Typography variant=\"body1\" sx={{ ml: 2 }}>Loading memories...</Typography>\r\n        </Box>\r\n      ) : (\r\n        <>\r\n          <Grid container spacing={2}>\r\n            {memories.map((memory) => (\r\n              <Grid item xs={12} md={6} lg={4} key={memory.id}>\r\n                <Card>\r\n                  <CardContent>\r\n                    <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"flex-start\" mb={2}>\r\n                      <Typography variant=\"h6\" component=\"h3\" noWrap sx={{ flex: 1, mr: 1 }}>\r\n                        {memory.title}\r\n                      </Typography>\r\n                      <Box display=\"flex\" gap={0.5}>\r\n                        <Tooltip title=\"View Memory\">\r\n                          <IconButton size=\"small\" onClick={() => handleViewMemory(memory)}>\r\n                            <ViewIcon />\r\n                          </IconButton>\r\n                        </Tooltip>\r\n                        <Tooltip title=\"Edit Memory\">\r\n                          <IconButton size=\"small\" onClick={() => handleEditMemory(memory)}>\r\n                            <EditIcon />\r\n                          </IconButton>\r\n                        </Tooltip>\r\n                        <Tooltip title=\"Delete Memory\">\r\n                          <IconButton size=\"small\" onClick={() => handleDeleteMemory(memory.id)}>\r\n                            <DeleteIcon />\r\n                          </IconButton>\r\n                        </Tooltip>\r\n                      </Box>\r\n                    </Box>\r\n                    \r\n                    <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 2 }}>\r\n                      {memory.content.length > 100 \r\n                        ? `${memory.content.substring(0, 100)}...` \r\n                        : memory.content\r\n                      }\r\n                    </Typography>\r\n\r\n                    <Box display=\"flex\" flexWrap=\"wrap\" gap={1} mb={2}>\r\n                      <Chip \r\n                        label={memory.category} \r\n                        size=\"small\" \r\n                        icon={<FolderIcon />} \r\n                        variant=\"outlined\" \r\n                      />\r\n                      <Chip \r\n                        label={memory.priority} \r\n                        size=\"small\" \r\n                        color={getPriorityColor(memory.priority) as any}\r\n                      />\r\n                      <Chip \r\n                        label={`${getAccessLevelIcon(memory.access_level)} ${memory.access_level}`} \r\n                        size=\"small\" \r\n                        variant=\"outlined\"\r\n                      />\r\n                    </Box>\r\n\r\n                    <Box display=\"flex\" flexWrap=\"wrap\" gap={0.5} mb={2}>\r\n                      {memory.tags.map((tag) => (\r\n                        <Chip \r\n                          key={tag} \r\n                          label={tag} \r\n                          size=\"small\" \r\n                          icon={<LabelIcon />}\r\n                          variant=\"outlined\"\r\n                        />\r\n                      ))}\r\n                    </Box>\r\n\r\n                    <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\r\n                      <Typography variant=\"caption\" color=\"text.secondary\">\r\n                        Used {memory.usage_count} times\r\n                      </Typography>\r\n                      <Typography variant=\"caption\" color=\"text.secondary\">\r\n                        {new Date(memory.created_at).toLocaleDateString()}\r\n                      </Typography>\r\n                    </Box>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>\r\n            ))}\r\n          </Grid>\r\n\r\n          {memories.length === 0 && !loading && (\r\n            <Box textAlign=\"center\" py={6}>\r\n              <MemoryIcon sx={{ fontSize: 64, color: 'text.secondary', mb: 2 }} />\r\n              <Typography variant=\"h6\" color=\"text.secondary\" gutterBottom>\r\n                No memories found\r\n              </Typography>\r\n              <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 3 }}>\r\n                Start by creating your first OMAI memory to help the system learn and remember important information.\r\n              </Typography>\r\n              <Button variant=\"contained\" startIcon={<AddIcon />} onClick={handleCreateMemory}>\r\n                Create First Memory\r\n              </Button>\r\n            </Box>\r\n          )}\r\n\r\n          {totalPages > 1 && (\r\n            <Box display=\"flex\" justifyContent=\"center\" mt={3}>\r\n              <Pagination\r\n                count={totalPages}\r\n                page={page}\r\n                onChange={(_, newPage) => setPage(newPage)}\r\n                color=\"primary\"\r\n              />\r\n            </Box>\r\n          )}\r\n        </>\r\n      )}\r\n\r\n      {/* Memory Dialog */}\r\n      <Dialog open={dialogOpen} onClose={() => setDialogOpen(false)} maxWidth=\"md\" fullWidth>\r\n        <DialogTitle>\r\n          {dialogMode === 'create' && 'Create New Memory'}\r\n          {dialogMode === 'edit' && 'Edit Memory'}\r\n          {dialogMode === 'view' && 'Memory Details'}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          {dialogMode === 'view' && selectedMemory ? (\r\n            <Box>\r\n              <Typography variant=\"h6\" gutterBottom>{selectedMemory.title}</Typography>\r\n              <Typography variant=\"body1\" paragraph>{selectedMemory.content}</Typography>\r\n              \r\n              <Divider sx={{ my: 2 }} />\r\n              \r\n              <Grid container spacing={2}>\r\n                <Grid item xs={6}>\r\n                  <Typography variant=\"subtitle2\">Category</Typography>\r\n                  <Typography variant=\"body2\">{selectedMemory.category}</Typography>\r\n                </Grid>\r\n                <Grid item xs={6}>\r\n                  <Typography variant=\"subtitle2\">Priority</Typography>\r\n                  <Typography variant=\"body2\">{selectedMemory.priority}</Typography>\r\n                </Grid>\r\n                <Grid item xs={6}>\r\n                  <Typography variant=\"subtitle2\">Access Level</Typography>\r\n                  <Typography variant=\"body2\">{selectedMemory.access_level}</Typography>\r\n                </Grid>\r\n                <Grid item xs={6}>\r\n                  <Typography variant=\"subtitle2\">Usage Count</Typography>\r\n                  <Typography variant=\"body2\">{selectedMemory.usage_count}</Typography>\r\n                </Grid>\r\n              </Grid>\r\n              \r\n              <Box mt={2}>\r\n                <Typography variant=\"subtitle2\">Tags</Typography>\r\n                <Box display=\"flex\" flexWrap=\"wrap\" gap={1} mt={1}>\r\n                  {selectedMemory.tags.map((tag) => (\r\n                    <Chip key={tag} label={tag} size=\"small\" />\r\n                  ))}\r\n                </Box>\r\n              </Box>\r\n            </Box>\r\n          ) : (\r\n            <Stack spacing={3} sx={{ mt: 2 }}>\r\n              <TextField\r\n                fullWidth\r\n                label=\"Title\"\r\n                value={formData.title}\r\n                onChange={(e) => setFormData({ ...formData, title: e.target.value })}\r\n                disabled={dialogMode === 'view'}\r\n              />\r\n              \r\n              <TextField\r\n                fullWidth\r\n                label=\"Content\"\r\n                multiline\r\n                rows={4}\r\n                value={formData.content}\r\n                onChange={(e) => setFormData({ ...formData, content: e.target.value })}\r\n                disabled={dialogMode === 'view'}\r\n              />\r\n              \r\n              <Grid container spacing={2}>\r\n                <Grid item xs={6}>\r\n                  <FormControl fullWidth>\r\n                    <InputLabel>Category</InputLabel>\r\n                    <Select\r\n                      value={formData.category}\r\n                      label=\"Category\"\r\n                      onChange={(e) => setFormData({ ...formData, category: e.target.value })}\r\n                      disabled={dialogMode === 'view'}\r\n                    >\r\n                      {categories.map(cat => (\r\n                        <MenuItem key={cat} value={cat}>{cat}</MenuItem>\r\n                      ))}\r\n                    </Select>\r\n                  </FormControl>\r\n                </Grid>\r\n                <Grid item xs={6}>\r\n                  <FormControl fullWidth>\r\n                    <InputLabel>Priority</InputLabel>\r\n                    <Select\r\n                      value={formData.priority}\r\n                      label=\"Priority\"\r\n                      onChange={(e) => setFormData({ ...formData, priority: e.target.value })}\r\n                      disabled={dialogMode === 'view'}\r\n                    >\r\n                      {priorities.map(priority => (\r\n                        <MenuItem key={priority} value={priority}>{priority}</MenuItem>\r\n                      ))}\r\n                    </Select>\r\n                  </FormControl>\r\n                </Grid>\r\n              </Grid>\r\n              \r\n              <FormControl fullWidth>\r\n                <InputLabel>Access Level</InputLabel>\r\n                <Select\r\n                  value={formData.access_level}\r\n                  label=\"Access Level\"\r\n                  onChange={(e) => setFormData({ ...formData, access_level: e.target.value })}\r\n                  disabled={dialogMode === 'view'}\r\n                >\r\n                  {accessLevels.map(level => (\r\n                    <MenuItem key={level} value={level}>{level}</MenuItem>\r\n                  ))}\r\n                </Select>\r\n              </FormControl>\r\n              \r\n              <TextField\r\n                fullWidth\r\n                label=\"Tags (comma-separated)\"\r\n                value={formData.tags.join(', ')}\r\n                onChange={(e) => setFormData({ \r\n                  ...formData, \r\n                  tags: e.target.value.split(',').map(tag => tag.trim()).filter(Boolean)\r\n                })}\r\n                disabled={dialogMode === 'view'}\r\n                helperText=\"Enter tags separated by commas\"\r\n              />\r\n            </Stack>\r\n          )}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setDialogOpen(false)}>\r\n            {dialogMode === 'view' ? 'Close' : 'Cancel'}\r\n          </Button>\r\n          {dialogMode !== 'view' && (\r\n            <Button variant=\"contained\" onClick={handleSaveMemory}>\r\n              {dialogMode === 'create' ? 'Create' : 'Save'}\r\n            </Button>\r\n          )}\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default MemoryManager;","import React, { useState, useRef, useCallback, useEffect } from 'react';\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  Typography,\r\n  Grid,\r\n  Button,\r\n  TextField,\r\n  FormControl,\r\n  FormLabel,\r\n  Tabs,\r\n  Tab,\r\n  Box,\r\n  Alert,\r\n  Chip,\r\n  Paper,\r\n  Divider,\r\n  Stack,\r\n  IconButton,\r\n  Tooltip,\r\n  Switch,\r\n  FormControlLabel,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemIcon,\r\n  ListItemSecondaryAction,\r\n  Accordion,\r\n  AccordionSummary,\r\n  AccordionDetails,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  CircularProgress,\r\n  LinearProgress,\r\n  Badge,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions\r\n} from '@mui/material';\r\nimport BigBookConsolePage from './BigBookConsolePage.tsx';\r\nimport { BigBookConsoleSettings, defaultSettings } from './BigBookSettings.tsx';\r\nimport EncryptedStoragePanel from './EncryptedStoragePanel.tsx';\r\nimport QuestionnairePreview from './QuestionnairePreview.tsx';\r\nimport OMAIDiscoveryPanel from './OMAIDiscoveryPanel.tsx';\r\nimport TSXComponentInstallWizard from './TSXComponentInstallWizard.tsx';\r\nimport BigBookCustomComponentViewer from './BigBookCustomComponentViewer.tsx';\r\nimport MemoryManager from './MemoryManager.tsx';\r\nimport {\r\n  Upload as UploadIcon,\r\n  PlayArrow as PlayIcon,\r\n  Stop as StopIcon,\r\n  Delete as Trash2Icon,\r\n  Settings as SettingsIcon,\r\n  Description as FileTextIcon,\r\n  Code as CodeIcon,\r\n  Storage as DatabaseIcon,\r\n  Terminal as TerminalIcon,\r\n  Save as SaveIcon,\r\n  Refresh as RefreshCwIcon,\r\n  CloudUpload as CloudUploadIcon,\r\n  FolderOpen as FolderOpenIcon,\r\n  Article as ArticleIcon,\r\n  Javascript as JavaScriptIcon,\r\n  Code as ShellScriptIcon,\r\n  Code as PythonIcon,\r\n  ExpandMore as ExpandMoreIcon,\r\n  Extension as AddonIcon,\r\n  Article as DocIcon,\r\n  Tune as ConfigIcon,\r\n  Archive as DataIcon,\r\n  Visibility as ViewIcon,\r\n  Html as HtmlIcon,\r\n  Css as CssIcon,\r\n  DataObject as JsonIcon,\r\n  Code as XmlIcon,\r\n  Image as ImageIcon,\r\n  VideoFile as VideoIcon,\r\n  AudioFile as AudioIcon,\r\n  Archive as ArchiveIcon,\r\n  PictureAsPdf as PdfIcon,\r\n  TextSnippet as TextIcon,\r\n  // New OMAI-specific icons\r\n  Memory as MemoryIcon,\r\n  School as LearningIcon,\r\n  Analytics as AnalyticsIcon,\r\n  Timeline as ProgressIcon,\r\n  AutoMode as AIIcon,\r\n  Assessment as MetricsIcon,\r\n  TrendingUp as TrendingUpIcon,\r\n  Psychology as PsychologyIcon,\r\n  History as HistoryIcon,\r\n  Assignment as TaskIcon,\r\n  Speed as PerformanceIcon,\r\n  Insights as InsightsIcon,\r\n  Lightbulb as EthicsIcon,\r\n  Balance as MoralIcon,\r\n  QuestionAnswer as ReasoningIcon\r\n} from '@mui/icons-material';\r\n\r\ninterface FileUpload {\r\n  id: string;\r\n  name: string;\r\n  size: number;\r\n  type: string;\r\n  content?: string;\r\n  uploaded: Date;\r\n  processed: boolean;\r\n  status: 'pending' | 'processing' | 'completed' | 'error';\r\n  result?: {\r\n    success: boolean;\r\n    output?: string;\r\n    error?: string;\r\n    executionTime?: number;\r\n  };\r\n}\r\n\r\ninterface ConsoleOutput {\r\n  id: string;\r\n  timestamp: Date;\r\n  type: 'command' | 'output' | 'error' | 'info';\r\n  content: string;\r\n  source?: string;\r\n}\r\n\r\ninterface BigBookSettings {\r\n  databaseUser: string;\r\n  databasePassword: string;\r\n  useSudo: boolean;\r\n  sudoPassword: string;\r\n  defaultDatabase: string;\r\n  scriptTimeout: number;\r\n  maxFileSize: number;\r\n}\r\n\r\n// New OMAI-specific interfaces\r\ninterface LearningProgress {\r\n  totalSessions: number;\r\n  completedSessions: number;\r\n  currentPhase: string;\r\n  overallProgress: number;\r\n  lastActivity: string;\r\n  knowledgePoints: number;\r\n  memoriesCreated: number;\r\n  filesProcessed: number;\r\n}\r\n\r\ninterface TrainingSession {\r\n  id: string;\r\n  name: string;\r\n  phase: string;\r\n  status: 'pending' | 'running' | 'completed' | 'failed';\r\n  progress: number;\r\n  startTime?: string;\r\n  endTime?: string;\r\n  duration?: number;\r\n  results?: {\r\n    filesProcessed: number;\r\n    memoriesCreated: number;\r\n    knowledgeExtracted: number;\r\n    errors: number;\r\n  };\r\n}\r\n\r\ninterface KnowledgeMetrics {\r\n  totalMemories: number;\r\n  categoriesDistribution: Record<string, number>;\r\n  priorityDistribution: Record<string, number>;\r\n  usagePatterns: {\r\n    mostUsed: Array<{ title: string; count: number }>;\r\n    recentlyAccessed: Array<{ title: string; lastAccessed: string }>;\r\n    trending: Array<{ title: string; trend: number }>;\r\n  };\r\n  learningVelocity: {\r\n    memoriesPerWeek: number;\r\n    knowledgeGrowthRate: number;\r\n    activeHours: number;\r\n  };\r\n}\r\n\r\n// OMLearn Ethics & Reasoning interfaces\r\ninterface EthicalFoundation {\r\n  id: string;\r\n  gradeGroup: 'kindergarten-2nd' | '3rd-5th' | '6th-8th' | '9th-12th';\r\n  category: 'moral_development' | 'ethical_thinking' | 'reasoning_patterns' | 'philosophical_concepts';\r\n  question: string;\r\n  userResponse: string;\r\n  reasoning: string;\r\n  confidence: number;\r\n  weight: number;\r\n  appliedContexts: string[];\r\n  createdAt: string;\r\n  lastReferenced?: string;\r\n}\r\n\r\ninterface EthicsProgress {\r\n  totalSurveys: number;\r\n  completedSurveys: number;\r\n  gradeGroupsCompleted: string[];\r\n  ethicalFoundationsCount: number;\r\n  moralComplexityScore: number;\r\n  reasoningMaturityLevel: string;\r\n  lastAssessment: string;\r\n}\r\n\r\ninterface OMLearnSurvey {\r\n  id: string;\r\n  gradeGroup: string;\r\n  title: string;\r\n  description: string;\r\n  totalQuestions: number;\r\n  completedQuestions: number;\r\n  status: 'not_started' | 'in_progress' | 'completed';\r\n  ageRange: string;\r\n  focus: string;\r\n}\r\n\r\nconst OMBigBook: React.FC = () => {\r\n  const [activeTab, setActiveTab] = useState(0);\r\n  \r\n  // Existing state\r\n  const [uploadedFiles, setUploadedFiles] = useState<FileUpload[]>([]);\r\n  const [consoleOutput, setConsoleOutput] = useState<ConsoleOutput[]>([]);\r\n  const [isExecuting, setIsExecuting] = useState(false);\r\n  const [selectedFile, setSelectedFile] = useState<FileUpload | null>(null);\r\n  const [showSettings, setShowSettings] = useState(false);\r\n  const [settings, setSettings] = useState<BigBookSettings>({\r\n    databaseUser: 'root',\r\n    databasePassword: '',\r\n    useSudo: true,\r\n    sudoPassword: '',\r\n    defaultDatabase: 'omai_db',\r\n    scriptTimeout: 30000,\r\n    maxFileSize: 10485760 // 10MB\r\n  });\r\n  const [consoleSettings, setConsoleSettings] = useState<BigBookConsoleSettings>(defaultSettings);\r\n  const [questionnairePreviewOpen, setQuestionnairePreviewOpen] = useState(false);\r\n  const [previewFile, setPreviewFile] = useState<FileUpload | null>(null);\r\n  const [registries, setRegistries] = useState<any>(null);\r\n  const [registriesLoading, setRegistriesLoading] = useState(false);\r\n  const [registriesError, setRegistriesError] = useState<string | null>(null);\r\n  const [tsxWizardOpen, setTsxWizardOpen] = useState(false);\r\n  const [tsxFile, setTsxFile] = useState<File | null>(null);\r\n  const [customComponents, setCustomComponents] = useState<any>(null);\r\n  const [customComponentsLoading, setCustomComponentsLoading] = useState(false);\r\n  const [selectedCustomComponent, setSelectedCustomComponent] = useState<string | null>(null);\r\n  \r\n  // New OMAI state\r\n  const [learningProgress, setLearningProgress] = useState<LearningProgress | null>(null);\r\n  const [trainingSessions, setTrainingSessions] = useState<TrainingSession[]>([]);\r\n  const [knowledgeMetrics, setKnowledgeMetrics] = useState<KnowledgeMetrics | null>(null);\r\n  const [activeTrainingSession, setActiveTrainingSession] = useState<TrainingSession | null>(null);\r\n  const [trainingDialogOpen, setTrainingDialogOpen] = useState(false);\r\n  const [selectedTrainingPhase, setSelectedTrainingPhase] = useState<string>('foundation');\r\n  const [learningLoading, setLearningLoading] = useState(false);\r\n  \r\n  // Ethics & Reasoning state\r\n  const [ethicsProgress, setEthicsProgress] = useState<EthicsProgress | null>(null);\r\n  const [ethicalFoundations, setEthicalFoundations] = useState<EthicalFoundation[]>([]);\r\n  const [omlearnSurveys, setOmlearnSurveys] = useState<OMLearnSurvey[]>([]);\r\n  const [ethicsLoading, setEthicsLoading] = useState(false);\r\n  const [selectedFoundation, setSelectedFoundation] = useState<EthicalFoundation | null>(null);\r\n  const [foundationDialogOpen, setFoundationDialogOpen] = useState(false);\r\n  \r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n  const consoleRef = useRef<HTMLDivElement>(null);\r\n\r\n  // Auto-scroll console to bottom\r\n  const scrollToBottom = useCallback(() => {\r\n    if (consoleRef.current) {\r\n      consoleRef.current.scrollTop = consoleRef.current.scrollHeight;\r\n    }\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    scrollToBottom();\r\n  }, [consoleOutput, scrollToBottom]);\r\n\r\n  // Load OMAI data on component mount\r\n  useEffect(() => {\r\n    loadLearningProgress();\r\n    loadTrainingSessions();\r\n    loadKnowledgeMetrics();\r\n    loadEthicsProgress();\r\n    loadEthicalFoundations();\r\n    loadOMLearnSurveys();\r\n  }, []);\r\n\r\n  // New OMAI-specific functions\r\n  const loadLearningProgress = async () => {\r\n    try {\r\n      const response = await fetch('/api/omai/learning-progress');\r\n      const data = await response.json();\r\n      if (data.success) {\r\n        setLearningProgress(data.progress);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to load learning progress:', error);\r\n    }\r\n  };\r\n\r\n  const loadTrainingSessions = async () => {\r\n    try {\r\n      const response = await fetch('/api/omai/training-sessions');\r\n      const data = await response.json();\r\n      if (data.success) {\r\n        setTrainingSessions(data.sessions);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to load training sessions:', error);\r\n    }\r\n  };\r\n\r\n  const loadKnowledgeMetrics = async () => {\r\n    try {\r\n      const response = await fetch('/api/omai/knowledge-metrics');\r\n      const data = await response.json();\r\n      if (data.success) {\r\n        setKnowledgeMetrics(data.metrics);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to load knowledge metrics:', error);\r\n    }\r\n  };\r\n\r\n  const startTrainingSession = async (phase: string) => {\r\n    setLearningLoading(true);\r\n    try {\r\n      const response = await fetch('/api/omai/start-training', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ phase })\r\n      });\r\n      const data = await response.json();\r\n      if (data.success) {\r\n        setActiveTrainingSession(data.session);\r\n        setTrainingDialogOpen(false);\r\n        // Poll for progress updates\r\n        const interval = setInterval(() => {\r\n          loadTrainingSessions();\r\n          loadLearningProgress();\r\n        }, 5000);\r\n        \r\n        // Stop polling after 30 minutes\r\n        setTimeout(() => clearInterval(interval), 30 * 60 * 1000);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to start training session:', error);\r\n    } finally {\r\n      setLearningLoading(false);\r\n    }\r\n  };\r\n\r\n  const stopTrainingSession = async () => {\r\n    if (!activeTrainingSession) return;\r\n    \r\n    try {\r\n      const response = await fetch(`/api/omai/stop-training/${activeTrainingSession.id}`, {\r\n        method: 'POST'\r\n      });\r\n      const data = await response.json();\r\n      if (data.success) {\r\n        setActiveTrainingSession(null);\r\n        loadTrainingSessions();\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to stop training session:', error);\r\n    }\r\n  };\r\n\r\n  const refreshOMAIData = async () => {\r\n    setLearningLoading(true);\r\n    try {\r\n      await Promise.all([\r\n        loadLearningProgress(),\r\n        loadTrainingSessions(),\r\n        loadKnowledgeMetrics(),\r\n        loadEthicsProgress(),\r\n        loadEthicalFoundations()\r\n      ]);\r\n    } finally {\r\n      setLearningLoading(false);\r\n    }\r\n  };\r\n\r\n  // Ethics & Reasoning functions\r\n  const loadEthicsProgress = async () => {\r\n    try {\r\n      const response = await fetch('/api/omai/ethics-progress');\r\n      const data = await response.json();\r\n      if (data.success) {\r\n        setEthicsProgress(data.progress);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to load ethics progress:', error);\r\n    }\r\n  };\r\n\r\n  const loadEthicalFoundations = async () => {\r\n    try {\r\n      const response = await fetch('/api/omai/ethical-foundations');\r\n      const data = await response.json();\r\n      if (data.success) {\r\n        setEthicalFoundations(data.foundations);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to load ethical foundations:', error);\r\n    }\r\n  };\r\n\r\n  const loadOMLearnSurveys = async () => {\r\n    try {\r\n      const response = await fetch('/api/omai/omlearn-surveys');\r\n      const data = await response.json();\r\n      if (data.success) {\r\n        setOmlearnSurveys(data.surveys);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to load OMLearn surveys:', error);\r\n    }\r\n  };\r\n\r\n  const importOMLearnResponses = async (responses: any) => {\r\n    setEthicsLoading(true);\r\n    try {\r\n      const response = await fetch('/api/omai/import-omlearn', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(responses)\r\n      });\r\n      const data = await response.json();\r\n      if (data.success) {\r\n        await loadEthicalFoundations();\r\n        await loadEthicsProgress();\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to import OMLearn responses:', error);\r\n    } finally {\r\n      setEthicsLoading(false);\r\n    }\r\n  };\r\n\r\n  // Load registries when tab is opened\r\n  useEffect(() => {\r\n    if (activeTab === 5) {\r\n      loadRegistries();\r\n    }\r\n    if (activeTab === 6) {\r\n      loadCustomComponents();\r\n    }\r\n  }, [activeTab]);\r\n\r\n  // Load registries function\r\n  const loadRegistries = async () => {\r\n    setRegistriesLoading(true);\r\n    setRegistriesError(null);\r\n    \r\n    try {\r\n      const response = await fetch('/api/bigbook/registries', {\r\n        credentials: 'include'\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(`HTTP ${response.status}: ${response.statusText}`);\r\n      }\r\n      \r\n      const result = await response.json();\r\n      \r\n      if (result.success) {\r\n        setRegistries(result.registries);\r\n      } else {\r\n        throw new Error(result.error || 'Failed to load registries');\r\n      }\r\n    } catch (error) {\r\n      setRegistriesError(error instanceof Error ? error.message : 'Unknown error');\r\n      addConsoleMessage('error', `Failed to load registries: ${error instanceof Error ? error.message : 'Unknown error'}`);\r\n    } finally {\r\n      setRegistriesLoading(false);\r\n    }\r\n  };\r\n\r\n  // Load custom components function\r\n  const loadCustomComponents = async () => {\r\n    setCustomComponentsLoading(true);\r\n    \r\n    try {\r\n      const response = await fetch('/api/bigbook/custom-components-registry', {\r\n        credentials: 'include'\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setCustomComponents(data);\r\n        addConsoleMessage('success', `Loaded ${Object.keys(data.components || {}).length} custom components`);\r\n      } else {\r\n        throw new Error('Failed to load custom components');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading custom components:', error);\r\n      addConsoleMessage('error', `Failed to load custom components: ${error instanceof Error ? error.message : 'Unknown error'}`);\r\n    } finally {\r\n      setCustomComponentsLoading(false);\r\n    }\r\n  };\r\n\r\n  // Remove custom component function\r\n  const handleRemoveCustomComponent = async (component: any) => {\r\n    if (!window.confirm(`Are you sure you want to remove the component \"${component.displayName || component.name}\"? This action cannot be undone.`)) {\r\n      return;\r\n    }\r\n\r\n    addConsoleMessage('info', ` Removing custom component: ${component.name}`);\r\n\r\n    try {\r\n      // Create installation result object for removal API\r\n      const installationResult = {\r\n        componentName: component.name,\r\n        installedPath: component.path,\r\n        route: component.route,\r\n        displayName: component.displayName,\r\n        registryUpdated: true,\r\n        menuUpdated: true\r\n      };\r\n\r\n      const response = await fetch('/api/bigbook/remove-bigbook-component', {\r\n        method: 'DELETE',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        credentials: 'include',\r\n        body: JSON.stringify({\r\n          installationResult\r\n        })\r\n      });\r\n\r\n      const result = await response.json();\r\n\r\n      if (result.success) {\r\n        addConsoleMessage('success', ` Component \"${component.name}\" removed successfully`);\r\n        if (result.menuUpdated) {\r\n          addConsoleMessage('success', ` Component removed from Big Book sidebar menu`);\r\n        }\r\n        \r\n        // Reload custom components to refresh the list\r\n        await loadCustomComponents();\r\n        \r\n        // If we're currently viewing the removed component, go back\r\n        if (selectedCustomComponent === component.name) {\r\n          setSelectedCustomComponent(null);\r\n        }\r\n      } else {\r\n        throw new Error(result.error || 'Failed to remove component');\r\n      }\r\n    } catch (error) {\r\n      addConsoleMessage('error', ` Failed to remove component: ${error instanceof Error ? error.message : 'Unknown error'}`);\r\n    }\r\n  };\r\n\r\n  // Toggle item status\r\n  const toggleItemStatus = async (type: string, id: string, enabled: boolean) => {\r\n    try {\r\n      const response = await fetch(`/api/bigbook/toggle-item/${type}/${id}`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ enabled }),\r\n        credentials: 'include'\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(`HTTP ${response.status}: ${response.statusText}`);\r\n      }\r\n      \r\n      const result = await response.json();\r\n      \r\n      if (result.success) {\r\n        // Update local registry state\r\n        setRegistries((prev: any) => ({\r\n          ...prev,\r\n          [type]: {\r\n            ...prev[type],\r\n            items: {\r\n              ...prev[type].items,\r\n              [id]: result.item\r\n            }\r\n          }\r\n        }));\r\n        \r\n        addConsoleMessage('success', `Item ${enabled ? 'enabled' : 'disabled'}: ${result.item.name || result.item.displayName || id}`);\r\n      } else {\r\n        throw new Error(result.error || 'Failed to toggle item');\r\n      }\r\n    } catch (error) {\r\n      addConsoleMessage('error', `Failed to toggle item: ${error instanceof Error ? error.message : 'Unknown error'}`);\r\n    }\r\n  };\r\n\r\n  // Add console message\r\n  const addConsoleMessage = (type: ConsoleOutput['type'], message: string, details?: string) => {\r\n    const newMessage: ConsoleOutput = {\r\n      id: Date.now().toString(),\r\n      timestamp: new Date(),\r\n      type,\r\n      content: message,\r\n      source: type === 'command' ? 'User' : 'System'\r\n    };\r\n    setConsoleOutput(prev => [...prev, newMessage]);\r\n  };\r\n\r\n  // Handle file drop\r\n  const handleFileDrop = useCallback(async (e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    const files = Array.from(e.dataTransfer.files);\r\n    \r\n    for (const file of files) {\r\n      try {\r\n        const extension = file.name.split('.').pop()?.toLowerCase() || '';\r\n        \r\n        // Special handling for Parish Map zip files\r\n        if (extension === 'zip' && (\r\n          file.name.toLowerCase().includes('parish-map') || \r\n          file.name.toLowerCase().includes('parishmap') ||\r\n          file.name.toLowerCase() === '_workspace_dist_parish-map.zip'\r\n        )) {\r\n          addConsoleMessage('info', ` Parish Map zip detected: ${file.name}. Starting auto-installation...`);\r\n          \r\n          try {\r\n            const formData = new FormData();\r\n            formData.append('parishMapZip', file);\r\n            \r\n            const response = await fetch('/api/bigbook/upload-parish-map', {\r\n              method: 'POST',\r\n              body: formData,\r\n              credentials: 'include'\r\n            });\r\n            \r\n            const result = await response.json();\r\n            \r\n            if (result.success) {\r\n              addConsoleMessage('success', ` Parish Map installed successfully!`);\r\n              addConsoleMessage('info', ` Component: ${result.addon.displayName}`);\r\n              addConsoleMessage('info', ` Available at: orthodoxmetrics.com${result.addon.route}`);\r\n              addConsoleMessage('info', ` Updated Big Book Components Index`);\r\n              addConsoleMessage('success', ` Added to sidebar navigation under \"Components\" section`);\r\n              addConsoleMessage('info', ` Refresh the page to see the new menu item in the sidebar`);\r\n              \r\n              // Add link to visit the component\r\n              setTimeout(() => {\r\n                addConsoleMessage('info', `Click here to visit: ${window.location.origin}${result.addon.route}`);\r\n              }, 1000);\r\n              \r\n            } else {\r\n              addConsoleMessage('error', ` Parish Map installation failed: ${result.error}`);\r\n            }\r\n          } catch (error) {\r\n            addConsoleMessage('error', ` Parish Map installation error: ${error instanceof Error ? error.message : 'Unknown error'}`);\r\n          }\r\n          \r\n          continue; // Skip normal file processing for parish map zips\r\n        }\r\n        \r\n        // Special handling for .tsx component files\r\n        if (extension === 'tsx') {\r\n          addConsoleMessage('info', ` TSX Component detected: ${file.name}. Opening installation wizard...`);\r\n          setTsxFile(file);\r\n          setTsxWizardOpen(true);\r\n          continue; // Skip normal file processing for tsx files\r\n        }\r\n        \r\n        // Centralized file processing using new ingestion system\r\n        const supportedTypes = ['.zip', '.js', '.json', '.md', '.sh'];\r\n        if (!supportedTypes.includes(`.${extension}`)) {\r\n          // Fallback to encrypted storage for unsupported types\r\n          const reader = new FileReader();\r\n          reader.onload = async (e) => {\r\n            const content = e.target?.result as string;\r\n            const fileType = getFileTypeFromExtension(extension);\r\n            \r\n            // Create temporary file object\r\n            const tempFile: FileUpload = {\r\n              id: Date.now().toString() + Math.random(),\r\n              name: file.name,\r\n              type: fileType,\r\n              content,\r\n              size: file.size,\r\n              uploaded: new Date(),\r\n              processed: false,\r\n              status: 'pending'\r\n            };\r\n            \r\n            setUploadedFiles(prev => [...prev, tempFile]);\r\n            addConsoleMessage('info', `Uploading to encrypted storage: ${file.name} (${fileType})`);\r\n            \r\n            // Upload to encrypted storage (fallback)\r\n            try {\r\n              const response = await fetch('/api/bigbook/upload', {\r\n                method: 'POST',\r\n                headers: {\r\n                  'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify({\r\n                  fileName: file.name,\r\n                  content,\r\n                  fileType\r\n                }),\r\n              });\r\n\r\n              const result = await response.json();\r\n              \r\n              if (result.success) {\r\n                setUploadedFiles(prev => prev.map(f => \r\n                  f.id === tempFile.id \r\n                    ? { \r\n                        ...f, \r\n                        status: 'completed',\r\n                        result: { success: true, output: 'File uploaded successfully' }\r\n                      }\r\n                    : f\r\n                ));\r\n                const fileTypeMessage = result.isQuestionnaire \r\n                  ? `questionnaire (${result.questionnaireMetadata?.title || 'Unknown'})`\r\n                  : 'file';\r\n                addConsoleMessage('success', `${fileTypeMessage} uploaded to encrypted storage: ${file.name}`);\r\n                \r\n                if (result.isQuestionnaire) {\r\n                  addConsoleMessage('info', `Questionnaire detected: ${result.questionnaireMetadata?.ageGroup || 'Unknown age group'} - ${result.questionnaireMetadata?.estimatedDuration || 0} minutes`);\r\n                }\r\n              } else {\r\n                setUploadedFiles(prev => prev.map(f => \r\n                  f.id === tempFile.id ? { ...f, status: 'error', result: { success: false, error: result.error } } : f\r\n                ));\r\n                addConsoleMessage('error', `Upload failed: ${file.name} - ${result.error}`);\r\n              }\r\n            } catch (error) {\r\n              setUploadedFiles(prev => prev.map(f => \r\n                f.id === tempFile.id ? { ...f, status: 'error', result: { success: false, error: error instanceof Error ? error.message : 'Unknown error' } } : f\r\n              ));\r\n              addConsoleMessage('error', `Upload error: ${file.name} - ${error instanceof Error ? error.message : 'Unknown error'}`);\r\n            }\r\n          };\r\n          \r\n          reader.readAsText(file);\r\n          continue;\r\n        }\r\n        \r\n        // Use centralized ingestion system for supported file types\r\n        const fileTypeIcons: Record<string, string> = {\r\n          zip: '',\r\n          js: '',\r\n          json: '',\r\n          md: '',\r\n          sh: ''\r\n        };\r\n        \r\n        const fileIcon = fileTypeIcons[extension] || '';\r\n        addConsoleMessage('info', `${fileIcon} Processing ${extension.toUpperCase()} file: ${file.name}`);\r\n        \r\n        try {\r\n          const formData = new FormData();\r\n          formData.append('file', file);\r\n          \r\n          // Add OMAI notification flag if user wants it\r\n          const notifyOMAI = extension === 'md' || extension === 'js'; // Auto-notify for docs and code\r\n          if (notifyOMAI) {\r\n            formData.append('notifyOMAI', 'true');\r\n          }\r\n          \r\n          addConsoleMessage('info', ` Sending to centralized ingestion system...`);\r\n          \r\n          const response = await fetch('/api/bigbook/ingest-file', {\r\n            method: 'POST',\r\n            body: formData,\r\n            credentials: 'include'\r\n          });\r\n          \r\n          addConsoleMessage('info', ` Response status: ${response.status} ${response.statusText}`);\r\n          \r\n          if (!response.ok) {\r\n            const errorText = await response.text();\r\n            addConsoleMessage('error', ` HTTP Error ${response.status}: ${errorText}`);\r\n            \r\n            if (response.status === 401) {\r\n              addConsoleMessage('error', ` Authentication failed. Please refresh page and try again.`);\r\n              addConsoleMessage('info', ` Tip: Make sure you're logged in as super_admin`);\r\n            }\r\n            continue;\r\n          }\r\n          \r\n          const result = await response.json();\r\n          \r\n          if (result.success) {\r\n            const { result: ingestionResult } = result;\r\n            \r\n            addConsoleMessage('success', ` ${ingestionResult.message}`);\r\n            addConsoleMessage('info', ` Type: ${ingestionResult.type}/${ingestionResult.category}`);\r\n            \r\n            // Add type-specific messages\r\n            switch (ingestionResult.type) {\r\n              case 'addon':\r\n                addConsoleMessage('info', ` Component available at: ${ingestionResult.item?.route || 'N/A'}`);\r\n                if (ingestionResult.item?.enabled) {\r\n                  addConsoleMessage('success', ` Component enabled and ready to use`);\r\n                } else {\r\n                  addConsoleMessage('warning', ` Component requires manual enable in registry`);\r\n                }\r\n                break;\r\n              case 'doc':\r\n                addConsoleMessage('info', ` Document: ${ingestionResult.item?.title || ingestionResult.item?.name}`);\r\n                if (ingestionResult.item?.webPath) {\r\n                  addConsoleMessage('info', ` Web path: ${ingestionResult.item.webPath}`);\r\n                }\r\n                break;\r\n              case 'script':\r\n                addConsoleMessage('info', ` Script stored and made executable`);\r\n                addConsoleMessage('warning', ` Script requires manual enable for security`);\r\n                break;\r\n              case 'config':\r\n                addConsoleMessage('info', ` Configuration active and available`);\r\n                break;\r\n              case 'data':\r\n                addConsoleMessage('info', ` Data archived for manual processing`);\r\n                break;\r\n            }\r\n            \r\n            // Show registry update info\r\n            if (result.registries) {\r\n              const registryNames = Object.keys(result.registries);\r\n              addConsoleMessage('info', ` Updated registries: ${registryNames.join(', ')}`);\r\n            }\r\n            \r\n            // OMAI notification status\r\n            if (notifyOMAI) {\r\n              addConsoleMessage('info', ` OMAI notified for learning`);\r\n            }\r\n            \r\n          } else {\r\n            addConsoleMessage('error', ` Ingestion failed: ${result.error}`);\r\n            if (result.debug) {\r\n              addConsoleMessage('info', ` Debug info: ${JSON.stringify(result.debug)}`);\r\n            }\r\n          }\r\n          \r\n        } catch (error) {\r\n          addConsoleMessage('error', ` Ingestion error: ${error instanceof Error ? error.message : 'Unknown error'}`);\r\n        }\r\n      } catch (error) {\r\n        addConsoleMessage('error', `File processing error: ${file.name} - ${error instanceof Error ? error.message : 'Unknown error'}`);\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  const handleDragOver = (e: React.DragEvent) => {\r\n    e.preventDefault();\r\n  };\r\n\r\n  const handleFileInputChange = async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const files = Array.from(e.target.files || []);\r\n    \r\n    for (const file of files) {\r\n      try {\r\n        const extension = file.name.split('.').pop()?.toLowerCase() || '';\r\n        \r\n        // Special handling for Parish Map zip files\r\n        if (extension === 'zip' && (\r\n          file.name.toLowerCase().includes('parish-map') || \r\n          file.name.toLowerCase().includes('parishmap') ||\r\n          file.name.toLowerCase() === '_workspace_dist_parish-map.zip'\r\n        )) {\r\n          addConsoleMessage('info', ` Parish Map zip selected: ${file.name}. Starting auto-installation...`);\r\n          \r\n          try {\r\n            const formData = new FormData();\r\n            formData.append('parishMapZip', file);\r\n            \r\n            addConsoleMessage('info', ` Sending request to /api/bigbook/upload-parish-map...`);\r\n            \r\n            const response = await fetch('/api/bigbook/upload-parish-map', {\r\n              method: 'POST',\r\n              body: formData,\r\n              credentials: 'include',\r\n              headers: {\r\n                // Don't set Content-Type for FormData - let browser set it with boundary\r\n              }\r\n            });\r\n            \r\n            addConsoleMessage('info', ` Response status: ${response.status} ${response.statusText}`);\r\n            \r\n            if (!response.ok) {\r\n              const errorText = await response.text();\r\n              addConsoleMessage('error', ` HTTP Error ${response.status}: ${errorText}`);\r\n              \r\n              if (response.status === 401) {\r\n                addConsoleMessage('error', ` Authentication failed. Please refresh page and try again.`);\r\n                addConsoleMessage('info', ` Tip: Make sure you're logged in as super_admin`);\r\n              }\r\n              return;\r\n            }\r\n            \r\n            const result = await response.json();\r\n            \r\n            if (result.success) {\r\n              addConsoleMessage('success', ` Parish Map installed successfully!`);\r\n              addConsoleMessage('info', ` Component: ${result.addon.displayName}`);\r\n              addConsoleMessage('info', ` Available at: orthodoxmetrics.com${result.addon.route}`);\r\n              addConsoleMessage('info', ` Updated Big Book Components Index`);\r\n              addConsoleMessage('success', ` Added to sidebar navigation under \"Components\" section`);\r\n              addConsoleMessage('info', ` Refresh the page to see the new menu item in the sidebar`);\r\n              \r\n              // Add link to visit the component\r\n              setTimeout(() => {\r\n                addConsoleMessage('info', `Click here to visit: ${window.location.origin}${result.addon.route}`);\r\n              }, 1000);\r\n              \r\n            } else {\r\n              addConsoleMessage('error', ` Parish Map installation failed: ${result.error}`);\r\n              if (result.debug) {\r\n                addConsoleMessage('info', ` Debug info: ${JSON.stringify(result.debug)}`);\r\n              }\r\n            }\r\n          } catch (error) {\r\n            addConsoleMessage('error', ` Parish Map installation error: ${error instanceof Error ? error.message : 'Unknown error'}`);\r\n            console.error('Parish Map upload error:', error);\r\n          }\r\n          \r\n          continue; // Skip normal file processing for parish map zips\r\n        }\r\n        \r\n        // Special handling for .tsx component files\r\n        if (extension === 'tsx') {\r\n          addConsoleMessage('info', ` TSX Component detected: ${file.name}. Opening installation wizard...`);\r\n          setTsxFile(file);\r\n          setTsxWizardOpen(true);\r\n          continue; // Skip normal file processing for tsx files\r\n        }\r\n        \r\n        // Centralized file processing using new ingestion system\r\n        const supportedTypes = ['.zip', '.js', '.json', '.md', '.sh'];\r\n        if (!supportedTypes.includes(`.${extension}`)) {\r\n          // Fallback to encrypted storage for unsupported types\r\n          const reader = new FileReader();\r\n          reader.onload = async (e) => {\r\n            const content = e.target?.result as string;\r\n            const fileType = getFileTypeFromExtension(extension);\r\n            \r\n            // Create temporary file object\r\n            const tempFile: FileUpload = {\r\n              id: Date.now().toString() + Math.random(),\r\n              name: file.name,\r\n              type: fileType,\r\n              content,\r\n              size: file.size,\r\n              uploaded: new Date(),\r\n              processed: false,\r\n              status: 'pending'\r\n            };\r\n            \r\n            setUploadedFiles(prev => [...prev, tempFile]);\r\n            addConsoleMessage('info', `Uploading to encrypted storage: ${file.name} (${fileType})`);\r\n            \r\n            // Upload to encrypted storage (fallback)\r\n            try {\r\n              const response = await fetch('/api/bigbook/upload', {\r\n                method: 'POST',\r\n                headers: {\r\n                  'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify({\r\n                  fileName: file.name,\r\n                  content,\r\n                  fileType\r\n                }),\r\n              });\r\n\r\n              const result = await response.json();\r\n              \r\n              if (result.success) {\r\n                setUploadedFiles(prev => prev.map(f => \r\n                  f.id === tempFile.id \r\n                    ? { \r\n                        ...f, \r\n                        status: 'completed',\r\n                        result: { success: true, output: 'File uploaded successfully' }\r\n                      }\r\n                    : f\r\n                ));\r\n                const fileTypeMessage = result.isQuestionnaire \r\n                  ? `questionnaire (${result.questionnaireMetadata?.title || 'Unknown'})`\r\n                  : 'file';\r\n                addConsoleMessage('success', `${fileTypeMessage} uploaded to encrypted storage: ${file.name}`);\r\n                \r\n                if (result.isQuestionnaire) {\r\n                  addConsoleMessage('info', `Questionnaire detected: ${result.questionnaireMetadata?.ageGroup || 'Unknown age group'} - ${result.questionnaireMetadata?.estimatedDuration || 0} minutes`);\r\n                }\r\n              } else {\r\n                setUploadedFiles(prev => prev.map(f => \r\n                  f.id === tempFile.id ? { ...f, status: 'error', result: { success: false, error: result.error } } : f\r\n                ));\r\n                addConsoleMessage('error', `Upload failed: ${file.name} - ${result.error}`);\r\n              }\r\n            } catch (error) {\r\n              setUploadedFiles(prev => prev.map(f => \r\n                f.id === tempFile.id ? { ...f, status: 'error', result: { success: false, error: error instanceof Error ? error.message : 'Unknown error' } } : f\r\n              ));\r\n              addConsoleMessage('error', `Upload error: ${file.name} - ${error instanceof Error ? error.message : 'Unknown error'}`);\r\n            }\r\n          };\r\n          \r\n          reader.readAsText(file);\r\n          continue;\r\n        }\r\n        \r\n        // Use centralized ingestion system for supported file types\r\n        const fileTypeIcons: Record<string, string> = {\r\n          zip: '',\r\n          js: '',\r\n          json: '',\r\n          md: '',\r\n          sh: ''\r\n        };\r\n        \r\n        const fileIcon = fileTypeIcons[extension] || '';\r\n        addConsoleMessage('info', `${fileIcon} Processing ${extension.toUpperCase()} file: ${file.name}`);\r\n        \r\n        try {\r\n          const formData = new FormData();\r\n          formData.append('file', file);\r\n          \r\n          // Add OMAI notification flag if user wants it\r\n          const notifyOMAI = extension === 'md' || extension === 'js'; // Auto-notify for docs and code\r\n          if (notifyOMAI) {\r\n            formData.append('notifyOMAI', 'true');\r\n          }\r\n          \r\n          addConsoleMessage('info', ` Sending to centralized ingestion system...`);\r\n          \r\n          const response = await fetch('/api/bigbook/ingest-file', {\r\n            method: 'POST',\r\n            body: formData,\r\n            credentials: 'include'\r\n          });\r\n          \r\n          addConsoleMessage('info', ` Response status: ${response.status} ${response.statusText}`);\r\n          \r\n          if (!response.ok) {\r\n            const errorText = await response.text();\r\n            addConsoleMessage('error', ` HTTP Error ${response.status}: ${errorText}`);\r\n            \r\n            if (response.status === 401) {\r\n              addConsoleMessage('error', ` Authentication failed. Please refresh page and try again.`);\r\n              addConsoleMessage('info', ` Tip: Make sure you're logged in as super_admin`);\r\n            }\r\n            continue;\r\n          }\r\n          \r\n          const result = await response.json();\r\n          \r\n          if (result.success) {\r\n            const { result: ingestionResult } = result;\r\n            \r\n            addConsoleMessage('success', ` ${ingestionResult.message}`);\r\n            addConsoleMessage('info', ` Type: ${ingestionResult.type}/${ingestionResult.category}`);\r\n            \r\n            // Add type-specific messages\r\n            switch (ingestionResult.type) {\r\n              case 'addon':\r\n                addConsoleMessage('info', ` Component available at: ${ingestionResult.item?.route || 'N/A'}`);\r\n                if (ingestionResult.item?.enabled) {\r\n                  addConsoleMessage('success', ` Component enabled and ready to use`);\r\n                } else {\r\n                  addConsoleMessage('warning', ` Component requires manual enable in registry`);\r\n                }\r\n                break;\r\n              case 'doc':\r\n                addConsoleMessage('info', ` Document: ${ingestionResult.item?.title || ingestionResult.item?.name}`);\r\n                if (ingestionResult.item?.webPath) {\r\n                  addConsoleMessage('info', ` Web path: ${ingestionResult.item.webPath}`);\r\n                }\r\n                break;\r\n              case 'script':\r\n                addConsoleMessage('info', ` Script stored and made executable`);\r\n                addConsoleMessage('warning', ` Script requires manual enable for security`);\r\n                break;\r\n              case 'config':\r\n                addConsoleMessage('info', ` Configuration active and available`);\r\n                break;\r\n              case 'data':\r\n                addConsoleMessage('info', ` Data archived for manual processing`);\r\n                break;\r\n            }\r\n            \r\n            // Show registry update info\r\n            if (result.registries) {\r\n              const registryNames = Object.keys(result.registries);\r\n              addConsoleMessage('info', ` Updated registries: ${registryNames.join(', ')}`);\r\n            }\r\n            \r\n            // OMAI notification status\r\n            if (notifyOMAI) {\r\n              addConsoleMessage('info', ` OMAI notified for learning`);\r\n            }\r\n            \r\n          } else {\r\n            addConsoleMessage('error', ` Ingestion failed: ${result.error}`);\r\n            if (result.debug) {\r\n              addConsoleMessage('info', ` Debug info: ${JSON.stringify(result.debug)}`);\r\n            }\r\n          }\r\n          \r\n        } catch (error) {\r\n          addConsoleMessage('error', ` Ingestion error: ${error instanceof Error ? error.message : 'Unknown error'}`);\r\n        }\r\n      } catch (error) {\r\n        addConsoleMessage('error', `File processing error: ${file.name} - ${error instanceof Error ? error.message : 'Unknown error'}`);\r\n      }\r\n    }\r\n  };\r\n\r\n  // Get file type from extension\r\n  const getFileTypeFromExtension = (extension: string): FileUpload['type'] => {\r\n    switch (extension) {\r\n      case 'sql':\r\n        return 'sql';\r\n      case 'md':\r\n      case 'markdown':\r\n        return 'markdown';\r\n      case 'js':\r\n      case 'jsx':\r\n      case 'ts':\r\n      case 'tsx':\r\n        return 'javascript';\r\n      case 'sh':\r\n      case 'bash':\r\n      case 'zsh':\r\n        return 'shell';\r\n      case 'py':\r\n      case 'python':\r\n        return 'python';\r\n      case 'html':\r\n      case 'htm':\r\n        return 'html';\r\n      case 'css':\r\n      case 'scss':\r\n      case 'sass':\r\n        return 'css';\r\n      case 'json':\r\n        return 'json';\r\n      case 'xml':\r\n        return 'xml';\r\n      case 'txt':\r\n      case 'log':\r\n        return 'text';\r\n      case 'jpg':\r\n      case 'jpeg':\r\n      case 'png':\r\n      case 'gif':\r\n      case 'svg':\r\n      case 'webp':\r\n        return 'image';\r\n      case 'mp4':\r\n      case 'avi':\r\n      case 'mov':\r\n      case 'wmv':\r\n        return 'video';\r\n      case 'mp3':\r\n      case 'wav':\r\n      case 'ogg':\r\n        return 'audio';\r\n      case 'zip':\r\n      case 'tar':\r\n      case 'gz':\r\n      case 'rar':\r\n        return 'archive';\r\n      case 'pdf':\r\n        return 'pdf';\r\n      default:\r\n        return 'other';\r\n    }\r\n  };\r\n\r\n  const executeFile = async (file: FileUpload) => {\r\n    setIsExecuting(true);\r\n    addConsoleMessage('command', `Executing: ${file.name}`);\r\n    \r\n    try {\r\n      // If file is in encrypted storage, retrieve it first\r\n      let content = file.content;\r\n      if (file.encryptedPath) {\r\n        try {\r\n          const retrieveResponse = await fetch(`/api/bigbook/storage/file/${file.id}?encryptedPath=${encodeURIComponent(file.encryptedPath)}`);\r\n          const retrieveResult = await retrieveResponse.json();\r\n          \r\n          if (retrieveResult.success) {\r\n            content = retrieveResult.content;\r\n          } else {\r\n            throw new Error(`Failed to retrieve file from encrypted storage: ${retrieveResult.error}`);\r\n          }\r\n        } catch (retrieveError) {\r\n          addConsoleMessage('error', `Failed to retrieve file from encrypted storage: ${file.name}`, retrieveError instanceof Error ? retrieveError.message : 'Unknown error');\r\n          setIsExecuting(false);\r\n          return;\r\n        }\r\n      }\r\n      \r\n      const response = await fetch('/api/bigbook/execute', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          fileId: file.id,\r\n          fileName: file.name,\r\n          content: content,\r\n          type: file.type,\r\n          settings\r\n        }),\r\n      });\r\n\r\n      const result = await response.json();\r\n      \r\n      if (result.success) {\r\n        addConsoleMessage('success', `Execution completed: ${file.name}`, result.output);\r\n      } else {\r\n        addConsoleMessage('error', `Execution failed: ${file.name}`, result.error);\r\n      }\r\n    } catch (error) {\r\n      addConsoleMessage('error', `Execution error: ${file.name}`, error instanceof Error ? error.message : 'Unknown error');\r\n    } finally {\r\n      setIsExecuting(false);\r\n    }\r\n  };\r\n\r\n  const removeFile = async (fileId: string) => {\r\n    const file = uploadedFiles.find(f => f.id === fileId);\r\n    \r\n    if (file?.encryptedPath) {\r\n      try {\r\n        const response = await fetch(`/api/bigbook/storage/file/${fileId}?encryptedPath=${encodeURIComponent(file.encryptedPath)}`, {\r\n          method: 'DELETE',\r\n        });\r\n        \r\n        const result = await response.json();\r\n        \r\n        if (result.success) {\r\n          setUploadedFiles(prev => prev.filter(f => f.id !== fileId));\r\n          addConsoleMessage('success', `File removed from encrypted storage: ${file.name}`);\r\n        } else {\r\n          addConsoleMessage('error', `Failed to remove file from encrypted storage: ${file.name} - ${result.error}`);\r\n        }\r\n      } catch (error) {\r\n        addConsoleMessage('error', `Error removing file from encrypted storage: ${file.name} - ${error instanceof Error ? error.message : 'Unknown error'}`);\r\n      }\r\n    } else {\r\n      // Remove from local list only\r\n      setUploadedFiles(prev => prev.filter(f => f.id !== fileId));\r\n      addConsoleMessage('info', 'File removed from list');\r\n    }\r\n  };\r\n\r\n  const clearConsole = () => {\r\n    setConsoleOutput([]);\r\n  };\r\n\r\n  const saveSettings = async () => {\r\n    try {\r\n      const response = await fetch('/api/bigbook/settings', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(settings),\r\n      });\r\n\r\n      if (response.ok) {\r\n        addConsoleMessage('success', 'Settings saved successfully');\r\n        setShowSettings(false);\r\n      } else {\r\n        addConsoleMessage('error', 'Failed to save settings');\r\n      }\r\n    } catch (error) {\r\n      addConsoleMessage('error', 'Error saving settings');\r\n    }\r\n  };\r\n\r\n  // Handle questionnaire preview\r\n  const handleQuestionnairePreview = (file: FileUpload) => {\r\n    if (!file.isQuestionnaire) {\r\n      addConsoleMessage('warning', 'File is not a questionnaire');\r\n      return;\r\n    }\r\n    setPreviewFile(file);\r\n    setQuestionnairePreviewOpen(true);\r\n    addConsoleMessage('info', `Opening questionnaire preview: ${file.questionnaireMetadata?.title || file.name}`);\r\n  };\r\n\r\n  // Handle questionnaire submission\r\n  const handleQuestionnaireSubmit = async (submission: any) => {\r\n    try {\r\n      addConsoleMessage('info', `Submitting questionnaire responses: ${submission.questionnaireTitle}`);\r\n      \r\n      const response = await fetch('/api/bigbook/submit-response', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(submission),\r\n      });\r\n\r\n      const result = await response.json();\r\n      \r\n      if (result.success) {\r\n        addConsoleMessage('success', `Questionnaire submitted successfully (${result.action}): ${submission.questionnaireTitle}`, \r\n          `Response ID: ${result.responseId}\\nResponses: ${submission.responses.length} answers`);\r\n      } else {\r\n        addConsoleMessage('error', `Failed to submit questionnaire: ${result.error}`);\r\n      }\r\n    } catch (error) {\r\n      addConsoleMessage('error', `Error submitting questionnaire: ${error instanceof Error ? error.message : 'Unknown error'}`);\r\n    }\r\n  };\r\n\r\n  // Get file icon\r\n  const getFileIcon = (type: string) => {\r\n    switch (type) {\r\n      case 'sql':\r\n        return <DatabaseIcon />;\r\n      case 'markdown':\r\n        return <ArticleIcon />;\r\n      case 'javascript':\r\n        return <JavaScriptIcon />;\r\n      case 'shell':\r\n        return <ShellScriptIcon />;\r\n      case 'python':\r\n        return <PythonIcon />;\r\n      case 'html':\r\n        return <HtmlIcon />;\r\n      case 'css':\r\n        return <CssIcon />;\r\n      case 'json':\r\n        return <JsonIcon />;\r\n      case 'xml':\r\n        return <XmlIcon />;\r\n      case 'text':\r\n        return <TextIcon />;\r\n      case 'image':\r\n        return <ImageIcon />;\r\n      case 'video':\r\n        return <VideoIcon />;\r\n      case 'audio':\r\n        return <AudioIcon />;\r\n      case 'archive':\r\n        return <ArchiveIcon />;\r\n      case 'pdf':\r\n        return <PdfIcon />;\r\n      case 'script':\r\n        return <CodeIcon />;\r\n      default:\r\n        return <FileTextIcon />;\r\n    }\r\n  };\r\n\r\n  // Get file type chip color\r\n  const getFileTypeChip = (type: string) => {\r\n    switch (type) {\r\n      case 'sql':\r\n        return <Chip label=\"SQL\" size=\"small\" color=\"primary\" />;\r\n      case 'markdown':\r\n        return <Chip label=\"Markdown\" size=\"small\" color=\"info\" />;\r\n      case 'javascript':\r\n        return <Chip label=\"JavaScript\" size=\"small\" color=\"warning\" />;\r\n      case 'shell':\r\n        return <Chip label=\"Shell\" size=\"small\" color=\"success\" />;\r\n      case 'python':\r\n        return <Chip label=\"Python\" size=\"small\" color=\"secondary\" />;\r\n      case 'html':\r\n        return <Chip label=\"HTML\" size=\"small\" color=\"error\" />;\r\n      case 'css':\r\n        return <Chip label=\"CSS\" size=\"small\" color=\"info\" />;\r\n      case 'json':\r\n        return <Chip label=\"JSON\" size=\"small\" color=\"warning\" />;\r\n      case 'xml':\r\n        return <Chip label=\"XML\" size=\"small\" color=\"secondary\" />;\r\n      case 'text':\r\n        return <Chip label=\"Text\" size=\"small\" color=\"default\" />;\r\n      case 'image':\r\n        return <Chip label=\"Image\" size=\"small\" color=\"success\" />;\r\n      case 'video':\r\n        return <Chip label=\"Video\" size=\"small\" color=\"error\" />;\r\n      case 'audio':\r\n        return <Chip label=\"Audio\" size=\"small\" color=\"info\" />;\r\n      case 'archive':\r\n        return <Chip label=\"Archive\" size=\"small\" color=\"warning\" />;\r\n      case 'pdf':\r\n        return <Chip label=\"PDF\" size=\"small\" color=\"error\" />;\r\n      case 'script':\r\n        return <Chip label=\"Script\" size=\"small\" color=\"secondary\" />;\r\n      default:\r\n        return <Chip label=\"Other\" size=\"small\" color=\"default\" />;\r\n    }\r\n  };\r\n\r\n  const handleTabChange = (event: React.SyntheticEvent, newValue: number) => {\r\n    setActiveTab(newValue);\r\n  };\r\n\r\n  const renderLearningDashboard = () => (\r\n    <Box>\r\n      {/* Learning Progress Overview */}\r\n      <Card sx={{ mb: 3 }}>\r\n        <CardContent>\r\n          <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={2}>\r\n            <Typography variant=\"h5\" component=\"h2\">\r\n              <PsychologyIcon sx={{ mr: 1, verticalAlign: 'middle' }} />\r\n              OMAI Learning Dashboard\r\n            </Typography>\r\n            <Box>\r\n              <Button\r\n                variant=\"outlined\"\r\n                startIcon={learningLoading ? <CircularProgress size={16} /> : <RefreshCwIcon />}\r\n                onClick={refreshOMAIData}\r\n                disabled={learningLoading}\r\n                sx={{ mr: 1 }}\r\n              >\r\n                Refresh\r\n              </Button>\r\n              <Button\r\n                variant=\"contained\"\r\n                startIcon={<LearningIcon />}\r\n                onClick={() => setTrainingDialogOpen(true)}\r\n                disabled={!!activeTrainingSession}\r\n              >\r\n                Start Training\r\n              </Button>\r\n            </Box>\r\n          </Box>\r\n\r\n          {learningProgress && (\r\n            <Grid container spacing={3}>\r\n              <Grid item xs={12} md={3}>\r\n                <Paper sx={{ p: 2, textAlign: 'center' }}>\r\n                  <Typography variant=\"h4\" color=\"primary\">\r\n                    {Math.round(learningProgress.overallProgress)}%\r\n                  </Typography>\r\n                  <Typography variant=\"body2\" color=\"text.secondary\">\r\n                    Overall Progress\r\n                  </Typography>\r\n                  <LinearProgress \r\n                    variant=\"determinate\" \r\n                    value={learningProgress.overallProgress} \r\n                    sx={{ mt: 1 }}\r\n                  />\r\n                </Paper>\r\n              </Grid>\r\n              \r\n              <Grid item xs={12} md={3}>\r\n                <Paper sx={{ p: 2, textAlign: 'center' }}>\r\n                  <Typography variant=\"h4\" color=\"success.main\">\r\n                    {learningProgress.knowledgePoints}\r\n                  </Typography>\r\n                  <Typography variant=\"body2\" color=\"text.secondary\">\r\n                    Knowledge Points\r\n                  </Typography>\r\n                </Paper>\r\n              </Grid>\r\n              \r\n              <Grid item xs={12} md={3}>\r\n                <Paper sx={{ p: 2, textAlign: 'center' }}>\r\n                  <Typography variant=\"h4\" color=\"info.main\">\r\n                    {learningProgress.memoriesCreated}\r\n                  </Typography>\r\n                  <Typography variant=\"body2\" color=\"text.secondary\">\r\n                    Memories Created\r\n                  </Typography>\r\n                </Paper>\r\n              </Grid>\r\n              \r\n              <Grid item xs={12} md={3}>\r\n                <Paper sx={{ p: 2, textAlign: 'center' }}>\r\n                  <Typography variant=\"h4\" color=\"warning.main\">\r\n                    {learningProgress.filesProcessed}\r\n                  </Typography>\r\n                  <Typography variant=\"body2\" color=\"text.secondary\">\r\n                    Files Processed\r\n                  </Typography>\r\n                </Paper>\r\n              </Grid>\r\n            </Grid>\r\n          )}\r\n\r\n          {/* Current Phase Status */}\r\n          {learningProgress && (\r\n            <Box mt={3}>\r\n              <Typography variant=\"h6\" gutterBottom>\r\n                Current Learning Phase\r\n              </Typography>\r\n              <Alert severity=\"info\" sx={{ mb: 2 }}>\r\n                <Typography variant=\"subtitle1\">\r\n                  <strong>{learningProgress.currentPhase}</strong>\r\n                </Typography>\r\n                <Typography variant=\"body2\">\r\n                  {learningProgress.completedSessions} of {learningProgress.totalSessions} sessions completed\r\n                </Typography>\r\n                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                  Last Activity: {learningProgress.lastActivity}\r\n                </Typography>\r\n              </Alert>\r\n            </Box>\r\n          )}\r\n\r\n          {/* Active Training Session */}\r\n          {activeTrainingSession && (\r\n            <Box mt={3}>\r\n              <Typography variant=\"h6\" gutterBottom>\r\n                Active Training Session\r\n              </Typography>\r\n              <Paper sx={{ p: 2, border: 2, borderColor: 'primary.main' }}>\r\n                <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={2}>\r\n                  <Box>\r\n                    <Typography variant=\"subtitle1\" color=\"primary\">\r\n                      {activeTrainingSession.name}\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" color=\"text.secondary\">\r\n                      Phase: {activeTrainingSession.phase}\r\n                    </Typography>\r\n                  </Box>\r\n                  <Button\r\n                    variant=\"outlined\"\r\n                    color=\"error\"\r\n                    startIcon={<StopIcon />}\r\n                    onClick={stopTrainingSession}\r\n                    size=\"small\"\r\n                  >\r\n                    Stop\r\n                  </Button>\r\n                </Box>\r\n                <LinearProgress \r\n                  variant=\"determinate\" \r\n                  value={activeTrainingSession.progress} \r\n                  sx={{ mb: 1 }}\r\n                />\r\n                <Typography variant=\"body2\" align=\"center\">\r\n                  {activeTrainingSession.progress}% Complete\r\n                </Typography>\r\n              </Paper>\r\n            </Box>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n    </Box>\r\n  );\r\n\r\n  const renderTrainingPathways = () => (\r\n    <Box>\r\n      {/* Training Sessions */}\r\n      <Card sx={{ mb: 3 }}>\r\n        <CardContent>\r\n          <Typography variant=\"h6\" gutterBottom>\r\n            <TaskIcon sx={{ mr: 1, verticalAlign: 'middle' }} />\r\n            Training Sessions\r\n          </Typography>\r\n          \r\n          {trainingSessions.length === 0 ? (\r\n            <Alert severity=\"info\">\r\n              No training sessions found. Start your first training session to begin OMAI's learning journey.\r\n            </Alert>\r\n          ) : (\r\n            <TableContainer>\r\n              <Table>\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>Session Name</TableCell>\r\n                    <TableCell>Phase</TableCell>\r\n                    <TableCell>Status</TableCell>\r\n                    <TableCell>Progress</TableCell>\r\n                    <TableCell>Duration</TableCell>\r\n                    <TableCell>Results</TableCell>\r\n                    <TableCell>Actions</TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  {trainingSessions.map((session) => (\r\n                    <TableRow key={session.id}>\r\n                      <TableCell>{session.name}</TableCell>\r\n                      <TableCell>\r\n                        <Chip \r\n                          label={session.phase} \r\n                          size=\"small\" \r\n                          variant=\"outlined\"\r\n                        />\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <Chip \r\n                          label={session.status}\r\n                          color={\r\n                            session.status === 'completed' ? 'success' :\r\n                            session.status === 'running' ? 'primary' :\r\n                            session.status === 'failed' ? 'error' : 'default'\r\n                          }\r\n                          size=\"small\"\r\n                        />\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <Box display=\"flex\" alignItems=\"center\">\r\n                          <LinearProgress \r\n                            variant=\"determinate\" \r\n                            value={session.progress} \r\n                            sx={{ width: 100, mr: 1 }}\r\n                          />\r\n                          <Typography variant=\"body2\">\r\n                            {session.progress}%\r\n                          </Typography>\r\n                        </Box>\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        {session.duration ? `${Math.round(session.duration / 60)} min` : '-'}\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        {session.results && (\r\n                          <Tooltip title={`Files: ${session.results.filesProcessed}, Memories: ${session.results.memoriesCreated}, Knowledge: ${session.results.knowledgeExtracted}`}>\r\n                            <Chip \r\n                              label={`${session.results.filesProcessed} files`} \r\n                              size=\"small\" \r\n                              variant=\"outlined\"\r\n                            />\r\n                          </Tooltip>\r\n                        )}\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <IconButton size=\"small\">\r\n                          <ViewIcon />\r\n                        </IconButton>\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  ))}\r\n                </TableBody>\r\n              </Table>\r\n            </TableContainer>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Training Phases Overview */}\r\n      <Card>\r\n        <CardContent>\r\n          <Typography variant=\"h6\" gutterBottom>\r\n            Training Phases\r\n          </Typography>\r\n          \r\n          <Grid container spacing={2}>\r\n            {[\r\n              { \r\n                id: 'foundation', \r\n                name: 'Foundation Knowledge', \r\n                description: 'Basic system understanding and file structure analysis',\r\n                icon: <CodeIcon />\r\n              },\r\n              { \r\n                id: 'functional', \r\n                name: 'Functional Understanding', \r\n                description: 'API patterns, component relationships, and data flow',\r\n                icon: <AnalyticsIcon />\r\n              },\r\n              { \r\n                id: 'operational', \r\n                name: 'Operational Intelligence', \r\n                description: 'Deployment, monitoring, and performance patterns',\r\n                icon: <PerformanceIcon />\r\n              },\r\n              { \r\n                id: 'resolution', \r\n                name: 'Issue Resolution', \r\n                description: 'Problem-solving patterns and error handling',\r\n                icon: <InsightsIcon />\r\n              },\r\n              { \r\n                id: 'predictive', \r\n                name: 'Predictive Capabilities', \r\n                description: 'Proactive maintenance and optimization',\r\n                icon: <TrendingUpIcon />\r\n              }\r\n            ].map((phase) => (\r\n              <Grid item xs={12} md={6} lg={4} key={phase.id}>\r\n                <Paper \r\n                  sx={{ \r\n                    p: 2, \r\n                    cursor: 'pointer',\r\n                    '&:hover': { elevation: 4 }\r\n                  }}\r\n                  onClick={() => {\r\n                    setSelectedTrainingPhase(phase.id);\r\n                    setTrainingDialogOpen(true);\r\n                  }}\r\n                >\r\n                  <Box display=\"flex\" alignItems=\"center\" mb={1}>\r\n                    {phase.icon}\r\n                    <Typography variant=\"subtitle1\" sx={{ ml: 1 }}>\r\n                      {phase.name}\r\n                    </Typography>\r\n                  </Box>\r\n                  <Typography variant=\"body2\" color=\"text.secondary\">\r\n                    {phase.description}\r\n                  </Typography>\r\n                </Paper>\r\n              </Grid>\r\n            ))}\r\n          </Grid>\r\n        </CardContent>\r\n      </Card>\r\n    </Box>\r\n  );\r\n\r\n  const renderKnowledgeAnalytics = () => (\r\n    <Box>\r\n      {knowledgeMetrics && (\r\n        <>\r\n          {/* Knowledge Overview */}\r\n          <Card sx={{ mb: 3 }}>\r\n            <CardContent>\r\n              <Typography variant=\"h6\" gutterBottom>\r\n                <MetricsIcon sx={{ mr: 1, verticalAlign: 'middle' }} />\r\n                Knowledge Analytics\r\n              </Typography>\r\n              \r\n              <Grid container spacing={3}>\r\n                <Grid item xs={12} md={4}>\r\n                  <Paper sx={{ p: 2, textAlign: 'center' }}>\r\n                    <Typography variant=\"h4\" color=\"primary\">\r\n                      {knowledgeMetrics.totalMemories}\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" color=\"text.secondary\">\r\n                      Total Memories\r\n                    </Typography>\r\n                  </Paper>\r\n                </Grid>\r\n                \r\n                <Grid item xs={12} md={4}>\r\n                  <Paper sx={{ p: 2, textAlign: 'center' }}>\r\n                    <Typography variant=\"h4\" color=\"success.main\">\r\n                      {knowledgeMetrics.learningVelocity.memoriesPerWeek}\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" color=\"text.secondary\">\r\n                      Memories/Week\r\n                    </Typography>\r\n                  </Paper>\r\n                </Grid>\r\n                \r\n                <Grid item xs={12} md={4}>\r\n                  <Paper sx={{ p: 2, textAlign: 'center' }}>\r\n                    <Typography variant=\"h4\" color=\"info.main\">\r\n                      {Math.round(knowledgeMetrics.learningVelocity.knowledgeGrowthRate * 100)}%\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" color=\"text.secondary\">\r\n                      Growth Rate\r\n                    </Typography>\r\n                  </Paper>\r\n                </Grid>\r\n              </Grid>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          {/* Categories & Priorities Distribution */}\r\n          <Grid container spacing={3} sx={{ mb: 3 }}>\r\n            <Grid item xs={12} md={6}>\r\n              <Card>\r\n                <CardContent>\r\n                  <Typography variant=\"h6\" gutterBottom>\r\n                    Knowledge Categories\r\n                  </Typography>\r\n                  <List>\r\n                    {Object.entries(knowledgeMetrics.categoriesDistribution).map(([category, count]) => (\r\n                      <ListItem key={category}>\r\n                        <ListItemText primary={category} />\r\n                        <Chip label={count} size=\"small\" />\r\n                      </ListItem>\r\n                    ))}\r\n                  </List>\r\n                </CardContent>\r\n              </Card>\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} md={6}>\r\n              <Card>\r\n                <CardContent>\r\n                  <Typography variant=\"h6\" gutterBottom>\r\n                    Priority Distribution\r\n                  </Typography>\r\n                  <List>\r\n                    {Object.entries(knowledgeMetrics.priorityDistribution).map(([priority, count]) => (\r\n                      <ListItem key={priority}>\r\n                        <ListItemText primary={priority} />\r\n                        <Chip \r\n                          label={count} \r\n                          size=\"small\"\r\n                          color={\r\n                            priority === 'critical' ? 'error' :\r\n                            priority === 'high' ? 'warning' :\r\n                            priority === 'medium' ? 'info' : 'default'\r\n                          }\r\n                        />\r\n                      </ListItem>\r\n                    ))}\r\n                  </List>\r\n                </CardContent>\r\n              </Card>\r\n            </Grid>\r\n          </Grid>\r\n\r\n          {/* Usage Patterns */}\r\n          <Card>\r\n            <CardContent>\r\n              <Typography variant=\"h6\" gutterBottom>\r\n                Usage Patterns\r\n              </Typography>\r\n              \r\n              <Grid container spacing={3}>\r\n                <Grid item xs={12} md={4}>\r\n                  <Typography variant=\"subtitle1\" gutterBottom>\r\n                    Most Used Memories\r\n                  </Typography>\r\n                  <List dense>\r\n                    {knowledgeMetrics.usagePatterns.mostUsed.map((memory, index) => (\r\n                      <ListItem key={index}>\r\n                        <ListItemText \r\n                          primary={memory.title}\r\n                          secondary={`Used ${memory.count} times`}\r\n                        />\r\n                      </ListItem>\r\n                    ))}\r\n                  </List>\r\n                </Grid>\r\n                \r\n                <Grid item xs={12} md={4}>\r\n                  <Typography variant=\"subtitle1\" gutterBottom>\r\n                    Recently Accessed\r\n                  </Typography>\r\n                  <List dense>\r\n                    {knowledgeMetrics.usagePatterns.recentlyAccessed.map((memory, index) => (\r\n                      <ListItem key={index}>\r\n                        <ListItemText \r\n                          primary={memory.title}\r\n                          secondary={new Date(memory.lastAccessed).toLocaleString()}\r\n                        />\r\n                      </ListItem>\r\n                    ))}\r\n                  </List>\r\n                </Grid>\r\n                \r\n                <Grid item xs={12} md={4}>\r\n                  <Typography variant=\"subtitle1\" gutterBottom>\r\n                    Trending Memories\r\n                  </Typography>\r\n                  <List dense>\r\n                    {knowledgeMetrics.usagePatterns.trending.map((memory, index) => (\r\n                      <ListItem key={index}>\r\n                        <ListItemText \r\n                          primary={memory.title}\r\n                          secondary={\r\n                            <Box display=\"flex\" alignItems=\"center\">\r\n                              <TrendingUpIcon sx={{ fontSize: 16, mr: 0.5 }} />\r\n                              {memory.trend > 0 ? '+' : ''}{memory.trend}%\r\n                            </Box>\r\n                          }\r\n                        />\r\n                      </ListItem>\r\n                    ))}\r\n                  </List>\r\n                </Grid>\r\n              </Grid>\r\n            </CardContent>\r\n          </Card>\r\n        </>\r\n      )}\r\n    </Box>\r\n  );\r\n\r\n  const renderEthicsReasoning = () => (\r\n    <Box>\r\n      {/* Ethics Progress Overview */}\r\n      <Card sx={{ mb: 3 }}>\r\n        <CardContent>\r\n          <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={2}>\r\n            <Typography variant=\"h5\" component=\"h2\">\r\n              <PsychologyIcon sx={{ mr: 1, verticalAlign: 'middle' }} />\r\n              OMAI Ethics & Reasoning Foundation\r\n            </Typography>\r\n            <Box>\r\n              <Button\r\n                variant=\"outlined\"\r\n                startIcon={ethicsLoading ? <CircularProgress size={16} /> : <RefreshCwIcon />}\r\n                onClick={refreshOMAIData}\r\n                disabled={ethicsLoading}\r\n                sx={{ mr: 1 }}\r\n              >\r\n                Refresh\r\n              </Button>\r\n              <Button\r\n                variant=\"contained\"\r\n                startIcon={<EthicsIcon />}\r\n                onClick={() => window.open('/omlearn', '_blank')}\r\n              >\r\n                Open OMLearn\r\n              </Button>\r\n            </Box>\r\n          </Box>\r\n\r\n          {ethicsProgress && (\r\n            <Grid container spacing={3}>\r\n              <Grid item xs={12} md={3}>\r\n                <Paper sx={{ p: 2, textAlign: 'center' }}>\r\n                  <Typography variant=\"h4\" color=\"primary\">\r\n                    {ethicsProgress.completedSurveys}/{ethicsProgress.totalSurveys}\r\n                  </Typography>\r\n                  <Typography variant=\"body2\" color=\"text.secondary\">\r\n                    Surveys Completed\r\n                  </Typography>\r\n                  <LinearProgress \r\n                    variant=\"determinate\" \r\n                    value={(ethicsProgress.completedSurveys / ethicsProgress.totalSurveys) * 100} \r\n                    sx={{ mt: 1 }}\r\n                  />\r\n                </Paper>\r\n              </Grid>\r\n              \r\n              <Grid item xs={12} md={3}>\r\n                <Paper sx={{ p: 2, textAlign: 'center' }}>\r\n                  <Typography variant=\"h4\" color=\"success.main\">\r\n                    {ethicsProgress.ethicalFoundationsCount}\r\n                  </Typography>\r\n                  <Typography variant=\"body2\" color=\"text.secondary\">\r\n                    Ethical Foundations\r\n                  </Typography>\r\n                </Paper>\r\n              </Grid>\r\n              \r\n              <Grid item xs={12} md={3}>\r\n                <Paper sx={{ p: 2, textAlign: 'center' }}>\r\n                  <Typography variant=\"h4\" color=\"info.main\">\r\n                    {Math.round(ethicsProgress.moralComplexityScore)}%\r\n                  </Typography>\r\n                  <Typography variant=\"body2\" color=\"text.secondary\">\r\n                    Moral Complexity\r\n                  </Typography>\r\n                </Paper>\r\n              </Grid>\r\n              \r\n              <Grid item xs={12} md={3}>\r\n                <Paper sx={{ p: 2, textAlign: 'center' }}>\r\n                  <Typography variant=\"h4\" color=\"warning.main\">\r\n                    {ethicsProgress.reasoningMaturityLevel}\r\n                  </Typography>\r\n                  <Typography variant=\"body2\" color=\"text.secondary\">\r\n                    Reasoning Level\r\n                  </Typography>\r\n                </Paper>\r\n              </Grid>\r\n            </Grid>\r\n          )}\r\n\r\n          {/* OMLearn Integration Status */}\r\n          <Box mt={3}>\r\n            <Typography variant=\"h6\" gutterBottom>\r\n              OMLearn Survey Progress\r\n            </Typography>\r\n            {omlearnSurveys.length > 0 ? (\r\n              <Grid container spacing={2}>\r\n                {omlearnSurveys.map((survey) => (\r\n                  <Grid item xs={12} md={6} key={survey.id}>\r\n                    <Paper sx={{ p: 2 }}>\r\n                      <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"start\" mb={1}>\r\n                        <Typography variant=\"subtitle1\">\r\n                          {survey.title}\r\n                        </Typography>\r\n                        <Chip \r\n                          label={survey.status.replace('_', ' ')}\r\n                          color={\r\n                            survey.status === 'completed' ? 'success' :\r\n                            survey.status === 'in_progress' ? 'primary' : 'default'\r\n                          }\r\n                          size=\"small\"\r\n                        />\r\n                      </Box>\r\n                      <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\r\n                        {survey.ageRange}  {survey.focus}\r\n                      </Typography>\r\n                      <Box display=\"flex\" alignItems=\"center\" mb={1}>\r\n                        <LinearProgress \r\n                          variant=\"determinate\" \r\n                          value={(survey.completedQuestions / survey.totalQuestions) * 100} \r\n                          sx={{ width: '100%', mr: 1 }}\r\n                        />\r\n                        <Typography variant=\"body2\">\r\n                          {survey.completedQuestions}/{survey.totalQuestions}\r\n                        </Typography>\r\n                      </Box>\r\n                    </Paper>\r\n                  </Grid>\r\n                ))}\r\n              </Grid>\r\n            ) : (\r\n              <Alert severity=\"info\">\r\n                No OMLearn surveys found. Complete OMLearn assessments to establish OMAI's ethical foundation.\r\n              </Alert>\r\n            )}\r\n          </Box>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Ethical Foundations */}\r\n      <Card sx={{ mb: 3 }}>\r\n        <CardContent>\r\n          <Typography variant=\"h6\" gutterBottom>\r\n            <MoralIcon sx={{ mr: 1, verticalAlign: 'middle' }} />\r\n            Ethical Foundations\r\n          </Typography>\r\n          \r\n          {ethicalFoundations.length > 0 ? (\r\n            <Grid container spacing={2}>\r\n              {ethicalFoundations.slice(0, 6).map((foundation) => (\r\n                <Grid item xs={12} md={6} lg={4} key={foundation.id}>\r\n                  <Paper \r\n                    sx={{ \r\n                      p: 2, \r\n                      cursor: 'pointer',\r\n                      '&:hover': { elevation: 4 }\r\n                    }}\r\n                    onClick={() => {\r\n                      setSelectedFoundation(foundation);\r\n                      setFoundationDialogOpen(true);\r\n                    }}\r\n                  >\r\n                    <Box display=\"flex\" justifyContent=\"between\" alignItems=\"start\" mb={1}>\r\n                      <Typography variant=\"subtitle2\" sx={{ flexGrow: 1, mr: 1 }}>\r\n                        {foundation.question.length > 80 \r\n                          ? `${foundation.question.substring(0, 80)}...` \r\n                          : foundation.question}\r\n                      </Typography>\r\n                      <Chip \r\n                        label={foundation.gradeGroup}\r\n                        size=\"small\"\r\n                        variant=\"outlined\"\r\n                      />\r\n                    </Box>\r\n                    \r\n                    <Typography \r\n                      variant=\"body2\" \r\n                      color=\"text.secondary\" \r\n                      sx={{ \r\n                        display: '-webkit-box',\r\n                        WebkitLineClamp: 2,\r\n                        WebkitBoxOrient: 'vertical',\r\n                        overflow: 'hidden',\r\n                        mb: 1\r\n                      }}\r\n                    >\r\n                      {foundation.userResponse}\r\n                    </Typography>\r\n                    \r\n                    <Box display=\"flex\" justifyContent=\"between\" alignItems=\"center\">\r\n                      <Chip \r\n                        label={foundation.category.replace('_', ' ')}\r\n                        size=\"small\"\r\n                        color={\r\n                          foundation.category === 'moral_development' ? 'primary' :\r\n                          foundation.category === 'ethical_thinking' ? 'success' :\r\n                          foundation.category === 'reasoning_patterns' ? 'info' : 'default'\r\n                        }\r\n                      />\r\n                      <Typography variant=\"caption\" color=\"text.secondary\">\r\n                        Weight: {foundation.weight}\r\n                      </Typography>\r\n                    </Box>\r\n                  </Paper>\r\n                </Grid>\r\n              ))}\r\n            </Grid>\r\n          ) : (\r\n            <Alert severity=\"warning\">\r\n              No ethical foundations established yet. Complete OMLearn surveys to build OMAI's moral reasoning framework.\r\n            </Alert>\r\n          )}\r\n\r\n          {ethicalFoundations.length > 6 && (\r\n            <Box textAlign=\"center\" mt={2}>\r\n              <Typography variant=\"body2\" color=\"text.secondary\">\r\n                Showing 6 of {ethicalFoundations.length} ethical foundations\r\n              </Typography>\r\n            </Box>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Moral Reasoning Categories */}\r\n      <Card>\r\n        <CardContent>\r\n          <Typography variant=\"h6\" gutterBottom>\r\n            <ReasoningIcon sx={{ mr: 1, verticalAlign: 'middle' }} />\r\n            Moral Reasoning Categories\r\n          </Typography>\r\n          \r\n          <Grid container spacing={3}>\r\n            {[\r\n              { \r\n                category: 'moral_development', \r\n                name: 'Moral Development', \r\n                description: 'Basic moral concepts and value formation',\r\n                icon: '',\r\n                color: 'primary'\r\n              },\r\n              { \r\n                category: 'ethical_thinking', \r\n                name: 'Ethical Thinking', \r\n                description: 'Applied ethics and moral decision-making',\r\n                icon: '',\r\n                color: 'success'\r\n              },\r\n              { \r\n                category: 'reasoning_patterns', \r\n                name: 'Reasoning Patterns', \r\n                description: 'Logical structures and thought processes',\r\n                icon: '',\r\n                color: 'info'\r\n              },\r\n              { \r\n                category: 'philosophical_concepts', \r\n                name: 'Philosophical Concepts', \r\n                description: 'Abstract moral and philosophical understanding',\r\n                icon: '',\r\n                color: 'secondary'\r\n              }\r\n            ].map((category) => {\r\n              const foundationsInCategory = ethicalFoundations.filter(f => f.category === category.category);\r\n              return (\r\n                <Grid item xs={12} md={6} key={category.category}>\r\n                  <Paper sx={{ p: 2, textAlign: 'center' }}>\r\n                    <Typography variant=\"h2\" sx={{ mb: 1 }}>\r\n                      {category.icon}\r\n                    </Typography>\r\n                    <Typography variant=\"h6\" color={`${category.color}.main`} gutterBottom>\r\n                      {category.name}\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\r\n                      {category.description}\r\n                    </Typography>\r\n                    <Typography variant=\"h4\" color={`${category.color}.main`}>\r\n                      {foundationsInCategory.length}\r\n                    </Typography>\r\n                    <Typography variant=\"caption\" color=\"text.secondary\">\r\n                      foundations established\r\n                    </Typography>\r\n                  </Paper>\r\n                </Grid>\r\n              );\r\n            })}\r\n          </Grid>\r\n        </CardContent>\r\n      </Card>\r\n    </Box>\r\n  );\r\n\r\n  return (\r\n    <Box sx={{ p: 3 }}>\r\n      <Stack direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\" sx={{ mb: 3 }}>\r\n        <Box>\r\n          <Typography variant=\"h4\" component=\"h1\" gutterBottom>\r\n            <AIIcon sx={{ mr: 1, verticalAlign: 'middle' }} />\r\n            OMAI Learning Hub\r\n          </Typography>\r\n          <Typography variant=\"body1\" color=\"text.secondary\">\r\n            Comprehensive OMAI learning, memory management, and progress tracking\r\n          </Typography>\r\n        </Box>\r\n        <Button\r\n          variant=\"outlined\"\r\n          startIcon={<SettingsIcon />}\r\n          onClick={() => setShowSettings(!showSettings)}\r\n        >\r\n          Settings\r\n        </Button>\r\n      </Stack>\r\n\r\n      <Paper sx={{ width: '100%' }}>\r\n        <Tabs value={activeTab} onChange={handleTabChange} sx={{ borderBottom: 1, borderColor: 'divider' }}>\r\n          <Tab \r\n            label=\"Learning Dashboard\" \r\n            icon={<PsychologyIcon />}\r\n            iconPosition=\"start\"\r\n          />\r\n          <Tab \r\n            label=\"Training Pathways\" \r\n            icon={<LearningIcon />}\r\n            iconPosition=\"start\"\r\n          />\r\n          <Tab \r\n            label=\"Memory Management\" \r\n            icon={<MemoryIcon />}\r\n            iconPosition=\"start\"\r\n          />\r\n          <Tab \r\n            label=\"Knowledge Analytics\" \r\n            icon={<AnalyticsIcon />}\r\n            iconPosition=\"start\"\r\n          />\r\n          <Tab \r\n            label=\"Ethics & Reasoning\" \r\n            icon={<PsychologyIcon />}\r\n            iconPosition=\"start\"\r\n          />\r\n          <Tab \r\n            label=\"OMAI Discovery\" \r\n            icon={<AIIcon />}\r\n            iconPosition=\"start\"\r\n          />\r\n          <Tab label=\"Imports & Scripts\" />\r\n          <Tab label=\"File Console\" />\r\n          <Tab label=\"Console\" />\r\n          <Tab label=\"Encrypted Storage\" />\r\n          <Tab label=\"Registry Management\" />\r\n          <Tab label=\"Custom Components\" />\r\n        </Tabs>\r\n\r\n        <Box sx={{ p: 3 }}>\r\n          {activeTab === 0 && renderLearningDashboard()}\r\n          {activeTab === 1 && renderTrainingPathways()}\r\n          {activeTab === 2 && <MemoryManager />}\r\n          {activeTab === 3 && renderKnowledgeAnalytics()}\r\n          {activeTab === 4 && renderEthicsReasoning()}\r\n          {activeTab === 5 && <OMAIDiscoveryPanel />}\r\n          \r\n          {/* Keep existing tabs content - just moved to higher numbers */}\r\n          {activeTab === 6 && (\r\n            <Stack spacing={3}>\r\n              {/* Settings Panel */}\r\n              {showSettings && (\r\n                <Card>\r\n                  <CardContent>\r\n                    <Typography variant=\"h6\" gutterBottom sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                      <SettingsIcon />\r\n                      Big Book Settings\r\n                    </Typography>\r\n                                         <Stack spacing={3}>\r\n                       <Box sx={{ display: 'flex', gap: 2, flexWrap: 'wrap' }}>\r\n                         <TextField\r\n                           sx={{ flex: 1, minWidth: 250 }}\r\n                           label=\"Database User\"\r\n                           value={settings.databaseUser}\r\n                           onChange={(e) => setSettings(prev => ({ ...prev, databaseUser: e.target.value }))}\r\n                           placeholder=\"root\"\r\n                         />\r\n                         <TextField\r\n                           sx={{ flex: 1, minWidth: 250 }}\r\n                           type=\"password\"\r\n                           label=\"Database Password\"\r\n                           value={settings.databasePassword}\r\n                           onChange={(e) => setSettings(prev => ({ ...prev, databasePassword: e.target.value }))}\r\n                           placeholder=\"Enter database password\"\r\n                         />\r\n                       </Box>\r\n                       <Box sx={{ display: 'flex', gap: 2, flexWrap: 'wrap' }}>\r\n                         <TextField\r\n                           sx={{ flex: 1, minWidth: 250 }}\r\n                           label=\"Default Database\"\r\n                           value={settings.defaultDatabase}\r\n                           onChange={(e) => setSettings(prev => ({ ...prev, defaultDatabase: e.target.value }))}\r\n                           placeholder=\"omai_db\"\r\n                         />\r\n                         <TextField\r\n                           sx={{ flex: 1, minWidth: 250 }}\r\n                           type=\"number\"\r\n                           label=\"Script Timeout (ms)\"\r\n                           value={settings.scriptTimeout}\r\n                           onChange={(e) => setSettings(prev => ({ ...prev, scriptTimeout: parseInt(e.target.value) }))}\r\n                         />\r\n                       </Box>\r\n                       <FormControlLabel\r\n                         control={\r\n                           <Switch\r\n                             checked={settings.useSudo}\r\n                             onChange={(e) => setSettings(prev => ({ ...prev, useSudo: e.target.checked }))}\r\n                           />\r\n                         }\r\n                         label=\"Use Sudo for Script Execution\"\r\n                       />\r\n                       {settings.useSudo && (\r\n                         <TextField\r\n                           fullWidth\r\n                           type=\"password\"\r\n                           label=\"Sudo Password\"\r\n                           value={settings.sudoPassword}\r\n                           onChange={(e) => setSettings(prev => ({ ...prev, sudoPassword: e.target.value }))}\r\n                           placeholder=\"Enter sudo password\"\r\n                         />\r\n                       )}\r\n                       <Button\r\n                         variant=\"contained\"\r\n                         startIcon={<SaveIcon />}\r\n                         onClick={saveSettings}\r\n                       >\r\n                         Save Settings\r\n                       </Button>\r\n                     </Stack>\r\n                  </CardContent>\r\n                </Card>\r\n              )}\r\n\r\n              {/* File Upload Area */}\r\n              <Card>\r\n                <CardContent>\r\n                  <Typography variant=\"h6\" gutterBottom>\r\n                    File Upload\r\n                  </Typography>\r\n                  <Box\r\n                    sx={{\r\n                      border: '2px dashed',\r\n                      borderColor: 'grey.300',\r\n                      borderRadius: 2,\r\n                      p: 4,\r\n                      textAlign: 'center',\r\n                      cursor: 'pointer',\r\n                      '&:hover': {\r\n                        borderColor: 'primary.main',\r\n                        backgroundColor: 'action.hover'\r\n                      }\r\n                    }}\r\n                    onDrop={handleFileDrop}\r\n                    onDragOver={handleDragOver}\r\n                    onClick={() => fileInputRef.current?.click()}\r\n                  >\r\n                    <CloudUploadIcon sx={{ fontSize: 48, color: 'grey.500', mb: 2 }} />\r\n                    <Typography variant=\"h6\" gutterBottom>\r\n                      Drop files here or click to upload\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" color=\"text.secondary\">\r\n                      Supports all file types: .md, .js, .sh, .py, .sql, .html, .css, .json, .xml, .txt, .pdf, images, videos, audio, archives (max 10MB)\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" color=\"primary.main\" sx={{ mt: 1, fontWeight: 'bold' }}>\r\n                       Special: Drop Parish Map .zip files for auto-installation!\r\n                    </Typography>\r\n                    <input\r\n                      ref={fileInputRef}\r\n                      type=\"file\"\r\n                      multiple\r\n                      accept=\".md,.js,.jsx,.ts,.tsx,.sh,.bash,.py,.sql,.html,.htm,.css,.scss,.sass,.json,.xml,.txt,.log,.pdf,.jpg,.jpeg,.png,.gif,.svg,.webp,.mp4,.avi,.mov,.wmv,.mp3,.wav,.ogg,.zip,.tar,.gz,.rar\"\r\n                      onChange={handleFileInputChange}\r\n                      style={{ display: 'none' }}\r\n                    />\r\n                  </Box>\r\n                </CardContent>\r\n              </Card>\r\n\r\n              {/* Uploaded Files List */}\r\n              {uploadedFiles.length > 0 && (\r\n                <Card>\r\n                  <CardContent>\r\n                    <Typography variant=\"h6\" gutterBottom>\r\n                      Uploaded Files\r\n                    </Typography>\r\n                    <List>\r\n                      {uploadedFiles.map((file) => (\r\n                        <ListItem key={file.id} divider>\r\n                          <ListItemIcon>\r\n                            {getFileIcon(file.type)}\r\n                          </ListItemIcon>\r\n                          <ListItemText\r\n                            primary={file.name}\r\n                            secondary={`${(file.size / 1024).toFixed(1)} KB  ${file.uploaded.toLocaleString()}`}\r\n                          />\r\n                          <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                            {getFileTypeChip(file.type)}\r\n                            <Tooltip title=\"Execute\">\r\n                              <IconButton\r\n                                onClick={() => executeFile(file)}\r\n                                disabled={isExecuting}\r\n                                color=\"primary\"\r\n                              >\r\n                                <PlayIcon />\r\n                              </IconButton>\r\n                            </Tooltip>\r\n                            <Tooltip title=\"Remove\">\r\n                              <IconButton\r\n                                onClick={() => removeFile(file.id)}\r\n                                color=\"error\"\r\n                              >\r\n                                <Trash2Icon />\r\n                              </IconButton>\r\n                            </Tooltip>\r\n                          </Box>\r\n                        </ListItem>\r\n                      ))}\r\n                    </List>\r\n                  </CardContent>\r\n                </Card>\r\n              )}\r\n            </Stack>\r\n          )}\r\n\r\n          {activeTab === 7 && (\r\n            <BigBookConsolePage\r\n              files={uploadedFiles}\r\n              consoleOutput={consoleOutput}\r\n              isExecuting={isExecuting}\r\n              onFileSelect={setSelectedFile}\r\n              onFileExecute={executeFile}\r\n              onFileDelete={removeFile}\r\n              onQuestionnairePreview={handleQuestionnairePreview}\r\n              onClearConsole={clearConsole}\r\n              selectedFile={selectedFile}\r\n            />\r\n          )}\r\n\r\n          {activeTab === 8 && (\r\n            <Box>\r\n              <Stack direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\" sx={{ mb: 2 }}>\r\n                <Typography variant=\"h6\">\r\n                  Console Output\r\n                </Typography>\r\n                <Button\r\n                  variant=\"outlined\"\r\n                  startIcon={<RefreshCwIcon />}\r\n                  onClick={clearConsole}\r\n                  size=\"small\"\r\n                >\r\n                  Clear Console\r\n                </Button>\r\n              </Stack>\r\n              \r\n              <Paper\r\n                ref={consoleRef}\r\n                sx={{\r\n                  height: 400,\r\n                  overflow: 'auto',\r\n                  p: 2,\r\n                  backgroundColor: '#1e1e1e',\r\n                  color: '#ffffff',\r\n                  fontFamily: 'monospace',\r\n                  fontSize: '0.875rem'\r\n                }}\r\n              >\r\n                {consoleOutput.length === 0 ? (\r\n                  <Typography color=\"grey.500\" textAlign=\"center\">\r\n                    No console output yet. Upload and execute files to see results.\r\n                  </Typography>\r\n                ) : (\r\n                  consoleOutput.map((output) => (\r\n                    <Box key={output.id} sx={{ mb: 1 }}>\r\n                      <Typography\r\n                        component=\"span\"\r\n                        sx={{\r\n                          color: output.type === 'error' ? '#ff6b6b' :\r\n                                 output.type === 'success' ? '#51cf66' :\r\n                                 output.type === 'warning' ? '#ffd43b' :\r\n                                 output.type === 'command' ? '#74c0fc' : '#ffffff',\r\n                          fontWeight: output.type === 'command' ? 'bold' : 'normal'\r\n                        }}\r\n                      >\r\n                        [{output.timestamp.toLocaleTimeString()}] {output.content}\r\n                      </Typography>\r\n                      {output.source && (\r\n                        <Typography variant=\"caption\" color=\"text.secondary\" sx={{ ml: 2 }}>\r\n                          ({output.source})\r\n                        </Typography>\r\n                      )}\r\n                    </Box>\r\n                  ))\r\n                )}\r\n              </Paper>\r\n            </Box>\r\n          )}\r\n\r\n          {activeTab === 9 && <EncryptedStoragePanel />}\r\n\r\n          {activeTab === 10 && (\r\n            <RegistryManagementPanel />\r\n          )}\r\n\r\n          {activeTab === 11 && <CustomComponentsPanel />}\r\n        </Box>\r\n      </Paper>\r\n\r\n      {/* Questionnaire Preview Modal */}\r\n      <QuestionnairePreview\r\n        open={questionnairePreviewOpen}\r\n        onClose={() => {\r\n          setQuestionnairePreviewOpen(false);\r\n          setPreviewFile(null);\r\n        }}\r\n        file={previewFile}\r\n        onSubmit={handleQuestionnaireSubmit}\r\n      />\r\n\r\n      {/* TSX Component Installation Wizard */}\r\n      <TSXComponentInstallWizard\r\n        open={tsxWizardOpen}\r\n        onClose={() => {\r\n          setTsxWizardOpen(false);\r\n          setTsxFile(null);\r\n        }}\r\n        file={tsxFile}\r\n        onInstallComplete={(result) => {\r\n          addConsoleMessage('success', `Component installation completed: ${result.componentName}`);\r\n          if (result.previewUrl) {\r\n            addConsoleMessage('info', `Preview available at: ${result.previewUrl}`);\r\n          }\r\n        }}\r\n        onConsoleMessage={addConsoleMessage}\r\n      />\r\n\r\n      {/* Start Training Dialog */}\r\n      <Dialog \r\n        open={trainingDialogOpen} \r\n        onClose={() => setTrainingDialogOpen(false)}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n      >\r\n        <DialogTitle>\r\n          <LearningIcon sx={{ mr: 1, verticalAlign: 'middle' }} />\r\n          Start OMAI Training Session\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <Typography variant=\"body1\" paragraph>\r\n            Select a training phase to begin OMAI's learning session. Each phase builds upon previous knowledge.\r\n          </Typography>\r\n          \r\n          <FormControl fullWidth>\r\n            <FormLabel>Training Phase</FormLabel>\r\n            <Box mt={1}>\r\n              {[\r\n                { id: 'foundation', name: 'Foundation Knowledge', icon: '' },\r\n                { id: 'functional', name: 'Functional Understanding', icon: '' },\r\n                { id: 'operational', name: 'Operational Intelligence', icon: '' },\r\n                { id: 'resolution', name: 'Issue Resolution', icon: '' },\r\n                { id: 'predictive', name: 'Predictive Capabilities', icon: '' }\r\n              ].map((phase) => (\r\n                <Paper \r\n                  key={phase.id}\r\n                  sx={{ \r\n                    p: 2, \r\n                    mb: 1, \r\n                    cursor: 'pointer',\r\n                    border: selectedTrainingPhase === phase.id ? 2 : 1,\r\n                    borderColor: selectedTrainingPhase === phase.id ? 'primary.main' : 'divider'\r\n                  }}\r\n                  onClick={() => setSelectedTrainingPhase(phase.id)}\r\n                >\r\n                  <Typography variant=\"subtitle1\">\r\n                    {phase.icon} {phase.name}\r\n                  </Typography>\r\n                </Paper>\r\n              ))}\r\n            </Box>\r\n          </FormControl>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setTrainingDialogOpen(false)}>Cancel</Button>\r\n          <Button \r\n            onClick={() => startTrainingSession(selectedTrainingPhase)}\r\n            variant=\"contained\"\r\n            disabled={learningLoading}\r\n            startIcon={learningLoading ? <CircularProgress size={16} /> : <PlayIcon />}\r\n          >\r\n            {learningLoading ? 'Starting...' : 'Start Training'}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Ethical Foundation Details Dialog */}\r\n      <Dialog \r\n        open={foundationDialogOpen} \r\n        onClose={() => setFoundationDialogOpen(false)}\r\n        maxWidth=\"md\"\r\n        fullWidth\r\n      >\r\n        <DialogTitle>\r\n          {selectedFoundation && (\r\n            <>\r\n              <PsychologyIcon sx={{ mr: 1, verticalAlign: 'middle' }} />\r\n              Ethical Foundation Details\r\n              <Chip \r\n                label={selectedFoundation.gradeGroup}\r\n                size=\"small\"\r\n                sx={{ ml: 2 }}\r\n              />\r\n            </>\r\n          )}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          {selectedFoundation && (\r\n            <Box>\r\n              <Typography variant=\"h6\" gutterBottom color=\"primary\">\r\n                Question\r\n              </Typography>\r\n              <Typography variant=\"body1\" paragraph>\r\n                {selectedFoundation.question}\r\n              </Typography>\r\n              \r\n              <Typography variant=\"h6\" gutterBottom color=\"primary\">\r\n                Your Response\r\n              </Typography>\r\n              <Typography variant=\"body1\" paragraph>\r\n                {selectedFoundation.userResponse}\r\n              </Typography>\r\n              \r\n              <Typography variant=\"h6\" gutterBottom color=\"primary\">\r\n                Reasoning\r\n              </Typography>\r\n              <Typography variant=\"body1\" paragraph>\r\n                {selectedFoundation.reasoning}\r\n              </Typography>\r\n              \r\n              <Divider sx={{ my: 2 }} />\r\n              \r\n              <Grid container spacing={2}>\r\n                <Grid item xs={6}>\r\n                  <Typography variant=\"subtitle2\" color=\"primary\">Category</Typography>\r\n                  <Typography variant=\"body2\">\r\n                    {selectedFoundation.category.replace('_', ' ')}\r\n                  </Typography>\r\n                </Grid>\r\n                <Grid item xs={6}>\r\n                  <Typography variant=\"subtitle2\" color=\"primary\">Weight</Typography>\r\n                  <Typography variant=\"body2\">{selectedFoundation.weight}</Typography>\r\n                </Grid>\r\n                <Grid item xs={6}>\r\n                  <Typography variant=\"subtitle2\" color=\"primary\">Confidence</Typography>\r\n                  <Typography variant=\"body2\">{selectedFoundation.confidence}%</Typography>\r\n                </Grid>\r\n                <Grid item xs={6}>\r\n                  <Typography variant=\"subtitle2\" color=\"primary\">Created</Typography>\r\n                  <Typography variant=\"body2\">\r\n                    {new Date(selectedFoundation.createdAt).toLocaleString()}\r\n                  </Typography>\r\n                </Grid>\r\n              </Grid>\r\n              \r\n              {selectedFoundation.appliedContexts.length > 0 && (\r\n                <>\r\n                  <Divider sx={{ my: 2 }} />\r\n                  <Typography variant=\"subtitle2\" color=\"primary\" gutterBottom>\r\n                    Applied Contexts\r\n                  </Typography>\r\n                  <Box display=\"flex\" flexWrap=\"wrap\" gap={1}>\r\n                    {selectedFoundation.appliedContexts.map((context, index) => (\r\n                      <Chip\r\n                        key={index}\r\n                        label={context}\r\n                        size=\"small\"\r\n                        variant=\"outlined\"\r\n                      />\r\n                    ))}\r\n                  </Box>\r\n                </>\r\n              )}\r\n              \r\n              {selectedFoundation.lastReferenced && (\r\n                <>\r\n                  <Divider sx={{ my: 2 }} />\r\n                  <Typography variant=\"subtitle2\" color=\"primary\">\r\n                    Last Referenced\r\n                  </Typography>\r\n                  <Typography variant=\"body2\">\r\n                    {new Date(selectedFoundation.lastReferenced).toLocaleString()}\r\n                  </Typography>\r\n                </>\r\n              )}\r\n            </Box>\r\n          )}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setFoundationDialogOpen(false)}>Close</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n\r\n  // Custom Components Panel Component\r\n  const CustomComponentsPanel: React.FC = () => {\r\n    if (selectedCustomComponent) {\r\n      return (\r\n        <BigBookCustomComponentViewer\r\n          componentName={selectedCustomComponent}\r\n          onBack={() => setSelectedCustomComponent(null)}\r\n          onError={(error) => {\r\n            addConsoleMessage('error', `Component viewer error: ${error}`);\r\n            setSelectedCustomComponent(null);\r\n          }}\r\n        />\r\n      );\r\n    }\r\n\r\n    if (customComponentsLoading) {\r\n      return (\r\n        <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"400px\">\r\n          <CircularProgress />\r\n          <Typography variant=\"body1\" sx={{ ml: 2 }}>Loading custom components...</Typography>\r\n        </Box>\r\n      );\r\n    }\r\n\r\n    const componentCount = customComponents ? Object.keys(customComponents.components || {}).length : 0;\r\n\r\n    return (\r\n      <Box sx={{ p: 3 }}>\r\n        <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={3}>\r\n          <Box>\r\n            <Typography variant=\"h5\" gutterBottom>\r\n              Custom Components\r\n            </Typography>\r\n            <Typography variant=\"body2\" color=\"text.secondary\">\r\n              Big Book custom components with automatic menu integration ({componentCount} components)\r\n            </Typography>\r\n          </Box>\r\n          <Button \r\n            variant=\"outlined\" \r\n            startIcon={<RefreshCwIcon />}\r\n            onClick={loadCustomComponents}\r\n          >\r\n            Refresh\r\n          </Button>\r\n        </Box>\r\n\r\n        {componentCount === 0 ? (\r\n          <Alert severity=\"info\" sx={{ mb: 2 }}>\r\n            <Typography variant=\"subtitle2\" gutterBottom>\r\n              No Custom Components Found\r\n            </Typography>\r\n            <Typography variant=\"body2\">\r\n              Use the TSX Component Installation Wizard with \"Big Book Auto-Install Mode\" to add custom components with automatic menu integration.\r\n            </Typography>\r\n          </Alert>\r\n        ) : (\r\n          <Grid container spacing={2}>\r\n            {Object.entries(customComponents.components || {}).map(([componentId, component]: [string, any]) => (\r\n              <Grid item xs={12} sm={6} md={4} key={componentId}>\r\n                <Card \r\n                  sx={{ \r\n                    cursor: 'pointer', \r\n                    height: '100%',\r\n                    '&:hover': { \r\n                      boxShadow: 3, \r\n                      transform: 'translateY(-2px)',\r\n                      transition: 'all 0.2s ease-in-out'\r\n                    } \r\n                  }}\r\n                  onClick={() => setSelectedCustomComponent(componentId)}\r\n                >\r\n                  <CardContent>\r\n                    <Box display=\"flex\" alignItems=\"center\" mb={1}>\r\n                      <AddonIcon color=\"primary\" sx={{ mr: 1 }} />\r\n                      <Typography variant=\"h6\" component=\"div\">\r\n                        {component.displayName || component.name}\r\n                      </Typography>\r\n                    </Box>\r\n                    \r\n                    <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 2, minHeight: '2.5em' }}>\r\n                      {component.description || `Custom Big Book component: ${component.displayName || component.name}`}\r\n                    </Typography>\r\n                    \r\n                    <Box sx={{ mb: 2 }}>\r\n                      <Chip \r\n                        label={component.route} \r\n                        size=\"small\" \r\n                        variant=\"outlined\" \r\n                        sx={{ mr: 1, mb: 1 }}\r\n                      />\r\n                      {component.hasJSX && (\r\n                        <Chip \r\n                          label=\"JSX\" \r\n                          size=\"small\" \r\n                          color=\"primary\" \r\n                          sx={{ mr: 1, mb: 1 }}\r\n                        />\r\n                      )}\r\n                      {component.hasHooks && (\r\n                        <Chip \r\n                          label=\"Hooks\" \r\n                          size=\"small\" \r\n                          color=\"secondary\" \r\n                          sx={{ mr: 1, mb: 1 }}\r\n                        />\r\n                      )}\r\n                    </Box>\r\n                    \r\n                    <Typography variant=\"caption\" color=\"text.secondary\">\r\n                      Installed: {new Date(component.installedAt).toLocaleDateString()}\r\n                    </Typography>\r\n                    \r\n                    <Box sx={{ mt: 2, display: 'flex', gap: 1 }}>\r\n                      <Button \r\n                        size=\"small\" \r\n                        variant=\"outlined\"\r\n                        startIcon={<ViewIcon />}\r\n                        onClick={(e) => {\r\n                          e.stopPropagation();\r\n                          setSelectedCustomComponent(componentId);\r\n                        }}\r\n                      >\r\n                        View\r\n                      </Button>\r\n                      <Button \r\n                        size=\"small\" \r\n                        variant=\"outlined\"\r\n                        color=\"error\"\r\n                        startIcon={<Trash2Icon />}\r\n                        onClick={(e) => {\r\n                          e.stopPropagation();\r\n                          handleRemoveCustomComponent(component);\r\n                        }}\r\n                      >\r\n                        Remove\r\n                      </Button>\r\n                    </Box>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>\r\n            ))}\r\n          </Grid>\r\n        )}\r\n\r\n        {customComponents?.menu && customComponents.menu.length > 0 && (\r\n          <Box sx={{ mt: 4 }}>\r\n            <Typography variant=\"h6\" gutterBottom>\r\n              Sidebar Menu Items\r\n            </Typography>\r\n            <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 2 }}>\r\n              These components are automatically added to the Big Book sidebar navigation\r\n            </Typography>\r\n            <List>\r\n              {customComponents.menu.map((menuItem: any) => (\r\n                <ListItem key={menuItem.id} divider>\r\n                  <ListItemIcon>\r\n                    <AddonIcon />\r\n                  </ListItemIcon>\r\n                  <ListItemText\r\n                    primary={menuItem.displayName}\r\n                    secondary={`Route: ${menuItem.route}`}\r\n                  />\r\n                  <ListItemSecondaryAction>\r\n                    <Button\r\n                      size=\"small\"\r\n                      onClick={() => setSelectedCustomComponent(menuItem.id)}\r\n                    >\r\n                      Open\r\n                    </Button>\r\n                  </ListItemSecondaryAction>\r\n                </ListItem>\r\n              ))}\r\n            </List>\r\n          </Box>\r\n        )}\r\n      </Box>\r\n    );\r\n  };\r\n\r\n  // Registry Management Panel Component\r\n  const RegistryManagementPanel: React.FC = () => {\r\n    const getRegistryIcon = (type: string) => {\r\n      switch (type) {\r\n        case 'addons': return <AddonIcon />;\r\n        case 'scripts': return <TerminalIcon />;\r\n        case 'docs': return <DocIcon />;\r\n        case 'configs': return <ConfigIcon />;\r\n        case 'data': return <DataIcon />;\r\n        default: return <FileTextIcon />;\r\n      }\r\n    };\r\n\r\n    const getItemIcon = (item: any) => {\r\n      if (item.type?.includes('component') || item.type?.includes('javascript')) return <CodeIcon />;\r\n      if (item.type?.includes('script')) return <TerminalIcon />;\r\n      if (item.type?.includes('doc')) return <DocIcon />;\r\n      if (item.type?.includes('config')) return <ConfigIcon />;\r\n      if (item.type?.includes('zip')) return <DataIcon />;\r\n      return <FileTextIcon />;\r\n    };\r\n\r\n    const formatDate = (dateString: string) => {\r\n      return new Date(dateString).toLocaleString();\r\n    };\r\n\r\n    const getItemPath = (item: any) => {\r\n      return item.route || item.webPath || item.storagePath || item.path || 'N/A';\r\n    };\r\n\r\n    if (registriesLoading) {\r\n      return (\r\n        <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"400px\">\r\n          <CircularProgress />\r\n          <Typography variant=\"body1\" sx={{ ml: 2 }}>Loading registries...</Typography>\r\n        </Box>\r\n      );\r\n    }\r\n\r\n    if (registriesError) {\r\n      return (\r\n        <Box p={3}>\r\n          <Alert severity=\"error\" sx={{ mb: 2 }}>\r\n            Failed to load registries: {registriesError}\r\n          </Alert>\r\n          <Button variant=\"contained\" onClick={loadRegistries}>\r\n            Retry\r\n          </Button>\r\n        </Box>\r\n      );\r\n    }\r\n\r\n    if (!registries) {\r\n      return (\r\n        <Box p={3}>\r\n          <Alert severity=\"info\">\r\n            No registry data available. Try loading some files first.\r\n          </Alert>\r\n        </Box>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <Box p={3}>\r\n        <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={3}>\r\n          <Typography variant=\"h5\">Registry Management</Typography>\r\n          <Button \r\n            variant=\"outlined\" \r\n            startIcon={<RefreshCwIcon />}\r\n            onClick={loadRegistries}\r\n          >\r\n            Refresh\r\n          </Button>\r\n        </Box>\r\n\r\n        {Object.entries(registries).map(([registryType, registry]: [string, any]) => (\r\n          <Accordion key={registryType} defaultExpanded={Object.keys(registry.items || {}).length > 0}>\r\n            <AccordionSummary expandIcon={<ExpandMoreIcon />}>\r\n              <Box display=\"flex\" alignItems=\"center\" gap={1}>\r\n                {getRegistryIcon(registryType)}\r\n                <Typography variant=\"h6\" sx={{ textTransform: 'capitalize' }}>\r\n                  {registryType} ({Object.keys(registry.items || {}).length} items)\r\n                </Typography>\r\n                <Chip \r\n                  label={`v${registry?.version || '1.0'}`} \r\n                  size=\"small\" \r\n                  variant=\"outlined\" \r\n                />\r\n              </Box>\r\n            </AccordionSummary>\r\n            <AccordionDetails>\r\n              {Object.keys(registry.items || {}).length === 0 ? (\r\n                <Typography color=\"text.secondary\">\r\n                  No {registryType} registered yet.\r\n                </Typography>\r\n              ) : (\r\n                <TableContainer component={Paper} variant=\"outlined\">\r\n                  <Table size=\"small\">\r\n                    <TableHead>\r\n                      <TableRow>\r\n                        <TableCell>Name</TableCell>\r\n                        <TableCell>Type</TableCell>\r\n                        <TableCell>Path/Route</TableCell>\r\n                        <TableCell>Status</TableCell>\r\n                        <TableCell>Created</TableCell>\r\n                        <TableCell>Actions</TableCell>\r\n                      </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                      {Object.entries(registry.items || {})\r\n                        .filter(([, item]) => item !== null && item !== undefined)\r\n                        .map(([itemId, item]: [string, any]) => (\r\n                        <TableRow key={itemId}>\r\n                          <TableCell>\r\n                            <Box display=\"flex\" alignItems=\"center\" gap={1}>\r\n                              {getItemIcon(item)}\r\n                              <Box>\r\n                                <Typography variant=\"body2\" fontWeight=\"medium\">\r\n                                  {item.displayName || item.title || item.name || 'Unnamed'}\r\n                                </Typography>\r\n                                {item.description && (\r\n                                  <Typography variant=\"caption\" color=\"text.secondary\">\r\n                                    {item.description}\r\n                                  </Typography>\r\n                                )}\r\n                              </Box>\r\n                            </Box>\r\n                          </TableCell>\r\n                          <TableCell>\r\n                            <Chip \r\n                              label={item.type || 'unknown'} \r\n                              size=\"small\" \r\n                              variant=\"outlined\"\r\n                              color={item.enabled ? 'success' : 'default'}\r\n                            />\r\n                          </TableCell>\r\n                          <TableCell>\r\n                            <Typography variant=\"body2\" fontFamily=\"monospace\">\r\n                              {getItemPath(item)}\r\n                            </Typography>\r\n                          </TableCell>\r\n                          <TableCell>\r\n                            <Chip \r\n                              label={item.enabled ? 'Enabled' : 'Disabled'} \r\n                              size=\"small\"\r\n                              color={item.enabled ? 'success' : 'warning'}\r\n                              variant={item.enabled ? 'filled' : 'outlined'}\r\n                            />\r\n                          </TableCell>\r\n                          <TableCell>\r\n                            <Typography variant=\"caption\">\r\n                              {item.createdAt ? formatDate(item.createdAt) : 'Unknown'}\r\n                            </Typography>\r\n                          </TableCell>\r\n                          <TableCell>\r\n                            <Switch\r\n                              checked={item.enabled || false}\r\n                              onChange={(e) => toggleItemStatus(registryType, itemId, e.target.checked)}\r\n                              size=\"small\"\r\n                            />\r\n                            {item.route && (\r\n                              <Tooltip title=\"Open in new tab\">\r\n                                <IconButton \r\n                                  size=\"small\" \r\n                                  onClick={() => window.open(item.route, '_blank')}\r\n                                  sx={{ ml: 1 }}\r\n                                >\r\n                                  <ViewIcon fontSize=\"small\" />\r\n                                </IconButton>\r\n                              </Tooltip>\r\n                            )}\r\n                          </TableCell>\r\n                        </TableRow>\r\n                      ))}\r\n                    </TableBody>\r\n                  </Table>\r\n                </TableContainer>\r\n              )}\r\n              \r\n              {registry?.lastUpdated && (\r\n                <Typography variant=\"caption\" color=\"text.secondary\" sx={{ mt: 2, display: 'block' }}>\r\n                  Last updated: {formatDate(registry.lastUpdated)}\r\n                </Typography>\r\n              )}\r\n            </AccordionDetails>\r\n          </Accordion>\r\n        ))}\r\n\r\n        {Object.keys(registries).length === 0 && (\r\n          <Alert severity=\"info\">\r\n            No registries found. Upload some files to populate the registries.\r\n          </Alert>\r\n        )}\r\n      </Box>\r\n    );\r\n  };\r\n};\r\n\r\nexport default OMBigBook; ","/**\r\n * Components API Service for OrthodMetrics\r\n * Handles component management, discovery, and dynamic loading\r\n */\r\n\r\nimport { apiJson } from '@/shared/lib/apiClient';\r\n\r\n// Component types\r\nexport interface Component {\r\n  id: string;\r\n  name: string;\r\n  displayName: string;\r\n  description: string;\r\n  category: string;\r\n  tags: string[];\r\n  version: string;\r\n  author: string;\r\n  filePath: string;\r\n  isActive: boolean;\r\n  isSystem: boolean;\r\n  dependencies: string[];\r\n  props: ComponentProp[];\r\n  examples: ComponentExample[];\r\n  createdAt: string;\r\n  updatedAt: string;\r\n  lastUsed?: string;\r\n  usageCount: number;\r\n}\r\n\r\nexport interface ComponentProp {\r\n  name: string;\r\n  type: string;\r\n  required: boolean;\r\n  defaultValue?: any;\r\n  description: string;\r\n  options?: string[];\r\n}\r\n\r\nexport interface ComponentExample {\r\n  id: string;\r\n  title: string;\r\n  description: string;\r\n  code: string;\r\n  props: Record<string, any>;\r\n  preview?: string;\r\n}\r\n\r\nexport interface ComponentCategory {\r\n  id: string;\r\n  name: string;\r\n  description: string;\r\n  icon?: string;\r\n  componentCount: number;\r\n  order: number;\r\n}\r\n\r\nexport interface ComponentFilters {\r\n  search?: string;\r\n  category?: string;\r\n  tags?: string[];\r\n  isActive?: boolean;\r\n  isSystem?: boolean;\r\n  author?: string;\r\n  page?: number;\r\n  limit?: number;\r\n  sortBy?: string;\r\n  sortOrder?: 'asc' | 'desc';\r\n}\r\n\r\nexport interface ComponentResponse {\r\n  components: Component[];\r\n  total: number;\r\n  page: number;\r\n  limit: number;\r\n  totalPages: number;\r\n}\r\n\r\nexport interface ComponentUsage {\r\n  componentId: string;\r\n  componentName: string;\r\n  usageCount: number;\r\n  lastUsed: string;\r\n  pages: Array<{\r\n    path: string;\r\n    count: number;\r\n  }>;\r\n}\r\n\r\nexport interface ComponentDependency {\r\n  id: string;\r\n  name: string;\r\n  version: string;\r\n  type: 'npm' | 'local' | 'peer';\r\n  isInstalled: boolean;\r\n  isRequired: boolean;\r\n}\r\n\r\nexport interface ComponentBundle {\r\n  id: string;\r\n  name: string;\r\n  description: string;\r\n  components: string[];\r\n  isActive: boolean;\r\n  createdAt: string;\r\n  updatedAt: string;\r\n}\r\n\r\n// Components API class\r\nexport class ComponentsAPI {\r\n  private baseUrl = '/api/components';\r\n\r\n  /**\r\n   * Get all components with filters\r\n   */\r\n  async getComponents(filters: ComponentFilters = {}): Promise<ComponentResponse> {\r\n    const params = new URLSearchParams();\r\n    \r\n    if (filters.search) params.append('search', filters.search);\r\n    if (filters.category) params.append('category', filters.category);\r\n    if (filters.tags?.length) params.append('tags', filters.tags.join(','));\r\n    if (filters.isActive !== undefined) params.append('isActive', filters.isActive.toString());\r\n    if (filters.isSystem !== undefined) params.append('isSystem', filters.isSystem.toString());\r\n    if (filters.author) params.append('author', filters.author);\r\n    if (filters.page) params.append('page', filters.page.toString());\r\n    if (filters.limit) params.append('limit', filters.limit.toString());\r\n    if (filters.sortBy) params.append('sortBy', filters.sortBy);\r\n    if (filters.sortOrder) params.append('sortOrder', filters.sortOrder);\r\n\r\n    const queryString = params.toString();\r\n    const url = queryString ? `${this.baseUrl}?${queryString}` : this.baseUrl;\r\n    \r\n    return apiJson<ComponentResponse>(url);\r\n  }\r\n\r\n  /**\r\n   * Get component by ID\r\n   */\r\n  async getComponent(id: string): Promise<Component> {\r\n    return apiJson<Component>(`${this.baseUrl}/${id}`);\r\n  }\r\n\r\n  /**\r\n   * Create new component\r\n   */\r\n  async createComponent(component: Omit<Component, 'id' | 'createdAt' | 'updatedAt' | 'usageCount'>): Promise<Component> {\r\n    return apiJson<Component>(`${this.baseUrl}`, {\r\n      method: 'POST',\r\n      body: JSON.stringify(component)\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Update component\r\n   */\r\n  async updateComponent(id: string, component: Partial<Component>): Promise<Component> {\r\n    return apiJson<Component>(`${this.baseUrl}/${id}`, {\r\n      method: 'PUT',\r\n      body: JSON.stringify(component)\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Delete component\r\n   */\r\n  async deleteComponent(id: string): Promise<void> {\r\n    return apiJson<void>(`${this.baseUrl}/${id}`, {\r\n      method: 'DELETE'\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Toggle component active status\r\n   */\r\n  async toggleComponentStatus(id: string, isActive: boolean): Promise<Component> {\r\n    return apiJson<Component>(`${this.baseUrl}/${id}/status`, {\r\n      method: 'PATCH',\r\n      body: JSON.stringify({ isActive })\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get component categories\r\n   */\r\n  async getCategories(): Promise<ComponentCategory[]> {\r\n    return apiJson<ComponentCategory[]>(`${this.baseUrl}/categories`);\r\n  }\r\n\r\n  /**\r\n   * Create new category\r\n   */\r\n  async createCategory(category: Omit<ComponentCategory, 'id' | 'componentCount'>): Promise<ComponentCategory> {\r\n    return apiJson<ComponentCategory>(`${this.baseUrl}/categories`, {\r\n      method: 'POST',\r\n      body: JSON.stringify(category)\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Update category\r\n   */\r\n  async updateCategory(id: string, category: Partial<ComponentCategory>): Promise<ComponentCategory> {\r\n    return apiJson<ComponentCategory>(`${this.baseUrl}/categories/${id}`, {\r\n      method: 'PUT',\r\n      body: JSON.stringify(category)\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Delete category\r\n   */\r\n  async deleteCategory(id: string): Promise<void> {\r\n    return apiJson<void>(`${this.baseUrl}/categories/${id}`, {\r\n      method: 'DELETE'\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get component usage statistics\r\n   */\r\n  async getComponentUsage(componentId?: string): Promise<ComponentUsage[]> {\r\n    const url = componentId ? `${this.baseUrl}/usage/${componentId}` : `${this.baseUrl}/usage`;\r\n    return apiJson<ComponentUsage[]>(url);\r\n  }\r\n\r\n  /**\r\n   * Get component dependencies\r\n   */\r\n  async getComponentDependencies(componentId: string): Promise<ComponentDependency[]> {\r\n    return apiJson<ComponentDependency[]>(`${this.baseUrl}/${componentId}/dependencies`);\r\n  }\r\n\r\n  /**\r\n   * Install component dependencies\r\n   */\r\n  async installDependencies(componentId: string): Promise<void> {\r\n    return apiJson<void>(`${this.baseUrl}/${componentId}/dependencies/install`, {\r\n      method: 'POST'\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get component bundles\r\n   */\r\n  async getBundles(): Promise<ComponentBundle[]> {\r\n    return apiJson<ComponentBundle[]>(`${this.baseUrl}/bundles`);\r\n  }\r\n\r\n  /**\r\n   * Create component bundle\r\n   */\r\n  async createBundle(bundle: Omit<ComponentBundle, 'id' | 'createdAt' | 'updatedAt'>): Promise<ComponentBundle> {\r\n    return apiJson<ComponentBundle>(`${this.baseUrl}/bundles`, {\r\n      method: 'POST',\r\n      body: JSON.stringify(bundle)\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Update component bundle\r\n   */\r\n  async updateBundle(id: string, bundle: Partial<ComponentBundle>): Promise<ComponentBundle> {\r\n    return apiJson<ComponentBundle>(`${this.baseUrl}/bundles/${id}`, {\r\n      method: 'PUT',\r\n      body: JSON.stringify(bundle)\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Delete component bundle\r\n   */\r\n  async deleteBundle(id: string): Promise<void> {\r\n    return apiJson<void>(`${this.baseUrl}/bundles/${id}`, {\r\n      method: 'DELETE'\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Scan for new components\r\n   */\r\n  async scanComponents(): Promise<{\r\n    found: number;\r\n    added: number;\r\n    updated: number;\r\n    errors: string[];\r\n  }> {\r\n    return apiJson(`${this.baseUrl}/scan`, {\r\n      method: 'POST'\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get component source code\r\n   */\r\n  async getComponentSource(id: string): Promise<{\r\n    content: string;\r\n    language: string;\r\n    size: number;\r\n  }> {\r\n    return apiJson(`${this.baseUrl}/${id}/source`);\r\n  }\r\n\r\n  /**\r\n   * Update component source code\r\n   */\r\n  async updateComponentSource(id: string, content: string): Promise<Component> {\r\n    return apiJson<Component>(`${this.baseUrl}/${id}/source`, {\r\n      method: 'PUT',\r\n      body: JSON.stringify({ content })\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Validate component\r\n   */\r\n  async validateComponent(id: string): Promise<{\r\n    isValid: boolean;\r\n    errors: string[];\r\n    warnings: string[];\r\n  }> {\r\n    return apiJson(`${this.baseUrl}/${id}/validate`);\r\n  }\r\n\r\n  /**\r\n   * Get component preview\r\n   */\r\n  async getComponentPreview(id: string, props: Record<string, any> = {}): Promise<{\r\n    html: string;\r\n    css: string;\r\n    js: string;\r\n  }> {\r\n    return apiJson(`${this.baseUrl}/${id}/preview`, {\r\n      method: 'POST',\r\n      body: JSON.stringify({ props })\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Export component\r\n   */\r\n  async exportComponent(id: string, format: 'json' | 'tsx' | 'jsx' = 'json'): Promise<Blob> {\r\n    return apiJson<Blob>(`${this.baseUrl}/${id}/export?format=${format}`);\r\n  }\r\n\r\n  /**\r\n   * Import component\r\n   */\r\n  async importComponent(file: File): Promise<Component> {\r\n    const formData = new FormData();\r\n    formData.append('file', file);\r\n    \r\n    return apiJson<Component>(`${this.baseUrl}/import`, {\r\n      method: 'POST',\r\n      body: formData\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get component analytics\r\n   */\r\n  async getComponentAnalytics(period: 'day' | 'week' | 'month' | 'year' = 'month'): Promise<{\r\n    totalComponents: number;\r\n    activeComponents: number;\r\n    usageStats: Array<{\r\n      date: string;\r\n      count: number;\r\n    }>;\r\n    topComponents: Array<{\r\n      id: string;\r\n      name: string;\r\n      usage: number;\r\n    }>;\r\n  }> {\r\n    return apiJson(`${this.baseUrl}/analytics?period=${period}`);\r\n  }\r\n}\r\n\r\n// Export singleton instance\r\nexport const componentsAPI = new ComponentsAPI();\r\n","import React, { useState, useEffect, useMemo, useCallback } from 'react';\r\nimport Grid2 from '@/components/compat/Grid2';\r\nimport formatTimestamp, { formatRelativeTime } from '@/utils/formatTimestamp';\r\nimport { Box, Typography, Card, CardContent, Chip, Switch, FormControlLabel, Alert, IconButton, Tooltip, Stack, Avatar, CircularProgress, Dialog, DialogTitle, DialogContent, DialogActions, Button, List, ListItem, ListItemText, LinearProgress, Snackbar, Divider, DialogContentText, Pagination, TextField, InputAdornment, Tab, Tabs, Badge, Paper, Select, MenuItem, FormControl, InputLabel } from '@mui/material';\r\nimport {\r\n    IconSettings,\r\n    IconEye,\r\n    IconTestPipe,\r\n    IconToggleLeft,\r\n    IconToggleRight,\r\n    IconCircleCheck,\r\n    IconAlertTriangle,\r\n    IconCircleX,\r\n    IconActivity,\r\n    IconRefresh,\r\n    IconReload,\r\n    IconShield,\r\n    IconBug,\r\n    IconChevronDown,\r\n    IconSearch,\r\n    IconFilter,\r\n    IconClock,\r\n    IconUsers,\r\n    IconTarget,\r\n    IconCpu,\r\n    IconDownload,\r\n    IconFileText\r\n} from '@tabler/icons-react';\r\nimport {\r\n    componentsAPI, \r\n    type Component, \r\n    type ComponentLog, \r\n    type ComponentsResponse,\r\n    type ComponentFilters \r\n} from '@/api/components.api';\r\nimport { useAuth } from '@/context/AuthContext';\r\n\r\n// Health detection utility\r\ntype HealthStatus = 'healthy' | 'degraded' | 'failed';\r\n\r\ninterface HealthDetectionRule {\r\n    pattern: string | RegExp;\r\n    level: ComponentLog['level'][];\r\n    severity: HealthStatus;\r\n    description: string;\r\n}\r\n\r\nconst HEALTH_DETECTION_RULES: HealthDetectionRule[] = [\r\n    {\r\n        pattern: /Error: Service temporarily unavailable/i,\r\n        level: ['error'],\r\n        severity: 'degraded',\r\n        description: 'Service availability issues detected'\r\n    },\r\n    {\r\n        pattern: /Warning: Performance degraded/i,\r\n        level: ['warn', 'error'],\r\n        severity: 'degraded',\r\n        description: 'Performance degradation detected'\r\n    },\r\n    {\r\n        pattern: /Connection timeout|Database connection failed|Service crashed|Critical error/i,\r\n        level: ['error'],\r\n        severity: 'failed',\r\n        description: 'Critical system failures detected'\r\n    },\r\n    {\r\n        pattern: /Memory leak|Out of memory|Disk space|Storage full/i,\r\n        level: ['error', 'warn'],\r\n        severity: 'degraded',\r\n        description: 'Resource constraints detected'\r\n    }\r\n];\r\n\r\n/**\r\n * Analyzes component logs to determine health status based on recent errors/warnings\r\n * @param logs Array of ComponentLog entries\r\n * @param hoursBack Number of hours to look back (default: 24)\r\n * @returns HealthStatus based on log analysis\r\n */\r\nconst getComponentHealthStatus = (logs: ComponentLog[], hoursBack: number = 24): HealthStatus => {\r\n    if (!logs || !Array.isArray(logs) || logs.length === 0) {\r\n        return 'healthy'; // No logs available, assume healthy\r\n    }\r\n\r\n    const cutoffTime = new Date(Date.now() - (hoursBack * 60 * 60 * 1000));\r\n    \r\n    // Filter recent logs\r\n    const recentLogs = logs.filter(log => {\r\n        const logTime = new Date(log.timestamp);\r\n        return logTime >= cutoffTime;\r\n    });\r\n\r\n    // If no recent logs, check last N logs (fallback)\r\n    const logsToAnalyze = recentLogs.length > 0 ? recentLogs : logs.slice(-20);\r\n    \r\n    let worstStatus: HealthStatus = 'healthy';\r\n    const detectedIssues: string[] = [];\r\n\r\n    // Analyze logs against detection rules\r\n    for (const log of logsToAnalyze) {\r\n        for (const rule of HEALTH_DETECTION_RULES) {\r\n            // Check if log level matches rule\r\n            if (!rule.level.includes(log.level)) continue;\r\n            \r\n            // Check if message matches pattern\r\n            const matches = typeof rule.pattern === 'string' \r\n                ? log.message.includes(rule.pattern)\r\n                : rule.pattern.test(log.message);\r\n                \r\n            if (matches) {\r\n                detectedIssues.push(`${rule.description} (${log.timestamp})`);\r\n                \r\n                // Update worst status (failed > degraded > healthy)\r\n                if (rule.severity === 'failed' || \r\n                    (rule.severity === 'degraded' && worstStatus === 'healthy')) {\r\n                    worstStatus = rule.severity;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    // Additional logic: if we have many error logs, escalate to failed\r\n    const errorCount = logsToAnalyze.filter(log => log.level === 'error').length;\r\n    if (errorCount >= 10 && worstStatus === 'degraded') {\r\n        worstStatus = 'failed';\r\n        detectedIssues.push(`High error frequency detected (${errorCount} errors)`);\r\n    }\r\n\r\n    // Log detection results for debugging\r\n    if (worstStatus !== 'healthy') {\r\n        console.log(`Health detection for component: ${worstStatus}`, {\r\n            analyzedLogs: logsToAnalyze.length,\r\n            recentLogs: recentLogs.length,\r\n            detectedIssues,\r\n            worstStatus\r\n        });\r\n    }\r\n\r\n    return worstStatus;\r\n};\r\n\r\n/**\r\n * Analyzes component logs and returns health issues found\r\n * @param logs Array of ComponentLog entries\r\n * @param hoursBack Number of hours to look back\r\n * @returns Array of health issue descriptions\r\n */\r\nconst getHealthIssues = (logs: ComponentLog[], hoursBack: number = 24): string[] => {\r\n    if (!logs || !Array.isArray(logs) || logs.length === 0) return [];\r\n\r\n    const cutoffTime = new Date(Date.now() - (hoursBack * 60 * 60 * 1000));\r\n    const recentLogs = logs.filter(log => new Date(log.timestamp) >= cutoffTime);\r\n    const logsToAnalyze = recentLogs.length > 0 ? recentLogs : logs.slice(-20);\r\n    \r\n    const issues: string[] = [];\r\n\r\n    for (const log of logsToAnalyze) {\r\n        for (const rule of HEALTH_DETECTION_RULES) {\r\n            if (!rule.level.includes(log.level)) continue;\r\n            \r\n            const matches = typeof rule.pattern === 'string' \r\n                ? log.message.includes(rule.pattern)\r\n                : rule.pattern.test(log.message);\r\n                \r\n            if (matches) {\r\n                const timeAgo = new Date(Date.now() - new Date(log.timestamp).getTime());\r\n                const hoursAgo = Math.floor(timeAgo.getTime() / (1000 * 60 * 60));\r\n                issues.push(`${rule.description} (${hoursAgo}h ago)`);\r\n            }\r\n        }\r\n    }\r\n\r\n    return [...new Set(issues)]; // Remove duplicates\r\n};\r\n\r\n/**\r\n * Component Manager - Production Frontend with Live Backend Integration\r\n * \r\n * PRODUCTION STATUS: Fully integrated with live backend API\r\n * \r\n * Features implemented:\r\n *  Component listing with health status indicators\r\n *  Toggle enable/disable with confirmation dialogs\r\n *  Logs viewing with enhanced modal interface\r\n *  Component testing with detailed results display\r\n *  Role-based access control (admin/super_admin only)\r\n *  Toast notifications for all actions\r\n *  Responsive design with comprehensive tooltips\r\n *  Advanced filtering and search capabilities\r\n *  Usage tracking and analytics\r\n *  Category-based organization\r\n *  Pagination for large datasets\r\n *  Live backend API integration\r\n *  Comprehensive error handling\r\n * \r\n * Backend API Integration:\r\n * - GET /api/admin/components (list all components with filters/pagination)\r\n * - PATCH /api/admin/components/:id (toggle component status)\r\n * - GET /api/admin/components/:id/logs (fetch component logs)\r\n * - POST /api/admin/components/:id/test (run component diagnostics)\r\n * \r\n * All data is loaded from live backend API with proper error handling.\r\n */\r\nconst ComponentManager: React.FC = () => {\r\n    const { isSuperAdmin, hasRole } = useAuth();\r\n    \r\n    // State management\r\n    const [componentsData, setComponentsData] = useState<ComponentsResponse | null>(null);\r\n    const [loading, setLoading] = useState<boolean>(true);\r\n    const [error, setError] = useState<string | null>(null);\r\n    \r\n    // Filter and pagination state\r\n    const [filters, setFilters] = useState<ComponentFilters>({\r\n        page: 1,\r\n        limit: 20,\r\n        category: 'all',\r\n        status: 'all',\r\n        usageStatus: 'all',\r\n        search: '',\r\n        enabled: 'all'\r\n    });\r\n    const [searchTerm, setSearchTerm] = useState<string>('');\r\n    const [categoryTab, setCategoryTab] = useState<string>('all');\r\n    const [logsDialogOpen, setLogsDialogOpen] = useState<boolean>(false);\r\n    const [selectedComponentLogs, setSelectedComponentLogs] = useState<ComponentLog[]>([]);\r\n    const [selectedComponentName, setSelectedComponentName] = useState<string>('');\r\n    const [toggleConfirmDialog, setToggleConfirmDialog] = useState<{\r\n        open: boolean;\r\n        component: Component | null;\r\n        newState: boolean;\r\n    }>({ open: false, component: null, newState: false });\r\n    const [actionLoading, setActionLoading] = useState<{ [componentId: string]: boolean }>({});\r\n    \r\n    // Toast state\r\n    const [toastOpen, setToastOpen] = useState<boolean>(false);\r\n    const [toastMessage, setToastMessage] = useState<string>('');\r\n    const [toastSeverity, setToastSeverity] = useState<'success' | 'error' | 'info' | 'warning'>('success');\r\n    \r\n    // Test results dialog\r\n    const [testResultDialog, setTestResultDialog] = useState<{\r\n        open: boolean;\r\n        component: Component | null;\r\n        result: any;\r\n    }>({ open: false, component: null, result: null });\r\n\r\n    // Toast helper functions\r\n    const showToast = (message: string, severity: 'success' | 'error' | 'info' | 'warning' = 'success') => {\r\n        setToastMessage(message);\r\n        setToastSeverity(severity);\r\n        setToastOpen(true);\r\n    };\r\n\r\n    // Check if user has admin permissions\r\n    const canManageComponents = isSuperAdmin || hasRole('admin');\r\n\r\n    // Log component mounting for testing tab switching\r\n    useEffect(() => {\r\n        console.log('ComponentManager mounted');\r\n        fetchComponents();\r\n    }, []);\r\n\r\n    // Analyze component health based on recent logs\r\n    const analyzeComponentHealth = async (data: ComponentsResponse): Promise<ComponentsResponse> => {\r\n        try {\r\n            console.log('Starting health analysis for components...');\r\n            \r\n            // Validate data structure\r\n            if (!data || !data.components || !Array.isArray(data.components)) {\r\n                console.warn('Invalid components data structure, skipping health analysis:', data);\r\n                return data;\r\n            }\r\n            \r\n            // Create promises for log analysis of each component\r\n            const analysisPromises = data.components.map(async (component) => {\r\n                try {\r\n                    // Fetch recent logs for this component\r\n                    const logsResponse = await componentsAPI.getLogs(component.id);\r\n                    const logs = logsResponse.logs || [];\r\n                    \r\n                    // Analyze health based on logs\r\n                    const analyzedHealth = getComponentHealthStatus(logs);\r\n                    const healthIssues = getHealthIssues(logs);\r\n                    \r\n                    // Update component with analyzed health\r\n                    const updatedComponent: Component = {\r\n                        ...component,\r\n                        health: analyzedHealth,\r\n                        healthIssues: healthIssues.length > 0 ? healthIssues : component.healthIssues,\r\n                        lastHealthCheck: new Date().toISOString()\r\n                    };\r\n                    \r\n                    // Log health changes for debugging\r\n                    if (analyzedHealth !== component.health) {\r\n                        console.log(`Health updated for ${component.name}: ${component.health}  ${analyzedHealth}`, {\r\n                            issues: healthIssues,\r\n                            analyzedLogs: logs.length\r\n                        });\r\n                    }\r\n                    \r\n                    return updatedComponent;\r\n                } catch (logError) {\r\n                    // If log analysis fails, keep original component health\r\n                    console.warn(`Failed to analyze health for ${component.name}:`, logError);\r\n                    return {\r\n                        ...component,\r\n                        lastHealthCheck: new Date().toISOString()\r\n                    };\r\n                }\r\n            });\r\n            \r\n            // Wait for all analyses to complete\r\n            const analyzedComponents = await Promise.all(analysisPromises);\r\n            \r\n            // Recalculate meta information based on new health statuses\r\n            const updatedMeta = {\r\n                ...data.meta,\r\n                // Update category breakdown to reflect new health statuses\r\n                categoryBreakdown: calculateCategoryBreakdown(analyzedComponents),\r\n                usageStats: {\r\n                    ...data.meta.usageStats,\r\n                    // Add health-related stats\r\n                    healthyComponents: analyzedComponents.filter(c => c.health === 'healthy').length,\r\n                    degradedComponents: analyzedComponents.filter(c => c.health === 'degraded').length,\r\n                    failedComponents: analyzedComponents.filter(c => c.health === 'failed').length\r\n                }\r\n            };\r\n            \r\n            const healthChanges = analyzedComponents.filter(c => {\r\n                const original = data.components.find(orig => orig.id === c.id);\r\n                return original && original.health !== c.health;\r\n            });\r\n            \r\n            console.log(`Health analysis completed. Updated ${analyzedComponents.length} components.`, {\r\n                totalAnalyzed: analyzedComponents.length,\r\n                healthChanges: healthChanges.length,\r\n                changedComponents: healthChanges.map(c => ({\r\n                    name: c.name,\r\n                    oldHealth: data.components.find(orig => orig.id === c.id)?.health,\r\n                    newHealth: c.health,\r\n                    issues: c.healthIssues?.length || 0\r\n                }))\r\n            });\r\n            \r\n            return {\r\n                components: analyzedComponents,\r\n                meta: updatedMeta\r\n            };\r\n            \r\n        } catch (error) {\r\n            console.error('Health analysis failed, using original data:', error);\r\n            // Return original data if analysis fails\r\n            return data;\r\n        }\r\n    };\r\n\r\n    // Helper function to calculate category breakdown with health info\r\n    const calculateCategoryBreakdown = (components: Component[]) => {\r\n        const breakdown: Record<string, any> = {};\r\n        \r\n        // Validate components is an array\r\n        if (!Array.isArray(components)) {\r\n            console.warn('calculateCategoryBreakdown: components is not an array:', components);\r\n            return breakdown;\r\n        }\r\n        \r\n        components.forEach(component => {\r\n            const category = component.category || 'Uncategorized';\r\n            if (!breakdown[category]) {\r\n                breakdown[category] = {\r\n                    total: 0,\r\n                    healthy: 0,\r\n                    degraded: 0,\r\n                    failed: 0,\r\n                    enabled: 0,\r\n                    disabled: 0,\r\n                    active: 0,\r\n                    inactive: 0,\r\n                    unused: 0\r\n                };\r\n            }\r\n            \r\n            breakdown[category].total++;\r\n            breakdown[category][component.health]++;\r\n            breakdown[category][component.enabled ? 'enabled' : 'disabled']++;\r\n            breakdown[category][component.usageStatus]++;\r\n        });\r\n        \r\n        return breakdown;\r\n    };\r\n\r\n    // Fetch components with filters and pagination\r\n    const fetchComponents = async (newFilters?: Partial<ComponentFilters>) => {\r\n        try {\r\n            setLoading(true);\r\n            setError(null);\r\n            \r\n            // Merge filters if provided\r\n            const currentFilters = newFilters ? { ...filters, ...newFilters } : filters;\r\n            setFilters(currentFilters);\r\n            \r\n            const data = await componentsAPI.getAll(currentFilters);\r\n            console.log('Components fetched:', data);\r\n            \r\n            // Analyze component health based on logs\r\n            const componentsWithHealthAnalysis = await analyzeComponentHealth(data);\r\n            setComponentsData(componentsWithHealthAnalysis);\r\n            \r\n            // Count components with analyzed health\r\n            const analyzedComponents = componentsWithHealthAnalysis.components.filter(c => \r\n                c.lastHealthCheck && new Date(c.lastHealthCheck).getTime() > Date.now() - 60000 // within last minute\r\n            ).length;\r\n            \r\n            const baseMessage = `Loaded ${data.components.length} components (page ${data.meta.page} of ${data.meta.totalPages})`;\r\n            const healthMessage = analyzedComponents > 0 ? `  Health analyzed for ${analyzedComponents} components` : '';\r\n            \r\n            showToast(`${baseMessage}${healthMessage}`, 'success');\r\n        } catch (err: any) {\r\n            console.error('Error fetching components:', err);\r\n            \r\n            // Handle different types of errors\r\n            let errorMessage = 'Unable to load component data from backend.';\r\n            \r\n            if (err.response) {\r\n                // Server responded with error status\r\n                if (err.response.status === 401 || err.response.status === 403) {\r\n                    errorMessage = 'You do not have permission to access component data. Please contact your administrator.';\r\n                } else if (err.response.status === 404) {\r\n                    errorMessage = 'Component management API endpoint not found. Please contact support.';\r\n                } else if (err.response.status >= 500) {\r\n                    errorMessage = 'Server error occurred while loading components. Please try again later or contact support.';\r\n                } else {\r\n                    errorMessage = err.response.data?.message || `API Error (${err.response.status}): Unable to load components.`;\r\n                }\r\n            } else if (err.request) {\r\n                // Network error\r\n                errorMessage = 'Network error: Unable to connect to the component management API. Please check your connection.';\r\n            } else {\r\n                // Other error\r\n                errorMessage = err.message || 'Unknown error occurred while loading components.';\r\n            }\r\n            \r\n            setError(errorMessage);\r\n            setComponentsData(null);\r\n            \r\n            showToast(\r\n                'Failed to load components from backend API. Please check the API status or contact support.',\r\n                'error'\r\n            );\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    // Handle component toggle (disabled until Phase 3 but structured)\r\n    const handleStatusToggle = (component: Component) => {\r\n        const newState = !component.enabled;\r\n        setToggleConfirmDialog({\r\n            open: true,\r\n            component,\r\n            newState\r\n        });\r\n    };\r\n\r\n    // Confirm toggle action\r\n    const handleConfirmToggle = async () => {\r\n        const { component, newState } = toggleConfirmDialog;\r\n        if (!component) return;\r\n\r\n        try {\r\n            setActionLoading(prev => ({ ...prev, [component.id]: true }));\r\n            await componentsAPI.toggle(component.id, newState);\r\n            \r\n            // Update local state\r\n            setComponentsData(prev => prev ? {\r\n                ...prev,\r\n                components: prev.components.map(c => \r\n                    c.id === component.id ? { ...c, enabled: newState, lastUpdated: new Date().toISOString() } : c\r\n                )\r\n            } : null);\r\n            \r\n            showToast(\r\n                `Component \"${component.name}\" has been ${newState ? 'enabled' : 'disabled'}.`,\r\n                'success'\r\n            );\r\n            console.log(`Component ${component.name} toggled to ${newState ? 'enabled' : 'disabled'}`);\r\n        } catch (err: any) {\r\n            console.error('Error toggling component:', err);\r\n            const errorMessage = err.response?.data?.message || err.message || 'Failed to toggle component';\r\n            setError(errorMessage);\r\n            showToast(\r\n                `Failed to ${newState ? 'enable' : 'disable'} \"${component.name}\": ${errorMessage}`,\r\n                'error'\r\n            );\r\n        } finally {\r\n            setActionLoading(prev => ({ ...prev, [component.id]: false }));\r\n            setToggleConfirmDialog({ open: false, component: null, newState: false });\r\n        }\r\n    };\r\n\r\n    // Handle view logs\r\n    const handleViewLogs = async (component: Component) => {\r\n        try {\r\n            setActionLoading(prev => ({ ...prev, [component.id]: true }));\r\n            const logsResponse = await componentsAPI.getLogs(component.id, 100);\r\n            setSelectedComponentLogs(logsResponse.logs);\r\n            setSelectedComponentName(component.name);\r\n            setLogsDialogOpen(true);\r\n            showToast(`Loaded ${logsResponse.logs.length} log entries for \"${component.name}\"`, 'info');\r\n            console.log(`Logs for ${component.name}:`, logsResponse.logs);\r\n        } catch (err: any) {\r\n            console.error('Error fetching logs:', err);\r\n            const errorMessage = err.response?.data?.message || err.message || 'Failed to fetch logs';\r\n            \r\n            // Handle logs fetch error\r\n            showToast(\r\n                `Failed to load logs for \"${component.name}\": ${errorMessage}`,\r\n                'error'\r\n            );\r\n        } finally {\r\n            setActionLoading(prev => ({ ...prev, [component.id]: false }));\r\n        }\r\n    };\r\n\r\n    // Handle run test\r\n    const handleRunTest = async (component: Component) => {\r\n        try {\r\n            setActionLoading(prev => ({ ...prev, [component.id]: true }));\r\n            const testResult = await componentsAPI.runTest(component.id);\r\n            \r\n            // Update component health based on test result if provided\r\n            if (testResult?.health) {\r\n                setComponentsData(prev => prev ? {\r\n                    ...prev,\r\n                    components: prev.components.map(c => \r\n                        c.id === component.id ? { ...c, health: testResult.health, lastUpdated: new Date().toISOString() } : c\r\n                    )\r\n                } : null);\r\n            }\r\n            \r\n            setTestResultDialog({\r\n                open: true,\r\n                component,\r\n                result: testResult\r\n            });\r\n            \r\n            const status = testResult?.status || 'unknown';\r\n            const severity = status === 'pass' ? 'success' : status === 'fail' ? 'error' : 'warning';\r\n            showToast(`Test ${status} for \"${component.name}\"`, severity);\r\n            \r\n            console.log(`Test completed for component: ${component.name}`, testResult);\r\n        } catch (err: any) {\r\n            console.error('Error running test:', err);\r\n            const errorMessage = err.response?.data?.message || err.message || 'Test failed to execute';\r\n            \r\n            // Handle test execution error\r\n            showToast(\r\n                `Failed to run test for \"${component.name}\": ${errorMessage}`,\r\n                'error'\r\n            );\r\n        } finally {\r\n            setActionLoading(prev => ({ ...prev, [component.id]: false }));\r\n        }\r\n    };\r\n\r\n    // Handle export of degraded component logs\r\n    // Creates a plain text report with format:\r\n    // Component: [Name]\r\n    // Health Status: DEGRADED\r\n    // Category: [Category]\r\n    // Last Updated: [Date]\r\n    // Issues: [Health Issues]\r\n    // ------------------------------\r\n    // [LEVEL] [Timestamp] - [Message]\r\n    // ****************************\r\n    const handleExportDegradedLogs = async () => {\r\n        try {\r\n            setLoading(true);\r\n            \r\n            // Filter degraded components\r\n            const degradedComponents = (Array.isArray(componentsData?.components) ? componentsData.components : []).filter(\r\n                component => component.health === 'degraded'\r\n            );\r\n            \r\n            if (degradedComponents.length === 0) {\r\n                showToast('No degraded components found to export', 'info');\r\n                return;\r\n            }\r\n            \r\n            showToast(`Gathering logs for ${degradedComponents.length} degraded components...`, 'info');\r\n            \r\n            let exportContent = `DEGRADED COMPONENTS LOG REPORT\\n`;\r\n            exportContent += `Generated: ${new Date().toLocaleString()}\\n`;\r\n            exportContent += `Total degraded components: ${degradedComponents.length}\\n\\n`;\r\n            exportContent += `${'='.repeat(60)}\\n\\n`;\r\n            \r\n            // Fetch logs for each degraded component\r\n            const logPromises = degradedComponents.map(async (component) => {\r\n                try {\r\n                    const logsResponse = await componentsAPI.getLogs(component.id);\r\n                    return {\r\n                        component,\r\n                        logs: logsResponse.logs || [],\r\n                        success: true\r\n                    };\r\n                } catch (err) {\r\n                    console.error(`Failed to fetch logs for ${component.name}:`, err);\r\n                    return {\r\n                        component,\r\n                        logs: [],\r\n                        success: false,\r\n                        error: err\r\n                    };\r\n                }\r\n            });\r\n            \r\n            const logResults = await Promise.all(logPromises);\r\n            \r\n            // Format the export content\r\n            logResults.forEach((result, index) => {\r\n                const { component, logs, success, error } = result;\r\n                \r\n                exportContent += `Component: ${component.name}\\n`;\r\n                exportContent += `Health Status: ${component.health.toUpperCase()}\\n`;\r\n                exportContent += `Category: ${component.category || 'Uncategorized'}\\n`;\r\n                exportContent += `Last Updated: ${component.lastUpdated ? new Date(component.lastUpdated).toLocaleString() : 'Unknown'}\\n`;\r\n                \r\n                if (component.healthIssues && component.healthIssues.length > 0) {\r\n                    exportContent += `Issues: ${component.healthIssues.join(', ')}\\n`;\r\n                }\r\n                \r\n                exportContent += `${'-'.repeat(30)}\\n`;\r\n                \r\n                if (!success) {\r\n                    exportContent += `[ERROR] Failed to retrieve logs: ${error?.response?.data?.message || error?.message || 'Unknown error'}\\n`;\r\n                } else if (logs.length === 0) {\r\n                    exportContent += `[INFO] No logs available for this component\\n`;\r\n                } else {\r\n                    // Sort logs by timestamp (newest first)\r\n                    const sortedLogs = logs.sort((a, b) => \r\n                        new Date(b.timestamp).getTime() - new Date(a.timestamp).getTime()\r\n                    );\r\n                    \r\n                    // Take only the most recent 20 logs\r\n                    const recentLogs = sortedLogs.slice(0, 20);\r\n                    \r\n                    recentLogs.forEach(log => {\r\n                        const timestamp = new Date(log.timestamp).toLocaleString();\r\n                        const level = log.level.toUpperCase();\r\n                        exportContent += `[${level}] ${timestamp} - ${log.message}\\n`;\r\n                    });\r\n                    \r\n                    if (sortedLogs.length > 20) {\r\n                        exportContent += `... and ${sortedLogs.length - 20} more log entries\\n`;\r\n                    }\r\n                }\r\n                \r\n                exportContent += `\\n${'*'.repeat(28)}\\n\\n`;\r\n            });\r\n            \r\n            // Add summary at the end\r\n            exportContent += `EXPORT SUMMARY\\n`;\r\n            exportContent += `${'-'.repeat(15)}\\n`;\r\n            exportContent += `Total components processed: ${logResults.length}\\n`;\r\n            exportContent += `Successful log retrievals: ${logResults.filter(r => r.success).length}\\n`;\r\n            exportContent += `Failed log retrievals: ${logResults.filter(r => !r.success).length}\\n`;\r\n            exportContent += `Export completed: ${new Date().toLocaleString()}\\n`;\r\n            \r\n            // Create and download the file\r\n            const blob = new Blob([exportContent], { type: 'text/plain;charset=utf-8' });\r\n            const url = URL.createObjectURL(blob);\r\n            \r\n            const link = document.createElement('a');\r\n            link.href = url;\r\n            const timestamp = new Date().toISOString().replace(/[:.]/g, '-').split('T');\r\n            const dateStr = timestamp[0];\r\n            const timeStr = timestamp[1].split('.')[0];\r\n            link.download = `degraded-components-log-report-${dateStr}-${timeStr}.txt`;\r\n            document.body.appendChild(link);\r\n            link.click();\r\n            document.body.removeChild(link);\r\n            \r\n            URL.revokeObjectURL(url);\r\n            \r\n            showToast(\r\n                `Successfully exported logs for ${degradedComponents.length} degraded components`,\r\n                'success'\r\n            );\r\n            \r\n        } catch (err: any) {\r\n            console.error('Error exporting degraded component logs:', err);\r\n            showToast(\r\n                `Failed to export logs: ${err.message || 'Unknown error'}`,\r\n                'error'\r\n            );\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const getHealthColor = (health: string) => {\r\n        switch (health) {\r\n            case 'healthy':\r\n                return { color: 'success', icon: IconCircleCheck, bgColor: '#e8f5e8' };\r\n            case 'degraded':\r\n                return { color: 'warning', icon: IconAlertTriangle, bgColor: '#fff8e1' };\r\n            case 'failed':\r\n                return { color: 'error', icon: IconCircleX, bgColor: '#ffebee' };\r\n            default:\r\n                return { color: 'default', icon: IconActivity, bgColor: '#f5f5f5' };\r\n        }\r\n    };\r\n\r\n    const formatLastUpdated = (dateString?: string) => {\r\n        if (!dateString) return 'Unknown';\r\n        const date = new Date(dateString);\r\n        return date.toLocaleDateString() + ' ' + date.toLocaleTimeString();\r\n    };\r\n\r\n    const getLogLevelColor = (level: string) => {\r\n        switch (level) {\r\n            case 'error': return 'error';\r\n            case 'warn': return 'warning';\r\n            case 'info': return 'info';\r\n            case 'debug': return 'default';\r\n            default: return 'default';\r\n        }\r\n    };\r\n\r\n    // Enhanced tooltip content with health detection info\r\n    const getHealthTooltip = (component: Component) => {\r\n        const { health, healthIssues, lastHealthCheck } = component;\r\n        \r\n        let baseMessage = '';\r\n        switch (health) {\r\n            case 'healthy':\r\n                baseMessage = 'This component is running normally and all checks are passing';\r\n                break;\r\n            case 'degraded':\r\n                baseMessage = 'This component is experiencing issues but is still partially functional';\r\n                break;\r\n            case 'failed':\r\n                baseMessage = 'This component has critical issues and may not be functioning properly';\r\n                break;\r\n            default:\r\n                baseMessage = 'Component health status unknown';\r\n        }\r\n        \r\n        // Add health detection info\r\n        let detectionInfo = '';\r\n        if (health !== 'healthy' && healthIssues && healthIssues.length > 0) {\r\n            detectionInfo = `\\n\\nDetected Issues:\\n ${healthIssues.join('\\n ')}`;\r\n        }\r\n        \r\n        // Add last health check info\r\n        let healthCheckInfo = '';\r\n        if (lastHealthCheck) {\r\n            const checkTime = new Date(lastHealthCheck);\r\n            const timeAgo = Math.round((Date.now() - checkTime.getTime()) / (1000 * 60)); // minutes ago\r\n            healthCheckInfo = `\\n\\nLast health check: ${timeAgo < 1 ? 'Just now' : `${timeAgo}m ago`}`;\r\n        }\r\n        \r\n        return `${baseMessage}${detectionInfo}${healthCheckInfo}`;\r\n    };\r\n\r\n    // Check if health status was automatically detected based on logs\r\n    const isHealthAutoDetected = (component: Component): boolean => {\r\n        return !!(component.healthIssues && \r\n                component.healthIssues.length > 0 && \r\n                component.lastHealthCheck &&\r\n                component.health !== 'healthy');\r\n    };\r\n\r\n    // Get component card styling based on enabled/disabled state\r\n    const getComponentCardClass = (component: Component) => {\r\n        if (!component.enabled) {\r\n            return {\r\n                opacity: 0.5,\r\n                filter: 'grayscale(0.7)',\r\n                cursor: 'not-allowed',\r\n                '&:hover': {\r\n                    boxShadow: 1, // Reduced hover effect for disabled\r\n                    transform: 'none' // No transform for disabled\r\n                }\r\n            };\r\n        }\r\n        return {\r\n            '&:hover': {\r\n                boxShadow: 3,\r\n                transform: 'translateY(-2px)'\r\n            }\r\n        };\r\n    };\r\n\r\n    const getToggleTooltip = (enabled: boolean, canManage: boolean) => {\r\n        if (!canManage) {\r\n            return 'You need admin permissions to enable or disable components';\r\n        }\r\n        return enabled \r\n            ? 'Click to disable this component across the system' \r\n            : 'Click to enable this component across the system';\r\n    };\r\n\r\n    // Helper function to format relative time\r\n    const getRelativeTime = (timestamp: string | null): string => {\r\n        if (!timestamp) return 'Never used';\r\n        \r\n        const now = new Date();\r\n        const past = new Date(timestamp);\r\n        const diffMs = now.getTime() - past.getTime();\r\n        const diffMinutes = Math.floor(diffMs / (1000 * 60));\r\n        const diffHours = Math.floor(diffMs / (1000 * 60 * 60));\r\n        const diffDays = Math.floor(diffMs / (1000 * 60 * 60 * 24));\r\n\r\n        if (diffMinutes < 1) return 'Just now';\r\n        if (diffMinutes < 60) return `${diffMinutes}m ago`;\r\n        if (diffHours < 24) return `${diffHours}h ago`;\r\n        if (diffDays < 30) return `${diffDays}d ago`;\r\n        \r\n        return past.toLocaleDateString();\r\n    };\r\n\r\n    // Helper function to render usage status chip\r\n    const getUsageChip = (usageStatus: string, lastUsed: string | null) => {\r\n        const configs = {\r\n            active: { color: '#4caf50', bgColor: '#e8f5e8', icon: '', label: 'Active' },\r\n            inactive: { color: '#ff9800', bgColor: '#fff3e0', icon: '', label: 'Inactive' },\r\n            unused: { color: '#9e9e9e', bgColor: '#f5f5f5', icon: '', label: 'Unused' }\r\n        };\r\n        \r\n        const config = configs[usageStatus as keyof typeof configs] || configs.unused;\r\n        \r\n        return (\r\n            <Chip\r\n                size=\"small\"\r\n                label={\r\n                    <Box display=\"flex\" alignItems=\"center\" gap={0.5}>\r\n                        <span>{config.icon}</span>\r\n                        <span>{config.label}</span>\r\n                    </Box>\r\n                }\r\n                sx={{\r\n                    backgroundColor: config.bgColor,\r\n                    color: config.color,\r\n                    fontWeight: 500,\r\n                    fontSize: '0.75rem'\r\n                }}\r\n            />\r\n        );\r\n    };\r\n\r\n    // Get unique categories from components data\r\n    const getAvailableCategories = (): string[] => {\r\n        if (!componentsData?.components || !Array.isArray(componentsData.components)) return [];\r\n        const categories = new Set(componentsData.components.map(c => c.category));\r\n        return Array.from(categories).sort();\r\n    };\r\n\r\n    // Handle filter changes\r\n    const handleCategoryChange = (category: string) => {\r\n        setCategoryTab(category);\r\n        fetchComponents({ category: category === 'all' ? 'all' : category, page: 1 });\r\n    };\r\n\r\n    const handlePageChange = (event: React.ChangeEvent<unknown>, page: number) => {\r\n        fetchComponents({ page });\r\n    };\r\n\r\n    // Debounced search implementation to prevent focus loss\r\n    const debouncedSearch = useMemo(\r\n        () => {\r\n            let timeoutId: NodeJS.Timeout;\r\n            return (value: string) => {\r\n                clearTimeout(timeoutId);\r\n                timeoutId = setTimeout(() => {\r\n                    setFilters(prev => ({ ...prev, search: value, page: 1 }));\r\n                    fetchComponents({ search: value, page: 1 });\r\n                }, 500); // Increased delay to 500ms for better UX\r\n            };\r\n        },\r\n        [fetchComponents]\r\n    );\r\n\r\n    const handleSearchChange = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\r\n        const value = event.target.value;\r\n        setSearchTerm(value);\r\n        debouncedSearch(value);\r\n    }, [debouncedSearch]);\r\n\r\n    const handleFilterChange = (filterType: keyof ComponentFilters, value: string) => {\r\n        fetchComponents({ [filterType]: value, page: 1 });\r\n    };\r\n\r\n    // Calculate filtered summary stats - use API meta data for accurate totals\r\n    const getFilteredSummary = () => {\r\n        const components = Array.isArray(componentsData?.components) ? componentsData.components : [];\r\n        const meta = componentsData?.meta;\r\n        \r\n        // If we have meta data from API with breakdown, use it for accuracy\r\n        if (meta?.categoryBreakdown || meta?.usageStats) {\r\n            return {\r\n                total: meta.total || 0,\r\n                healthy: meta.usageStats?.healthBreakdown?.healthy || components.filter(c => c.health === 'healthy').length,\r\n                degraded: meta.usageStats?.healthBreakdown?.degraded || components.filter(c => c.health === 'degraded').length,\r\n                failed: meta.usageStats?.healthBreakdown?.failed || components.filter(c => c.health === 'failed').length,\r\n                active: meta.usageStats?.usageBreakdown?.active || components.filter(c => c.usageStatus === 'active').length,\r\n                inactive: meta.usageStats?.usageBreakdown?.inactive || components.filter(c => c.usageStatus === 'inactive').length,\r\n                unused: meta.usageStats?.usageBreakdown?.unused || components.filter(c => c.usageStatus === 'unused').length,\r\n                enabled: meta.usageStats?.statusBreakdown?.enabled || components.filter(c => c.enabled).length,\r\n                disabled: meta.usageStats?.statusBreakdown?.disabled || components.filter(c => !c.enabled).length\r\n            };\r\n        }\r\n        \r\n        // Fallback to current page data if meta not available\r\n        const summary = {\r\n            total: meta?.total || components.length,\r\n            healthy: components.filter(c => c.health === 'healthy').length,\r\n            degraded: components.filter(c => c.health === 'degraded').length,\r\n            failed: components.filter(c => c.health === 'failed').length,\r\n            active: components.filter(c => c.usageStatus === 'active').length,\r\n            inactive: components.filter(c => c.usageStatus === 'inactive').length,\r\n            unused: components.filter(c => c.usageStatus === 'unused').length,\r\n            enabled: components.filter(c => c.enabled).length,\r\n            disabled: components.filter(c => !c.enabled).length\r\n        };\r\n        return summary;\r\n    };\r\n\r\n    // Loading state\r\n    if (loading) {\r\n        return (\r\n            <Box display=\"flex\" flexDirection=\"column\" alignItems=\"center\" py={4}>\r\n                <CircularProgress size={40} />\r\n                <Typography variant=\"body2\" sx={{ mt: 2 }}>\r\n                    Loading system components...\r\n                </Typography>\r\n            </Box>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <Box>\r\n            <Box display=\"flex\" alignItems=\"center\" justifyContent=\"space-between\" mb={3}>\r\n                <Typography variant=\"h6\">\r\n                    System Components\r\n                </Typography>\r\n                <Stack direction=\"row\" spacing={1}>\r\n                    {canManageComponents && (\r\n                        <Tooltip \r\n                            title=\"Export diagnostic logs for all components with degraded health status\" \r\n                            arrow\r\n                        >\r\n                            <span>\r\n                                <Button\r\n                                    variant=\"outlined\"\r\n                                    startIcon={<IconDownload size={16} />}\r\n                                    onClick={handleExportDegradedLogs}\r\n                                    size=\"small\"\r\n                                    color=\"warning\"\r\n                                    disabled={loading || (Array.isArray(componentsData?.components) ? componentsData.components : []).filter(c => c.health === 'degraded').length === 0}\r\n                                >\r\n                                    Export Degraded Logs \r\n                                    {componentsData?.components && (\r\n                                        <Chip \r\n                                            size=\"small\" \r\n                                            label={(Array.isArray(componentsData?.components) ? componentsData.components : []).filter(c => c.health === 'degraded').length}\r\n                                            sx={{ ml: 1, fontSize: '0.7rem', height: '18px' }}\r\n                                            color=\"warning\"\r\n                                        />\r\n                                    )}\r\n                                </Button>\r\n                            </span>\r\n                        </Tooltip>\r\n                    )}\r\n                    <Button\r\n                        variant=\"outlined\"\r\n                        startIcon={<IconRefresh size={16} />}\r\n                        onClick={fetchComponents}\r\n                        size=\"small\"\r\n                    >\r\n                        Refresh\r\n                    </Button>\r\n                </Stack>\r\n            </Box>\r\n\r\n            {/* Error Alert */}\r\n            {error && (\r\n                <Alert severity=\"error\" sx={{ mb: 3 }} action={\r\n                    <Button color=\"inherit\" size=\"small\" onClick={fetchComponents}>\r\n                        Retry\r\n                    </Button>\r\n                }>\r\n                    {error}\r\n                </Alert>\r\n            )}\r\n\r\n            {/* Production Status Alert */}\r\n            {!canManageComponents ? (\r\n                <Alert severity=\"warning\" sx={{ mb: 3 }}>\r\n                    You need administrator privileges to manage components. Contact your system administrator for access.\r\n                </Alert>\r\n            ) : (\r\n                <Alert severity=\"success\" sx={{ mb: 3 }}>\r\n                    <strong>System Status:</strong> Component management system is fully operational with live backend integration. \r\n                    All features are connected to the production API:\r\n                    <br />\r\n                    <code> GET /api/admin/components</code>  \r\n                    <code> PATCH /api/admin/components/:id</code>  \r\n                    <code> GET /api/admin/components/:id/logs</code>  \r\n                    <code> POST /api/admin/components/:id/test</code>\r\n                </Alert>\r\n            )}\r\n\r\n            {/* Category Filter Tabs */}\r\n            <Paper elevation={1} sx={{ mb: 3, p: 2 }}>\r\n                <Typography variant=\"subtitle1\" sx={{ mb: 2, fontWeight: 600 }}>\r\n                    Filter by Category\r\n                </Typography>\r\n                <Tabs\r\n                    value={categoryTab}\r\n                    onChange={(e, value) => handleCategoryChange(value)}\r\n                    variant=\"scrollable\"\r\n                    scrollButtons=\"auto\"\r\n                    sx={{ \r\n                        '& .MuiTab-root': { \r\n                            minWidth: 'auto',\r\n                            textTransform: 'none',\r\n                            fontSize: '0.875rem'\r\n                        }\r\n                    }}\r\n                >\r\n                    <Tab \r\n                        label={\r\n                            <Badge \r\n                                badgeContent={componentsData?.meta?.total || 0} \r\n                                color=\"primary\"\r\n                                sx={{ '& .MuiBadge-badge': { fontSize: '0.75rem' } }}\r\n                            >\r\n                                All Components\r\n                            </Badge>\r\n                        } \r\n                        value=\"all\" \r\n                    />\r\n                    {getAvailableCategories().map((category) => {\r\n                        const count = componentsData?.meta?.categoryBreakdown?.[category]?.total || 0;\r\n                        return (\r\n                            <Tab \r\n                                key={category}\r\n                                label={\r\n                                    <Badge \r\n                                        badgeContent={count} \r\n                                        color=\"secondary\"\r\n                                        sx={{ '& .MuiBadge-badge': { fontSize: '0.75rem' } }}\r\n                                    >\r\n                                        {category}\r\n                                    </Badge>\r\n                                } \r\n                                value={category} \r\n                            />\r\n                        );\r\n                    })}\r\n                </Tabs>\r\n            </Paper>\r\n\r\n            {/* Search and Filters */}\r\n            <Paper elevation={1} sx={{ mb: 3, p: 2 }}>\r\n                <Grid2 container spacing={2} alignItems=\"center\">\r\n                    {/* Search Field */}\r\n                    <Grid2 item xs={12} md={4}>\r\n                        <TextField\r\n                            fullWidth\r\n                            size=\"small\"\r\n                            placeholder=\"Search components...\"\r\n                            value={searchTerm}\r\n                            onChange={handleSearchChange}\r\n                            InputProps={{\r\n                                startAdornment: (\r\n                                    <InputAdornment position=\"start\">\r\n                                        <IconSearch size={20} />\r\n                                    </InputAdornment>\r\n                                )\r\n                            }}\r\n                        />\r\n                    </Grid2>\r\n\r\n                    {/* Health Status Filter */}\r\n                    <Grid2 item xs={12} sm={6} md={2}>\r\n                        <FormControl fullWidth size=\"small\">\r\n                            <InputLabel>Health</InputLabel>\r\n                            <Select\r\n                                value={filters.status || 'all'}\r\n                                label=\"Health\"\r\n                                onChange={(e) => handleFilterChange('status', e.target.value)}\r\n                            >\r\n                                <MenuItem value=\"all\">All Health</MenuItem>\r\n                                <MenuItem value=\"healthy\"> Healthy</MenuItem>\r\n                                <MenuItem value=\"degraded\"> Degraded</MenuItem>\r\n                                <MenuItem value=\"failed\"> Failed</MenuItem>\r\n                            </Select>\r\n                        </FormControl>\r\n                    </Grid2>\r\n\r\n                    {/* Usage Status Filter */}\r\n                    <Grid2 item xs={12} sm={6} md={2}>\r\n                        <FormControl fullWidth size=\"small\">\r\n                            <InputLabel>Usage</InputLabel>\r\n                            <Select\r\n                                value={filters.usageStatus || 'all'}\r\n                                label=\"Usage\"\r\n                                onChange={(e) => handleFilterChange('usageStatus', e.target.value)}\r\n                            >\r\n                                <MenuItem value=\"all\">All Usage</MenuItem>\r\n                                <MenuItem value=\"active\"> Active</MenuItem>\r\n                                <MenuItem value=\"inactive\"> Inactive</MenuItem>\r\n                                <MenuItem value=\"unused\"> Unused</MenuItem>\r\n                            </Select>\r\n                        </FormControl>\r\n                    </Grid2>\r\n\r\n                    {/* Enable/Disable Filter */}\r\n                    <Grid2 item xs={12} sm={6} md={2}>\r\n                        <FormControl fullWidth size=\"small\">\r\n                            <InputLabel>Status</InputLabel>\r\n                            <Select\r\n                                value={filters.enabled || 'all'}\r\n                                label=\"Status\"\r\n                                onChange={(e) => handleFilterChange('enabled', e.target.value)}\r\n                            >\r\n                                <MenuItem value=\"all\">All Status</MenuItem>\r\n                                <MenuItem value=\"true\"> Enabled</MenuItem>\r\n                                <MenuItem value=\"false\"> Disabled</MenuItem>\r\n                            </Select>\r\n                        </FormControl>\r\n                    </Grid2>\r\n\r\n                    {/* Results Info */}\r\n                    <Grid2 item xs={12} md={2}>\r\n                        <Typography variant=\"body2\" color=\"text.secondary\" sx={{ textAlign: 'right' }}>\r\n                            {componentsData?.meta ? (\r\n                                <>\r\n                                    Showing {((componentsData.meta.page - 1) * componentsData.meta.limit) + 1}\r\n                                    {Math.min(componentsData.meta.page * componentsData.meta.limit, componentsData.meta.total)} of {componentsData.meta.total}\r\n                                </>\r\n                            ) : (\r\n                                'Loading...'\r\n                            )}\r\n                        </Typography>\r\n                    </Grid2>\r\n                </Grid2>\r\n            </Paper>\r\n\r\n            {/* Enhanced Summary Panel */}\r\n            <Paper elevation={1} sx={{ mb: 3, p: 2 }}>\r\n                <Typography variant=\"subtitle1\" sx={{ mb: 2, fontWeight: 600 }}>\r\n                    {categoryTab === 'all' ? 'Global Summary' : `${categoryTab} Summary`}\r\n                </Typography>\r\n                \r\n                <Grid2 container spacing={2}>\r\n                    {/* Health Summary */}\r\n                    <Grid2 item xs={12} md={4}>\r\n                        <Box sx={{ p: 2, backgroundColor: 'grey.50', borderRadius: 1 }}>\r\n                            <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 1, fontWeight: 600 }}>\r\n                                Component Health\r\n                            </Typography>\r\n                            <Typography variant=\"caption\" color=\"text.secondary\" sx={{ mb: 1, fontStyle: 'italic', display: 'block' }}>\r\n                                Includes automatic log-based detection\r\n                            </Typography>\r\n                            <Stack direction=\"row\" spacing={2} sx={{ mb: 1 }}>\r\n                                <Chip \r\n                                    size=\"small\" \r\n                                    label={`${getFilteredSummary().healthy} Healthy`}\r\n                                    color=\"success\"\r\n                                    variant=\"outlined\"\r\n                                />\r\n                                <Chip \r\n                                    size=\"small\" \r\n                                    label={`${getFilteredSummary().degraded} Degraded`}\r\n                                    color=\"warning\"\r\n                                    variant=\"outlined\"\r\n                                />\r\n                                <Chip \r\n                                    size=\"small\" \r\n                                    label={`${getFilteredSummary().failed} Failed`}\r\n                                    color=\"error\"\r\n                                    variant=\"outlined\"\r\n                                />\r\n                            </Stack>\r\n                            <Typography variant=\"h6\" color=\"text.primary\">\r\n                                {getFilteredSummary().total} Total Components\r\n                            </Typography>\r\n                        </Box>\r\n                    </Grid2>\r\n\r\n                    {/* Usage Summary */}\r\n                    <Grid2 item xs={12} md={4}>\r\n                        <Box sx={{ p: 2, backgroundColor: 'grey.50', borderRadius: 1 }}>\r\n                            <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 1, fontWeight: 600 }}>\r\n                                Usage Activity\r\n                            </Typography>\r\n                            <Stack direction=\"row\" spacing={2} sx={{ mb: 1 }}>\r\n                                <Chip \r\n                                    size=\"small\" \r\n                                    label={`${getFilteredSummary().active} Active`}\r\n                                    sx={{ backgroundColor: '#e8f5e8', color: '#4caf50' }}\r\n                                />\r\n                                <Chip \r\n                                    size=\"small\" \r\n                                    label={`${getFilteredSummary().inactive} Inactive`}\r\n                                    sx={{ backgroundColor: '#fff3e0', color: '#ff9800' }}\r\n                                />\r\n                                <Chip \r\n                                    size=\"small\" \r\n                                    label={`${getFilteredSummary().unused} Unused`}\r\n                                    sx={{ backgroundColor: '#f5f5f5', color: '#9e9e9e' }}\r\n                                />\r\n                            </Stack>\r\n                            <Typography variant=\"body2\" color=\"text.secondary\">\r\n                                Last 24h activity tracking\r\n                            </Typography>\r\n                        </Box>\r\n                    </Grid2>\r\n\r\n                    {/* Status Summary */}\r\n                    <Grid2 item xs={12} md={4}>\r\n                        <Box sx={{ p: 2, backgroundColor: 'grey.50', borderRadius: 1 }}>\r\n                            <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 1, fontWeight: 600 }}>\r\n                                Component Status\r\n                            </Typography>\r\n                            <Stack direction=\"row\" spacing={2} sx={{ mb: 1 }}>\r\n                                <Chip \r\n                                    size=\"small\" \r\n                                    label={`${getFilteredSummary().enabled} Enabled`}\r\n                                    color=\"success\"\r\n                                    variant=\"outlined\"\r\n                                />\r\n                                <Chip \r\n                                    size=\"small\" \r\n                                    label={`${getFilteredSummary().disabled} Disabled`}\r\n                                    color=\"default\"\r\n                                    variant=\"outlined\"\r\n                                />\r\n                            </Stack>\r\n                            <Typography variant=\"body2\" color=\"text.secondary\">\r\n                                System-wide component states\r\n                            </Typography>\r\n                        </Box>\r\n                    </Grid2>\r\n                </Grid2>\r\n            </Paper>\r\n\r\n            {/* Components Grid */}\r\n            <Grid2 container spacing={3}>\r\n                {(Array.isArray(componentsData?.components) ? componentsData.components : []).map((component, index) => {\r\n                    const healthConfig = getHealthColor(component.health);\r\n                    const HealthIcon = healthConfig.icon;\r\n                    const isActionLoading = actionLoading[component.id];\r\n                    \r\n                    return (\r\n                        <Grid2 item xs={12} md={6} lg={4} key={component.id || index}>\r\n                            <Card \r\n                                variant=\"outlined\"\r\n                                sx={{ \r\n                                    height: '100%',\r\n                                    transition: 'all 0.2s ease-in-out',\r\n                                    ...(isActionLoading ? { opacity: 0.7 } : getComponentCardClass(component))\r\n                                }}\r\n                            >\r\n                                {isActionLoading && (\r\n                                    <LinearProgress />\r\n                                )}\r\n                                <CardContent>\r\n                                    <Stack spacing={2}>\r\n                                        {/* Component Header */}\r\n                                        <Box display=\"flex\" alignItems=\"center\" justifyContent=\"space-between\">\r\n                                            <Box display=\"flex\" alignItems=\"center\">\r\n                                                <Tooltip title={getHealthTooltip(component)} arrow>\r\n                                                    <Avatar \r\n                                                        sx={{ \r\n                                                            bgcolor: healthConfig.bgColor, \r\n                                                            color: `${healthConfig.color}.main`,\r\n                                                            mr: 2,\r\n                                                            width: 40,\r\n                                                            height: 40,\r\n                                                            cursor: 'help'\r\n                                                        }}\r\n                                                    >\r\n                                                        <HealthIcon size={20} />\r\n                                                    </Avatar>\r\n                                                </Tooltip>\r\n                                                <Typography \r\n                                                    variant=\"h6\" \r\n                                                    component=\"h3\"\r\n                                                    sx={{ \r\n                                                        color: !component.enabled ? 'text.disabled' : 'text.primary'\r\n                                                    }}\r\n                                                >\r\n                                                    {component.name}\r\n                                                </Typography>\r\n                                            </Box>\r\n                                            {!canManageComponents && (\r\n                                                <Tooltip title=\"Admin access required\">\r\n                                                    <IconShield size={16} color=\"#ff9800\" />\r\n                                                </Tooltip>\r\n                                            )}\r\n                                        </Box>\r\n\r\n                                        {/* Component Description */}\r\n                                        {component.description && (\r\n                                            <Typography \r\n                                                variant=\"body2\" \r\n                                                color=\"text.secondary\" \r\n                                                sx={{ \r\n                                                    fontStyle: 'italic',\r\n                                                    opacity: !component.enabled ? 0.6 : 1\r\n                                                }}\r\n                                            >\r\n                                                {component.description}\r\n                                            </Typography>\r\n                                        )}\r\n\r\n                                        {/* Usage Information */}\r\n                                        <Box display=\"flex\" alignItems=\"center\" justifyContent=\"space-between\" sx={{ py: 1 }}>\r\n                                            <Box display=\"flex\" alignItems=\"center\" gap={1}>\r\n                                                {getUsageChip(component.usageStatus || 'unused', component.lastUsed)}\r\n                                                <Typography variant=\"caption\" color=\"text.secondary\">\r\n                                                    {component.lastUsedFormatted || getRelativeTime(component.lastUsed)}\r\n                                                </Typography>\r\n                                            </Box>\r\n                                            <Box display=\"flex\" alignItems=\"center\" gap={1}>\r\n                                                <Tooltip title={`Total accesses: ${component.totalAccesses || 0}`} arrow>\r\n                                                    <Chip\r\n                                                        size=\"small\"\r\n                                                        icon={<IconUsers size={14} />}\r\n                                                        label={component.uniqueUsers || 0}\r\n                                                        variant=\"outlined\"\r\n                                                        sx={{ fontSize: '0.7rem' }}\r\n                                                    />\r\n                                                </Tooltip>\r\n                                                <Tooltip title={`Category: ${component.category || 'Uncategorized'}`} arrow>\r\n                                                    <Chip\r\n                                                        size=\"small\"\r\n                                                        icon={<IconTarget size={14} />}\r\n                                                        label={component.category || 'Other'}\r\n                                                        variant=\"outlined\"\r\n                                                        color=\"secondary\"\r\n                                                        sx={{ fontSize: '0.7rem' }}\r\n                                                    />\r\n                                                </Tooltip>\r\n                                            </Box>\r\n                                        </Box>\r\n\r\n                                        {/* Status and Health */}\r\n                                        <Box display=\"flex\" alignItems=\"center\" justifyContent=\"space-between\">\r\n                                            <Tooltip title={getToggleTooltip(component.enabled, canManageComponents)} arrow>\r\n                                                <FormControlLabel\r\n                                                    control={\r\n                                                        <Switch\r\n                                                            checked={component.enabled}\r\n                                                            onChange={() => handleStatusToggle(component)}\r\n                                                            disabled={!canManageComponents || isActionLoading}\r\n                                                            color=\"primary\"\r\n                                                        />\r\n                                                    }\r\n                                                    label={component.enabled ? \"Enabled\" : \"Disabled\"}\r\n                                                />\r\n                                            </Tooltip>\r\n                                            <Box display=\"flex\" alignItems=\"center\" gap={0.5}>\r\n                                                <Tooltip title={getHealthTooltip(component)} arrow>\r\n                                                    <Chip\r\n                                                        label={component.health.charAt(0).toUpperCase() + component.health.slice(1)}\r\n                                                        color={healthConfig.color as any}\r\n                                                        variant=\"filled\"\r\n                                                        size=\"small\"\r\n                                                        icon={<HealthIcon size={16} />}\r\n                                                    />\r\n                                                </Tooltip>\r\n                                                {isHealthAutoDetected(component) && (\r\n                                                    <Tooltip title=\"Health status automatically detected based on log analysis in past 24h\" arrow>\r\n                                                        <IconBug size={14} style={{ \r\n                                                            color: '#ff9800', \r\n                                                            opacity: 0.7 \r\n                                                        }} />\r\n                                                    </Tooltip>\r\n                                                )}\r\n                                            </Box>\r\n                                        </Box>\r\n\r\n                                        {/* Last Updated */}\r\n                                        <Typography \r\n                                            variant=\"body2\" \r\n                                            color=\"text.secondary\"\r\n                                            sx={{ opacity: !component.enabled ? 0.6 : 1 }}\r\n                                        >\r\n                                            Last Updated: {formatLastUpdated(component.lastUpdated)}\r\n                                        </Typography>\r\n\r\n                                        {/* Action Buttons */}\r\n                                        <Box display=\"flex\" justifyContent=\"flex-end\" gap={1}>\r\n                                            <Tooltip title={!component.enabled ? \"Component is disabled - enable to view logs\" : \"View recent log output from this component\"} arrow>\r\n                                                <span>\r\n                                                    <IconButton \r\n                                                        size=\"small\" \r\n                                                        onClick={() => handleViewLogs(component)}\r\n                                                        disabled={!component.enabled || isActionLoading}\r\n                                                        color=\"primary\"\r\n                                                        sx={{ opacity: !component.enabled ? 0.5 : 1 }}\r\n                                                    >\r\n                                                        <IconEye size={16} />\r\n                                                    </IconButton>\r\n                                                </span>\r\n                                            </Tooltip>\r\n                                            <Tooltip title={\r\n                                                !component.enabled ? \"Component is disabled - enable to run tests\" :\r\n                                                canManageComponents ? \"Run automated self-test for this component\" : \r\n                                                \"Admin access required to run tests\"\r\n                                            } arrow>\r\n                                                <span>\r\n                                                    <IconButton \r\n                                                        size=\"small\"\r\n                                                        onClick={() => handleRunTest(component)}\r\n                                                        disabled={!component.enabled || !canManageComponents || isActionLoading}\r\n                                                        color=\"secondary\"\r\n                                                        sx={{ opacity: !component.enabled ? 0.5 : 1 }}\r\n                                                    >\r\n                                                        <IconTestPipe size={16} />\r\n                                                    </IconButton>\r\n                                                </span>\r\n                                            </Tooltip>\r\n                                            <Tooltip title={\r\n                                                !component.enabled ? \"Component is disabled - enable to access settings\" :\r\n                                                \"Component configuration and advanced settings (Coming Soon)\"\r\n                                            } arrow>\r\n                                                <span>\r\n                                                    <IconButton \r\n                                                        size=\"small\" \r\n                                                        disabled\r\n                                                        sx={{ opacity: !component.enabled ? 0.3 : 0.5 }}\r\n                                                    >\r\n                                                        <IconSettings size={16} />\r\n                                                    </IconButton>\r\n                                                </span>\r\n                                            </Tooltip>\r\n                                        </Box>\r\n                                    </Stack>\r\n                                </CardContent>\r\n                            </Card>\r\n                        </Grid2>\r\n                    );\r\n                })}\r\n            </Grid2>\r\n\r\n            {/* Pagination Controls */}\r\n            {componentsData?.meta && componentsData.meta.totalPages > 1 && (\r\n                <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" mt={4} mb={2}>\r\n                    <Stack spacing={2} alignItems=\"center\">\r\n                        <Pagination\r\n                            count={componentsData.meta.totalPages}\r\n                            page={componentsData.meta.page}\r\n                            onChange={handlePageChange}\r\n                            color=\"primary\"\r\n                            size=\"large\"\r\n                            showFirstButton\r\n                            showLastButton\r\n                            siblingCount={1}\r\n                            boundaryCount={1}\r\n                        />\r\n                        <Typography variant=\"body2\" color=\"text.secondary\">\r\n                            Page {componentsData.meta.page} of {componentsData.meta.totalPages}  \r\n                            Showing {((componentsData.meta.page - 1) * componentsData.meta.limit) + 1}\r\n                            {Math.min(componentsData.meta.page * componentsData.meta.limit, componentsData.meta.total)} of {componentsData.meta.total} components\r\n                        </Typography>\r\n                    </Stack>\r\n                </Box>\r\n            )}\r\n\r\n            {/* No Components Message */}\r\n            {componentsData?.components && componentsData.components.length === 0 && (\r\n                <Box textAlign=\"center\" py={6}>\r\n                    <IconCpu size={48} style={{ opacity: 0.3, marginBottom: '16px' }} />\r\n                    <Typography variant=\"h6\" color=\"text.secondary\" gutterBottom>\r\n                        No components found\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" color=\"text.secondary\">\r\n                        {filters.search || filters.category !== 'all' || filters.status !== 'all' || filters.usageStatus !== 'all' || filters.enabled !== 'all' \r\n                            ? 'Try adjusting your search criteria or filters'\r\n                            : 'No components are currently registered in the system'\r\n                        }\r\n                    </Typography>\r\n                </Box>\r\n            )}\r\n\r\n            {/* Toggle Confirmation Dialog */}\r\n            <Dialog\r\n                open={toggleConfirmDialog.open}\r\n                onClose={() => setToggleConfirmDialog({ open: false, component: null, newState: false })}\r\n            >\r\n                <DialogTitle>\r\n                    <Box display=\"flex\" alignItems=\"center\" gap={1}>\r\n                        <IconShield size={20} />\r\n                        Confirm Component Toggle\r\n                    </Box>\r\n                </DialogTitle>\r\n                <DialogContent>\r\n                    <DialogContentText>\r\n                        Are you sure you want to <strong>{toggleConfirmDialog.newState ? 'enable' : 'disable'}</strong> the{' '}\r\n                        <strong>\"{toggleConfirmDialog.component?.name}\"</strong> component?\r\n                    </DialogContentText>\r\n                    <Alert severity={toggleConfirmDialog.newState ? 'info' : 'warning'} sx={{ mt: 2 }}>\r\n                        {toggleConfirmDialog.newState \r\n                            ? 'Enabling this component will make it available across the system.'\r\n                            : 'Disabling this component may affect system functionality and user experience.'\r\n                        }\r\n                    </Alert>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button \r\n                        onClick={() => setToggleConfirmDialog({ open: false, component: null, newState: false })}\r\n                    >\r\n                        Cancel\r\n                    </Button>\r\n                    <Button \r\n                        onClick={handleConfirmToggle}\r\n                        variant=\"contained\"\r\n                        color={toggleConfirmDialog.newState ? 'primary' : 'error'}\r\n                        startIcon={toggleConfirmDialog.newState ? <IconCircleCheck size={16} /> : <IconCircleX size={16} />}\r\n                    >\r\n                        {toggleConfirmDialog.newState ? 'Enable Component' : 'Disable Component'}\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n\r\n            {/* Logs Dialog */}\r\n            <Dialog\r\n                open={logsDialogOpen}\r\n                onClose={() => setLogsDialogOpen(false)}\r\n                maxWidth=\"md\"\r\n                fullWidth\r\n            >\r\n                <DialogTitle>\r\n                    <Box display=\"flex\" alignItems=\"center\" gap={1}>\r\n                        <IconEye size={20} />\r\n                        {selectedComponentName} - Component Logs\r\n                    </Box>\r\n                </DialogTitle>\r\n                <DialogContent>\r\n                    {selectedComponentLogs.length === 0 ? (\r\n                        <Box textAlign=\"center\" py={3}>\r\n                            <IconBug size={48} color=\"#ccc\" />\r\n                            <Typography variant=\"h6\" color=\"text.secondary\" mt={1}>\r\n                                No logs available\r\n                            </Typography>\r\n                            <Typography variant=\"body2\" color=\"text.secondary\">\r\n                                This component hasn't generated any log entries yet.\r\n                            </Typography>\r\n                        </Box>\r\n                    ) : (\r\n                        <>\r\n                            <Typography variant=\"body2\" color=\"text.secondary\" mb={2}>\r\n                                Showing {selectedComponentLogs.length} recent log entries\r\n                            </Typography>\r\n                            <List sx={{ maxHeight: 400, overflow: 'auto' }}>\r\n                                {selectedComponentLogs.map((log, index) => (\r\n                                    <ListItem key={log.id || index} divider>\r\n                                        <ListItemText\r\n                                            primary={\r\n                                                <Box display=\"flex\" alignItems=\"center\" gap={1} mb={0.5}>\r\n                                                    <Chip \r\n                                                        label={log.level.toUpperCase()} \r\n                                                        color={getLogLevelColor(log.level) as any}\r\n                                                        size=\"small\"\r\n                                                    />\r\n                                                    <Typography variant=\"caption\" color=\"text.secondary\">\r\n                                                        {new Date(log.timestamp).toLocaleString()}\r\n                                                    </Typography>\r\n                                                </Box>\r\n                                            }\r\n                                            secondary={\r\n                                                <Typography variant=\"body2\" sx={{ fontFamily: 'monospace', mt: 0.5 }}>\r\n                                                    {log.message}\r\n                                                </Typography>\r\n                                            }\r\n                                        />\r\n                                    </ListItem>\r\n                                ))}\r\n                            </List>\r\n                        </>\r\n                    )}\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button \r\n                        onClick={() => setLogsDialogOpen(false)}\r\n                        startIcon={<IconChevronDown size={16} />}\r\n                    >\r\n                        Close\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n\r\n            {/* Test Results Dialog */}\r\n            <Dialog\r\n                open={testResultDialog.open}\r\n                onClose={() => setTestResultDialog({ open: false, component: null, result: null })}\r\n                maxWidth=\"sm\"\r\n                fullWidth\r\n            >\r\n                <DialogTitle>\r\n                    <Box display=\"flex\" alignItems=\"center\" gap={1}>\r\n                        <IconTestPipe size={20} />\r\n                        Test Results - {testResultDialog.component?.name}\r\n                    </Box>\r\n                </DialogTitle>\r\n                <DialogContent>\r\n                    {testResultDialog.result ? (\r\n                        <Stack spacing={2}>\r\n                            <Box display=\"flex\" alignItems=\"center\" gap={1}>\r\n                                <Typography variant=\"subtitle1\">Overall Status:</Typography>\r\n                                <Chip \r\n                                    label={testResultDialog.result.status?.toUpperCase() || 'UNKNOWN'}\r\n                                    color={\r\n                                        testResultDialog.result.status === 'pass' ? 'success' :\r\n                                        testResultDialog.result.status === 'fail' ? 'error' : 'warning'\r\n                                    }\r\n                                    variant=\"filled\"\r\n                                />\r\n                            </Box>\r\n                            \r\n                            {testResultDialog.result.details && (\r\n                                <Alert severity=\"info\">\r\n                                    {testResultDialog.result.details}\r\n                                </Alert>\r\n                            )}\r\n\r\n                            {testResultDialog.result.tests && (\r\n                                <>\r\n                                    <Divider />\r\n                                    <Typography variant=\"subtitle2\">Test Details:</Typography>\r\n                                    <List dense>\r\n                                        {testResultDialog.result.tests.map((test: any, index: number) => (\r\n                                            <ListItem key={index}>\r\n                                                <ListItemText\r\n                                                    primary={\r\n                                                        <Box display=\"flex\" alignItems=\"center\" gap={1}>\r\n                                                            <Typography variant=\"body2\">{test.name}</Typography>\r\n                                                            <Chip \r\n                                                                label={test.status.toUpperCase()}\r\n                                                                color={\r\n                                                                    test.status === 'pass' ? 'success' :\r\n                                                                    test.status === 'fail' ? 'error' : 'warning'\r\n                                                                }\r\n                                                                size=\"small\"\r\n                                                            />\r\n                                                        </Box>\r\n                                                    }\r\n                                                    secondary={\r\n                                                        <Typography variant=\"caption\" color=\"text.secondary\">\r\n                                                            Duration: {test.duration}\r\n                                                            {test.error && `  Error: ${test.error}`}\r\n                                                            {test.details && `  ${test.details}`}\r\n                                                        </Typography>\r\n                                                    }\r\n                                                />\r\n                                            </ListItem>\r\n                                        ))}\r\n                                    </List>\r\n                                </>\r\n                            )}\r\n\r\n                            {testResultDialog.result.timestamp && (\r\n                                <Typography variant=\"caption\" color=\"text.secondary\" textAlign=\"center\">\r\n                                    Test completed at {new Date(testResultDialog.result.timestamp).toLocaleString()}\r\n                                </Typography>\r\n                            )}\r\n                        </Stack>\r\n                    ) : (\r\n                        <Typography color=\"text.secondary\">\r\n                            No test results available.\r\n                        </Typography>\r\n                    )}\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button \r\n                        onClick={() => setTestResultDialog({ open: false, component: null, result: null })}\r\n                    >\r\n                        Close\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n\r\n            {/* Toast Snackbar */}\r\n            <Snackbar\r\n                open={toastOpen}\r\n                autoHideDuration={6000}\r\n                onClose={() => setToastOpen(false)}\r\n                anchorOrigin={{ vertical: 'bottom', horizontal: 'right' }}\r\n            >\r\n                <Alert\r\n                    onClose={() => setToastOpen(false)}\r\n                    severity={toastSeverity}\r\n                    variant=\"filled\"\r\n                    sx={{ width: '100%' }}\r\n                >\r\n                    {toastMessage}\r\n                </Alert>\r\n            </Snackbar>\r\n        </Box>\r\n    );\r\n};\r\n\r\nexport default ComponentManager;","/**\r\n * OMAI-Spin Admin Settings Component\r\n * Web interface for environment mirroring operations\r\n */\r\n\r\nimport React, { useState, useEffect, useCallback } from 'react';\r\nimport {\r\n    Box, Card, CardContent, Typography, Grid, Button, Dialog, DialogTitle, DialogContent,\r\n    DialogActions, TextField, FormControlLabel, Switch, Alert, LinearProgress,\r\n    Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Paper,\r\n    Chip, IconButton, Tooltip, Tabs, Tab, Accordion, AccordionSummary, AccordionDetails,\r\n    List, ListItem, ListItemText, ListItemIcon, Pagination, FormControl, InputLabel,\r\n    Select, MenuItem, CircularProgress, Snackbar, Badge, Divider\r\n} from '@mui/material';\r\nimport {\r\n    PlayArrow as StartIcon, Stop as StopIcon, Refresh as RefreshIcon,\r\n    History as HistoryIcon, Settings as SettingsIcon, Visibility as ViewIcon,\r\n    ExpandMore as ExpandMoreIcon, Computer as ServerIcon, Storage as DatabaseIcon,\r\n    FileCopy as FilesIcon, Security as SecurityIcon, CheckCircle as SuccessIcon,\r\n    Error as ErrorIcon, Warning as WarningIcon, Info as InfoIcon\r\n} from '@mui/icons-material';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport { apiClient } from '@/api/utils/axiosInstance';\r\n\r\ninterface OmaiSpinStats {\r\n    total_sessions: number;\r\n    completed_sessions: number;\r\n    failed_sessions: number;\r\n    active_sessions: number;\r\n    avg_duration: number;\r\n    total_files_copied: number;\r\n    last_operation: string;\r\n}\r\n\r\ninterface ActiveOperation {\r\n    sessionId: string;\r\n    status: string;\r\n    progress: number;\r\n    startTime: string;\r\n    currentStep: string;\r\n}\r\n\r\ninterface SpinSession {\r\n    id: number;\r\n    session_uuid: string;\r\n    timestamp: string;\r\n    src_path: string;\r\n    dest_path: string;\r\n    triggered_by: string;\r\n    status: string;\r\n    total_files_copied: number;\r\n    total_files_excluded: number;\r\n    total_files_modified: number;\r\n    databases_migrated: string[];\r\n    duration_seconds: number;\r\n    error_message?: string;\r\n}\r\n\r\nconst OmaiSpinSettings: React.FC = () => {\r\n    const { user } = useAuth();\r\n    const [loading, setLoading] = useState(true);\r\n    const [activeTab, setActiveTab] = useState(0);\r\n    \r\n    // Dashboard data\r\n    const [stats, setStats] = useState<OmaiSpinStats | null>(null);\r\n    const [recentSessions, setRecentSessions] = useState<SpinSession[]>([]);\r\n    const [activeOperations, setActiveOperations] = useState<ActiveOperation[]>([]);\r\n    \r\n    // Operation state\r\n    const [showStartDialog, setShowStartDialog] = useState(false);\r\n    const [operationConfig, setOperationConfig] = useState({\r\n        prodPath: '/var/www/orthodox-church-mgmt/orthodoxmetrics/prod',\r\n        devPath: '/var/www/orthodmetrics/dev',\r\n        dryRun: false,\r\n        skipDatabase: false,\r\n        skipFiles: false,\r\n        force: false\r\n    });\r\n    \r\n    // History and logs\r\n    const [sessionHistory, setSessionHistory] = useState<SpinSession[]>([]);\r\n    const [historyPage, setHistoryPage] = useState(1);\r\n    const [historyTotal, setHistoryTotal] = useState(0);\r\n    const [selectedSession, setSelectedSession] = useState<string | null>(null);\r\n    const [sessionLogs, setSessionLogs] = useState<any[]>([]);\r\n    \r\n    // UI state\r\n    const [snackbar, setSnackbar] = useState({ open: false, message: '', severity: 'info' as 'success' | 'error' | 'warning' | 'info' });\r\n    const [refreshing, setRefreshing] = useState(false);\r\n    \r\n    // Real-time updates\r\n    const [eventSource, setEventSource] = useState<EventSource | null>(null);\r\n\r\n    // Load dashboard data\r\n    const loadDashboard = useCallback(async () => {\r\n        try {\r\n            setRefreshing(true);\r\n            const response = await apiClient.get('/api/admin/omai-spin/dashboard');\r\n            \r\n            if (response.data.success) {\r\n                const { recentSessions, statistics, activeOperations } = response.data.data;\r\n                setStats(statistics);\r\n                setRecentSessions(recentSessions);\r\n                setActiveOperations(activeOperations);\r\n            }\r\n        } catch (error) {\r\n            console.error('Error loading OMAI-Spin dashboard:', error);\r\n            setSnackbar({\r\n                open: true,\r\n                message: 'Failed to load dashboard data',\r\n                severity: 'error'\r\n            });\r\n        } finally {\r\n            setLoading(false);\r\n            setRefreshing(false);\r\n        }\r\n    }, []);\r\n\r\n    // Load session history\r\n    const loadSessionHistory = useCallback(async (page = 1) => {\r\n        try {\r\n            const response = await apiClient.get(`/api/admin/omai-spin/history?page=${page}&limit=10`);\r\n            \r\n            if (response.data.success) {\r\n                const { sessions, pagination } = response.data.data;\r\n                setSessionHistory(sessions);\r\n                setHistoryTotal(pagination.totalSessions);\r\n                setHistoryPage(page);\r\n            }\r\n        } catch (error) {\r\n            console.error('Error loading session history:', error);\r\n        }\r\n    }, []);\r\n\r\n    // Setup real-time updates\r\n    useEffect(() => {\r\n        const es = new EventSource('/api/admin/omai-spin/live-updates');\r\n        \r\n        es.onmessage = (event) => {\r\n            try {\r\n                const data = JSON.parse(event.data);\r\n                \r\n                switch (data.type) {\r\n                    case 'operationUpdate':\r\n                        // Update active operations\r\n                        setActiveOperations(prev => \r\n                            prev.map(op => \r\n                                op.sessionId === data.data.operationId \r\n                                    ? { ...op, ...data.data } \r\n                                    : op\r\n                            )\r\n                        );\r\n                        break;\r\n                    \r\n                    case 'operationComplete':\r\n                    case 'operationError':\r\n                        // Refresh dashboard when operation completes\r\n                        loadDashboard();\r\n                        if (activeTab === 1) {\r\n                            loadSessionHistory(historyPage);\r\n                        }\r\n                        break;\r\n                }\r\n            } catch (error) {\r\n                console.error('Error processing SSE event:', error);\r\n            }\r\n        };\r\n\r\n        es.onerror = (error) => {\r\n            console.error('SSE connection error:', error);\r\n        };\r\n\r\n        setEventSource(es);\r\n\r\n        return () => {\r\n            es.close();\r\n        };\r\n    }, [loadDashboard, loadSessionHistory, activeTab, historyPage]);\r\n\r\n    // Initialize\r\n    useEffect(() => {\r\n        loadDashboard();\r\n        loadSessionHistory();\r\n    }, [loadDashboard, loadSessionHistory]);\r\n\r\n    // Start operation\r\n    const handleStartOperation = async () => {\r\n        try {\r\n            const response = await apiClient.post('/api/admin/omai-spin/start', operationConfig);\r\n            \r\n            if (response.data.success) {\r\n                setSnackbar({\r\n                    open: true,\r\n                    message: 'OMAI-Spin operation started successfully',\r\n                    severity: 'success'\r\n                });\r\n                setShowStartDialog(false);\r\n                loadDashboard();\r\n            }\r\n        } catch (error: any) {\r\n            setSnackbar({\r\n                open: true,\r\n                message: error.response?.data?.error || 'Failed to start operation',\r\n                severity: 'error'\r\n            });\r\n        }\r\n    };\r\n\r\n    // Cancel operation\r\n    const handleCancelOperation = async (operationId: string) => {\r\n        try {\r\n            await apiClient.delete(`/api/admin/omai-spin/operation/${operationId}`);\r\n            setSnackbar({\r\n                open: true,\r\n                message: 'Operation cancelled',\r\n                severity: 'info'\r\n            });\r\n            loadDashboard();\r\n        } catch (error) {\r\n            setSnackbar({\r\n                open: true,\r\n                message: 'Failed to cancel operation',\r\n                severity: 'error'\r\n            });\r\n        }\r\n    };\r\n\r\n    // View session logs\r\n    const handleViewLogs = async (sessionId: string) => {\r\n        try {\r\n            const response = await apiClient.get(`/api/admin/omai-spin/session/${sessionId}/logs`);\r\n            if (response.data.success) {\r\n                setSessionLogs(response.data.data.logs);\r\n                setSelectedSession(sessionId);\r\n            }\r\n        } catch (error) {\r\n            setSnackbar({\r\n                open: true,\r\n                message: 'Failed to load session logs',\r\n                severity: 'error'\r\n            });\r\n        }\r\n    };\r\n\r\n    // Get status color and icon\r\n    const getStatusDisplay = (status: string) => {\r\n        switch (status) {\r\n            case 'completed':\r\n                return { color: 'success', icon: <SuccessIcon />, label: 'Completed' };\r\n            case 'failed':\r\n                return { color: 'error', icon: <ErrorIcon />, label: 'Failed' };\r\n            case 'in_progress':\r\n            case 'running':\r\n                return { color: 'primary', icon: <CircularProgress size={16} />, label: 'Running' };\r\n            case 'cancelled':\r\n                return { color: 'warning', icon: <WarningIcon />, label: 'Cancelled' };\r\n            default:\r\n                return { color: 'default', icon: <InfoIcon />, label: status };\r\n        }\r\n    };\r\n\r\n    const formatDuration = (seconds: number) => {\r\n        if (!seconds) return 'N/A';\r\n        const hours = Math.floor(seconds / 3600);\r\n        const minutes = Math.floor((seconds % 3600) / 60);\r\n        const secs = seconds % 60;\r\n        \r\n        if (hours > 0) {\r\n            return `${hours}h ${minutes}m ${secs}s`;\r\n        } else if (minutes > 0) {\r\n            return `${minutes}m ${secs}s`;\r\n        } else {\r\n            return `${secs}s`;\r\n        }\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"400px\">\r\n                <CircularProgress />\r\n            </Box>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <Box>\r\n            {/* Header */}\r\n            <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={3}>\r\n                <Box>\r\n                    <Typography variant=\"h4\" gutterBottom>\r\n                        OMAI-Spin Environment Mirroring\r\n                    </Typography>\r\n                    <Typography variant=\"body1\" color=\"textSecondary\">\r\n                        Safely replicate production environments for development use\r\n                    </Typography>\r\n                </Box>\r\n                <Box display=\"flex\" gap={2}>\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        startIcon={<StartIcon />}\r\n                        onClick={() => setShowStartDialog(true)}\r\n                        disabled={activeOperations.length > 0}\r\n                    >\r\n                        Start New Operation\r\n                    </Button>\r\n                    <Button\r\n                        variant=\"outlined\"\r\n                        startIcon={<RefreshIcon />}\r\n                        onClick={loadDashboard}\r\n                        disabled={refreshing}\r\n                    >\r\n                        Refresh\r\n                    </Button>\r\n                </Box>\r\n            </Box>\r\n\r\n            {/* Active Operations Alert */}\r\n            {activeOperations.length > 0 && (\r\n                <Alert severity=\"info\" sx={{ mb: 3 }}>\r\n                    <Typography variant=\"h6\">Active Operations</Typography>\r\n                    {activeOperations.map((operation) => (\r\n                        <Box key={operation.sessionId} mt={1}>\r\n                            <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\r\n                                <Typography variant=\"body2\">\r\n                                    {operation.currentStep} - {operation.progress}%\r\n                                </Typography>\r\n                                <Button\r\n                                    size=\"small\"\r\n                                    color=\"error\"\r\n                                    onClick={() => handleCancelOperation(operation.sessionId)}\r\n                                >\r\n                                    Cancel\r\n                                </Button>\r\n                            </Box>\r\n                            <LinearProgress \r\n                                variant=\"determinate\" \r\n                                value={operation.progress} \r\n                                sx={{ mt: 1 }}\r\n                            />\r\n                        </Box>\r\n                    ))}\r\n                </Alert>\r\n            )}\r\n\r\n            {/* Statistics Cards */}\r\n            <Grid container spacing={3} mb={3}>\r\n                <Grid item xs={12} md={3}>\r\n                    <Card>\r\n                        <CardContent>\r\n                            <Box display=\"flex\" alignItems=\"center\">\r\n                                <ServerIcon color=\"primary\" sx={{ mr: 2 }} />\r\n                                <Box>\r\n                                    <Typography variant=\"h4\">\r\n                                        {stats?.total_sessions || 0}\r\n                                    </Typography>\r\n                                    <Typography variant=\"body2\" color=\"textSecondary\">\r\n                                        Total Sessions\r\n                                    </Typography>\r\n                                </Box>\r\n                            </Box>\r\n                        </CardContent>\r\n                    </Card>\r\n                </Grid>\r\n                <Grid item xs={12} md={3}>\r\n                    <Card>\r\n                        <CardContent>\r\n                            <Box display=\"flex\" alignItems=\"center\">\r\n                                <SuccessIcon color=\"success\" sx={{ mr: 2 }} />\r\n                                <Box>\r\n                                    <Typography variant=\"h4\">\r\n                                        {stats?.completed_sessions || 0}\r\n                                    </Typography>\r\n                                    <Typography variant=\"body2\" color=\"textSecondary\">\r\n                                        Completed\r\n                                    </Typography>\r\n                                </Box>\r\n                            </Box>\r\n                        </CardContent>\r\n                    </Card>\r\n                </Grid>\r\n                <Grid item xs={12} md={3}>\r\n                    <Card>\r\n                        <CardContent>\r\n                            <Box display=\"flex\" alignItems=\"center\">\r\n                                <FilesIcon color=\"info\" sx={{ mr: 2 }} />\r\n                                <Box>\r\n                                    <Typography variant=\"h4\">\r\n                                        {stats?.total_files_copied || 0}\r\n                                    </Typography>\r\n                                    <Typography variant=\"body2\" color=\"textSecondary\">\r\n                                        Files Copied\r\n                                    </Typography>\r\n                                </Box>\r\n                            </Box>\r\n                        </CardContent>\r\n                    </Card>\r\n                </Grid>\r\n                <Grid item xs={12} md={3}>\r\n                    <Card>\r\n                        <CardContent>\r\n                            <Box display=\"flex\" alignItems=\"center\">\r\n                                <DatabaseIcon color=\"warning\" sx={{ mr: 2 }} />\r\n                                <Box>\r\n                                    <Typography variant=\"h4\">\r\n                                        {formatDuration(stats?.avg_duration || 0)}\r\n                                    </Typography>\r\n                                    <Typography variant=\"body2\" color=\"textSecondary\">\r\n                                        Avg Duration\r\n                                    </Typography>\r\n                                </Box>\r\n                            </Box>\r\n                        </CardContent>\r\n                    </Card>\r\n                </Grid>\r\n            </Grid>\r\n\r\n            {/* Tabs */}\r\n            <Box sx={{ borderBottom: 1, borderColor: 'divider', mb: 3 }}>\r\n                <Tabs value={activeTab} onChange={(e, newValue) => setActiveTab(newValue)}>\r\n                    <Tab label=\"Recent Sessions\" />\r\n                    <Tab label=\"Session History\" />\r\n                </Tabs>\r\n            </Box>\r\n\r\n            {/* Recent Sessions Tab */}\r\n            {activeTab === 0 && (\r\n                <Card>\r\n                    <CardContent>\r\n                        <Typography variant=\"h6\" gutterBottom>\r\n                            Recent Sessions\r\n                        </Typography>\r\n                        <TableContainer>\r\n                            <Table>\r\n                                <TableHead>\r\n                                    <TableRow>\r\n                                        <TableCell>Status</TableCell>\r\n                                        <TableCell>Started</TableCell>\r\n                                        <TableCell>Triggered By</TableCell>\r\n                                        <TableCell>Duration</TableCell>\r\n                                        <TableCell>Files</TableCell>\r\n                                        <TableCell>Actions</TableCell>\r\n                                    </TableRow>\r\n                                </TableHead>\r\n                                <TableBody>\r\n                                    {recentSessions.map((session) => {\r\n                                        const statusDisplay = getStatusDisplay(session.status);\r\n                                        return (\r\n                                            <TableRow key={session.id}>\r\n                                                <TableCell>\r\n                                                    <Chip\r\n                                                        icon={statusDisplay.icon}\r\n                                                        label={statusDisplay.label}\r\n                                                        color={statusDisplay.color as any}\r\n                                                        size=\"small\"\r\n                                                    />\r\n                                                </TableCell>\r\n                                                <TableCell>\r\n                                                    {new Date(session.timestamp).toLocaleString()}\r\n                                                </TableCell>\r\n                                                <TableCell>{session.triggered_by}</TableCell>\r\n                                                <TableCell>\r\n                                                    {formatDuration(session.duration_seconds)}\r\n                                                </TableCell>\r\n                                                <TableCell>\r\n                                                    <Typography variant=\"body2\">\r\n                                                        {session.total_files_copied} copied, {session.total_files_modified} modified\r\n                                                    </Typography>\r\n                                                </TableCell>\r\n                                                <TableCell>\r\n                                                    <Tooltip title=\"View Logs\">\r\n                                                        <IconButton\r\n                                                            size=\"small\"\r\n                                                            onClick={() => handleViewLogs(session.id.toString())}\r\n                                                        >\r\n                                                            <ViewIcon />\r\n                                                        </IconButton>\r\n                                                    </Tooltip>\r\n                                                </TableCell>\r\n                                            </TableRow>\r\n                                        );\r\n                                    })}\r\n                                </TableBody>\r\n                            </Table>\r\n                        </TableContainer>\r\n                    </CardContent>\r\n                </Card>\r\n            )}\r\n\r\n            {/* Session History Tab */}\r\n            {activeTab === 1 && (\r\n                <Card>\r\n                    <CardContent>\r\n                        <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={2}>\r\n                            <Typography variant=\"h6\">\r\n                                Session History\r\n                            </Typography>\r\n                            <Button\r\n                                variant=\"outlined\"\r\n                                size=\"small\"\r\n                                onClick={() => loadSessionHistory(historyPage)}\r\n                            >\r\n                                Refresh\r\n                            </Button>\r\n                        </Box>\r\n                        \r\n                        <TableContainer>\r\n                            <Table>\r\n                                <TableHead>\r\n                                    <TableRow>\r\n                                        <TableCell>Session ID</TableCell>\r\n                                        <TableCell>Status</TableCell>\r\n                                        <TableCell>Paths</TableCell>\r\n                                        <TableCell>Started</TableCell>\r\n                                        <TableCell>Duration</TableCell>\r\n                                        <TableCell>Statistics</TableCell>\r\n                                        <TableCell>Actions</TableCell>\r\n                                    </TableRow>\r\n                                </TableHead>\r\n                                <TableBody>\r\n                                    {sessionHistory.map((session) => {\r\n                                        const statusDisplay = getStatusDisplay(session.status);\r\n                                        return (\r\n                                            <TableRow key={session.id}>\r\n                                                <TableCell>\r\n                                                    <Typography variant=\"body2\" fontFamily=\"monospace\">\r\n                                                        {session.session_uuid.substring(0, 8)}...\r\n                                                    </Typography>\r\n                                                </TableCell>\r\n                                                <TableCell>\r\n                                                    <Chip\r\n                                                        icon={statusDisplay.icon}\r\n                                                        label={statusDisplay.label}\r\n                                                        color={statusDisplay.color as any}\r\n                                                        size=\"small\"\r\n                                                    />\r\n                                                </TableCell>\r\n                                                <TableCell>\r\n                                                    <Typography variant=\"body2\">\r\n                                                        {session.src_path}  {session.dest_path}\r\n                                                    </Typography>\r\n                                                </TableCell>\r\n                                                <TableCell>\r\n                                                    {new Date(session.timestamp).toLocaleString()}\r\n                                                </TableCell>\r\n                                                <TableCell>\r\n                                                    {formatDuration(session.duration_seconds)}\r\n                                                </TableCell>\r\n                                                <TableCell>\r\n                                                    <Typography variant=\"body2\">\r\n                                                         {session.total_files_copied} copied<br/>\r\n                                                         {session.databases_migrated?.length || 0} DBs\r\n                                                    </Typography>\r\n                                                </TableCell>\r\n                                                <TableCell>\r\n                                                    <Tooltip title=\"View Logs\">\r\n                                                        <IconButton\r\n                                                            size=\"small\"\r\n                                                            onClick={() => handleViewLogs(session.id.toString())}\r\n                                                        >\r\n                                                            <ViewIcon />\r\n                                                        </IconButton>\r\n                                                    </Tooltip>\r\n                                                </TableCell>\r\n                                            </TableRow>\r\n                                        );\r\n                                    })}\r\n                                </TableBody>\r\n                            </Table>\r\n                        </TableContainer>\r\n                        \r\n                        <Box display=\"flex\" justifyContent=\"center\" mt={2}>\r\n                            <Pagination\r\n                                count={Math.ceil(historyTotal / 10)}\r\n                                page={historyPage}\r\n                                onChange={(e, page) => loadSessionHistory(page)}\r\n                            />\r\n                        </Box>\r\n                    </CardContent>\r\n                </Card>\r\n            )}\r\n\r\n            {/* Start Operation Dialog */}\r\n            <Dialog open={showStartDialog} onClose={() => setShowStartDialog(false)} maxWidth=\"md\" fullWidth>\r\n                <DialogTitle>Start New OMAI-Spin Operation</DialogTitle>\r\n                <DialogContent>\r\n                    <Grid container spacing={2} sx={{ mt: 1 }}>\r\n                        <Grid item xs={12}>\r\n                            <TextField\r\n                                fullWidth\r\n                                label=\"Production Path\"\r\n                                value={operationConfig.prodPath}\r\n                                onChange={(e) => setOperationConfig(prev => ({ ...prev, prodPath: e.target.value }))}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <TextField\r\n                                fullWidth\r\n                                label=\"Development Path\"\r\n                                value={operationConfig.devPath}\r\n                                onChange={(e) => setOperationConfig(prev => ({ ...prev, devPath: e.target.value }))}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <FormControlLabel\r\n                                control={\r\n                                    <Switch\r\n                                        checked={operationConfig.dryRun}\r\n                                        onChange={(e) => setOperationConfig(prev => ({ ...prev, dryRun: e.target.checked }))}\r\n                                    />\r\n                                }\r\n                                label=\"Dry Run (Preview only)\"\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={6}>\r\n                            <FormControlLabel\r\n                                control={\r\n                                    <Switch\r\n                                        checked={operationConfig.skipDatabase}\r\n                                        onChange={(e) => setOperationConfig(prev => ({ ...prev, skipDatabase: e.target.checked }))}\r\n                                    />\r\n                                }\r\n                                label=\"Skip Database\"\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={6}>\r\n                            <FormControlLabel\r\n                                control={\r\n                                    <Switch\r\n                                        checked={operationConfig.skipFiles}\r\n                                        onChange={(e) => setOperationConfig(prev => ({ ...prev, skipFiles: e.target.checked }))}\r\n                                    />\r\n                                }\r\n                                label=\"Skip Files\"\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <FormControlLabel\r\n                                control={\r\n                                    <Switch\r\n                                        checked={operationConfig.force}\r\n                                        onChange={(e) => setOperationConfig(prev => ({ ...prev, force: e.target.checked }))}\r\n                                    />\r\n                                }\r\n                                label=\"Force (Skip confirmations)\"\r\n                            />\r\n                        </Grid>\r\n                    </Grid>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={() => setShowStartDialog(false)}>Cancel</Button>\r\n                    <Button onClick={handleStartOperation} variant=\"contained\">\r\n                        Start Operation\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n\r\n            {/* Session Logs Dialog */}\r\n            <Dialog \r\n                open={!!selectedSession} \r\n                onClose={() => setSelectedSession(null)} \r\n                maxWidth=\"lg\" \r\n                fullWidth\r\n            >\r\n                <DialogTitle>Session Logs</DialogTitle>\r\n                <DialogContent>\r\n                    <Box sx={{ maxHeight: '600px', overflow: 'auto' }}>\r\n                        {sessionLogs.map((log, index) => (\r\n                            <Box\r\n                                key={index}\r\n                                sx={{\r\n                                    fontFamily: 'monospace',\r\n                                    fontSize: '0.875rem',\r\n                                    mb: 1,\r\n                                    p: 1,\r\n                                    backgroundColor: log.log_level === 'error' ? 'error.light' : \r\n                                                   log.log_level === 'warn' ? 'warning.light' : 'background.paper',\r\n                                    borderRadius: 1\r\n                                }}\r\n                            >\r\n                                <Typography variant=\"caption\" color=\"textSecondary\">\r\n                                    [{new Date(log.timestamp).toLocaleTimeString()}] [{log.log_level}] [{log.component}]\r\n                                </Typography>\r\n                                <Typography variant=\"body2\" component=\"div\">\r\n                                    {log.message}\r\n                                </Typography>\r\n                            </Box>\r\n                        ))}\r\n                    </Box>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={() => setSelectedSession(null)}>Close</Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n\r\n            {/* Snackbar */}\r\n            <Snackbar\r\n                open={snackbar.open}\r\n                autoHideDuration={6000}\r\n                onClose={() => setSnackbar(prev => ({ ...prev, open: false }))}\r\n            >\r\n                <Alert \r\n                    onClose={() => setSnackbar(prev => ({ ...prev, open: false }))} \r\n                    severity={snackbar.severity}\r\n                >\r\n                    {snackbar.message}\r\n                </Alert>\r\n            </Snackbar>\r\n        </Box>\r\n    );\r\n};\r\n\r\nexport default OmaiSpinSettings;","// src/services/adminService.ts\nimport axios from 'axios';\n\nconst API_BASE_URL = '/api';\n\n// Types for system information\nexport interface SystemInfo {\n    // System Information\n    nodeVersion: string;\n    uptime: string;\n    uptimeSeconds: number;\n    hostname: string;\n    memory: number;\n    platform: string;\n    arch: string;\n    \n    // Application Settings\n    env: string;\n    version: string;\n    dateFormat: string;\n    language: string;\n    churchCount: number;\n    \n    // Additional system details\n    totalMemory: number;\n    freeMemory: number;\n    cpuCount: number;\n    loadAverage: string;\n}\n\nexport interface SystemInfoResponse {\n    success: boolean;\n    data: SystemInfo;\n    message?: string;\n    error?: string;\n}\n\n/**\n * Get system information including server details and application settings\n */\nexport const getSystemInfo = async (): Promise<SystemInfo> => {\n    try {\n        const response = await axios.get<SystemInfoResponse>(`${API_BASE_URL}/admin/system/system-info`);\n        \n        if (response.data.success) {\n            return response.data.data;\n        } else {\n            throw new Error(response.data.message || 'Failed to fetch system information');\n        }\n    } catch (error) {\n        console.error('Error fetching system information:', error);\n        throw error;\n    }\n};\n\n/**\n * Format memory value to display with appropriate unit\n */\nexport const formatMemory = (memoryMB: number): string => {\n    if (memoryMB < 1024) {\n        return `${memoryMB} MB`;\n    } else {\n        return `${(memoryMB / 1024).toFixed(1)} GB`;\n    }\n};\n\n/**\n * Get memory usage percentage\n */\nexport const getMemoryUsagePercentage = (used: number, total: number): number => {\n    return Math.round((used / total) * 100);\n};\n\n/**\n * Format platform name for display\n */\nexport const formatPlatform = (platform: string): string => {\n    const platformMap: { [key: string]: string } = {\n        'win32': 'Windows',\n        'darwin': 'macOS',\n        'linux': 'Linux',\n        'freebsd': 'FreeBSD',\n        'openbsd': 'OpenBSD'\n    };\n    \n    return platformMap[platform] || platform;\n};\n\n/**\n * Format architecture for display\n */\nexport const formatArchitecture = (arch: string): string => {\n    const archMap: { [key: string]: string } = {\n        'x64': 'x86_64',\n        'ia32': 'x86',\n        'arm': 'ARM',\n        'arm64': 'ARM64'\n    };\n    \n    return archMap[arch] || arch;\n};\n\n/**\n * Get environment display name\n */\nexport const getEnvironmentDisplayName = (env: string): string => {\n    return env.charAt(0).toUpperCase() + env.slice(1);\n};\nexport default getSystemInfo;\n","import React, { useState, useEffect } from 'react';\r\nimport {\r\n    Box,\r\n    Typography,\r\n    Alert,\r\n    Card,\r\n    CardContent,\r\n    Tab,\r\n    Tabs,\r\n    Stack,\r\n    Button,\r\n    CircularProgress,\r\n    Chip,\r\n    LinearProgress,\r\n    Divider\r\n} from '@mui/material';\r\nimport {\r\n    IconSettings,\r\n    IconDatabase,\r\n    IconShield,\r\n    IconServer,\r\n    IconCpu,\r\n    IconDeviceDesktop,\r\n    IconClock,\r\n    IconDatabaseExport,\r\n    IconUsers,\r\n    IconVersions,\r\n    IconWorld,\r\n    IconCalendar,\r\n    IconPhoto,\r\n    IconActivity,\r\n    IconBook,\r\n    IconMail,\r\n    IconCopy\r\n} from '@tabler/icons-react';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport BackupSettings from '@/features/system/settings/BackupSettings';\r\nimport ContentSettings from '@/features/cms/settings/ContentSettings';\r\nimport ServiceManagement from '@/features/misc-legacy/settings/ServiceManagement';\r\nimport NotificationManagement from '@/components/admin/NotificationManagement';\r\nimport OMBigBook from '@/components/admin/OMBigBook';\r\nimport ComponentManager from './components/ComponentManager';\r\nimport OmaiSpinSettings from './OmaiSpinSettings';\r\nimport PageContainer from '@/shared/ui/PageContainer';\r\nimport Breadcrumb from '@/layouts/full/shared/breadcrumb/Breadcrumb';\r\nimport getSystemInfo, { \r\n    formatMemory, \r\n    getMemoryUsagePercentage, \r\n    formatPlatform, \r\n    formatArchitecture, \r\n    getEnvironmentDisplayName \r\n} from '@/shared/lib/adminService';\r\n\r\ninterface TabPanelProps {\r\n    children?: React.ReactNode;\r\n    index: number;\r\n    value: number;\r\n}\r\n\r\nfunction TabPanel(props: TabPanelProps) {\r\n    const { children, value, index, ...other } = props;\r\n\r\n    return (\r\n        <div\r\n            role=\"tabpanel\"\r\n            hidden={value !== index}\r\n            id={`admin-settings-tabpanel-${index}`}\r\n            aria-labelledby={`admin-settings-tab-${index}`}\r\n            {...other}\r\n        >\r\n            {value === index && (\r\n                <Box sx={{ p: 3 }}>\r\n                    {children}\r\n                </Box>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nconst AdminSettings: React.FC = () => {\r\n    const { isSuperAdmin, hasRole, user } = useAuth();\r\n    const [tabValue, setTabValue] = useState(0);\r\n    const [systemInfo, setSystemInfo] = useState<SystemInfo | null>(null);\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState<string | null>(null);\r\n\r\n\r\n\r\n    // Fetch system information when General tab is active\r\n    useEffect(() => {\r\n        if (tabValue === 0) {\r\n            fetchSystemInfo();\r\n        }\r\n    }, [tabValue]);\r\n\r\n    const fetchSystemInfo = async () => {\r\n        setLoading(true);\r\n        setError(null);\r\n        \r\n        try {\r\n            const data = await getSystemInfo();\r\n            setSystemInfo(data);\r\n        } catch (err: any) {\r\n            setError(err.response?.data?.message || err.message || 'Failed to load system information');\r\n            console.error('Error fetching system info:', err);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleTabChange = (_event: React.SyntheticEvent, newValue: number) => {\r\n        setTabValue(newValue);\r\n    };\r\n\r\n    const BCrumb = [\r\n        { to: '/', title: 'Home' },\r\n        { to: '/admin', title: 'Admin' },\r\n        { title: 'Settings' },\r\n    ];\r\n\r\n    return (\r\n        <PageContainer title=\"Admin Settings\" description=\"Administrative settings for the Orthodox Metrics system\">\r\n            <Breadcrumb title=\"Admin Settings\" items={BCrumb} />\r\n            <Box p={3}>\r\n                <Box display=\"flex\" alignItems=\"center\" mb={3}>\r\n                    <IconSettings size=\"24\" style={{ marginRight: 8 }} />\r\n                    <Typography variant=\"h4\">Admin Settings</Typography>\r\n                </Box>\r\n\r\n                <Card>\r\n                    <Box sx={{ \r\n                        borderBottom: 1, \r\n                        borderColor: 'divider',\r\n                        // Mobile-friendly scrollable tabs container\r\n                        '& .MuiTabs-root': {\r\n                            minHeight: 'auto',\r\n                        },\r\n                        '& .MuiTabs-flexContainer': {\r\n                            gap: { xs: 0, sm: 1 }\r\n                        },\r\n                        '& .MuiTab-root': {\r\n                            minWidth: { xs: 'auto', sm: 160 },\r\n                            fontSize: { xs: '0.75rem', sm: '0.875rem' },\r\n                            padding: { xs: '8px 12px', sm: '12px 16px' },\r\n                            whiteSpace: 'nowrap',\r\n                            '& .MuiTab-iconWrapper': {\r\n                                fontSize: { xs: '1.1rem', sm: '1.25rem' },\r\n                                marginBottom: { xs: '2px', sm: '4px' }\r\n                            }\r\n                        }\r\n                    }}>\r\n                        <Tabs \r\n                            value={tabValue} \r\n                            onChange={handleTabChange} \r\n                            aria-label=\"admin settings tabs\"\r\n                            variant=\"scrollable\"\r\n                            scrollButtons=\"auto\"\r\n                            allowScrollButtonsMobile\r\n                            sx={{\r\n                                '& .MuiTabs-scrollButtons': {\r\n                                    '&.Mui-disabled': { opacity: 0.3 }\r\n                                },\r\n                                '& .MuiTabs-indicator': {\r\n                                    height: 3\r\n                                }\r\n                            }}\r\n                        >\r\n                            <Tab\r\n                                icon={<IconServer />}\r\n                                label=\"General\"\r\n                                id=\"admin-settings-tab-0\"\r\n                                aria-controls=\"admin-settings-tabpanel-0\"\r\n                            />\r\n                            <Tab\r\n                                icon={<IconDatabase />}\r\n                                label=\"Backup & Restore\"\r\n                                id=\"admin-settings-tab-1\"\r\n                                aria-controls=\"admin-settings-tabpanel-1\"\r\n                            />\r\n                            <Tab\r\n                                icon={<IconShield />}\r\n                                label=\"Security\"\r\n                                id=\"admin-settings-tab-2\"\r\n                                aria-controls=\"admin-settings-tabpanel-2\"\r\n                            />\r\n                            <Tab\r\n                                icon={<IconMail />}\r\n                                label=\"Notifications\"\r\n                                id=\"admin-settings-tab-3\"\r\n                                aria-controls=\"admin-settings-tabpanel-3\"\r\n                            />\r\n                            <Tab\r\n                                icon={<IconPhoto />}\r\n                                label=\"Content\"\r\n                                id=\"admin-settings-tab-4\"\r\n                                aria-controls=\"admin-settings-tabpanel-4\"\r\n                            />\r\n                            <Tab\r\n                                icon={<IconActivity />}\r\n                                label=\"Services\"\r\n                                id=\"admin-settings-tab-5\"\r\n                                aria-controls=\"admin-settings-tabpanel-5\"\r\n                            />\r\n                            <Tab\r\n                                icon={<IconBook />}\r\n                                label=\"OM Big Book\"\r\n                                id=\"admin-settings-tab-6\"\r\n                                aria-controls=\"admin-settings-tabpanel-6\"\r\n                            />\r\n                            <Tab\r\n                                icon={<IconCpu />}\r\n                                label=\"Components\"\r\n                                id=\"admin-settings-tab-7\"\r\n                                aria-controls=\"admin-settings-tabpanel-7\"\r\n                            />\r\n                            <Tab\r\n                                icon={<IconCopy />}\r\n                                label=\"OMAI Spin\"\r\n                                id=\"admin-settings-tab-8\"\r\n                                aria-controls=\"admin-settings-tabpanel-8\"\r\n                            />\r\n                        </Tabs>\r\n                    </Box>\r\n\r\n                    <TabPanel value={tabValue} index={0}>\r\n                        <Typography variant=\"h6\" gutterBottom>\r\n                            General Settings\r\n                        </Typography>\r\n\r\n                        {loading && (\r\n                            <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" py={4}>\r\n                                <CircularProgress />\r\n                                <Typography variant=\"body2\" sx={{ ml: 2 }}>\r\n                                    Loading system information...\r\n                                </Typography>\r\n                            </Box>\r\n                        )}\r\n\r\n                        {error && (\r\n                            <Alert severity=\"error\" sx={{ mb: 3 }} action={\r\n                                <Button color=\"inherit\" size=\"small\" onClick={fetchSystemInfo}>\r\n                                    Retry\r\n                                </Button>\r\n                            }>\r\n                                {error}\r\n                            </Alert>\r\n                        )}\r\n\r\n                        {!loading && !error && systemInfo && (\r\n                            <Stack spacing={3}>\r\n                                {/* System Information Section */}\r\n                                <Card variant=\"outlined\">\r\n                                    <CardContent>\r\n                                        <Box display=\"flex\" alignItems=\"center\" mb={2}>\r\n                                            <IconServer size={24} style={{ marginRight: 8, color: '#1976d2' }} />\r\n                                            <Typography variant=\"h6\">\r\n                                                System Information\r\n                                            </Typography>\r\n                                        </Box>\r\n                                        \r\n                                        <Stack spacing={2}>\r\n                                            <Stack direction={{ xs: 'column', sm: 'row' }} spacing={3}>\r\n                                                <Box flex={1}>\r\n                                                    <Box display=\"flex\" alignItems=\"center\" mb={1}>\r\n                                                        <IconVersions size={16} style={{ marginRight: 8 }} />\r\n                                                        <Typography variant=\"body2\" color=\"text.secondary\">\r\n                                                            Node.js Version\r\n                                                        </Typography>\r\n                                                    </Box>\r\n                                                    <Typography variant=\"body1\" fontWeight={500}>\r\n                                                        {systemInfo.nodeVersion}\r\n                                                    </Typography>\r\n                                                </Box>\r\n                                                <Box flex={1}>\r\n                                                    <Box display=\"flex\" alignItems=\"center\" mb={1}>\r\n                                                        <IconClock size={16} style={{ marginRight: 8 }} />\r\n                                                        <Typography variant=\"body2\" color=\"text.secondary\">\r\n                                                            Server Uptime\r\n                                                        </Typography>\r\n                                                    </Box>\r\n                                                    <Typography variant=\"body1\" fontWeight={500}>\r\n                                                        {systemInfo.uptime}\r\n                                                    </Typography>\r\n                                                </Box>\r\n                                                <Box flex={1}>\r\n                                                    <Box display=\"flex\" alignItems=\"center\" mb={1}>\r\n                                                        <IconDeviceDesktop size={16} style={{ marginRight: 8 }} />\r\n                                                        <Typography variant=\"body2\" color=\"text.secondary\">\r\n                                                            Hostname\r\n                                                        </Typography>\r\n                                                    </Box>\r\n                                                    <Typography variant=\"body1\" fontWeight={500}>\r\n                                                        {systemInfo.hostname}\r\n                                                    </Typography>\r\n                                                </Box>\r\n                                            </Stack>\r\n                                            \r\n                                            <Stack direction={{ xs: 'column', sm: 'row' }} spacing={3}>\r\n                                                <Box flex={1}>\r\n                                                    <Box display=\"flex\" alignItems=\"center\" mb={1}>\r\n                                                        <IconDatabaseExport size={16} style={{ marginRight: 8 }} />\r\n                                                        <Typography variant=\"body2\" color=\"text.secondary\">\r\n                                                            Memory Usage\r\n                                                        </Typography>\r\n                                                    </Box>\r\n                                                    <Typography variant=\"body1\" fontWeight={500}>\r\n                                                        {formatMemory(systemInfo.memory)} / {formatMemory(systemInfo.totalMemory)}\r\n                                                    </Typography>\r\n                                                    <LinearProgress\r\n                                                        variant=\"determinate\"\r\n                                                        value={getMemoryUsagePercentage(systemInfo.memory, systemInfo.totalMemory)}\r\n                                                        sx={{ mt: 1, height: 6, borderRadius: 1 }}\r\n                                                    />\r\n                                                    <Typography variant=\"caption\" color=\"text.secondary\">\r\n                                                        {getMemoryUsagePercentage(systemInfo.memory, systemInfo.totalMemory)}% used\r\n                                                    </Typography>\r\n                                                </Box>\r\n                                                <Box flex={1}>\r\n                                                    <Box display=\"flex\" alignItems=\"center\" mb={1}>\r\n                                                        <IconDeviceDesktop size={16} style={{ marginRight: 8 }} />\r\n                                                        <Typography variant=\"body2\" color=\"text.secondary\">\r\n                                                            Platform\r\n                                                        </Typography>\r\n                                                    </Box>\r\n                                                    <Typography variant=\"body1\" fontWeight={500}>\r\n                                                        {formatPlatform(systemInfo.platform)} ({formatArchitecture(systemInfo.arch)})\r\n                                                    </Typography>\r\n                                                </Box>\r\n                                                <Box flex={1}>\r\n                                                    <Box display=\"flex\" alignItems=\"center\" mb={1}>\r\n                                                        <IconCpu size={16} style={{ marginRight: 8 }} />\r\n                                                        <Typography variant=\"body2\" color=\"text.secondary\">\r\n                                                            CPU Cores / Load\r\n                                                        </Typography>\r\n                                                    </Box>\r\n                                                    <Typography variant=\"body1\" fontWeight={500}>\r\n                                                        {systemInfo.cpuCount} cores / {systemInfo.loadAverage}%\r\n                                                    </Typography>\r\n                                                </Box>\r\n                                            </Stack>\r\n                                        </Stack>\r\n                                    </CardContent>\r\n                                </Card>\r\n\r\n                                {/* Application Settings Section */}\r\n                                <Card variant=\"outlined\">\r\n                                    <CardContent>\r\n                                        <Box display=\"flex\" alignItems=\"center\" mb={2}>\r\n                                            <IconSettings size={24} style={{ marginRight: 8, color: '#2e7d32' }} />\r\n                                            <Typography variant=\"h6\">\r\n                                                Application Settings\r\n                                            </Typography>\r\n                                        </Box>\r\n                                        \r\n                                        <Stack spacing={2}>\r\n                                            <Stack direction={{ xs: 'column', sm: 'row' }} spacing={3}>\r\n                                                <Box flex={1}>\r\n                                                    <Box display=\"flex\" alignItems=\"center\" mb={1}>\r\n                                                        <IconDatabase size={16} style={{ marginRight: 8 }} />\r\n                                                        <Typography variant=\"body2\" color=\"text.secondary\">\r\n                                                            Environment\r\n                                                        </Typography>\r\n                                                    </Box>\r\n                                                    <Chip \r\n                                                        label={getEnvironmentDisplayName(systemInfo.env)}\r\n                                                        color={systemInfo.env === 'production' ? 'success' : 'warning'}\r\n                                                        size=\"small\"\r\n                                                    />\r\n                                                </Box>\r\n                                                <Box flex={1}>\r\n                                                    <Box display=\"flex\" alignItems=\"center\" mb={1}>\r\n                                                        <IconVersions size={16} style={{ marginRight: 8 }} />\r\n                                                        <Typography variant=\"body2\" color=\"text.secondary\">\r\n                                                            OrthodoxMetrics Version\r\n                                                        </Typography>\r\n                                                    </Box>\r\n                                                    <Typography variant=\"body1\" fontWeight={500}>\r\n                                                        v{systemInfo.version}\r\n                                                    </Typography>\r\n                                                </Box>\r\n                                                <Box flex={1}>\r\n                                                    <Box display=\"flex\" alignItems=\"center\" mb={1}>\r\n                                                        <IconCalendar size={16} style={{ marginRight: 8 }} />\r\n                                                        <Typography variant=\"body2\" color=\"text.secondary\">\r\n                                                            Date Format\r\n                                                        </Typography>\r\n                                                    </Box>\r\n                                                    <Typography variant=\"body1\" fontWeight={500}>\r\n                                                        {systemInfo.dateFormat}\r\n                                                    </Typography>\r\n                                                </Box>\r\n                                            </Stack>\r\n                                            \r\n                                            <Stack direction={{ xs: 'column', sm: 'row' }} spacing={3}>\r\n                                                <Box flex={1}>\r\n                                                    <Box display=\"flex\" alignItems=\"center\" mb={1}>\r\n                                                        <IconWorld size={16} style={{ marginRight: 8 }} />\r\n                                                        <Typography variant=\"body2\" color=\"text.secondary\">\r\n                                                            Default Language\r\n                                                        </Typography>\r\n                                                    </Box>\r\n                                                    <Typography variant=\"body1\" fontWeight={500}>\r\n                                                        English ({systemInfo.language.toUpperCase()})\r\n                                                    </Typography>\r\n                                                </Box>\r\n                                                <Box flex={1}>\r\n                                                    <Box display=\"flex\" alignItems=\"center\" mb={1}>\r\n                                                        <IconUsers size={16} style={{ marginRight: 8 }} />\r\n                                                        <Typography variant=\"body2\" color=\"text.secondary\">\r\n                                                            Churches in System\r\n                                                        </Typography>\r\n                                                    </Box>\r\n                                                    <Typography variant=\"body1\" fontWeight={500}>\r\n                                                        {systemInfo.churchCount} {systemInfo.churchCount === 1 ? 'church' : 'churches'}\r\n                                                    </Typography>\r\n                                                </Box>\r\n                                                <Box flex={1}>\r\n                                                    <Box display=\"flex\" alignItems=\"center\" mb={1}>\r\n                                                        <IconDatabaseExport size={16} style={{ marginRight: 8 }} />\r\n                                                        <Typography variant=\"body2\" color=\"text.secondary\">\r\n                                                            Free Memory\r\n                                                        </Typography>\r\n                                                    </Box>\r\n                                                    <Typography variant=\"body1\" fontWeight={500}>\r\n                                                        {formatMemory(systemInfo.freeMemory)} available\r\n                                                    </Typography>\r\n                                                </Box>\r\n                                            </Stack>\r\n                                        </Stack>\r\n\r\n                                        <Divider sx={{ my: 2 }} />\r\n\r\n                                        <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\r\n                                            <Typography variant=\"body2\" color=\"text.secondary\">\r\n                                                Last updated: {new Date().toLocaleString()}\r\n                                            </Typography>\r\n                                            <Button\r\n                                                variant=\"outlined\"\r\n                                                size=\"small\"\r\n                                                onClick={fetchSystemInfo}\r\n                                                disabled={loading}\r\n                                            >\r\n                                                Refresh\r\n                                            </Button>\r\n                                        </Box>\r\n                                    </CardContent>\r\n                                </Card>\r\n                            </Stack>\r\n                        )}\r\n                    </TabPanel>\r\n\r\n                    <TabPanel value={tabValue} index={1}>\r\n                        <BackupSettings />\r\n                    </TabPanel>\r\n\r\n                    <TabPanel value={tabValue} index={2}>\r\n                        <Typography variant=\"h6\" gutterBottom>\r\n                            Security Settings\r\n                        </Typography>\r\n                        <Alert severity=\"info\" sx={{ mb: 3 }}>\r\n                            Security settings are under development.\r\n                        </Alert>\r\n                        <Stack direction={{ xs: 'column', md: 'row' }} spacing={3}>\r\n                            <Card variant=\"outlined\" sx={{ flex: 1 }}>\r\n                                <CardContent>\r\n                                    <Typography variant=\"h6\" gutterBottom>\r\n                                        Password Policy\r\n                                    </Typography>\r\n                                    <Typography variant=\"body2\" color=\"text.secondary\">\r\n                                        Configure password requirements and policies.\r\n                                    </Typography>\r\n                                </CardContent>\r\n                            </Card>\r\n                            <Card variant=\"outlined\" sx={{ flex: 1 }}>\r\n                                <CardContent>\r\n                                    <Typography variant=\"h6\" gutterBottom>\r\n                                        Session Management\r\n                                    </Typography>\r\n                                    <Typography variant=\"body2\" color=\"text.secondary\">\r\n                                        Configure session timeout and security settings.\r\n                                    </Typography>\r\n                                </CardContent>\r\n                            </Card>\r\n                        </Stack>\r\n                    </TabPanel>\r\n\r\n                    <TabPanel value={tabValue} index={3}>\r\n                        <NotificationManagement />\r\n                    </TabPanel>\r\n\r\n                    <TabPanel value={tabValue} index={4}>\r\n                        <ContentSettings />\r\n                    </TabPanel>\r\n\r\n                    <TabPanel value={tabValue} index={5}>\r\n                        <ServiceManagement />\r\n                    </TabPanel>\r\n\r\n                    <TabPanel value={tabValue} index={6}>\r\n                        <OMBigBook />\r\n                    </TabPanel>\r\n\r\n                    <TabPanel value={tabValue} index={7}>\r\n                        <ComponentManager />\r\n                    </TabPanel>\r\n\r\n                    <TabPanel value={tabValue} index={8}>\r\n                        <OmaiSpinSettings />\r\n                    </TabPanel>\r\n                </Card>\r\n            </Box>\r\n        </PageContainer>\r\n    );\r\n};\r\n\r\nexport default AdminSettings;\r\n"],"names":["__iconNode","IconBrandGravatar","createReactComponent","IconCircleCheck","IconCircleX","IconDatabaseExport","IconPlayerStop","IconRotate","IconTarget","IconTestPipe","IconVersions","IconWorld","FilesIcon","createSvgIcon","_jsx","getPickersToolbarTextUtilityClass","slot","generateUtilityClass","pickersToolbarTextClasses","generateUtilityClasses","_excluded","useUtilityClasses","ownerState","classes","selected","composeClasses","PickersToolbarTextRoot","styled","Typography","_","styles","theme","PickersToolbarText","React.forwardRef","inProps","ref","props","useThemeProps","className","value","other","_objectWithoutPropertiesLoose","_extends","clsx","getPickersToolbarUtilityClass","PickersToolbarButtonRoot","Button","PickersToolbarButton","align","typographyClassName","variant","width","validateTime","adapter","minTime","maxTime","minutesStep","shouldDisableClock","shouldDisableTime","disableIgnoringDatePartForTimeValidation","disablePast","disableFuture","timezone","now","isAfter","createIsAfterIgnoreDatePart","validateDateTime","dateValidationResult","validateDate","BackupSettings","user","useAuth","activeTab","setActiveTab","useState","settings","setSettings","backupFiles","setBackupFiles","loading","setLoading","saving","setSaving","backupInProgress","setBackupInProgress","alert","setAlert","deleteDialogOpen","setDeleteDialogOpen","selectedBackup","setSelectedBackup","storageInfo","setStorageInfo","scheduleOptions","useEffect","loadBackupSettings","loadBackupFiles","loadStorageInfo","__async","error","saveSettings","runBackup","type","downloadBackup","backupId","deleteBackup","formatFileSize","bytes","k","sizes","i","formatDate","dateString","getBackupTypeColor","usagePercentage","backupPercentage","handleTabChange","newValue","Box","jsx","Alert","BlankCard","jsxs","CardContent","Tabs","Tab","Grid","Stack","StorageIcon","IconButton","RefreshIcon","LinearProgress","SettingsIcon","FormControlLabel","Switch","e","__spreadProps","__spreadValues","FormControl","InputLabel","Select","option","MenuItem","TextField","Divider","CircularProgress","BackupIcon","DatabaseIcon","FolderIcon","ExportIcon","List","backup","ListItem","ListItemText","Chip","ListItemSecondaryAction","Tooltip","DownloadIcon","DeleteIcon","Dialog","DialogTitle","DialogContent","DialogActions","ImageGridExtractor","open","onClose","onImagesExtracted","sourceImage","setSourceImage","extractedImages","setExtractedImages","isProcessing","setIsProcessing","setError","gridSize","setGridSize","canvasRef","useRef","fileInputRef","handleImageUpload","event","file","_a","imageUrl","extractImages","img","canvas","ctx","imageWidth","imageHeight","targetSize","targetWidth","targetHeight","imageCount","row","col","sx","sy","blob","imageName","a","b","err","downloadImage","image","link","downloadAllImages","index","handleUseImages","imagesToUpload","base64","blobToBase64","response","result","errorMessage","resolve","reject","reader","handleClose","getGridSizeOptions","IconLayoutGrid","IconX","Card","IconUpload","IconDownload","IconPhoto","ContentSettings","isSuperAdmin","globalImages","setGlobalImages","uploadDialogOpen","setUploadDialogOpen","uploadType","setUploadType","uploading","setUploading","selectedFile","setSelectedFile","setImageName","gridExtractorOpen","setGridExtractorOpen","gridExtractorType","setGridExtractorType","snackbarOpen","setSnackbarOpen","snackbarMessage","setSnackbarMessage","selectedContentType","setSelectedContentType","directories","setDirectories","directoryDialogOpen","setDirectoryDialogOpen","newDirectory","setNewDirectory","scanningDirectory","setScanningDirectory","fetchGlobalImages","fetchDirectories","adminAPI","images","_b","handleFileSelect","allowedTypes","allowed","maxSize","handleUpload","formData","prev","handleDelete","imageType","getImageRequirements","requirements","handleAddDirectory","handleScanDirectory","directory","_c","handleDeleteDirectory","handleToggleDirectory","updated","getContentTypeIcon","IconMoodSmile","filteredImages","handleImagesExtracted","Fragment","IconFilter","IconFolderPlus","IconRefresh","dir","IconFolder","IconTrash","IconEye","Snackbar","ServiceManagement","services","setServices","systemHealth","setSystemHealth","autoRefresh","setAutoRefresh","confirmDialog","setConfirmDialog","loadServices","interval","handleServiceAction","serviceName","action","getStatusIcon","status","IconCheck","IconAlertTriangle","IconHelp","getStatusColor","getHealthColor","health","TableContainer","Table","TableHead","TableRow","TableCell","TableBody","service","IconPlayerPlay","useDefaultizedDateTimeField","_props$ampm","_props$disablePast","_props$disableFuture","_props$format","_props$minDateTime","_props$maxDateTime","_props$minDateTime2","_props$maxDateTime2","utils","useUtils","defaultDates","useDefaultDates","defaultFormat","applyDefaultDate","useDateTimeField","inputRef","forwardedProps","internalProps","splitFieldInternalAndForwardedProps","useField","singleItemValueManager","singleItemFieldValueManager","_excluded2","_excluded3","DateTimeField","_ref","_slots$textField","_slotProps$textField","themeProps","components","componentsProps","slots","slotProps","InputProps","inputProps","MuiTextField","_useSlotProps","useSlotProps","externalInputRef","textFieldProps","_useDateTimeField","onPaste","onKeyDown","inputMode","readOnly","clearable","onClear","fieldProps","ProcessedInputProps","processedFieldProps","useClearableField","getDateTimePickerTabsUtilityClass","viewToTab","view","isDatePickerView","tabToView","tab","DateTimePickerTabsRoot","tabsClasses","DateTimePickerTabs","dateIcon","DateRangeIcon","onViewChange","timeIcon","TimeIcon","hidden","localeText","useLocaleText","handleChange","React.Fragment","getDateTimePickerToolbarUtilityClass","dateTimePickerToolbarClasses","isLandscape","DateTimePickerToolbarRoot","PickersToolbar","PropTypes","DateTimePickerToolbarDateContainer","DateTimePickerToolbarTimeContainer","direction","DateTimePickerToolbarTimeDigitsContainer","DateTimePickerToolbarSeparator","DateTimePickerToolbarAmPmSelection","DateTimePickerToolbar","ampm","ampmInClock","onChange","toolbarFormat","toolbarPlaceholder","views","disabled","toolbarVariant","meridiemMode","handleMeridiemChange","useMeridiemMode","showAmPmControl","isDesktop","useTheme","formatHours","time","dateText","React.useMemo","_jsxs","MULTI_SECTION_CLOCK_SECTION_WIDTH","formatMeridiem","useDateTimePickerDefaultizedProps","name","_themeProps$ampm","_themeProps$slots","_themeProps$slotProps","_themeProps$orientati","_themeProps$disableIg","_themeProps$disableFu","_themeProps$disablePa","_themeProps$minDateTi","_themeProps$maxDateTi","_themeProps$minDateTi2","_themeProps$maxDateTi2","_themeProps$localeTex","uncapitalizeObjectKeys","applyDefaultViewProps","getMultiSectionDigitalClockUtilityClass","getMultiSectionDigitalClockSectionUtilityClass","multiSectionDigitalClockSectionClasses","MultiSectionDigitalClockSectionRoot","MenuList","DIGITAL_CLOCK_VIEW_HEIGHT","MultiSectionDigitalClockSectionItem","alpha","MultiSectionDigitalClockSection","_slots$digitalClockSe","containerRef","React.useRef","handleRef","useForkRef","previousActive","autoFocus","items","active","skipDisabled","DigitalClockSectionItem","React.useEffect","activeItem","offsetTop","_option$isDisabled","_option$isDisabled2","isSelected","getHourSectionOptions","isDisabled","resolveAriaLabel","timeStep","currentHours","hour","endHour","label","ariaLabel","getTimeSectionOptions","resolveLabel","hasValue","timeValue","useClockReferenceDate","referenceDateProp","referenceDate","SECTION_TYPE_GRANULARITY","getTodayDate","MultiSectionDigitalClockRoot","PickerViewRoot","MultiSectionDigitalClock","inTimeSteps","valueProp","defaultValue","inView","inViews","openTo","inFocusedView","onFocusedViewChange","timezoneProp","handleRawValueChange","useControlledValueWithTimezone","useNow","timeSteps","valueOrReferenceDate","handleValueChange","useEventCallback","selectionState","selectedView","setValueAndGoToNextView","focusedView","useViews","handleMeridiemValueChange","isTimeDisabled","React.useCallback","rawValue","viewType","shouldCheckPastEnd","containsValidTime","start","end","isValidValue","step","valueWithMeridiem","convertValueToMeridiem","dateWithNewHours","dateWithNewMinutes","dateWithNewSeconds","buildViewProps","viewToBuild","hours","minutes","seconds","amLabel","pmLabel","viewTimeOptions","currentView","timeView","viewOptions","DateTimeViewWrapper","getTimeClockUtilityClass","CLOCK_WIDTH","CLOCK_HOUR_WIDTH","clockCenter","baseClockPoint","cx","cy","rad2deg","rad","getAngleValue","offsetX","offsetY","x","y","atan","deg","delta","__pow","distance","getMinutes","angleStep","getHours","getClockPointerUtilityClass","ClockPointerRoot","ClockPointerThumb","ClockPointer","isInner","viewValue","previousType","getAngleStyle","angle","getClockUtilityClass","ClockRoot","ClockClock","ClockWrapper","ClockSquareMask","ClockPin","ClockAmButton","ClockPmButton","ClockMeridiemText","Clock","children","selectedId","isMoving","isSelectedTimeDisabled","isPointerInner","isFinish","setTime","rect","newSelectedValue","handleTouchMove","handleTouchEnd","handleMouseMove","handleMouseUp","hasSelected","keyboardControlStep","listboxRef","useEnhancedEffect","handleKeyDown","getClockNumberUtilityClass","clockNumberClasses","ClockNumberRoot","ClockNumber","inner","length","getHourNumbers","getClockNumberText","hourNumbers","startHour","getMinutesNumbers","f","numberValue","TimeClockRoot","TimeClockArrowSwitcher","PickersArrowSwitcher","TIME_CLOCK_DEFAULT_VIEWS","TimeClock","innerSlots","innerSlotProps","showViewSwitcher","setView","previousView","nextView","useId","viewProps","hourValue","minutesValue","minuteValue","secondsValue","secondValue","getDigitalClockUtilityClass","digitalClockClasses","DigitalClockRoot","DigitalClockList","DigitalClockItem","DigitalClock","_slots$digitalClockIt","_slotProps$digitalClo","ClockItem","clockItemProps","handleItemSelect","selectedItem","valueToCheck","timeOptions","startOfDay","renderTimeViewClock","isTimeView","renderDigitalClockTimeView","renderMultiSectionDigitalClockTimeView","renderDesktopDateTimeView","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear","reduceAnimations","onMonthChange","monthsPerRow","onYearChange","yearsPerRow","defaultCalendarMonth","renderLoading","disableHighlightToday","showDaysOutsideCurrentMonth","dayOfWeekFormatter","fixedWeekNumber","displayWeekNumber","timeViewsCount","shouldRenderTimeInASingleColumn","_resolveComponentProp","_slotProps$actionBar","isActionBarVisible","resolveComponentProps","commonTimeProps","isInternalTimeView","DateCalendar","VIEW_HEIGHT","resolveDateTimeFormat","format","dateViews","timeViews","resolveDateFormat","resolveTimeFormat","timeFormat","resolveViews","shouldUseSingleColumn","resolveShouldRenderTimeInASingleColumn","threshold","_timeSteps$hours","_timeSteps$minutes","resolveTimeViewsResponse","inThreshold","thresholdToRenderTimeInASingleColumn","DesktopDateTimePicker","_defaultizedProps$amp","_defaultizedProps$yea","_defaultizedProps$slo2","_defaultizedProps$slo3","_defaultizedProps$slo4","_props$localeText$ope","_props$localeText","defaultizedProps","shouldUseNewRenderer","viewRenderers","renderDateViewCalendar","actionBarActions","CalendarIcon","_defaultizedProps$slo","extractValidationProps","renderPicker","useDesktopPicker","refType","MobileDateTimePicker","useMobilePicker","DateTimePicker","desktopModeMediaQuery","DEFAULT_DESKTOP_MODE_MEDIA_QUERY","useMediaQuery","NotificationManagement","tabValue","setTabValue","notificationTypes","setNotificationTypes","customNotifications","setCustomNotifications","systemRoles","setSystemRoles","success","setSuccess","createDialogOpen","setCreateDialogOpen","viewQueueDialogOpen","setViewQueueDialogOpen","selectedNotification","setSelectedNotification","newNotification","setNewNotification","fetchNotificationTypes","fetchNotificationQueue","fetchSystemRoles","data","handleToggleNotificationType","typeId","enabled","handleCreateCustomNotification","getCategoryIcon","category","getPriorityColor","priority","groupedNotificationTypes","acc","LocalizationProvider","AdapterDateFns","IconSettings","IconPlus","IconClock","types","Accordion","AccordionSummary","IconChevronDown","t","AccordionDetails","l","IconUsers","IconMail","Paper","notification","r","Badge","role","IconSend","UploadedFileList","files","onFileSelect","onFileExecute","onFileDelete","onQuestionnairePreview","isExecuting","searchTerm","setSearchTerm","React","getFileIcon","FileTextIcon","JavaScriptIcon","ShellScriptIcon","PythonIcon","HtmlIcon","CssIcon","JsonIcon","XmlIcon","ImageIcon","VideoIcon","AudioIcon","ArchiveIcon","PdfIcon","CodeIcon","getFileTypeChip","colorMap","filteredFiles","date","FolderOpenIcon","InputAdornment","SearchIcon","ListItemButton","ListItemIcon","PsychologyIcon","PlayIcon","Trash2Icon","FileViewer","onExecute","copyToClipboard","downloadFile","url","renderMarkdown","content","line","renderJson","parsed","formattedJson","renderCode","language","useDarkTheme","useSyntaxHighlighting","applyBasicSyntaxHighlighting","highlighted","renderContent","fileSizeKB","previewMode","effectiveType","CopyIcon","ViewIcon","defaultSettings","BigBookSettings","onSettingsChange","onSave","onReset","hasChanges","setHasChanges","isTesting","setIsTesting","processingResult","setProcessingResult","mountTestResult","setMountTestResult","processingProgress","setProcessingProgress","handleSettingChange","key","newSettings","handleSave","handleReset","handleProcessAllFiles","handleTestSecureMount","ExpandMoreIcon","ExecuteIcon","UIIcon","OMAIIcon","FileProcessingIcon","ProcessIcon","TestIcon","SecurityIcon","ResetIcon","SaveIcon","BigBookConsolePage","consoleOutput","onClearConsole","showConsole","setShowConsole","activeView","setActiveView","toggleConsole","handleSettingsChange","handleSettingsSave","handleSettingsReset","TerminalIcon","ClearIcon","Collapse","output","EncryptedStoragePanel","setStatus","setFiles","loadStatus","loadFiles","mountVolume","unmountVolume","rotateKey","formatBytes","ErrorIcon","CheckCircleIcon","WarningIcon","InfoIcon","getStatusText","LockOpenIcon","LockIcon","KeyIcon","CloudDownloadIcon","QuestionnairePreview","onSubmit","isLoading","setIsLoading","responses","setResponses","isSubmitting","setIsSubmitting","renderError","setRenderError","iframeRef","validateTSXContent","issues","dangerousPatterns","pattern","message","createSecureSandbox","renderComponent","validation","iframeContent","iframe","handleMessage","questionId","answer","handleSubmit","submission","responseCount","CloseIcon","GroupIcon","TimerIcon","SendIcon","OMAIDiscoveryPanel","summary","setSummary","setIndex","discovering","setDiscovering","selectedCategory","setSelectedCategory","categoryFiles","setCategoryFiles","fileContent","setFileContent","fileDialogOpen","setFileDialogOpen","scheduleDialogOpen","setScheduleDialogOpen","scheduleHours","setScheduleHours","learningLoading","setLearningLoading","learningStatus","setLearningStatus","learningDialogOpen","setLearningDialogOpen","loadSummary","loadIndex","loadLearningStatus","initializeOMAI","startDiscovery","pollInterval","loadCategoryFiles","encodedCategory","loadFileDetails","fileId","metadataResponse","contentResponse","metadataData","contentData","scheduleDiscovery","refreshLearning","FileIcon","AutoIcon","ScheduleIcon","StartIcon","StatsIcon","_d","source","_f","_e","agentId","TSXComponentInstallWizard","onInstallComplete","onConsoleMessage","activeStep","setActiveStep","componentInfo","setComponentInfo","installOptions","setInstallOptions","installationResult","setInstallationResult","availableDirectories","setAvailableDirectories","steps","parseComponentFile","warning","handleInstallComponent","endpoint","handleRemoveComponent","renderParseStep","InstallIcon","imp","pkg","renderConfigStep","isEnabled","FormLabel","renderInstallStep","RegistryIcon","PreviewIcon","ComponentIcon","Stepper","Step","StepLabel","ErrorBoundary","Component","errorInfo","BigBookCustomComponentViewer","componentName","onBack","onError","CustomComponent","setCustomComponent","loadCustomComponent","component","importPath","module","ComponentToRender","importError","handleRefresh","ArrowBackIcon","Breadcrumbs","Link","Suspense","MemoryManager","memories","setMemories","filters","setFilters","page","setPage","totalPages","setTotalPages","selectedMemory","setSelectedMemory","dialogOpen","setDialogOpen","dialogMode","setDialogMode","setFormData","categories","priorities","accessLevels","loadMemories","handleCreateMemory","handleEditMemory","memory","handleViewMemory","handleSaveMemory","handleDeleteMemory","memoryId","getAccessLevelIcon","level","MemoryIcon","AddIcon","FilterIcon","cat","EditIcon","tag","LabelIcon","Pagination","newPage","OMBigBook","uploadedFiles","setUploadedFiles","setConsoleOutput","setIsExecuting","showSettings","setShowSettings","consoleSettings","setConsoleSettings","questionnairePreviewOpen","setQuestionnairePreviewOpen","previewFile","setPreviewFile","registries","setRegistries","registriesLoading","setRegistriesLoading","registriesError","setRegistriesError","tsxWizardOpen","setTsxWizardOpen","tsxFile","setTsxFile","customComponents","setCustomComponents","customComponentsLoading","setCustomComponentsLoading","selectedCustomComponent","setSelectedCustomComponent","learningProgress","setLearningProgress","trainingSessions","setTrainingSessions","knowledgeMetrics","setKnowledgeMetrics","activeTrainingSession","setActiveTrainingSession","trainingDialogOpen","setTrainingDialogOpen","selectedTrainingPhase","setSelectedTrainingPhase","ethicsProgress","setEthicsProgress","ethicalFoundations","setEthicalFoundations","omlearnSurveys","setOmlearnSurveys","ethicsLoading","setEthicsLoading","selectedFoundation","setSelectedFoundation","foundationDialogOpen","setFoundationDialogOpen","consoleRef","scrollToBottom","useCallback","loadLearningProgress","loadTrainingSessions","loadKnowledgeMetrics","loadEthicsProgress","loadEthicalFoundations","loadOMLearnSurveys","startTrainingSession","phase","stopTrainingSession","refreshOMAIData","loadRegistries","loadCustomComponents","addConsoleMessage","handleRemoveCustomComponent","toggleItemStatus","id","details","newMessage","handleFileDrop","extension","fileType","getFileTypeFromExtension","tempFile","fileTypeMessage","fileIcon","notifyOMAI","errorText","ingestionResult","registryNames","handleDragOver","handleFileInputChange","executeFile","retrieveResult","retrieveError","removeFile","clearConsole","handleQuestionnairePreview","handleQuestionnaireSubmit","ArticleIcon","TextIcon","renderLearningDashboard","RefreshCwIcon","LearningIcon","StopIcon","renderTrainingPathways","TaskIcon","session","AnalyticsIcon","PerformanceIcon","InsightsIcon","TrendingUpIcon","renderKnowledgeAnalytics","MetricsIcon","count","renderEthicsReasoning","EthicsIcon","survey","MoralIcon","foundation","ReasoningIcon","foundationsInCategory","AIIcon","CloudUploadIcon","RegistryManagementPanel","CustomComponentsPanel","context","ComponentsAPI","__publicField","params","queryString","apiJson","isActive","componentId","bundle","_0","period","componentsAPI","HEALTH_DETECTION_RULES","getComponentHealthStatus","logs","hoursBack","cutoffTime","recentLogs","log","logsToAnalyze","worstStatus","detectedIssues","rule","errorCount","getHealthIssues","timeAgo","hoursAgo","ComponentManager","hasRole","componentsData","setComponentsData","categoryTab","setCategoryTab","logsDialogOpen","setLogsDialogOpen","selectedComponentLogs","setSelectedComponentLogs","selectedComponentName","setSelectedComponentName","toggleConfirmDialog","setToggleConfirmDialog","actionLoading","setActionLoading","toastOpen","setToastOpen","toastMessage","setToastMessage","toastSeverity","setToastSeverity","testResultDialog","setTestResultDialog","showToast","severity","canManageComponents","fetchComponents","analyzeComponentHealth","analysisPromises","analyzedHealth","healthIssues","updatedComponent","logError","analyzedComponents","updatedMeta","calculateCategoryBreakdown","c","healthChanges","original","orig","breakdown","newFilters","currentFilters","componentsWithHealthAnalysis","baseMessage","healthMessage","handleStatusToggle","newState","handleConfirmToggle","handleViewLogs","logsResponse","handleRunTest","testResult","handleExportDegradedLogs","degradedComponents","exportContent","logPromises","logResults","sortedLogs","timestamp","dateStr","timeStr","IconActivity","formatLastUpdated","getLogLevelColor","getHealthTooltip","lastHealthCheck","detectionInfo","healthCheckInfo","checkTime","isHealthAutoDetected","getComponentCardClass","getToggleTooltip","canManage","getRelativeTime","past","diffMs","diffMinutes","diffHours","diffDays","getUsageChip","usageStatus","lastUsed","configs","config","getAvailableCategories","handleCategoryChange","handlePageChange","debouncedSearch","useMemo","timeoutId","handleSearchChange","handleFilterChange","filterType","getFilteredSummary","meta","_h","_g","_j","_i","_l","_k","_n","_m","_p","_o","Grid2","IconSearch","healthConfig","HealthIcon","isActionLoading","Avatar","IconShield","IconBug","IconCpu","DialogContentText","test","OmaiSpinSettings","stats","setStats","recentSessions","setRecentSessions","activeOperations","setActiveOperations","showStartDialog","setShowStartDialog","operationConfig","setOperationConfig","sessionHistory","setSessionHistory","historyPage","setHistoryPage","historyTotal","setHistoryTotal","selectedSession","setSelectedSession","sessionLogs","setSessionLogs","snackbar","setSnackbar","refreshing","setRefreshing","eventSource","setEventSource","loadDashboard","apiClient","statistics","loadSessionHistory","sessions","pagination","es","op","handleStartOperation","handleCancelOperation","operationId","sessionId","getStatusDisplay","SuccessIcon","formatDuration","secs","operation","ServerIcon","statusDisplay","API_BASE_URL","getSystemInfo","axios","formatMemory","memoryMB","getMemoryUsagePercentage","used","total","formatPlatform","platform","formatArchitecture","arch","getEnvironmentDisplayName","env","TabPanel","__objRest","AdminSettings","systemInfo","setSystemInfo","fetchSystemInfo","_event","BCrumb","PageContainer","Breadcrumb","IconServer","IconDatabase","IconBook","IconCopy","IconDeviceDesktop","IconCalendar"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51]}