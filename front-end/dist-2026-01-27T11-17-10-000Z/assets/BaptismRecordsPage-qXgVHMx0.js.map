{"version":3,"file":"BaptismRecordsPage-qXgVHMx0.js","sources":["../../node_modules/@mui/icons-material/esm/BorderStyle.js","../../node_modules/@mui/icons-material/esm/ChevronLeft.js","../../node_modules/@mui/icons-material/esm/ChevronRight.js","../../node_modules/@mui/icons-material/esm/Colorize.js","../../node_modules/@mui/icons-material/esm/CropDin.js","../../node_modules/@mui/icons-material/esm/FormatPaint.js","../../node_modules/@mui/icons-material/esm/ViewColumn.js","../../node_modules/@mui/icons-material/esm/ViewHeadline.js","../../src/store/useTableStyleStore.ts","../../src/shared/lib/churchService.ts","../../src/components/TableControlPanel.tsx","../../src/components/ColorPaletteSelector.tsx","../../src/features/tables/AdvancedGridDialog.tsx","../../src/features/records-centralized/constants/index.ts","../../src/features/records-centralized/components/baptism/BaptismRecordsPage.tsx"],"sourcesContent":["\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M15 21h2v-2h-2zm4 0h2v-2h-2zM7 21h2v-2H7zm4 0h2v-2h-2zm8-4h2v-2h-2zm0-4h2v-2h-2zM3 3v18h2V5h16V3zm16 6h2V7h-2z\"\n}), 'BorderStyle');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z\"\n}), 'ChevronLeft');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\"\n}), 'ChevronRight');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"m20.71 5.63-2.34-2.34a.9959.9959 0 0 0-1.41 0l-3.12 3.12-1.93-1.91-1.41 1.41 1.42 1.42L3 16.25V21h4.75l8.92-8.92 1.42 1.42 1.41-1.41-1.92-1.92 3.12-3.12c.4-.4.4-1.03.01-1.42M6.92 19 5 17.08l8.06-8.06 1.92 1.92z\"\n}), 'Colorize');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16H5V5h14z\"\n}), 'CropDin');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M18 4V3c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V6h1v4H9v11c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-9h8V4z\"\n}), 'FormatPaint');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M14.67 5v14H9.33V5zm1 14H21V5h-5.33zm-7.34 0V5H3v14z\"\n}), 'ViewColumn');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M4 15h16v-2H4zm0 4h16v-2H4zm0-8h16V9H4zm0-6v2h16V5z\"\n}), 'ViewHeadline');","/**\r\n * Orthodox Metrics - Table Style Store\r\n * Simple React hook-based store for managing table theme state\r\n */\r\n\r\nexport interface TableTheme {\r\n  headerColor: string;\r\n  headerTextColor: string;\r\n  cellColor: string;\r\n  cellTextColor: string;\r\n  rowColor: string;\r\n  rowAlternateColor: string;\r\n  borderColor: string;\r\n  borderWidth: number;\r\n  borderRadius: number;\r\n  hoverColor: string;\r\n  selectedColor: string;\r\n  shadowStyle: string;\r\n  fontFamily: string;\r\n  fontSize: number;\r\n}\r\n\r\nexport interface TableStyleState {\r\n  tableTheme: TableTheme;\r\n  savedThemes: Record<string, TableTheme>;\r\n  currentTheme: string;\r\n  isLiturgicalMode: boolean;\r\n  setHeaderColor: (color: string) => void;\r\n  setHeaderTextColor: (color: string) => void;\r\n  setCellColor: (color: string) => void;\r\n  setCellTextColor: (color: string) => void;\r\n  setRowColor: (color: string) => void;\r\n  setRowAlternateColor: (color: string) => void;\r\n  setBorderStyle: (color: string, width: number, radius: number) => void;\r\n  setHoverColor: (color: string) => void;\r\n  setSelectedColor: (color: string) => void;\r\n  setShadowStyle: (shadow: string) => void;\r\n  setFontSettings: (family: string, size: number) => void;\r\n  resetTheme: () => void;\r\n  saveTheme: (name: string) => void;\r\n  loadTheme: (name: string) => void;\r\n  deleteTheme: (name: string) => void;\r\n  exportTheme: () => TableTheme;\r\n  importTheme: (theme: TableTheme) => void;\r\n  applyThemeToElement: (element: string) => object;\r\n  getTableHeaderStyle: () => object;\r\n  getTableRowStyle: (type: 'even' | 'odd') => object;\r\n  getTableCellStyle: (type: 'header' | 'body') => object;\r\n}\r\n\r\nconst orthodoxTheme: TableTheme = {\r\n  headerColor: '#bd56fa',\r\n  headerTextColor: '#ffffff',\r\n  cellColor: '#ffffff',\r\n  cellTextColor: '#333333',\r\n  rowColor: '#f9f9f9',\r\n  rowAlternateColor: '#ffffff',\r\n  borderColor: '#e0e0e0',\r\n  borderWidth: 1,\r\n  borderRadius: 4,\r\n  hoverColor: '#f5f5f5',\r\n  selectedColor: '#e3f2fd',\r\n  shadowStyle: '0 2px 4px rgba(0,0,0,0.1)',\r\n  fontFamily: 'Roboto, Arial, sans-serif',\r\n  fontSize: 14,\r\n};\r\n\r\nexport const liturgicalThemes = {\r\n  'Orthodox Traditional': {\r\n    colors: ['#bd56fa', '#ffffff', '#f9f9f9', '#e3f2fd', '#1976d2'],\r\n    description: 'Traditional Orthodox blue and white theme'\r\n  },\r\n  'Lent Season': {\r\n    colors: ['#4a148c', '#ffffff', '#f3e5f5', '#e1bee7', '#7b1fa2'],\r\n    description: 'Purple theme for Great Lent and fasting periods'\r\n  },\r\n  'Pascha Celebration': {\r\n    colors: ['#d32f2f', '#ffffff', '#ffebee', '#ffcdd2', '#f44336'],\r\n    description: 'Red theme for Pascha and resurrectional celebrations'\r\n  },\r\n  'Theophany': {\r\n    colors: ['#0277bd', '#ffffff', '#e3f2fd', '#bbdefb', '#03a9f4'],\r\n    description: 'Light blue theme for Theophany and baptismal feasts'\r\n  },\r\n  'Pentecost': {\r\n    colors: ['#388e3c', '#ffffff', '#e8f5e8', '#c8e6c9', '#4caf50'],\r\n    description: 'Green theme for Pentecost and ordinary time'\r\n  },\r\n  'Christmas': {\r\n    colors: ['#d32f2f', '#ffd700', '#fff8e1', '#fff59d', '#ffeb3b'],\r\n    description: 'Red and gold theme for Christmas season'\r\n  },\r\n  'Saints Feast': {\r\n    colors: ['#ffa000', '#ffffff', '#fff8e1', '#ffecb3', '#ffc107'],\r\n    description: 'Gold theme for saints and martyrs'\r\n  },\r\n  'Marian Feasts': {\r\n    colors: ['#1976d2', '#ffffff', '#e3f2fd', '#bbdefb', '#2196f3'],\r\n    description: 'Blue theme for Theotokos feasts'\r\n  }\r\n};\r\n\r\nexport const useTableStyleStore = (): TableStyleState => {\r\n  return {\r\n    tableTheme: orthodoxTheme,\r\n    savedThemes: {},\r\n    currentTheme: 'Orthodox Traditional',\r\n    isLiturgicalMode: false,\r\n    setHeaderColor: () => {},\r\n    setHeaderTextColor: () => {},\r\n    setCellColor: () => {},\r\n    setCellTextColor: () => {},\r\n    setRowColor: () => {},\r\n    setRowAlternateColor: () => {},\r\n    setBorderStyle: () => {},\r\n    setHoverColor: () => {},\r\n    setSelectedColor: () => {},\r\n    setShadowStyle: () => {},\r\n    setFontSettings: () => {},\r\n    resetTheme: () => {},\r\n    saveTheme: () => {},\r\n    loadTheme: () => {},\r\n    deleteTheme: () => {},\r\n    exportTheme: () => orthodoxTheme,\r\n    importTheme: () => {},\r\n    applyThemeToElement: () => ({}),\r\n    getTableHeaderStyle: () => ({\r\n      backgroundColor: orthodoxTheme.headerColor,\r\n      color: orthodoxTheme.headerTextColor,\r\n      borderColor: orthodoxTheme.borderColor,\r\n      borderWidth: `${orthodoxTheme.borderWidth}px`,\r\n      borderRadius: `${orthodoxTheme.borderRadius}px`,\r\n      fontFamily: orthodoxTheme.fontFamily,\r\n      fontSize: `${orthodoxTheme.fontSize}px`,\r\n      boxShadow: orthodoxTheme.shadowStyle,\r\n      fontWeight: 'bold',\r\n    }),\r\n    getTableRowStyle: (type: 'even' | 'odd') => ({\r\n      backgroundColor: type === 'even' ? orthodoxTheme.rowColor : orthodoxTheme.rowAlternateColor,\r\n      borderColor: orthodoxTheme.borderColor,\r\n      borderWidth: `${orthodoxTheme.borderWidth}px`,\r\n      '&:hover': {\r\n        backgroundColor: orthodoxTheme.hoverColor,\r\n      },\r\n    }),\r\n    getTableCellStyle: (type: 'header' | 'body') => {\r\n      if (type === 'header') {\r\n        return {\r\n          backgroundColor: orthodoxTheme.headerColor,\r\n          color: orthodoxTheme.headerTextColor,\r\n          borderColor: orthodoxTheme.borderColor,\r\n          borderWidth: `${orthodoxTheme.borderWidth}px`,\r\n          fontFamily: orthodoxTheme.fontFamily,\r\n          fontSize: `${orthodoxTheme.fontSize}px`,\r\n          fontWeight: 'bold',\r\n          padding: '16px',\r\n        };\r\n      } else {\r\n        return {\r\n          backgroundColor: orthodoxTheme.cellColor,\r\n          color: orthodoxTheme.cellTextColor,\r\n          borderColor: orthodoxTheme.borderColor,\r\n          borderWidth: `${orthodoxTheme.borderWidth}px`,\r\n          fontFamily: orthodoxTheme.fontFamily,\r\n          fontSize: `${orthodoxTheme.fontSize}px`,\r\n          padding: '16px',\r\n        };\r\n      }\r\n    }\r\n  };\r\n};\r\n","/**\n * Church Service for Orthodox Metrics\n * Handles church data and multi-tenant record access\n */\n\nexport interface Church {\n  id: number;\n  name?: string;\n  church_name?: string;\n  email?: string;\n  database_name?: string;\n  is_active?: boolean;\n  // Additional fields for UI\n  address?: string;\n  phone?: string;\n  has_baptism_records?: boolean;\n  has_marriage_records?: boolean;\n  has_funeral_records?: boolean;\n  setup_complete?: boolean;\n  created_at?: string;\n  updated_at?: string;\n}\n\nexport interface FetchRecordsOptions {\n  page?: number;\n  limit?: number;\n  search?: string;\n  sortField?: string;\n  sortDirection?: 'asc' | 'desc';\n}\n\nexport interface RecordsResponse {\n  records: any[];\n  totalRecords: number;\n  currentPage: number;\n  totalPages: number;\n}\n\nconst churchService = {\n  /**\n   * Fetch all churches the current user has access to\n   * Super admins see all churches, others see only assigned churches\n   */\n  fetchChurches: async (): Promise<Church[]> => {\n    try {\n      console.log('üîç Fetching churches from /api/my/churches...');\n      const response = await fetch('/api/my/churches', {\n        credentials: 'include',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      });\n\n      if (!response.ok) {\n        throw new Error(`Failed to fetch churches: ${response.status} ${response.statusText}`);\n      }\n\n      const data = await response.json();\n      \n      // Handle various response formats:\n      // - { success: true, data: { churches: [...] } } (ApiResponse format)\n      // - { churches: [...] } (direct object)\n      // - [...] (direct array)\n      let churches: Church[] = [];\n      \n      if (data.data?.churches) {\n        churches = data.data.churches;\n      } else if (data.churches) {\n        churches = data.churches;\n      } else if (Array.isArray(data.data)) {\n        churches = data.data;\n      } else if (Array.isArray(data)) {\n        churches = data;\n      }\n      \n      console.log(`‚úÖ Fetched ${churches.length} churches`);\n      return churches;\n    } catch (error) {\n      console.error('‚ùå Error fetching churches:', error);\n      throw error;\n    }\n  },\n\n  /**\n   * Fetch records for a specific church and record type\n   * Each church has its own database (om_church_{id})\n   */\n  fetchChurchRecords: async (\n    churchId: number,\n    recordType: string,\n    options: FetchRecordsOptions = {}\n  ): Promise<RecordsResponse> => {\n    try {\n      const { page = 1, limit = 100, search = '', sortField = 'id', sortDirection = 'desc' } = options;\n      \n      console.log(`üîç Fetching ${recordType} records for church ${churchId}...`);\n      \n      const params = new URLSearchParams({\n        church_id: churchId.toString(),\n        page: page.toString(),\n        limit: limit.toString(),\n        sortField,\n        sortDirection,\n      });\n      \n      if (search) {\n        params.append('search', search);\n      }\n\n      const response = await fetch(`/api/${recordType}-records?${params.toString()}`, {\n        credentials: 'include',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      });\n\n      if (!response.ok) {\n        throw new Error(`Failed to fetch records: ${response.status} ${response.statusText}`);\n      }\n\n      const data = await response.json();\n      \n      console.log(`‚úÖ Fetched ${data.records?.length || 0} ${recordType} records`);\n      \n      return {\n        records: data.records || [],\n        totalRecords: data.totalRecords || data.records?.length || 0,\n        currentPage: data.currentPage || page,\n        totalPages: data.totalPages || Math.ceil((data.totalRecords || 0) / limit),\n      };\n    } catch (error) {\n      console.error(`‚ùå Error fetching ${recordType} records:`, error);\n      throw error;\n    }\n  },\n\n  /**\n   * Get a single church by ID\n   */\n  getChurch: async (id: number): Promise<Church | null> => {\n    try {\n      const response = await fetch(`/api/churches/${id}`, {\n        credentials: 'include',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      });\n\n      if (!response.ok) {\n        if (response.status === 404) return null;\n        throw new Error(`Failed to fetch church: ${response.status}`);\n      }\n\n      const data = await response.json();\n      return data.data || data;\n    } catch (error) {\n      console.error('Error fetching church:', error);\n      throw error;\n    }\n  },\n\n  /**\n   * Get churches (alias for fetchChurches for backwards compatibility)\n   */\n  getChurches: async (): Promise<Church[]> => {\n    return churchService.fetchChurches();\n  },\n\n  /**\n   * Create a new church\n   */\n  createChurch: async (church: Partial<Church>): Promise<Church> => {\n    const response = await fetch('/api/churches', {\n      method: 'POST',\n      credentials: 'include',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(church),\n    });\n\n    if (!response.ok) {\n      throw new Error(`Failed to create church: ${response.status}`);\n    }\n\n    const data = await response.json();\n    return data.data || data;\n  },\n\n  /**\n   * Update an existing church\n   */\n  updateChurch: async (id: number, church: Partial<Church>): Promise<Church> => {\n    const response = await fetch(`/api/churches/${id}`, {\n      method: 'PUT',\n      credentials: 'include',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(church),\n    });\n\n    if (!response.ok) {\n      throw new Error(`Failed to update church: ${response.status}`);\n    }\n\n    const data = await response.json();\n    return data.data || data;\n  },\n\n  /**\n   * Delete a church\n   */\n  deleteChurch: async (id: number): Promise<boolean> => {\n    const response = await fetch(`/api/churches/${id}`, {\n      method: 'DELETE',\n      credentials: 'include',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    });\n\n    if (!response.ok) {\n      throw new Error(`Failed to delete church: ${response.status}`);\n    }\n\n    return true;\n  },\n};\n\nexport default churchService;\n","/**\r\n * Orthodox Metrics - Table Control Panel\r\n * Controls for selecting table elements and styling options\r\n */\r\n\r\nimport React from 'react';\r\nimport {\r\n  Box,\r\n  Typography,\r\n  ButtonGroup,\r\n  Button,\r\n  Slider,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n  TextField,\r\n  Chip,\r\n  Paper\r\n} from '@mui/material';\r\nimport { \r\n  TableView, \r\n  ViewColumn, \r\n  ViewHeadline, \r\n  CropDin,\r\n  FormatPaint,\r\n  BorderStyle\r\n} from '@mui/icons-material';\r\nimport { TableTheme } from '../store/useTableStyleStore.ts';\r\n\r\ninterface TableControlPanelProps {\r\n  selectedElement: string;\r\n  onElementSelect: (element: string) => void;\r\n  tableTheme: TableTheme;\r\n  onBorderStyleChange: (color: string, width: number, radius: number) => void;\r\n}\r\n\r\nconst elementOptions = [\r\n  { value: 'header', label: 'Header', icon: <ViewHeadline /> },\r\n  { value: 'cell', label: 'Cell', icon: <CropDin /> },\r\n  { value: 'row', label: 'Row', icon: <ViewColumn /> }\r\n];\r\n\r\nconst shadowOptions = [\r\n  'none',\r\n  '0 1px 3px rgba(0,0,0,0.1)',\r\n  '0 2px 4px rgba(0,0,0,0.1)',\r\n  '0 4px 8px rgba(0,0,0,0.15)',\r\n  '0 8px 16px rgba(0,0,0,0.2)'\r\n];\r\n\r\nexport const TableControlPanel: React.FC<TableControlPanelProps> = ({\r\n  selectedElement,\r\n  onElementSelect,\r\n  tableTheme,\r\n  onBorderStyleChange\r\n}) => {\r\n  const handleBorderWidthChange = (event: Event, newValue: number | number[]) => {\r\n    const width = Array.isArray(newValue) ? newValue[0] : newValue;\r\n    onBorderStyleChange(tableTheme.borderColor, width, tableTheme.borderRadius);\r\n  };\r\n\r\n  const handleBorderRadiusChange = (event: Event, newValue: number | number[]) => {\r\n    const radius = Array.isArray(newValue) ? newValue[0] : newValue;\r\n    onBorderStyleChange(tableTheme.borderColor, tableTheme.borderWidth, radius);\r\n  };\r\n\r\n  const handleBorderColorChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const color = event.target.value;\r\n    onBorderStyleChange(color, tableTheme.borderWidth, tableTheme.borderRadius);\r\n  };\r\n\r\n  return (\r\n    <Box>\r\n      <Typography variant=\"h6\" gutterBottom sx={{ display: 'flex', alignItems: 'center' }}>\r\n        <FormatPaint sx={{ mr: 1 }} />\r\n        Element Selection\r\n      </Typography>\r\n\r\n      {/* Element Selector */}\r\n      <ButtonGroup orientation=\"vertical\" fullWidth sx={{ mb: 3 }}>\r\n        {elementOptions.map((option) => (\r\n          <Button\r\n            key={option.value}\r\n            variant={selectedElement === option.value ? 'contained' : 'outlined'}\r\n            onClick={() => onElementSelect(option.value)}\r\n            startIcon={option.icon}\r\n            sx={{ justifyContent: 'flex-start' }}\r\n          >\r\n            {option.label}\r\n          </Button>\r\n        ))}\r\n      </ButtonGroup>\r\n\r\n      {/* Current Selection Info */}\r\n      <Paper sx={{ p: 2, mb: 3, bgcolor: 'background.default' }}>\r\n        <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\r\n          Selected Element\r\n        </Typography>\r\n        <Chip\r\n          label={elementOptions.find(opt => opt.value === selectedElement)?.label}\r\n          color=\"primary\"\r\n          icon={elementOptions.find(opt => opt.value === selectedElement)?.icon}\r\n        />\r\n      </Paper>\r\n\r\n      {/* Border Styling */}\r\n      <Typography variant=\"h6\" gutterBottom sx={{ display: 'flex', alignItems: 'center' }}>\r\n        <BorderStyle sx={{ mr: 1 }} />\r\n        Border Styling\r\n      </Typography>\r\n\r\n      <Box sx={{ mb: 2 }}>\r\n        <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\r\n          Border Width: {tableTheme.borderWidth}px\r\n        </Typography>\r\n        <Slider\r\n          value={tableTheme.borderWidth}\r\n          onChange={handleBorderWidthChange}\r\n          min={0}\r\n          max={5}\r\n          step={1}\r\n          marks\r\n          valueLabelDisplay=\"auto\"\r\n        />\r\n      </Box>\r\n\r\n      <Box sx={{ mb: 2 }}>\r\n        <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\r\n          Border Radius: {tableTheme.borderRadius}px\r\n        </Typography>\r\n        <Slider\r\n          value={tableTheme.borderRadius}\r\n          onChange={handleBorderRadiusChange}\r\n          min={0}\r\n          max={20}\r\n          step={1}\r\n          marks\r\n          valueLabelDisplay=\"auto\"\r\n        />\r\n      </Box>\r\n\r\n      <Box sx={{ mb: 3 }}>\r\n        <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\r\n          Border Color\r\n        </Typography>\r\n        <TextField\r\n          type=\"color\"\r\n          value={tableTheme.borderColor}\r\n          onChange={handleBorderColorChange}\r\n          fullWidth\r\n          size=\"small\"\r\n          sx={{\r\n            '& input[type=\"color\"]': {\r\n              width: '100%',\r\n              height: 32,\r\n              border: 'none',\r\n              borderRadius: 1\r\n            }\r\n          }}\r\n        />\r\n      </Box>\r\n\r\n      {/* Font Styling */}\r\n      <Typography variant=\"h6\" gutterBottom>\r\n        Typography\r\n      </Typography>\r\n\r\n      <Box sx={{ mb: 2 }}>\r\n        <FormControl fullWidth size=\"small\">\r\n          <InputLabel>Font Family</InputLabel>\r\n          <Select\r\n            value={tableTheme.fontFamily}\r\n            label=\"Font Family\"\r\n          >\r\n            <MenuItem value=\"Roboto, Arial, sans-serif\">Roboto</MenuItem>\r\n            <MenuItem value=\"Georgia, serif\">Georgia</MenuItem>\r\n            <MenuItem value=\"Times New Roman, serif\">Times New Roman</MenuItem>\r\n            <MenuItem value=\"Arial, sans-serif\">Arial</MenuItem>\r\n            <MenuItem value=\"Helvetica, sans-serif\">Helvetica</MenuItem>\r\n          </Select>\r\n        </FormControl>\r\n      </Box>\r\n\r\n      <Box sx={{ mb: 2 }}>\r\n        <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\r\n          Font Size: {tableTheme.fontSize}px\r\n        </Typography>\r\n        <Slider\r\n          value={tableTheme.fontSize}\r\n          min={10}\r\n          max={20}\r\n          step={1}\r\n          marks\r\n          valueLabelDisplay=\"auto\"\r\n        />\r\n      </Box>\r\n\r\n      {/* Shadow Effects */}\r\n      <Typography variant=\"h6\" gutterBottom>\r\n        Shadow Effects\r\n      </Typography>\r\n\r\n      <FormControl fullWidth size=\"small\">\r\n        <InputLabel>Shadow Style</InputLabel>\r\n        <Select\r\n          value={tableTheme.shadowStyle}\r\n          label=\"Shadow Style\"\r\n        >\r\n          {shadowOptions.map((shadow) => (\r\n            <MenuItem key={shadow} value={shadow}>\r\n              {shadow === 'none' ? 'No Shadow' : 'Shadow'}\r\n            </MenuItem>\r\n          ))}\r\n        </Select>\r\n      </FormControl>\r\n    </Box>\r\n  );\r\n};\r\nexport default TableControlPanel;\n","/**\r\n * Orthodox Metrics - Color Palette Selector\r\n * Color selection component with Orthodox liturgical palettes\r\n */\r\n\r\nimport React, { useState } from 'react';\r\nimport {\r\n  Box,\r\n  Typography,\r\n  Grid,\r\n  TextField,\r\n  Paper,\r\n  Tooltip,\r\n  Chip,\r\n  ButtonGroup,\r\n  Button,\r\n  useTheme\r\n} from '@mui/material';\r\nimport { Palette, Colorize, History } from '@mui/icons-material';\r\nimport { liturgicalThemes } from '../store/useTableStyleStore.ts';\r\n\r\ninterface ColorPaletteProps {\r\n  selectedColor: string;\r\n  onColorChange: (color: string) => void;\r\n  liturgicalMode: boolean;\r\n}\r\n\r\n// Orthodox Color Palettes\r\nconst orthodoxTraditionalColors = [\r\n  '#bd56fa', // Orthodox purple\r\n  '#1976d2', // Light blue\r\n  '#0d47a1', // Dark blue\r\n  '#c62828', // Red\r\n  '#ad1457', // Deep pink\r\n  '#4a148c', // Purple\r\n  '#2e7d32', // Green\r\n  '#f57c00', // Orange\r\n  '#c9b037', // Gold\r\n  '#5d4037', // Brown\r\n  '#424242', // Dark gray\r\n  '#ffffff'  // White\r\n];\r\n\r\nconst liturgicalSeasonColors = [\r\n  // Lent\r\n  '#4a148c', '#6a1b9a', '#8e24aa', '#9c27b0',\r\n  // Pascha\r\n  '#c62828', '#d32f2f', '#e53935', '#f44336',\r\n  // Theophany\r\n  '#0277bd', '#0288d1', '#039be5', '#03a9f4',\r\n  // Pentecost\r\n  '#2e7d32', '#388e3c', '#43a047', '#4caf50',\r\n  // Nativity\r\n  '#c9b037', '#ffa000', '#ffb300', '#ffc107',\r\n  // Theotokos\r\n  '#1565c0', '#1976d2', '#1e88e5', '#2196f3'\r\n];\r\n\r\nconst recentColors = [\r\n  '#bd56fa', '#4a148c', '#c62828', '#2e7d32', '#c9b037'\r\n];\r\n\r\nexport const ColorPaletteSelector: React.FC<ColorPaletteProps> = ({\r\n  selectedColor,\r\n  onColorChange,\r\n  liturgicalMode\r\n}) => {\r\n  const theme = useTheme();\r\n  const [customColor, setCustomColor] = useState(selectedColor);\r\n  const [paletteMode, setPaletteMode] = useState<'orthodox' | 'liturgical' | 'themes'>('orthodox');\r\n\r\n  const colorPalettes = {\r\n    orthodox: orthodoxTraditionalColors,\r\n    liturgical: liturgicalSeasonColors,\r\n    themes: Object.keys(liturgicalThemes)\r\n  };\r\n\r\n  const handleColorClick = (color: string) => {\r\n    setCustomColor(color);\r\n    onColorChange(color);\r\n  };\r\n\r\n  const handleThemeSelect = (themeName: string) => {\r\n    const theme = liturgicalThemes[themeName];\r\n    if (theme) {\r\n      onColorChange(theme.headerColor);\r\n    }\r\n  };\r\n\r\n  const handleCustomColorChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const color = event.target.value;\r\n    setCustomColor(color);\r\n    onColorChange(color);\r\n  };\r\n\r\n  const ColorSwatch: React.FC<{ color: string; selected?: boolean; onClick: () => void; tooltip?: string }> = ({\r\n    color,\r\n    selected,\r\n    onClick,\r\n    tooltip\r\n  }) => (\r\n    <Tooltip title={tooltip || color}>\r\n      <Box\r\n        onClick={onClick}\r\n        sx={{\r\n          width: 32,\r\n          height: 32,\r\n          backgroundColor: color,\r\n          border: selected ? `3px solid ${theme.palette.primary.main}` : '1px solid #ccc',\r\n          borderRadius: 1,\r\n          cursor: 'pointer',\r\n          transition: 'all 0.2s ease',\r\n          '&:hover': {\r\n            transform: 'scale(1.1)',\r\n            boxShadow: theme.shadows[4]\r\n          }\r\n        }}\r\n      />\r\n    </Tooltip>\r\n  );\r\n\r\n  return (\r\n    <Box>\r\n      <Typography variant=\"h6\" gutterBottom sx={{ display: 'flex', alignItems: 'center' }}>\r\n        <Palette sx={{ mr: 1 }} />\r\n        Color Palette\r\n      </Typography>\r\n\r\n      {/* Palette Mode Selector */}\r\n      <ButtonGroup variant=\"outlined\" size=\"small\" fullWidth sx={{ mb: 2 }}>\r\n        <Button\r\n          variant={paletteMode === 'orthodox' ? 'contained' : 'outlined'}\r\n          onClick={() => setPaletteMode('orthodox')}\r\n        >\r\n          Orthodox\r\n        </Button>\r\n        <Button\r\n          variant={paletteMode === 'liturgical' ? 'contained' : 'outlined'}\r\n          onClick={() => setPaletteMode('liturgical')}\r\n        >\r\n          Liturgical\r\n        </Button>\r\n        <Button\r\n          variant={paletteMode === 'themes' ? 'contained' : 'outlined'}\r\n          onClick={() => setPaletteMode('themes')}\r\n        >\r\n          Themes\r\n        </Button>\r\n      </ButtonGroup>\r\n\r\n      {/* Current Color Display */}\r\n      <Paper sx={{ p: 2, mb: 2, bgcolor: 'background.default' }}>\r\n        <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\r\n          <Box\r\n            sx={{\r\n              width: 48,\r\n              height: 48,\r\n              backgroundColor: selectedColor,\r\n              border: '1px solid #ccc',\r\n              borderRadius: 1\r\n            }}\r\n          />\r\n          <Box>\r\n            <Typography variant=\"body2\" color=\"text.secondary\">\r\n              Current Color\r\n            </Typography>\r\n            <Typography variant=\"body1\" fontFamily=\"monospace\">\r\n              {selectedColor}\r\n            </Typography>\r\n          </Box>\r\n        </Box>\r\n      </Paper>\r\n\r\n      {/* Theme Presets (when themes mode is selected) */}\r\n      {paletteMode === 'themes' && (\r\n        <Box sx={{ mb: 2 }}>\r\n          <Typography variant=\"subtitle2\" gutterBottom>\r\n            Liturgical Themes\r\n          </Typography>\r\n          <Grid container spacing={1}>\r\n            {Object.entries(liturgicalThemes).map(([themeName, themeData]) => (\r\n              <Grid item xs={12} key={themeName}>\r\n                <Chip\r\n                  label={themeName.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase())}\r\n                  onClick={() => handleThemeSelect(themeName)}\r\n                  variant={selectedColor === themeData.headerColor ? 'filled' : 'outlined'}\r\n                  sx={{\r\n                    width: '100%',\r\n                    '& .MuiChip-label': {\r\n                      color: themeData.headerColor\r\n                    }\r\n                  }}\r\n                />\r\n              </Grid>\r\n            ))}\r\n          </Grid>\r\n        </Box>\r\n      )}\r\n\r\n      {/* Color Grid */}\r\n      {paletteMode !== 'themes' && (\r\n        <Box sx={{ mb: 2 }}>\r\n          <Typography variant=\"subtitle2\" gutterBottom>\r\n            {paletteMode === 'orthodox' ? 'Orthodox Traditional' : 'Liturgical Seasons'}\r\n          </Typography>\r\n          <Grid container spacing={1}>\r\n            {colorPalettes[paletteMode].map((color) => (\r\n              <Grid item xs={3} key={color}>\r\n                <ColorSwatch\r\n                  color={color}\r\n                  selected={selectedColor === color}\r\n                  onClick={() => handleColorClick(color)}\r\n                  tooltip={`Click to select ${color}`}\r\n                />\r\n              </Grid>\r\n            ))}\r\n          </Grid>\r\n        </Box>\r\n      )}\r\n\r\n      {/* Recent Colors */}\r\n      <Box sx={{ mb: 2 }}>\r\n        <Typography variant=\"subtitle2\" gutterBottom sx={{ display: 'flex', alignItems: 'center' }}>\r\n          <History sx={{ mr: 1, fontSize: 16 }} />\r\n          Recent Colors\r\n        </Typography>\r\n        <Grid container spacing={1}>\r\n          {recentColors.map((color) => (\r\n            <Grid item xs={2.4} key={color}>\r\n              <ColorSwatch\r\n                color={color}\r\n                selected={selectedColor === color}\r\n                onClick={() => handleColorClick(color)}\r\n              />\r\n            </Grid>\r\n          ))}\r\n        </Grid>\r\n      </Box>\r\n\r\n      {/* Custom Color Input */}\r\n      <Box>\r\n        <Typography variant=\"subtitle2\" gutterBottom sx={{ display: 'flex', alignItems: 'center' }}>\r\n          <Colorize sx={{ mr: 1, fontSize: 16 }} />\r\n          Custom Color\r\n        </Typography>\r\n        <TextField\r\n          type=\"color\"\r\n          value={customColor}\r\n          onChange={handleCustomColorChange}\r\n          fullWidth\r\n          size=\"small\"\r\n          sx={{\r\n            '& input[type=\"color\"]': {\r\n              width: '100%',\r\n              height: 40,\r\n              border: 'none',\r\n              borderRadius: 1\r\n            }\r\n          }}\r\n        />\r\n        <TextField\r\n          value={customColor}\r\n          onChange={(e) => {\r\n            setCustomColor(e.target.value);\r\n            onColorChange(e.target.value);\r\n          }}\r\n          placeholder=\"#000000\"\r\n          fullWidth\r\n          size=\"small\"\r\n          sx={{ mt: 1 }}\r\n          InputProps={{\r\n            style: { fontFamily: 'monospace' }\r\n          }}\r\n        />\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\nexport default ColorPaletteSelector;\r\n","/**\r\n * AdvancedGridDialog Component\r\n * \r\n * Dialog component for displaying advanced records grid with tabs for different record types.\r\n * This is a placeholder component that can be enhanced with full functionality.\r\n */\r\n\r\nimport React from 'react';\r\nimport { Dialog, DialogTitle, DialogContent, Box, Typography, CircularProgress } from '@mui/material';\r\n\r\ninterface AdvancedGridDialogProps {\r\n  open: boolean;\r\n  onClose: () => void;\r\n  datasets?: {\r\n    baptism?: any[];\r\n    marriage?: any[];\r\n    funeral?: any[];\r\n  };\r\n  counts?: {\r\n    baptism?: number;\r\n    marriage?: number;\r\n    funeral?: number;\r\n  };\r\n  recordType?: string;\r\n  loading?: boolean;\r\n  records?: any[]; // Legacy prop for backward compatibility\r\n}\r\n\r\nconst AdvancedGridDialog: React.FC<AdvancedGridDialogProps> = ({\r\n  open,\r\n  onClose,\r\n  datasets,\r\n  counts,\r\n  recordType = 'baptism',\r\n  loading = false,\r\n  records = []\r\n}) => {\r\n  const displayRecords = datasets?.[recordType as keyof typeof datasets] || records;\r\n  const recordCount = counts?.[recordType as keyof typeof counts] || records.length;\r\n\r\n  return (\r\n    <Dialog open={open} onClose={onClose} maxWidth=\"lg\" fullWidth>\r\n      <DialogTitle>\r\n        Records Grid - {recordType.charAt(0).toUpperCase() + recordType.slice(1)}\r\n      </DialogTitle>\r\n      <DialogContent>\r\n        {loading ? (\r\n          <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"200px\">\r\n            <CircularProgress />\r\n          </Box>\r\n        ) : (\r\n          <Box>\r\n            <Typography variant=\"body1\" gutterBottom>\r\n              Total Records: {recordCount}\r\n            </Typography>\r\n            <Typography variant=\"body2\" color=\"text.secondary\">\r\n              {displayRecords.length > 0 \r\n                ? `Displaying ${displayRecords.length} records`\r\n                : 'No records found'}\r\n            </Typography>\r\n            {/* TODO: Add actual grid/table component here when available */}\r\n          </Box>\r\n        )}\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default AdvancedGridDialog;\r\nexport { AdvancedGridDialog };\r\n","// Constants for records-centralized features\n// Defines table columns and form fields for each sacrament record type\n// Based on Saints Peter & Paul default column definitions\n//\n// ‚ö†Ô∏è IMPORTANT: If adding new DB columns, you must:\n// 1. Add the column to the appropriate tableColumns array below\n// 2. Add a case handler in BaptismRecordsPage.tsx getCellValue() function\n// 3. Update the backend transformer in server/src/utils/dateFormatter.js\n// 4. Ensure the backend API returns the new field (SELECT * handles this automatically)\n\nexport const RECORD_TYPES = {\n  BAPTISM: 'baptism',\n  MARRIAGE: 'marriage',\n  FUNERAL: 'funeral'\n};\n\nexport const FIELD_DEFINITIONS: Record<string, {\n  tableColumns: Array<{ field: string; headerName: string; width?: number }>;\n  formFields: Array<{ id: string; label: string; type: string; required: boolean }>;\n  sortFields: Array<{ field: string; label: string }>;\n}> = {\n  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n  // BAPTISM RECORDS - Saints Peter & Paul Default Columns\n  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n  baptism: {\n    tableColumns: [\n      { field: 'first_name', headerName: 'First Name', width: 120 },\n      { field: 'last_name', headerName: 'Last Name', width: 120 },\n      { field: 'birth_date', headerName: 'Birth Date', width: 110 },\n      { field: 'reception_date', headerName: 'Baptism Date', width: 110 },\n      { field: 'birthplace', headerName: 'Birthplace', width: 150 },\n      { field: 'entry_type', headerName: 'Entry Type', width: 120 },\n      { field: 'sponsors', headerName: 'Godparents', width: 150 },\n      { field: 'parents', headerName: 'Parents', width: 150 },\n      { field: 'clergy', headerName: 'Clergy', width: 130 },\n    ],\n    formFields: [\n      { id: 'first_name', label: 'First Name', type: 'text', required: true },\n      { id: 'last_name', label: 'Last Name', type: 'text', required: true },\n      { id: 'birth_date', label: 'Birth Date', type: 'date', required: false },\n      { id: 'reception_date', label: 'Date of Baptism/Chrismation', type: 'date', required: true },\n      { id: 'birthplace', label: 'Birthplace (Town/City, State)', type: 'text', required: false },\n      { id: 'entry_type', label: 'Entry Type (Baptism or Chrismation)', type: 'text', required: true },\n      { id: 'sponsors', label: 'Godparents', type: 'text', required: false },\n      { id: 'parents', label: 'Parents', type: 'text', required: false },\n      { id: 'clergy', label: 'Clergy', type: 'text', required: true },\n    ],\n    sortFields: [\n      { field: 'last_name', label: 'Last Name' },\n      { field: 'first_name', label: 'First Name' },\n      { field: 'birth_date', label: 'Birth Date' },\n      { field: 'reception_date', label: 'Baptism Date' },\n    ],\n  },\n\n  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n  // MARRIAGE RECORDS - Saints Peter & Paul Default Columns\n  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n  marriage: {\n    tableColumns: [\n      { field: 'fname_groom', headerName: 'Groom First Name', width: 130 },\n      { field: 'lname_groom', headerName: 'Groom Last Name', width: 130 },\n      { field: 'fname_bride', headerName: 'Bride First Name', width: 130 },\n      { field: 'lname_bride', headerName: 'Bride Last Name', width: 130 },\n      { field: 'mdate', headerName: 'Marriage Date', width: 110 },\n      { field: 'parentsg', headerName: \"Groom's Parents\", width: 150 },\n      { field: 'parentsb', headerName: \"Bride's Parents\", width: 150 },\n      { field: 'witness', headerName: 'Witnesses', width: 150 },\n      { field: 'mlicense', headerName: 'Marriage License', width: 120 },\n      { field: 'clergy', headerName: 'Clergy', width: 130 },\n    ],\n    formFields: [\n      { id: 'fname_groom', label: \"Groom's First Name\", type: 'text', required: true },\n      { id: 'lname_groom', label: \"Groom's Last Name\", type: 'text', required: true },\n      { id: 'parentsg', label: \"Groom's Parents\", type: 'text', required: false },\n      { id: 'fname_bride', label: \"Bride's First Name\", type: 'text', required: false },\n      { id: 'lname_bride', label: \"Bride's Last Name\", type: 'text', required: true },\n      { id: 'parentsb', label: \"Bride's Parents\", type: 'text', required: false },\n      { id: 'mdate', label: 'Marriage Date', type: 'date', required: true },\n      { id: 'witness', label: 'Witnesses', type: 'text', required: false },\n      { id: 'mlicense', label: 'Marriage License', type: 'text', required: false },\n      { id: 'clergy', label: 'Clergy', type: 'text', required: true },\n    ],\n    sortFields: [\n      { field: 'lname_groom', label: 'Groom Last Name' },\n      { field: 'lname_bride', label: 'Bride Last Name' },\n      { field: 'mdate', label: 'Marriage Date' },\n    ],\n  },\n\n  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n  // FUNERAL RECORDS - Saints Peter & Paul (actual MySQL column names)\n  // Table: funeral_records\n  // Columns: id, name, lastname, deceased_date, burial_date, age, \n  //          clergy, burial_location, church_id\n  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n  funeral: {\n    tableColumns: [\n      { field: 'name', headerName: 'First Name', width: 120 },\n      { field: 'lastname', headerName: 'Last Name', width: 120 },\n      { field: 'deceased_date', headerName: 'Date of Death', width: 110 },\n      { field: 'burial_date', headerName: 'Burial Date', width: 110 },\n      { field: 'age', headerName: 'Age', width: 60 },\n      { field: 'clergy', headerName: 'Clergy', width: 150 },\n      { field: 'burial_location', headerName: 'Burial Location', width: 200 },\n    ],\n    formFields: [\n      { id: 'name', label: \"Deceased's First Name\", type: 'text', required: false },\n      { id: 'lastname', label: \"Deceased's Last Name\", type: 'text', required: true },\n      { id: 'deceased_date', label: 'Date of Passing', type: 'date', required: true },\n      { id: 'burial_date', label: 'Date of Burial/Funeral Service', type: 'date', required: true },\n      { id: 'age', label: 'Age at Time of Death', type: 'number', required: false },\n      { id: 'clergy', label: 'Clergy', type: 'text', required: true },\n      { id: 'burial_location', label: 'Burial Location', type: 'text', required: false },\n    ],\n    sortFields: [\n      { field: 'lastname', label: 'Last Name' },\n      { field: 'name', label: 'First Name' },\n      { field: 'deceased_date', label: 'Date of Death' },\n      { field: 'burial_date', label: 'Burial Date' },\n    ],\n  },\n};\n","import React, { useState, useEffect, useMemo, useCallback } from 'react';\nimport {\n  Box,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  TablePagination,\n  TableSortLabel,\n  TextField,\n  Button,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Typography,\n  Chip,\n  IconButton,\n  MenuItem,\n  Select,\n  FormControl,\n  InputLabel,\n  Grid,\n  Alert,\n  CircularProgress,\n  Tooltip,\n  Card,\n  CardContent,\n  Snackbar,\n  Stack,\n  Divider,\n  Drawer,\n  Collapse,\n} from '@mui/material';\nimport {\n  Add as AddIcon,\n  Edit as EditIcon,\n  Delete as DeleteIcon,\n  Search as SearchIcon,\n  FilterList as FilterIcon,\n  GetApp as ExportIcon,\n  Assessment as ReportIcon,\n  Visibility as ViewIcon,\n  Palette as PaletteIcon,\n  Settings as SettingsIcon,\n  Lock as LockIcon,\n  LockOpen as LockOpenIcon,\n  TableChart as TableChartIcon,\n  ViewList as ViewListIcon,\n  ExpandLess as IconChevronUp,\n  ChevronLeft as ChevronLeftIcon,\n  ChevronRight as ChevronRightIcon,\n} from '@mui/icons-material';\nimport { useTableStyleStore } from '@/store/useTableStyleStore';\nimport churchService, { Church } from '@/shared/lib/churchService';\nimport recordService from '@/shared/lib/recordService';\nimport TableControlPanel from '@/components/TableControlPanel';\nimport ColorPaletteSelector from '@/components/ColorPaletteSelector';\nimport { AGGridViewOnly } from '@/components/AGGridViewOnly/AGGridViewOnly';\nimport { ChurchRecord, RecordType as ChurchRecordType } from '@/types/church-records-advanced.types';\nimport ImportRecordsButton from '@/components/ImportRecordsButton';\nimport AdvancedGridDialog from '@/features/tables/AdvancedGridDialog';\nimport { FIELD_DEFINITIONS, RECORD_TYPES } from '@/features/records-centralized/constants';\nimport { formatRecordDate } from '@/utils/formatDate';\nimport { enhancedTableStore, THEME_MAP, LiturgicalThemeKey } from '@/store/enhancedTableStore';\nimport { AddRecordButton, AdvancedGridButton } from '@/components/records/BrandButtons';\nimport adminAPI from '@/api/admin.api';\n\n// Helper to safely parse JSON fields (godparents, witnesses)\nconst parseJsonField = (value: any): string[] => {\n  if (!value) return [];\n  if (Array.isArray(value)) return value;\n  if (typeof value === 'string') {\n    try {\n      const parsed = JSON.parse(value);\n      return Array.isArray(parsed) ? parsed : [value];\n    } catch {\n      // If not valid JSON, return as single item array\n      return value.trim() ? [value] : [];\n    }\n  }\n  return [];\n};\n\n// Helper to display JSON array fields as comma-separated string\nconst displayJsonField = (value: any): string => {\n  const arr = parseJsonField(value);\n  return arr.length > 0 ? arr.join(', ') : '';\n};\n\n// Types - Updated to match production schema (05_sacrament_tables.sql)\ninterface BaptismRecord {\n  id: string;\n  // Production schema fields (person_*)\n  person_first?: string;\n  person_middle?: string;\n  person_last?: string;\n  person_full?: string;\n  // Legacy field names for backwards compatibility\n  firstName?: string;\n  lastName?: string;\n  first_name?: string;\n  last_name?: string;\n  // Date fields\n  birth_date?: string;\n  baptism_date?: string;\n  dateOfBirth?: string;\n  dateOfBaptism?: string;\n  reception_date?: string;\n  // Location fields\n  place_name?: string;\n  placeOfBirth?: string;\n  placeOfBaptism?: string;\n  birthplace?: string;\n  // Parent fields\n  father_name?: string;\n  mother_name?: string;\n  fatherName?: string;\n  motherName?: string;\n  // Godparents - JSON in production, string in legacy\n  godparents?: string | string[];\n  godparentNames?: string;\n  sponsors?: string;\n  // Officiant field\n  officiant_name?: string;\n  priest?: string;\n  clergy?: string;\n  // Registry fields\n  certificate_no?: string;\n  book_no?: string;\n  page_no?: string;\n  entry_no?: string;\n  registryNumber?: string;\n  // Metadata fields (production schema)\n  source_system?: string;\n  source_row_id?: string;\n  source_hash?: string;\n  // Church fields\n  churchId?: string;\n  church_id?: number;\n  churchName?: string;\n  notes?: string;\n  // Marriage record fields\n  groom_first?: string;\n  groom_middle?: string;\n  groom_last?: string;\n  groom_full?: string;\n  fname_groom?: string;\n  lname_groom?: string;\n  bride_first?: string;\n  bride_middle?: string;\n  bride_last?: string;\n  bride_full?: string;\n  fname_bride?: string;\n  lname_bride?: string;\n  marriage_date?: string;\n  mdate?: string;\n  parentsg?: string;\n  parentsb?: string;\n  witness?: string;\n  witnesses?: string | string[];\n  mlicense?: string;\n  // Additional marriage fields for form\n  groomFirstName?: string;\n  groomLastName?: string;\n  brideFirstName?: string;\n  brideLastName?: string;\n  marriageDate?: string;\n  marriageLocation?: string;\n  witness1?: string;\n  witness2?: string;\n  // Funeral record fields (production: deceased_*)\n  deceased_first?: string;\n  deceased_middle?: string;\n  deceased_last?: string;\n  deceased_full?: string;\n  death_date?: string;\n  funeral_date?: string;\n  burial_place?: string;\n  cause_of_death?: string;\n  dateOfDeath?: string;\n  burialDate?: string;\n  burial_date?: string;\n  age?: string;\n  burialLocation?: string;\n  burial_location?: string;\n  name?: string;\n  lastname?: string;\n  // Timestamps\n  createdAt?: string;\n  updatedAt?: string;\n  created_at?: string;\n  updated_at?: string;\n  createdBy?: string;\n}\n\ninterface RecordType {\n  value: string;\n  label: string;\n  apiEndpoint: string;\n}\n\ntype SortDirection = 'asc' | 'desc';\n\ninterface SortConfig {\n  key: keyof BaptismRecord;\n  direction: SortDirection;\n}\n\n// Record types configuration\nconst recordTypes: RecordType[] = [\n  { value: 'baptism', label: 'Baptism Records', apiEndpoint: 'baptism' },\n  { value: 'marriage', label: 'Marriage Records', apiEndpoint: 'marriage' },\n  { value: 'funeral', label: 'Funeral Records', apiEndpoint: 'funeral' },\n];\n\n// Function to get column definitions based on record type\nconst getColumnDefinitions = (recordType: string) => {\n  switch (recordType) {\n    case 'marriage':\n      return FIELD_DEFINITIONS[RECORD_TYPES.MARRIAGE]?.tableColumns || [];\n    case 'funeral':\n      return FIELD_DEFINITIONS[RECORD_TYPES.FUNERAL]?.tableColumns || [];\n    case 'baptism':\n    default:\n      return FIELD_DEFINITIONS[RECORD_TYPES.BAPTISM]?.tableColumns || [];\n  }\n};\n\n// Function to get sort fields based on record type\nconst getSortFields = (recordType: string) => {\n  switch (recordType) {\n    case 'marriage':\n      return FIELD_DEFINITIONS[RECORD_TYPES.MARRIAGE]?.sortFields || [];\n    case 'funeral':\n      return FIELD_DEFINITIONS[RECORD_TYPES.FUNERAL]?.sortFields || [];\n    case 'baptism':\n    default:\n      return FIELD_DEFINITIONS[RECORD_TYPES.BAPTISM]?.sortFields || [];\n  }\n};\n\n// Function to get cell value based on column field and record type\n// Updated to support production schema (05_sacrament_tables.sql) with formatRecordDate\nconst getCellValue = (record: any, column: any) => {\n  if (column.valueGetter) {\n    try {\n      return column.valueGetter({ data: record });\n    } catch (error) {\n      // If valueGetter fails, fall through to switch statement\n      console.warn('valueGetter failed:', error);\n    }\n  }\n  \n  // Handle all field mappings with fallbacks - support both production and legacy schemas\n  switch (column.field) {\n    // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n    // BAPTISM RECORD MAPPINGS (Saints Peter & Paul schema)\n    // first_name, last_name, birth_date, reception_date, birthplace,\n    // entry_type, sponsors, parents, clergy\n    // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n    case 'first_name':\n    case 'person_first':\n      return record.person_first || record.first_name || record.firstName || '';\n    case 'middle_name':\n    case 'person_middle':\n      return record.person_middle || record.middle_name || '';\n    case 'last_name':\n    case 'person_last':\n      return record.person_last || record.last_name || record.lastName || '';\n    case 'person_full':\n      // Generated column in production, compute if not present\n      if (record.person_full) return record.person_full;\n      const bapFirst = record.person_first || record.first_name || record.firstName || '';\n      const bapMiddle = record.person_middle || '';\n      const bapLast = record.person_last || record.last_name || record.lastName || '';\n      return [bapFirst, bapMiddle, bapLast].filter(Boolean).join(' ').trim() || '';\n    case 'clergy':\n    case 'officiant_name':\n      return record.officiant_name || record.clergy || record.priest || '';\n    case 'reception_date':\n    case 'baptism_date':\n      return formatRecordDate(record.baptism_date || record.reception_date || record.dateOfBaptism) || '';\n    case 'birth_date':\n      return formatRecordDate(record.birth_date || record.dateOfBirth) || '';\n    case 'birthplace':\n    case 'place_name':\n      return record.place_name || record.birthplace || record.placeOfBirth || record.placeOfBaptism || '';\n    case 'sponsors':\n    case 'godparents':\n      // Handle JSON godparents array from production or string from legacy\n      return displayJsonField(record.godparents) || record.sponsors || record.godparentNames || '';\n    case 'entry_type':\n      // Check all possible field names: snake_case, camelCase, and _originalRecord\n      return record.entry_type || record.entryType || record._originalRecord?.entry_type || record.originalRecord?.entry_type || '';\n    case 'parents':\n      // Combined parents field - may be stored as single field or computed from father/mother\n      if (record.parents) return record.parents;\n      const father = record.father_name || record.fatherName || '';\n      const mother = record.mother_name || record.motherName || '';\n      if (father && mother) return `${father} & ${mother}`;\n      return father || mother || '';\n    case 'father_name':\n      return record.father_name || record.fatherName || '';\n    case 'mother_name':\n      return record.mother_name || record.motherName || '';\n    \n    // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n    // MARRIAGE RECORD MAPPINGS (Saints Peter & Paul schema)\n    // fname_groom, lname_groom, fname_bride, lname_bride, mdate,\n    // parentsg, parentsb, witness, mlicense, clergy\n    // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n    case 'fname_groom':\n    case 'groom_first':\n      return record.fname_groom || record.groom_first || record.groomFirstName || '';\n    case 'groom_middle':\n      return record.groom_middle || '';\n    case 'lname_groom':\n    case 'groom_last':\n      return record.lname_groom || record.groom_last || record.groomLastName || '';\n    case 'groom_full':\n      if (record.groom_full) return record.groom_full;\n      const gFirst = record.fname_groom || record.groom_first || record.groomFirstName || '';\n      const gMiddle = record.groom_middle || '';\n      const gLast = record.lname_groom || record.groom_last || record.groomLastName || '';\n      return [gFirst, gMiddle, gLast].filter(Boolean).join(' ').trim() || '';\n    case 'fname_bride':\n    case 'bride_first':\n      return record.fname_bride || record.bride_first || record.brideFirstName || '';\n    case 'bride_middle':\n      return record.bride_middle || '';\n    case 'lname_bride':\n    case 'bride_last':\n      return record.lname_bride || record.bride_last || record.brideLastName || '';\n    case 'bride_full':\n      if (record.bride_full) return record.bride_full;\n      const bFirst = record.fname_bride || record.bride_first || record.brideFirstName || '';\n      const bMiddle = record.bride_middle || '';\n      const bLast = record.lname_bride || record.bride_last || record.brideLastName || '';\n      return [bFirst, bMiddle, bLast].filter(Boolean).join(' ').trim() || '';\n    case 'mdate':\n    case 'marriage_date':\n      return formatRecordDate(record.mdate || record.marriage_date || record.marriageDate) || '';\n    case 'marriage_place':\n      return record.place_name || record.marriage_place || record.marriageLocation || '';\n    case 'parentsg':\n      return record.parentsg || record.groomParents || '';\n    case 'parentsb':\n      return record.parentsb || record.brideParents || '';\n    case 'witness':\n    case 'witnesses':\n      // Handle JSON witnesses array from production or string from legacy\n      return displayJsonField(record.witnesses) || record.witness || '';\n    case 'mlicense':\n      return record.mlicense || record.marriageLicense || '';\n    \n    // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n    // FUNERAL RECORD MAPPINGS (Saints Peter & Paul - actual MySQL columns)\n    // Table columns: name, lastname, deceased_date, burial_date, \n    //                age, clergy, burial_location\n    // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n    case 'name':\n      // For funeral records, 'name' is the deceased's first name\n      return record.name || record.firstName || record.first_name || '';\n    case 'lastname':\n      return record.lastname || record.lastName || record.last_name || '';\n    case 'deceased_date':\n      return formatRecordDate(record.deceased_date || record.date_of_death || record.dateOfDeath) || '';\n    case 'burial_date':\n      // Check all possible field names: snake_case, camelCase, and _originalRecord\n      return formatRecordDate(\n        record.burial_date || \n        record.burialDate || \n        record.dateOfFuneral ||  // Backend transformer uses this name\n        record._originalRecord?.burial_date ||\n        record.originalRecord?.burial_date\n      ) || '';\n    case 'age':\n      return record.age || '';\n    case 'burial_location':\n      return record.burial_location || record.burialLocation || record.cemetery || '';\n    // Legacy field support\n    case 'deceased_full':\n      if (record.deceased_full) return record.deceased_full;\n      const dFirst = record.name || record.firstName || record.first_name || '';\n      const dLast = record.lastname || record.lastName || record.last_name || '';\n      return [dFirst, dLast].filter(Boolean).join(' ').trim() || '';\n    case 'notes':\n      return record.notes || record.note || '';\n    \n    // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n    // METADATA FIELDS (production schema)\n    // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n    case 'source_system':\n      return record.source_system || '';\n    case 'source_hash':\n      return record.source_hash || '';\n    case 'source_row_id':\n      return record.source_row_id || '';\n    case 'certificate_no':\n      return record.certificate_no || record.registryNumber || '';\n    case 'book_no':\n      return record.book_no || '';\n    case 'page_no':\n      return record.page_no || '';\n    case 'entry_no':\n      return record.entry_no || '';\n    \n    default:\n      // For any other fields not explicitly mapped\n      // Check if it's a date field by name pattern\n      const isDateField = column.field && (\n        column.field.includes('date') || \n        column.field.includes('Date') ||\n        column.field.includes('_date')\n      );\n      if (isDateField || column.cellRenderer === 'dateRenderer') {\n        return formatRecordDate(record[column.field]) || '';\n      }\n      const value = record[column.field];\n      if (value !== undefined && value !== null && value !== '') {\n        return value;\n      }\n      return '';\n  }\n};\n\n// Mock data removed - now using live API calls\n\nconst BaptismRecordsPage: React.FC = () => {\n  // State management\n  const [records, setRecords] = useState<BaptismRecord[]>([]);\n  const [churches, setChurches] = useState<Church[]>([]);\n  const [loading, setLoading] = useState<boolean>(false);\n  const [error, setError] = useState<string | null>(null);\n  const [page, setPage] = useState<number>(0);\n  const [rowsPerPage, setRowsPerPage] = useState<number>(10);\n  const [searchTerm, setSearchTerm] = useState<string>('');\n  const [selectedChurch, setSelectedChurch] = useState<number>(0);\n  const [selectedRecordType, setSelectedRecordType] = useState<string>('baptism');\n  const [sortConfig, setSortConfig] = useState<SortConfig>({ key: 'dateOfBaptism', direction: 'desc' });\n  const [dialogOpen, setDialogOpen] = useState<boolean>(false);\n  const [editingRecord, setEditingRecord] = useState<BaptismRecord | null>(null);\n  const [snackbarOpen, setSnackbarOpen] = useState(false);\n  const [snackbarMessage, setSnackbarMessage] = useState('');\n  const [priestOptions, setPriestOptions] = useState<string[]>([]);\n  \n  // Theme Editor States\n  const [themeDrawerOpen, setThemeDrawerOpen] = useState(false);\n  const [selectedElement, setSelectedElement] = useState<'header' | 'row' | 'cell' | null>(null);\n  \n  // Table View Mode State\n  const [useAgGrid, setUseAgGrid] = useState(false);\n  \n  // Advanced Grid Modal State\n  const [advancedGridOpen, setAdvancedGridOpen] = useState(false);\n\n  // View Details Dialog state\n  const [viewDialogOpen, setViewDialogOpen] = useState<boolean>(false);\n  const [viewingRecord, setViewingRecord] = useState<BaptismRecord | null>(null);\n  const [viewingRecordIndex, setViewingRecordIndex] = useState<number>(-1);\n\n  // Collapsible Panel State\n  const [isFiltersCollapsed, setIsFiltersCollapsed] = useState<boolean>(false);\n\n  // Toast state\n  const [toastOpen, setToastOpen] = useState<boolean>(false);\n  const [toastMessage, setToastMessage] = useState<string>('');\n  const [toastSeverity, setToastSeverity] = useState<'success' | 'error' | 'info'>('success');\n\n  // Toast helper functions\n  const showToast = (message: string, severity: 'success' | 'error' | 'info' = 'success') => {\n    setToastMessage(message);\n    setToastSeverity(severity);\n    setToastOpen(true);\n  };\n\n  // API functions\n  const fetchChurches = async () => {\n    try {\n      setLoading(true);\n      console.log('üîç Fetching churches...');\n      \n      const churchData = await churchService.fetchChurches();\n      \n      // Add \"All Churches\" option at the beginning\n      const allChurchesOption: Church = {\n        id: 0, // Use 0 for \"all\" option\n        church_name: 'All Churches',\n        email: '',\n        is_active: true,\n        has_baptism_records: true,\n        has_marriage_records: true,\n        has_funeral_records: true,\n        setup_complete: true,\n        created_at: '',\n        updated_at: ''\n      };\n      \n      setChurches([allChurchesOption, ...churchData]);\n      console.log(`‚úÖ Successfully loaded ${churchData.length} churches`);\n    } catch (err) {\n      console.error('‚ùå Error fetching churches:', err);\n      setError('Failed to fetch churches');\n      showToast('Failed to load churches', 'error');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchRecords = async (recordType: string, churchId?: number) => {\n    if (!recordType) return;\n    \n    try {\n      setLoading(true);\n      setError(null);\n      \n      console.log(`üîç Fetching ${recordType} records for church ${churchId}...`);\n      \n      // Find the record type configuration\n      const selectedType = recordTypes.find(type => type.value === recordType);\n      if (!selectedType) {\n        throw new Error('Invalid record type selected');\n      }\n      \n      // Use the church service if a specific church is selected, otherwise get all records\n      let recordData;\n      if (churchId && churchId !== 0) {\n        recordData = await churchService.fetchChurchRecords(churchId, selectedType.apiEndpoint, {\n          page: 1,\n          limit: 1000, // Get all records for now\n          search: searchTerm\n        });\n      } else {\n        // Fetch all records across all churches using the direct API\n        const response = await fetch(`/api/${selectedType.apiEndpoint}-records?limit=1000&search=${encodeURIComponent(searchTerm)}`);\n        const data = await response.json();\n        \n        if (data && data.records) {\n          recordData = {\n            records: data.records,\n            totalRecords: data.totalRecords || data.records.length,\n            currentPage: data.currentPage || 1,\n            totalPages: data.totalPages || 1\n          };\n        } else {\n          throw new Error('Failed to fetch records from API');\n        }\n      }\n      \n      setRecords(recordData.records || []);\n      setPage(0); // Reset pagination when records change\n      \n      // Debug: Log the first record to see its structure\n      if (recordData.records && recordData.records.length > 0) {\n        console.log(`üìÑ Sample ${recordType} record structure:`, recordData.records[0]);\n        console.log(`üìÑ Record fields:`, Object.keys(recordData.records[0]));\n        \n        // DEV-ONLY: Verify critical fields are present in API response\n        if (process.env.NODE_ENV === 'development') {\n          const sampleRecord = recordData.records[0];\n          const criticalFields: Record<string, string[]> = {\n            baptism: ['entry_type', 'first_name', 'last_name', 'birth_date', 'reception_date'],\n            funeral: ['burial_date', 'deceased_date', 'name', 'lastname', 'age'],\n            marriage: ['mdate', 'fname_groom', 'lname_groom', 'fname_bride', 'lname_bride'],\n          };\n          \n          const expectedFields = criticalFields[recordType] || [];\n          const missingFields = expectedFields.filter(field => \n            sampleRecord[field] === undefined && \n            sampleRecord.originalRecord?.[field] === undefined\n          );\n          \n          if (missingFields.length > 0) {\n            console.warn(`‚ö†Ô∏è [DEV] Missing expected fields in ${recordType} records:`, missingFields);\n            console.warn(`‚ö†Ô∏è [DEV] If adding DB columns, update FIELD_DEFINITIONS in constants/index.ts`);\n          }\n        }\n      }\n      \n      const recordCount = recordData.records?.length || 0;\n      console.log(`‚úÖ Successfully loaded ${recordCount} ${selectedType.label.toLowerCase()}`);\n      showToast(`Loaded ${recordCount} ${selectedType.label.toLowerCase()}`, 'success');\n      \n    } catch (err) {\n      console.error(`‚ùå Error fetching ${recordType} records:`, err);\n      setError(err instanceof Error ? err.message : 'Failed to fetch records');\n      \n      // No more mock data fallback - show error to user\n      console.error('‚ùå API failed, no records loaded');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchPriestOptions = async (recordType: string) => {\n    try {\n      const selectedType = recordTypes.find(type => type.value === recordType);\n      if (!selectedType) return;\n\n      // Determine the table name based on record type\n      const tableName = `${selectedType.apiEndpoint}_records`;\n      \n      console.log(`üîç Fetching priest options from ${tableName}...`);\n      \n      const response = await fetch(`/api/${selectedType.apiEndpoint}-records/dropdown-options/clergy?table=${tableName}`);\n      const data = await response.json();\n      \n      if (data && data.values) {\n        // Filter out null/empty values and sort alphabetically\n        const validPriests = data.values\n          .filter((priest: string) => priest && priest.trim() !== '')\n          .sort((a: string, b: string) => a.localeCompare(b));\n        \n        setPriestOptions(validPriests);\n        console.log(`‚úÖ Loaded ${validPriests.length} priest options`);\n      }\n    } catch (err) {\n      console.error('‚ùå Error fetching priest options:', err);\n      setPriestOptions([]);\n    }\n  };\n\n  // Effects\n  useEffect(() => {\n    fetchChurches();\n    // Note: Removed auto-fetch of records to improve initial page load performance\n    // Records will be fetched when user explicitly selects a record type\n  }, []);\n\n  useEffect(() => {\n    if (selectedRecordType) {\n      fetchRecords(selectedRecordType, selectedChurch);\n      fetchPriestOptions(selectedRecordType); // Fetch priest options when record type changes\n    }\n  }, [selectedRecordType, selectedChurch]);\n\n  // Form state\n  const [formData, setFormData] = useState<Partial<BaptismRecord> & { customPriest?: boolean }>({\n    firstName: '',\n    lastName: '',\n    dateOfBirth: '',\n    dateOfBaptism: '',\n    placeOfBirth: '',\n    placeOfBaptism: '',\n    fatherName: '',\n    motherName: '',\n    godparentNames: '',\n    priest: '',\n    registryNumber: '',\n    churchId: selectedChurch === 0 ? '1' : selectedChurch.toString(),\n    notes: '',\n    customPriest: false,\n  });\n\n  // Theme store integration\n  const { \n    currentTheme, \n    isLiturgicalMode,\n    tableTheme,\n    setHeaderColor,\n    getTableHeaderStyle,\n    getTableRowStyle,\n    getTableCellStyle \n  } = useTableStyleStore();\n\n  // Convert records to ChurchRecord format for AG Grid\n  const convertToChurchRecords = useCallback((inputRecords: BaptismRecord[]): ChurchRecord[] => {\n    if (!inputRecords || !Array.isArray(inputRecords)) {\n      console.warn('convertToChurchRecords: Invalid records input', inputRecords);\n      return [];\n    }\n\n    try {\n      const convertedRecords = inputRecords.map((originalRecord, index) => {\n        if (!originalRecord) {\n          console.warn('convertToChurchRecords: Null record found at index', index);\n          return null;\n        }\n\n        try {\n          // Build fields array based on record type\n          let fields = [\n            { key: 'registryNumber', label: 'Registry #', value: originalRecord.registryNumber || '', type: 'text' as const, editable: false },\n          ];\n\n          if (selectedRecordType === 'marriage') {\n            // For marriage records, combine groom and bride names\n            const groomName = `${originalRecord.fname_groom || ''} ${originalRecord.lname_groom || ''}`.trim();\n            const brideName = `${originalRecord.fname_bride || ''} ${originalRecord.lname_bride || ''}`.trim();\n            \n            fields.push(\n              { key: 'groom', label: 'Groom', value: groomName, type: 'text' as const, editable: false },\n              { key: 'bride', label: 'Bride', value: brideName, type: 'text' as const, editable: false },\n              { key: 'mdate', label: 'Date', value: originalRecord.mdate || '', type: 'text' as const, editable: false },\n              { key: 'churchName', label: 'Church', value: originalRecord.churchName || '', type: 'text' as const, editable: false },\n              { key: 'clergy', label: 'Priest', value: originalRecord.clergy || '', type: 'text' as const, editable: false }\n            );\n          } else {\n            // For baptism and funeral records\n            fields.push(\n              { key: 'firstName', label: 'First Name', value: originalRecord.firstName || '', type: 'text' as const, editable: false },\n              { key: 'lastName', label: 'Last Name', value: originalRecord.lastName || '', type: 'text' as const, editable: false },\n              { key: 'dateOfBaptism', label: 'Date', value: originalRecord.dateOfBaptism || '', type: 'text' as const, editable: false },\n              { key: 'churchName', label: 'Church', value: originalRecord.churchName || '', type: 'text' as const, editable: false },\n              { key: 'priest', label: 'Priest', value: originalRecord.priest || '', type: 'text' as const, editable: false }\n            );\n          }\n\n          const churchRecord: ChurchRecord = {\n            id: originalRecord.id || `record-${index}`,\n            recordType: (selectedRecordType as 'baptism' | 'marriage' | 'funeral') || 'baptism',\n            fields: fields,\n            metadata: {\n              churchId: parseInt(originalRecord.churchId) || 1,\n              createdBy: 1,\n              createdAt: new Date(),\n              updatedAt: undefined,\n              status: 'active' as const,\n              version: 1\n            },\n            colorOverrides: {},\n            tags: []\n          };\n          return churchRecord;\n        } catch (recordError) {\n          console.error('Error converting individual record at index', index, recordError);\n          return null;\n        }\n      });\n\n      const validRecords = convertedRecords.filter(Boolean) as ChurchRecord[];\n      console.log(`Converted ${validRecords.length} out of ${inputRecords.length} records for AG Grid`);\n      return validRecords;\n    } catch (conversionError) {\n      console.error('Error in convertToChurchRecords:', conversionError);\n      return [];\n    }\n  }, [selectedRecordType]);\n\n  // Filtered and sorted records\n  const filteredAndSortedRecords = useMemo(() => {\n    let filtered = records;\n\n    // Filter by search term\n    if (searchTerm) {\n      const searchLower = searchTerm.toLowerCase();\n      filtered = filtered.filter(record =>\n        Object.values(record).some(value =>\n          value?.toString().toLowerCase().includes(searchLower)\n        )\n      );\n    }\n\n    // Note: Church filtering is now handled by API call in fetchRecords\n    // No need to filter by church here since fetchRecords already handles it\n\n    // Sort records\n    filtered.sort((recordA, recordB) => {\n      const aValue = (recordA[sortConfig.key] ?? '').toString();\n      const bValue = (recordB[sortConfig.key] ?? '').toString();\n      \n      if (aValue < bValue) {\n        return sortConfig.direction === 'asc' ? -1 : 1;\n      }\n      if (aValue > bValue) {\n        return sortConfig.direction === 'asc' ? 1 : -1;\n      }\n      return 0;\n    });\n\n    return filtered;\n  }, [records, searchTerm, sortConfig]);\n\n  // Paginated records\n  const paginatedRecords = useMemo(() => {\n    let sorted = [...records];\n    // Sort records\n    sorted.sort((recordA, recordB) => {\n      const aValue = (recordA[sortConfig.key] ?? '').toString();\n      const bValue = (recordB[sortConfig.key] ?? '').toString();\n      if (aValue < bValue) {\n        return sortConfig.direction === 'asc' ? -1 : 1;\n      }\n      if (aValue > bValue) {\n        return sortConfig.direction === 'asc' ? 1 : -1;\n      }\n      return 0;\n    });\n    // Filter by search term\n    let filtered = sorted;\n    if (searchTerm) {\n      const searchLower = searchTerm.toLowerCase();\n      filtered = filtered.filter(record =>\n        Object.values(record).some(value =>\n          value?.toString().toLowerCase().includes(searchLower)\n        )\n      );\n    }\n    const startIndex = page * rowsPerPage;\n    return filtered.slice(startIndex, startIndex + rowsPerPage);\n  }, [records, searchTerm, sortConfig, page, rowsPerPage]);\n\n  // Handlers\n  const handleSort = (key: keyof BaptismRecord) => {\n    setSortConfig(prev => ({\n      key,\n      direction: prev.key === key && prev.direction === 'asc' ? 'desc' : 'asc',\n    }));\n  };\n\n  const handleChangePage = (_: unknown, newPage: number) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setRowsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n  };\n\n  const handleAddRecord = () => {\n    setEditingRecord(null);\n    setFormData({\n      firstName: '',\n      lastName: '',\n      dateOfBirth: '',\n      dateOfBaptism: '',\n      placeOfBirth: '',\n      placeOfBaptism: '',\n      fatherName: '',\n      motherName: '',\n      godparentNames: '',\n      priest: '',\n      registryNumber: '',\n      churchId: selectedChurch === 0 ? '1' : selectedChurch.toString(),\n      notes: '',\n      customPriest: false,\n    });\n    setDialogOpen(true);\n  };\n\n  const handleEditRecord = (record: BaptismRecord) => {\n    setEditingRecord(record);\n    setFormData(record);\n    setDialogOpen(true);\n  };\n\n  const handleViewRecord = (record: BaptismRecord) => {\n    // Find the index of the record in the filtered list for navigation\n    const index = filteredAndSortedRecords.findIndex(r => r.id === record.id);\n    setViewingRecord(record);\n    setViewingRecordIndex(index);\n    setViewDialogOpen(true);\n  };\n\n  // Navigate to previous record in View Details dialog\n  const handlePreviousRecord = () => {\n    if (viewingRecordIndex > 0) {\n      const prevIndex = viewingRecordIndex - 1;\n      setViewingRecord(filteredAndSortedRecords[prevIndex]);\n      setViewingRecordIndex(prevIndex);\n    }\n  };\n\n  // Navigate to next record in View Details dialog\n  const handleNextRecord = () => {\n    if (viewingRecordIndex < filteredAndSortedRecords.length - 1) {\n      const nextIndex = viewingRecordIndex + 1;\n      setViewingRecord(filteredAndSortedRecords[nextIndex]);\n      setViewingRecordIndex(nextIndex);\n    }\n  };\n\n  // Close View Details dialog\n  const handleCloseViewDialog = () => {\n    setViewDialogOpen(false);\n    setViewingRecord(null);\n    setViewingRecordIndex(-1);\n  };\n\n  // Edit from View Details dialog\n  const handleEditFromView = () => {\n    if (viewingRecord) {\n      handleCloseViewDialog();\n      handleEditRecord(viewingRecord);\n    }\n  };\n\n  // Generate Certificate (for baptism and marriage records)\n  const handleGenerateCertificate = () => {\n    if (!viewingRecord) return;\n    \n    // Navigate to certificate generation page with record data\n    // Use churchId from record, selectedChurch, or first available church\n    let churchId = viewingRecord.church_id || selectedChurch;\n    if (!churchId || churchId === 0) {\n      // Fallback to first available church from the churches list\n      churchId = churches.length > 0 ? churches[0].id : 46;\n    }\n    const certUrl = `/apps/certificates/generate?recordType=${selectedRecordType}&recordId=${viewingRecord.id}&churchId=${churchId}`;\n    window.open(certUrl, '_blank');\n  };\n\n  // Get record display name for View Details title\n  const getRecordDisplayName = (record: BaptismRecord | null): string => {\n    if (!record) return '';\n    \n    if (selectedRecordType === 'marriage') {\n      const groomName = `${record.fname_groom || record.groom_first || ''} ${record.lname_groom || record.groom_last || ''}`.trim();\n      const brideName = `${record.fname_bride || record.bride_first || ''} ${record.lname_bride || record.bride_last || ''}`.trim();\n      return `${groomName} & ${brideName}`;\n    } else if (selectedRecordType === 'funeral') {\n      return `${record.deceased_first || record.firstName || ''} ${record.deceased_last || record.lastName || ''}`.trim();\n    } else {\n      return `${record.person_first || record.firstName || ''} ${record.person_last || record.lastName || ''}`.trim();\n    }\n  };\n\n  const handleDeleteRecord = async (recordId: string) => {\n    if (window.confirm('Are you sure you want to delete this record?')) {\n      try {\n        setLoading(true);\n        // TODO: Implement actual API call\n        // await recordService.deleteRecord('baptism', recordId);\n        \n        setRecords(prev => prev.filter(r => r.id !== recordId));\n        showToast('Record deleted successfully', 'success');\n      } catch (err) {\n        console.error('Delete error:', err);\n        showToast('Failed to delete record', 'error');\n      } finally {\n        setLoading(false);\n      }\n    }\n  };\n\n  const handleSaveRecord = async () => {\n    try {\n      setLoading(true);\n      \n      // Basic validation\n      if (!formData.firstName || !formData.lastName || !formData.dateOfBaptism) {\n        showToast('Please fill in required fields', 'error');\n        return;\n      }\n\n      const churchName = churches.find(c => c.id.toString() === formData.churchId)?.church_name || '';\n      \n      if (editingRecord) {\n        // Update existing record\n        const updatedRecord: BaptismRecord = {\n          ...editingRecord,\n          ...formData,\n          churchName,\n          updatedAt: new Date().toISOString(),\n        } as BaptismRecord;\n        \n        // TODO: Implement actual API call\n        // await recordService.updateRecord('baptism', editingRecord.id, updatedRecord);\n        \n        setRecords(prev => prev.map(r => r.id === editingRecord.id ? updatedRecord : r));\n        showToast('Record updated successfully', 'success');\n      } else {\n        // Create new record\n        const newRecord: BaptismRecord = {\n          ...formData,\n          id: Date.now().toString(),\n          churchName,\n          createdAt: new Date().toISOString(),\n          updatedAt: new Date().toISOString(),\n          createdBy: 'current-user@church.org', // TODO: Get from auth context\n        } as BaptismRecord;\n        \n        // TODO: Implement actual API call\n        // await recordService.createRecord('baptism', newRecord);\n        \n        setRecords(prev => [...prev, newRecord]);\n        showToast('Record created successfully', 'success');\n      }\n      \n      setDialogOpen(false);\n    } catch (err) {\n      console.error('Save error:', err);\n      showToast('Failed to save record', 'error');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Navigate to Interactive Reports with pre-selected record type\n  const handleGenerateReport = () => {\n    const reportUrl = `/apps/interactive-reports/create?recordType=${selectedRecordType}&churchId=${selectedChurch?.id || \"\"}`;\n    window.location.href = reportUrl;\n  };\n\n  const handleExport = () => {\n    // TODO: Implement export functionality\n    showToast('Export functionality coming soon', 'info');\n  };\n\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleDateString();\n  };\n\n  // Effect to update church selection when theme changes\n  useEffect(() => {\n    if (selectedChurch === 0 && formData.churchId === '0') {\n      setFormData(prev => ({ ...prev, churchId: '1' }));\n    }\n  }, [selectedChurch, formData.churchId]);\n\n  // Debug logging for record state\n  useEffect(() => {\n    console.log('üêõ DEBUG - Records state:', {\n      recordsLength: records.length,\n      records: records,\n      selectedRecordType,\n      selectedChurch,\n      loading,\n      error\n    });\n  }, [records, selectedRecordType, selectedChurch, loading, error]);\n\n  // Debug logging for filtered records\n  useEffect(() => {\n    console.log('üêõ DEBUG - Filtered records:', {\n      filteredLength: filteredAndSortedRecords.length,\n      paginatedLength: paginatedRecords.length,\n      searchTerm,\n      page,\n      rowsPerPage\n    });\n  }, [filteredAndSortedRecords, paginatedRecords, searchTerm, page, rowsPerPage]);\n\n  if (error) {\n    return (\n      <Box sx={{ p: 3 }}>\n        <Alert severity=\"error\">{error}</Alert>\n      </Box>\n    );\n  }\n\n    return (\n    <Box sx={{ \n      width: '100%', \n      maxWidth: 'none',\n          '& .MuiContainer-root': {\n            maxWidth: 'none !important',\n            paddingLeft: 0,\n            paddingRight: 0\n          }\n        }}>\n          {/* Collapsible Header & Controls */}\n          {!isFiltersCollapsed && (\n            <Card sx={{ mb: 3 }}>\n              <CardContent sx={{ pb: 1 }}>\n                {/* Collapse/Expand Button */}\n                <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 2 }}>\n                  <Typography variant=\"h4\" component=\"h1\">\n                    Records Management System\n                  </Typography>\n                  <IconButton\n                    onClick={() => setIsFiltersCollapsed(true)}\n                    sx={{ \n                      transition: 'transform 0.2s ease-in-out',\n                      transform: isFiltersCollapsed ? 'rotate(180deg)' : 'rotate(0deg)',\n                    }}\n                  >\n                    <IconChevronUp />\n                  </IconButton>\n                </Box>\n                {/* Collapsible Content */}\n                <Collapse in={!isFiltersCollapsed}>\n                  <Box>\n                    {/* Description and Theme Status */}\n                    <Stack direction={{ xs: 'column', sm: 'row' }} justifyContent=\"space-between\" alignItems={{ xs: 'flex-start', sm: 'center' }} sx={{ mb: 3 }}>\n                      <Typography variant=\"body1\" color=\"text.secondary\">\n                        Manage church records with Orthodox Table Theme Editor integration\n                      </Typography>\n                      \n                      {/* Theme Status Indicator */}\n                      <Box sx={{ mt: { xs: 2, sm: 0 } }}>\n                        <Chip\n                          icon={<PaletteIcon />}\n                          label={`Theme: ${currentTheme}`}\n                          variant=\"outlined\"\n                          size=\"small\"\n                          sx={{ \n                            borderColor: tableTheme.headerColor,\n                            color: tableTheme.headerColor,\n                            '& .MuiChip-icon': { color: tableTheme.headerColor }\n                          }}\n                        />\n                        {isLiturgicalMode && (\n                          <Chip\n                            label=\"Liturgical Mode\"\n                            size=\"small\"\n                            color=\"secondary\"\n                            sx={{ ml: 1 }}\n                          />\n                        )}\n                      </Box>\n                    </Stack>\n                    <Stack spacing={2}>\n                {/* First Row: Church and Record Type Selection */}\n                <Stack direction={{ xs: 'column', sm: 'row' }} spacing={2} alignItems=\"center\">\n                  <FormControl sx={{ minWidth: 200 }}>\n                    <InputLabel>Select Church</InputLabel>\n                    <Select\n                      value={selectedChurch}\n                      label=\"Select Church\"\n                      onChange={(e) => setSelectedChurch(e.target.value)}\n                      disabled={loading}\n                    >\n                      {churches.map((church) => (\n                        <MenuItem key={church.id} value={church.id}>\n                          {church.church_name}\n                        </MenuItem>\n                      ))}\n                    </Select>\n                  </FormControl>\n                  \n                  <FormControl sx={{ minWidth: 200 }}>\n                    <InputLabel>Select Record Table</InputLabel>\n                    <Select\n                      value={selectedRecordType}\n                      label=\"Select Record Table\"\n                      onChange={(e) => setSelectedRecordType(e.target.value)}\n                      disabled={loading}\n                    >\n                      {recordTypes.map((type) => (\n                        <MenuItem key={type.value} value={type.value}>\n                          {type.label}\n                        </MenuItem>\n                      ))}\n                    </Select>\n                  </FormControl>\n                  \n                  {selectedRecordType && (\n                    <Typography variant=\"body2\" color=\"text.secondary\" sx={{ fontStyle: 'italic' }}>\n                      {recordTypes.find(type => type.value === selectedRecordType)?.label} - {churches.find(church => church.id === selectedChurch)?.church_name}\n                    </Typography>\n                  )}\n                </Stack>\n                \n                {/* Second Row: Search and Action Buttons (only show when record type is selected) */}\n                {selectedRecordType && (\n                  <Stack direction={{ xs: 'column', sm: 'row' }} spacing={2} alignItems=\"center\">\n                    <TextField\n                      label=\"Search Records\"\n                      value={searchTerm}\n                      onChange={(e) => setSearchTerm(e.target.value)}\n                      InputProps={{\n                        startAdornment: <SearchIcon sx={{ mr: 1, color: 'text.secondary' }} />,\n                      }}\n                      sx={{ minWidth: 200 }}\n                      disabled={loading}\n                    />\n                    \n                    {/* Enhanced Stylish Button Group */}\n                    <Stack direction=\"row\" spacing={1} sx={{ \n                      p: 1, \n                      bgcolor: 'background.paper',\n                      borderRadius: 2,\n                      border: '1px solid',\n                      borderColor: 'divider',\n                      boxShadow: 1\n                    }}>\n                      <Button\n                        variant=\"contained\"\n                        startIcon={<AddIcon />}\n                        onClick={handleAddRecord}\n                        disabled={loading}\n                        sx={{ \n                          background: 'linear-gradient(45deg, #2196F3 30%, #21CBF3 90%)',\n                          boxShadow: '0 3px 5px 2px rgba(33, 203, 243, .3)',\n                          '&:hover': {\n                            background: 'linear-gradient(45deg, #1976D2 30%, #1A9FCC 90%)',\n                            transform: 'translateY(-1px)',\n                            boxShadow: '0 4px 8px 2px rgba(33, 203, 243, .4)',\n                          }\n                        }}\n                      >\n                        Add Record\n                      </Button>\n                      \n                      <Button\n                        variant=\"contained\"\n                        startIcon={<AddIcon />}\n                        onClick={() => {/* TODO: Import functionality */}}\n                        disabled={loading}\n                        sx={{ \n                          background: 'linear-gradient(45deg, #4CAF50 30%, #8BC34A 90%)',\n                          boxShadow: '0 3px 5px 2px rgba(76, 175, 80, .3)',\n                          '&:hover': {\n                            background: 'linear-gradient(45deg, #388E3C 30%, #689F38 90%)',\n                            transform: 'translateY(-1px)',\n                            boxShadow: '0 4px 8px 2px rgba(76, 175, 80, .4)',\n                          }\n                        }}\n                      >\n                        Import Records\n                      </Button>\n                      \n                      <Button\n                        variant=\"contained\"\n                        startIcon={<PaletteIcon />}\n                        onClick={() => setThemeDrawerOpen(true)}\n                        disabled={loading}\n                        sx={{ \n                          background: 'linear-gradient(45deg, #FF9800 30%, #FFC107 90%)',\n                          boxShadow: '0 3px 5px 2px rgba(255, 152, 0, .3)',\n                          bgcolor: themeDrawerOpen ? 'action.selected' : 'transparent',\n                          '&:hover': {\n                            background: 'linear-gradient(45deg, #F57C00 30%, #FFA000 90%)',\n                            transform: 'translateY(-1px)',\n                            boxShadow: '0 4px 8px 2px rgba(255, 152, 0, .4)',\n                          }\n                        }}\n                      >\n                        Customize Table\n                      </Button>\n                      \n                      <Button\n                        variant=\"contained\"\n                        startIcon={<TableChartIcon />}\n                        onClick={() => setAdvancedGridOpen(true)}\n                        disabled={loading}\n                        sx={{ \n                          background: 'linear-gradient(45deg, #9C27B0 30%, #E91E63 90%)',\n                          boxShadow: '0 3px 5px 2px rgba(156, 39, 176, .3)',\n                          '&:hover': {\n                            background: 'linear-gradient(45deg, #7B1FA2 30%, #C2185B 90%)',\n                            transform: 'translateY(-1px)',\n                            boxShadow: '0 4px 8px 2px rgba(156, 39, 176, .4)',\n                          }\n                        }}\n                      >\n                        Advanced Grid\n                      </Button>\n                      \n                      <Button\n                        variant=\"outlined\"\n                        startIcon={useAgGrid ? <LockIcon /> : <LockOpenIcon />}\n                        onClick={() => setUseAgGrid(!useAgGrid)}\n                        disabled={loading}\n                        sx={{ \n                          borderColor: '#607D8B',\n                          color: '#607D8B',\n                          bgcolor: useAgGrid ? 'action.selected' : 'transparent',\n                          '&:hover': { \n                            bgcolor: 'action.hover',\n                            borderColor: '#455A64',\n                            color: '#455A64',\n                            transform: 'translateY(-1px)',\n                          }\n                        }}\n                      >\n                        {useAgGrid ? 'Standard View' : 'Standard View'}\n                      </Button>\n                      \n                      <Button\n                        variant=\"contained\"\n                        startIcon={<ExportIcon />}\n                        onClick={handleExport}\n                        disabled={loading}\n                        sx={{ \n                          background: 'linear-gradient(45deg, #795548 30%, #8D6E63 90%)',\n                          boxShadow: '0 3px 5px 2px rgba(121, 85, 72, .3)',\n                          '&:hover': {\n                            background: 'linear-gradient(45deg, #5D4037 30%, #6D4C41 90%)',\n                            transform: 'translateY(-1px)',\n                            boxShadow: '0 4px 8px 2px rgba(121, 85, 72, .4)',\n                          }\n                        }}\n                      >\n                        Export\n                      </Button>\n                      \n                      <Button\n                        variant=\"contained\"\n                        startIcon={<ReportIcon />}\n                        onClick={handleGenerateReport}\n                        disabled={loading || !selectedRecordType}\n                        sx={{ \n                          background: 'linear-gradient(45deg, #1565C0 30%, #1976D2 90%)',\n                          boxShadow: '0 3px 5px 2px rgba(21, 101, 192, .3)',\n                          '&:hover': {\n                            background: 'linear-gradient(45deg, #0D47A1 30%, #1565C0 90%)',\n                            transform: 'translateY(-1px)',\n                            boxShadow: '0 4px 8px 2px rgba(21, 101, 192, .4)',\n                          }\n                        }}\n                      >\n                        Generate Report\n                      </Button>\n                    </Stack>\n                  </Stack>\n                )}\n                \n                {/* Status Information */}\n                {selectedRecordType && (\n                  <Typography variant=\"body2\" color=\"text.secondary\">\n                    {loading ? (\n                      <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n                        <CircularProgress size={16} />\n                        Loading records...\n                      </Box>\n                    ) : (\n                      `${filteredAndSortedRecords.length} record(s) found`\n                    )}\n                  </Typography>\n                )}\n                \n                {/* Instructions when no selection */}\n                {!selectedRecordType && (\n                  <Alert severity=\"info\">\n                    Please select a church and record type to view records.\n                  </Alert>\n                )}\n                  </Stack>\n                  </Box>\n                </Collapse>\n              </CardContent>\n            </Card>\n            )}\n\n            {/* Floating Expand Button when collapsed */}\n            {isFiltersCollapsed && (\n              <IconButton\n                onClick={() => setIsFiltersCollapsed(false)}\n                sx={{\n                  position: 'fixed',\n                  top: { xs: 70, sm: 90 },\n                  right: { xs: 16, sm: 32 },\n                  zIndex: 1201,\n                  backgroundColor: 'background.paper',\n                  boxShadow: 3,\n                  border: '1px solid',\n                  borderColor: 'divider',\n                  '&:hover': {\n                    backgroundColor: 'grey.100',\n                  },\n                }}\n                size=\"large\"\n                aria-label=\"Expand controls\"\n              >\n                <IconChevronUp style={{ transform: 'rotate(180deg)' }} />\n              </IconButton>\n            )}\n\n            {/* Records Table - Only show when record type is selected */}\n            {selectedRecordType && (\n              <Paper className=\"theme-orthodox-traditional\" sx={{ \n                width: '100%', \n                maxWidth: '100%', \n                margin: 0,\n                marginLeft: 0,\n                marginRight: 0,\n                textAlign: 'left'\n              }}>\n\n                {/* Conditional Table Rendering */}\n                {useAgGrid ? (\n                  // AG Grid View\n                  <Box sx={{ height: 600, width: '100%' }}>\n                    <Typography variant=\"h6\" sx={{ p: 2 }}>\n                      AG Grid Temporarily Disabled\n                    </Typography>\n                    <Typography variant=\"body2\" sx={{ px: 2, pb: 2 }}>\n                      AG Grid is experiencing lexical scoping conflicts. Please use the Standard View (unlock icon) for now.\n                      Click the unlock icon in the toolbar above to switch to the Material-UI table.\n                    </Typography>\n                    <Box sx={{ p: 2 }}>\n                      <Button \n                        variant=\"contained\" \n                        onClick={() => setUseAgGrid(false)}\n                        startIcon={<LockOpenIcon />}\n                      >\n                        Switch to Standard View\n                      </Button>\n                    </Box>\n                  </Box>\n                ) : (\n                  // Standard Material-UI Table View\n                  <TableContainer sx={{ textAlign: 'left', width: '100%' }}>\n                  <Table stickyHeader>\n                    <TableHead>\n                      <TableRow \n                        sx={{\n                          ...getTableHeaderStyle(),\n                          border: selectedElement === 'header' ? '2px solid #2196f3' : 'none',\n                          cursor: 'pointer',\n                        }}\n                        title=\"Click to customize header appearance\"\n                      >\n                        {getColumnDefinitions(selectedRecordType).map((column: any, index: number) => (\n                          <TableCell key={index} sx={{ ...getTableCellStyle('header'), color: '#fff !important', fontWeight: 'bold' }}>\n                            <TableSortLabel\n                              active={sortConfig.key === column.field}\n                              direction={sortConfig.direction}\n                              onClick={() => handleSort(column.field)}\n                            >\n                              {column.headerName}\n                            </TableSortLabel>\n                          </TableCell>\n                        ))}\n                        <TableCell sx={getTableCellStyle('header')} align=\"center\">\n                          Actions\n                        </TableCell>\n                      </TableRow>\n                    </TableHead>\n                    <TableBody>\n                      {loading ? (\n                        <TableRow>\n                          <TableCell colSpan={getColumnDefinitions(selectedRecordType).length + 1} align=\"center\" sx={{ py: 8 }}>\n                            <CircularProgress />\n                            <Typography variant=\"body2\" sx={{ mt: 2 }}>\n                              Loading records...\n                            </Typography>\n                          </TableCell>\n                        </TableRow>\n                      ) : paginatedRecords.length === 0 ? (\n                        <TableRow>\n                          <TableCell colSpan={getColumnDefinitions(selectedRecordType).length + 1} align=\"center\" sx={{ py: 8 }}>\n                            <Typography variant=\"body1\" color=\"text.secondary\">\n                              No records found\n                            </Typography>\n                            <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mt: 1 }}>\n                              {searchTerm ? 'Try adjusting your search terms' : 'Click \"Add Record\" to create the first record'}\n                            </Typography>\n                          </TableCell>\n                        </TableRow>\n                      ) : (\n                        paginatedRecords.map((record, index) => (\n                          <TableRow\n                            key={record.id}\n                            sx={{\n                              ...getTableRowStyle(index % 2 === 0 ? 'even' : 'odd'),\n                              border: selectedElement === 'row' ? '2px solid #2196f3' : 'none',\n                              cursor: 'pointer',\n                              '&:hover': {\n                                backgroundColor: 'action.hover',\n                                border: '1px solid #2196f3',\n                              }\n                            }}\n                            onClick={(e) => {\n                              // Only trigger if not clicking on action buttons\n                              if (!(e.target as HTMLElement).closest('.record-actions')) {\n                                setSelectedElement('row');\n                                setThemeDrawerOpen(true);\n                              }\n                            }}\n                            title=\"Click to customize row appearance\"\n                          >\n                            {getColumnDefinitions(selectedRecordType).map((column: any, colIndex: number) => (\n                              <TableCell key={colIndex} sx={getTableCellStyle('body')}>\n                                {getCellValue(record, column)}\n                              </TableCell>\n                            ))}\n                            <TableCell sx={getTableCellStyle('body')} align=\"center\">\n                              <Box sx={{ display: 'flex', gap: 1, justifyContent: 'center' }} className=\"record-actions\">\n                                <Tooltip title=\"View Details\">\n                                  <IconButton size=\"small\" onClick={() => handleViewRecord(record)} sx={{ color: '#1976d2' }}>\n                                    <ViewIcon fontSize=\"small\" />\n                                  </IconButton>\n                                </Tooltip>\n                                <Tooltip title=\"Edit Record\">\n                                  <IconButton size=\"small\" onClick={() => handleEditRecord(record)} sx={{ color: '#ed6c02' }}>\n                                    <EditIcon fontSize=\"small\" />\n                                  </IconButton>\n                                </Tooltip>\n                                <Tooltip title=\"Delete Record\">\n                                  <IconButton size=\"small\" onClick={() => handleDeleteRecord(record.id)} sx={{ color: '#d32f2f' }}>\n                                    <DeleteIcon fontSize=\"small\" />\n                                  </IconButton>\n                                </Tooltip>\n                              </Box>\n                            </TableCell>\n                          </TableRow>\n                        ))\n                      )}              </TableBody>\n                  </Table>\n                  </TableContainer>\n                )}\n\n                {/* Pagination for Material-UI Table */}\n                {!useAgGrid && (\n                  <TablePagination\n                    rowsPerPageOptions={[10, 25, 50, 100]}\n                    component=\"div\"\n                    count={filteredAndSortedRecords.length}\n                    rowsPerPage={rowsPerPage}\n                    page={page}\n                    onPageChange={handleChangePage}\n                    onRowsPerPageChange={handleChangeRowsPerPage}\n                  />\n                )}\n              </Paper>\n            )}\n            {/* Add/Edit Dialog */}\n            <Dialog \n              open={dialogOpen} \n              onClose={() => setDialogOpen(false)}\n              maxWidth=\"md\"\n              fullWidth\n            >\n              <DialogTitle>\n                {editingRecord ? `Edit ${selectedRecordType.charAt(0).toUpperCase() + selectedRecordType.slice(1)} Record` : `Add New ${selectedRecordType.charAt(0).toUpperCase() + selectedRecordType.slice(1)} Record`}\n              </DialogTitle>\n              <DialogContent>\n                <Stack spacing={3} sx={{ mt: 1 }}>\n                  {selectedRecordType === 'baptism' && (\n                    <>\n                      <Stack direction={{ xs: 'column', sm: 'row' }} spacing={2}>\n                        <TextField\n                          label=\"First Name *\"\n                          value={formData.firstName || ''}\n                          onChange={(e) => setFormData(prev => ({ ...prev, firstName: e.target.value }))}\n                          sx={{ flex: 1 }}\n                        />\n                        <TextField\n                          label=\"Last Name *\"\n                          value={formData.lastName || ''}\n                          onChange={(e) => setFormData(prev => ({ ...prev, lastName: e.target.value }))}\n                          sx={{ flex: 1 }}\n                        />\n                      </Stack>\n                      \n                      <Stack direction={{ xs: 'column', sm: 'row' }} spacing={2}>\n                        <TextField\n                          label=\"Date of Birth\"\n                          type=\"date\"\n                          value={formData.dateOfBirth || ''}\n                          onChange={(e) => setFormData(prev => ({ ...prev, dateOfBirth: e.target.value }))}\n                          InputLabelProps={{ shrink: true }}\n                          sx={{ flex: 1 }}\n                        />\n                        <TextField\n                          label=\"Date of Baptism *\"\n                          type=\"date\"\n                          value={formData.dateOfBaptism || ''}\n                          onChange={(e) => setFormData(prev => ({ ...prev, dateOfBaptism: e.target.value }))}\n                          InputLabelProps={{ shrink: true }}\n                          sx={{ flex: 1 }}\n                        />\n                      </Stack>\n                      \n                      <Stack direction={{ xs: 'column', sm: 'row' }} spacing={2}>\n                        <TextField\n                          label=\"Place of Birth\"\n                          value={formData.placeOfBirth || ''}\n                          onChange={(e) => setFormData(prev => ({ ...prev, placeOfBirth: e.target.value }))}\n                          sx={{ flex: 1 }}\n                        />\n                        <TextField\n                          label=\"Place of Baptism\"\n                          value={formData.placeOfBaptism || ''}\n                          onChange={(e) => setFormData(prev => ({ ...prev, placeOfBaptism: e.target.value }))}\n                          sx={{ flex: 1 }}\n                        />\n                      </Stack>\n                      \n                      <Stack direction={{ xs: 'column', sm: 'row' }} spacing={2}>\n                        <TextField\n                          label=\"Father's Name\"\n                          value={formData.fatherName || ''}\n                          onChange={(e) => setFormData(prev => ({ ...prev, fatherName: e.target.value }))}\n                          sx={{ flex: 1 }}\n                        />\n                        <TextField\n                          label=\"Mother's Name\"\n                          value={formData.motherName || ''}\n                          onChange={(e) => setFormData(prev => ({ ...prev, motherName: e.target.value }))}\n                          sx={{ flex: 1 }}\n                        />\n                      </Stack>\n                      \n                      <Stack direction={{ xs: 'column', sm: 'row' }} spacing={2}>\n                        <TextField\n                          label=\"Godparent Names\"\n                          value={formData.godparentNames || ''}\n                          onChange={(e) => setFormData(prev => ({ ...prev, godparentNames: e.target.value }))}\n                          sx={{ flex: 1 }}\n                        />\n                        <FormControl sx={{ flex: 1 }}>\n                          <InputLabel>Priest</InputLabel>\n                          <Select\n                            label=\"Priest\"\n                            value={formData.priest || ''}\n                            onChange={(e) => {\n                              const value = e.target.value;\n                              if (value === 'custom') {\n                                setFormData(prev => ({ ...prev, priest: '', customPriest: true }));\n                              } else {\n                                setFormData(prev => ({ ...prev, priest: value, customPriest: false }));\n                              }\n                            }}\n                          >\n                            <MenuItem value=\"\">\n                              <em>Select a priest...</em>\n                            </MenuItem>\n                            {priestOptions.map((priest) => (\n                              <MenuItem key={priest} value={priest}>\n                                {priest}\n                              </MenuItem>\n                            ))}\n                            <MenuItem value=\"custom\">\n                              <em>Other (enter manually)...</em>\n                            </MenuItem>\n                          </Select>\n                        </FormControl>\n                      </Stack>\n                      {formData.customPriest && (\n                        <TextField\n                          label=\"Enter Priest Name\"\n                          value={formData.priest || ''}\n                          onChange={(e) => setFormData(prev => ({ ...prev, priest: e.target.value }))}\n                          fullWidth\n                          sx={{ mt: 2 }}\n                          placeholder=\"Enter the priest's name\"\n                        />\n                      )}\n                      \n                      <Stack direction={{ xs: 'column', sm: 'row' }} spacing={2}>\n                        <TextField\n                          label=\"Registry Number\"\n                          value={formData.registryNumber || ''}\n                          onChange={(e) => setFormData(prev => ({ ...prev, registryNumber: e.target.value }))}\n                          sx={{ flex: 1 }}\n                        />\n                        <FormControl sx={{ flex: 1 }}>\n                          <InputLabel>Church</InputLabel>\n                          <Select\n                            value={formData.churchId || ''}\n                            label=\"Church\"\n                            onChange={(e) => setFormData(prev => ({ ...prev, churchId: e.target.value }))}\n                          >\n                            {churches.filter(c => c.id !== 0).map((church) => (\n                              <MenuItem key={church.id} value={church.id}>\n                                {church.church_name}\n                              </MenuItem>\n                            ))}\n                          </Select>\n                        </FormControl>\n                      </Stack>\n                      \n                      <TextField\n                        label=\"Notes\"\n                        multiline\n                        rows={3}\n                        value={formData.notes || ''}\n                        onChange={(e) => setFormData(prev => ({ ...prev, notes: e.target.value }))}\n                      />\n                    </>\n                  )}\n\n                  {selectedRecordType === 'marriage' && (\n                    <>\n                      <Stack direction={{ xs: 'column', sm: 'row' }} spacing={2}>\n                        <TextField\n                          label=\"Groom First Name *\"\n                          value={formData.groomFirstName || ''}\n                          onChange={(e) => setFormData(prev => ({ ...prev, groomFirstName: e.target.value }))}\n                          sx={{ flex: 1 }}\n                        />\n                        <TextField\n                          label=\"Groom Last Name *\"\n                          value={formData.groomLastName || ''}\n                          onChange={(e) => setFormData(prev => ({ ...prev, groomLastName: e.target.value }))}\n                          sx={{ flex: 1 }}\n                        />\n                      </Stack>\n                      \n                      <Stack direction={{ xs: 'column', sm: 'row' }} spacing={2}>\n                        <TextField\n                          label=\"Bride First Name *\"\n                          value={formData.brideFirstName || ''}\n                          onChange={(e) => setFormData(prev => ({ ...prev, brideFirstName: e.target.value }))}\n                          sx={{ flex: 1 }}\n                        />\n                        <TextField\n                          label=\"Bride Last Name *\"\n                          value={formData.brideLastName || ''}\n                          onChange={(e) => setFormData(prev => ({ ...prev, brideLastName: e.target.value }))}\n                          sx={{ flex: 1 }}\n                        />\n                      </Stack>\n                      \n                      <Stack direction={{ xs: 'column', sm: 'row' }} spacing={2}>\n                        <TextField\n                          label=\"Marriage Date *\"\n                          type=\"date\"\n                          value={formData.marriageDate || ''}\n                          onChange={(e) => setFormData(prev => ({ ...prev, marriageDate: e.target.value }))}\n                          InputLabelProps={{ shrink: true }}\n                          sx={{ flex: 1 }}\n                        />\n                        <TextField\n                          label=\"Marriage Location\"\n                          value={formData.marriageLocation || ''}\n                          onChange={(e) => setFormData(prev => ({ ...prev, marriageLocation: e.target.value }))}\n                          sx={{ flex: 1 }}\n                        />\n                      </Stack>\n                      \n                      <Stack direction={{ xs: 'column', sm: 'row' }} spacing={2}>\n                        <TextField\n                          label=\"Witness 1\"\n                          value={formData.witness1 || ''}\n                          onChange={(e) => setFormData(prev => ({ ...prev, witness1: e.target.value }))}\n                          sx={{ flex: 1 }}\n                        />\n                        <TextField\n                          label=\"Witness 2\"\n                          value={formData.witness2 || ''}\n                          onChange={(e) => setFormData(prev => ({ ...prev, witness2: e.target.value }))}\n                          sx={{ flex: 1 }}\n                        />\n                      </Stack>\n                      \n                      <FormControl fullWidth>\n                        <InputLabel>Priest</InputLabel>\n                        <Select\n                          label=\"Priest\"\n                          value={formData.priest || ''}\n                          onChange={(e) => {\n                            const value = e.target.value;\n                            if (value === 'custom') {\n                              setFormData(prev => ({ ...prev, priest: '', customPriest: true }));\n                            } else {\n                              setFormData(prev => ({ ...prev, priest: value, customPriest: false }));\n                            }\n                          }}\n                        >\n                          <MenuItem value=\"\">\n                            <em>Select a priest...</em>\n                          </MenuItem>\n                          {priestOptions.map((priest) => (\n                            <MenuItem key={priest} value={priest}>\n                              {priest}\n                            </MenuItem>\n                          ))}\n                          <MenuItem value=\"custom\">\n                            <em>Other (enter manually)...</em>\n                          </MenuItem>\n                        </Select>\n                      </FormControl>\n                      {formData.customPriest && (\n                        <TextField\n                          label=\"Enter Priest Name\"\n                          value={formData.priest || ''}\n                          onChange={(e) => setFormData(prev => ({ ...prev, priest: e.target.value }))}\n                          fullWidth\n                          placeholder=\"Enter the priest's name\"\n                        />\n                      )}\n                    </>\n                  )}\n\n                  {selectedRecordType === 'funeral' && (\n                    <>\n                      <Stack direction={{ xs: 'column', sm: 'row' }} spacing={2}>\n                        <TextField\n                          label=\"First Name *\"\n                          value={formData.firstName || ''}\n                          onChange={(e) => setFormData(prev => ({ ...prev, firstName: e.target.value }))}\n                          sx={{ flex: 1 }}\n                        />\n                        <TextField\n                          label=\"Last Name *\"\n                          value={formData.lastName || ''}\n                          onChange={(e) => setFormData(prev => ({ ...prev, lastName: e.target.value }))}\n                          sx={{ flex: 1 }}\n                        />\n                      </Stack>\n                      \n                      <Stack direction={{ xs: 'column', sm: 'row' }} spacing={2}>\n                        <TextField\n                          label=\"Date of Death *\"\n                          type=\"date\"\n                          value={formData.dateOfDeath || ''}\n                          onChange={(e) => setFormData(prev => ({ ...prev, dateOfDeath: e.target.value }))}\n                          InputLabelProps={{ shrink: true }}\n                          sx={{ flex: 1 }}\n                        />\n                        <TextField\n                          label=\"Burial Date\"\n                          type=\"date\"\n                          value={formData.burialDate || ''}\n                          onChange={(e) => setFormData(prev => ({ ...prev, burialDate: e.target.value }))}\n                          InputLabelProps={{ shrink: true }}\n                          sx={{ flex: 1 }}\n                        />\n                      </Stack>\n                      \n                      <Stack direction={{ xs: 'column', sm: 'row' }} spacing={2}>\n                        <TextField\n                          label=\"Age\"\n                          type=\"number\"\n                          value={formData.age || ''}\n                          onChange={(e) => setFormData(prev => ({ ...prev, age: e.target.value }))}\n                          sx={{ flex: 1 }}\n                        />\n                        <TextField\n                          label=\"Burial Location\"\n                          value={formData.burialLocation || ''}\n                          onChange={(e) => setFormData(prev => ({ ...prev, burialLocation: e.target.value }))}\n                          sx={{ flex: 1 }}\n                        />\n                      </Stack>\n                      \n                      <FormControl fullWidth>\n                        <InputLabel>Priest</InputLabel>\n                        <Select\n                          label=\"Priest\"\n                          value={formData.priest || ''}\n                          onChange={(e) => {\n                            const value = e.target.value;\n                            if (value === 'custom') {\n                              setFormData(prev => ({ ...prev, priest: '', customPriest: true }));\n                            } else {\n                              setFormData(prev => ({ ...prev, priest: value, customPriest: false }));\n                            }\n                          }}\n                        >\n                          <MenuItem value=\"\">\n                            <em>Select a priest...</em>\n                          </MenuItem>\n                          {priestOptions.map((priest) => (\n                            <MenuItem key={priest} value={priest}>\n                              {priest}\n                            </MenuItem>\n                          ))}\n                          <MenuItem value=\"custom\">\n                            <em>Other (enter manually)...</em>\n                          </MenuItem>\n                        </Select>\n                      </FormControl>\n                      {formData.customPriest && (\n                        <TextField\n                          label=\"Enter Priest Name\"\n                          value={formData.priest || ''}\n                          onChange={(e) => setFormData(prev => ({ ...prev, priest: e.target.value }))}\n                          fullWidth\n                          placeholder=\"Enter the priest's name\"\n                        />\n                      )}\n                    </>\n                  )}\n                </Stack>\n              </DialogContent>\n              <DialogActions>\n                <Button onClick={() => setDialogOpen(false)}>Cancel</Button>\n                <Button \n                  onClick={handleSaveRecord} \n                  variant=\"contained\"\n                  disabled={loading}\n                >\n                  {loading ? <CircularProgress size={20} /> : 'Save'}\n                </Button>\n              </DialogActions>\n            </Dialog>\n\n            {/* View Details Dialog */}\n            <Dialog\n              open={viewDialogOpen}\n              onClose={handleCloseViewDialog}\n              maxWidth=\"md\"\n              fullWidth\n              PaperProps={{\n                sx: {\n                  minHeight: '60vh',\n                  maxHeight: '90vh',\n                }\n              }}\n            >\n              <DialogTitle sx={{ \n                display: 'flex', \n                justifyContent: 'space-between', \n                alignItems: 'center',\n                borderBottom: '1px solid',\n                borderColor: 'divider',\n                pb: 2\n              }}>\n                <Box>\n                  <Typography variant=\"h6\" component=\"span\">\n                    {selectedRecordType.charAt(0).toUpperCase() + selectedRecordType.slice(1)} Record Details\n                  </Typography>\n                  <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mt: 0.5 }}>\n                    {getRecordDisplayName(viewingRecord)}\n                  </Typography>\n                </Box>\n                <Box sx={{ display: 'flex', gap: 1, alignItems: 'center' }}>\n                  <Typography variant=\"body2\" color=\"text.secondary\">\n                    {viewingRecordIndex + 1} of {filteredAndSortedRecords.length}\n                  </Typography>\n                  <IconButton \n                    onClick={handlePreviousRecord} \n                    disabled={viewingRecordIndex <= 0}\n                    size=\"small\"\n                    sx={{ border: '1px solid', borderColor: 'divider' }}\n                  >\n                    <ChevronLeftIcon />\n                  </IconButton>\n                  <IconButton \n                    onClick={handleNextRecord} \n                    disabled={viewingRecordIndex >= filteredAndSortedRecords.length - 1}\n                    size=\"small\"\n                    sx={{ border: '1px solid', borderColor: 'divider' }}\n                  >\n                    <ChevronRightIcon />\n                  </IconButton>\n                </Box>\n              </DialogTitle>\n              <DialogContent sx={{ pt: 3 }}>\n                {viewingRecord && (\n                  <Grid container spacing={3}>\n                    {/* Record ID and Registry Info */}\n                    <Grid item xs={12}>\n                      <Paper variant=\"outlined\" sx={{ p: 2, bgcolor: 'grey.50' }}>\n                        <Typography variant=\"subtitle2\" color=\"text.secondary\" gutterBottom>\n                          Registry Information\n                        </Typography>\n                        <Grid container spacing={2}>\n                          <Grid item xs={6} sm={3}>\n                            <Typography variant=\"caption\" color=\"text.secondary\">Record ID</Typography>\n                            <Typography variant=\"body2\" fontWeight=\"medium\">{viewingRecord.id}</Typography>\n                          </Grid>\n                          <Grid item xs={6} sm={3}>\n                            <Typography variant=\"caption\" color=\"text.secondary\">Book No.</Typography>\n                            <Typography variant=\"body2\">{viewingRecord.book_no || viewingRecord.bookNumber || '‚Äî'}</Typography>\n                          </Grid>\n                          <Grid item xs={6} sm={3}>\n                            <Typography variant=\"caption\" color=\"text.secondary\">Page No.</Typography>\n                            <Typography variant=\"body2\">{viewingRecord.page_no || viewingRecord.pageNumber || '‚Äî'}</Typography>\n                          </Grid>\n                          <Grid item xs={6} sm={3}>\n                            <Typography variant=\"caption\" color=\"text.secondary\">Entry No.</Typography>\n                            <Typography variant=\"body2\">{viewingRecord.entry_no || viewingRecord.entryNumber || '‚Äî'}</Typography>\n                          </Grid>\n                        </Grid>\n                      </Paper>\n                    </Grid>\n\n                    {/* Person/Couple Information */}\n                    <Grid item xs={12} md={6}>\n                      <Paper variant=\"outlined\" sx={{ p: 2, height: '100%' }}>\n                        <Typography variant=\"subtitle2\" color=\"text.secondary\" gutterBottom>\n                          {selectedRecordType === 'marriage' ? 'Couple Information' : 'Person Information'}\n                        </Typography>\n                        {selectedRecordType === 'marriage' ? (\n                          <>\n                            <Box sx={{ mb: 2 }}>\n                              <Typography variant=\"caption\" color=\"text.secondary\">Groom</Typography>\n                              <Typography variant=\"body1\" fontWeight=\"medium\">\n                                {`${viewingRecord.fname_groom || viewingRecord.groom_first || ''} ${viewingRecord.lname_groom || viewingRecord.groom_last || ''}`.trim() || '‚Äî'}\n                              </Typography>\n                            </Box>\n                            <Box>\n                              <Typography variant=\"caption\" color=\"text.secondary\">Bride</Typography>\n                              <Typography variant=\"body1\" fontWeight=\"medium\">\n                                {`${viewingRecord.fname_bride || viewingRecord.bride_first || ''} ${viewingRecord.lname_bride || viewingRecord.bride_last || ''}`.trim() || '‚Äî'}\n                              </Typography>\n                            </Box>\n                          </>\n                        ) : selectedRecordType === 'funeral' ? (\n                          <>\n                            <Box sx={{ mb: 2 }}>\n                              <Typography variant=\"caption\" color=\"text.secondary\">Deceased</Typography>\n                              <Typography variant=\"body1\" fontWeight=\"medium\">\n                                {`${viewingRecord.deceased_first || viewingRecord.firstName || ''} ${viewingRecord.deceased_last || viewingRecord.lastName || ''}`.trim() || '‚Äî'}\n                              </Typography>\n                            </Box>\n                            <Box>\n                              <Typography variant=\"caption\" color=\"text.secondary\">Date of Death</Typography>\n                              <Typography variant=\"body1\">{formatRecordDate(viewingRecord.death_date || viewingRecord.deathDate) || '‚Äî'}</Typography>\n                            </Box>\n                          </>\n                        ) : (\n                          <>\n                            <Box sx={{ mb: 2 }}>\n                              <Typography variant=\"caption\" color=\"text.secondary\">Name</Typography>\n                              <Typography variant=\"body1\" fontWeight=\"medium\">\n                                {`${viewingRecord.person_first || viewingRecord.firstName || ''} ${viewingRecord.person_middle || viewingRecord.middleName || ''} ${viewingRecord.person_last || viewingRecord.lastName || ''}`.trim() || '‚Äî'}\n                              </Typography>\n                            </Box>\n                            <Box sx={{ mb: 2 }}>\n                              <Typography variant=\"caption\" color=\"text.secondary\">Date of Birth</Typography>\n                              <Typography variant=\"body1\">{formatRecordDate(viewingRecord.birth_date || viewingRecord.dateOfBirth) || '‚Äî'}</Typography>\n                            </Box>\n                            <Box>\n                              <Typography variant=\"caption\" color=\"text.secondary\">Date of Baptism</Typography>\n                              <Typography variant=\"body1\">{formatRecordDate(viewingRecord.baptism_date || viewingRecord.dateOfBaptism) || '‚Äî'}</Typography>\n                            </Box>\n                          </>\n                        )}\n                      </Paper>\n                    </Grid>\n\n                    {/* Ceremony Details */}\n                    <Grid item xs={12} md={6}>\n                      <Paper variant=\"outlined\" sx={{ p: 2, height: '100%' }}>\n                        <Typography variant=\"subtitle2\" color=\"text.secondary\" gutterBottom>\n                          Ceremony Details\n                        </Typography>\n                        <Box sx={{ mb: 2 }}>\n                          <Typography variant=\"caption\" color=\"text.secondary\">\n                            {selectedRecordType === 'marriage' ? 'Marriage Date' : selectedRecordType === 'funeral' ? 'Funeral Date' : 'Baptism Date'}\n                          </Typography>\n                          <Typography variant=\"body1\">\n                            {formatRecordDate(\n                              selectedRecordType === 'marriage' ? (viewingRecord.marriage_date || viewingRecord.marriageDate) :\n                              selectedRecordType === 'funeral' ? (viewingRecord.funeral_date || viewingRecord.funeralDate) :\n                              (viewingRecord.baptism_date || viewingRecord.dateOfBaptism)\n                            ) || '‚Äî'}\n                          </Typography>\n                        </Box>\n                        <Box sx={{ mb: 2 }}>\n                          <Typography variant=\"caption\" color=\"text.secondary\">Officiant / Clergy</Typography>\n                          <Typography variant=\"body1\">{viewingRecord.officiant_name || viewingRecord.priest || viewingRecord.clergy || '‚Äî'}</Typography>\n                        </Box>\n                        <Box>\n                          <Typography variant=\"caption\" color=\"text.secondary\">Location</Typography>\n                          <Typography variant=\"body1\">{viewingRecord.place_name || viewingRecord.location || viewingRecord.churchName || '‚Äî'}</Typography>\n                        </Box>\n                      </Paper>\n                    </Grid>\n\n                    {/* Sponsors/Witnesses/Godparents */}\n                    {(selectedRecordType === 'baptism' || selectedRecordType === 'marriage') && (\n                      <Grid item xs={12}>\n                        <Paper variant=\"outlined\" sx={{ p: 2 }}>\n                          <Typography variant=\"subtitle2\" color=\"text.secondary\" gutterBottom>\n                            {selectedRecordType === 'marriage' ? 'Witnesses' : 'Godparents / Sponsors'}\n                          </Typography>\n                          <Typography variant=\"body1\">\n                            {selectedRecordType === 'marriage' \n                              ? (displayJsonField(viewingRecord.witnesses) || '‚Äî')\n                              : (displayJsonField(viewingRecord.godparents) || viewingRecord.godfather || viewingRecord.godmother || '‚Äî')\n                            }\n                          </Typography>\n                        </Paper>\n                      </Grid>\n                    )}\n\n                    {/* Notes */}\n                    {viewingRecord.notes && (\n                      <Grid item xs={12}>\n                        <Paper variant=\"outlined\" sx={{ p: 2 }}>\n                          <Typography variant=\"subtitle2\" color=\"text.secondary\" gutterBottom>Notes</Typography>\n                          <Typography variant=\"body1\">{viewingRecord.notes}</Typography>\n                        </Paper>\n                      </Grid>\n                    )}\n                  </Grid>\n                )}\n              </DialogContent>\n              <DialogActions sx={{ \n                borderTop: '1px solid', \n                borderColor: 'divider', \n                px: 3, \n                py: 2,\n                justifyContent: 'space-between'\n              }}>\n                <Box>\n                  {(selectedRecordType === 'baptism' || selectedRecordType === 'marriage') && (\n                    <Button\n                      variant=\"outlined\"\n                      color=\"secondary\"\n                      onClick={handleGenerateCertificate}\n                      startIcon={<ExportIcon />}\n                    >\n                      Generate Certificate\n                    </Button>\n                  )}\n                </Box>\n                <Box sx={{ display: 'flex', gap: 1 }}>\n                  <Button onClick={handleCloseViewDialog}>\n                    Close\n                  </Button>\n                  <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    onClick={handleEditFromView}\n                    startIcon={<EditIcon />}\n                  >\n                    Edit Record\n                  </Button>\n                </Box>\n              </DialogActions>\n            </Dialog>\n\n            {/* Orthodox Table Theme Editor Drawer */}\n            <Drawer\n              anchor=\"right\"\n              open={themeDrawerOpen}\n              onClose={() => setThemeDrawerOpen(false)}\n              sx={{\n                '& .MuiDrawer-paper': {\n                  width: { xs: '100%', sm: 400, md: 450 },\n                  p: 2,\n                },\n              }}\n            >\n              <Box sx={{ display: 'flex', flexDirection: 'column', height: '100%' }}>\n                <Typography variant=\"h6\" gutterBottom sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n                  <PaletteIcon />\n                  Orthodox Table Theme Editor\n                </Typography>\n                \n                <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 2 }}>\n                  Customize the appearance of your records table with Orthodox and liturgical themes.\n                </Typography>\n\n                {/* Quick Start Guide */}\n                <Alert severity=\"info\" sx={{ mb: 2 }}>\n                  <Typography variant=\"caption\" component=\"div\">\n                    <strong>Quick Start:</strong> Choose a liturgical theme below, then click table elements to customize colors and styling.\n                  </Typography>\n                </Alert>\n\n                <Divider sx={{ mb: 2 }} />\n\n                {/* Quick Theme Selector */}\n                <Box sx={{ mb: 3 }}>\n                  <Typography variant=\"subtitle2\" gutterBottom>\n                    Quick Themes\n                  </Typography>\n                  <ColorPaletteSelector \n                    selectedColor={tableTheme.headerColor}\n                    onColorChange={(color) => setHeaderColor(color)}\n                    liturgicalMode={isLiturgicalMode}\n                  />\n                </Box>\n\n                <Divider sx={{ mb: 2 }} />\n\n                {/* Element Selection Instructions */}\n                <Box sx={{ mb: 3 }}>\n                  <Typography variant=\"subtitle2\" gutterBottom>\n                    Customize Elements\n                  </Typography>\n                  <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 1 }}>\n                    Click on table elements below to customize:\n                  </Typography>\n                  <Stack direction=\"row\" spacing={1} flexWrap=\"wrap\">\n                    <Chip \n                      label=\"Header\" \n                      variant={selectedElement === 'header' ? 'filled' : 'outlined'}\n                      onClick={() => setSelectedElement('header')}\n                      size=\"small\"\n                    />\n                    <Chip \n                      label=\"Row\" \n                      variant={selectedElement === 'row' ? 'filled' : 'outlined'}\n                      onClick={() => setSelectedElement('row')}\n                      size=\"small\"\n                    />\n                    <Chip \n                      label=\"Cell\" \n                      variant={selectedElement === 'cell' ? 'filled' : 'outlined'}\n                      onClick={() => setSelectedElement('cell')}\n                      size=\"small\"\n                    />\n                  </Stack>\n                </Box>\n\n                {/* Table Control Panel */}\n                <Box sx={{ flex: 1, overflow: 'auto' }}>\n                  {selectedElement && (\n                    <TableControlPanel \n                      selectedElement={selectedElement}\n                      onElementSelect={(element) => setSelectedElement(element as 'header' | 'row' | 'cell')}\n                      tableTheme={tableTheme}\n                      onBorderStyleChange={(color, width, radius) => {\n                        // Handle border style changes\n                        console.log('Border style changed:', color, width, radius);\n                      }}\n                    />\n                  )}\n                  {!selectedElement && (\n                    <Typography variant=\"body2\" color=\"text.secondary\" sx={{ textAlign: 'center', py: 4 }}>\n                      Click on a table element above to customize its appearance\n                    </Typography>\n                  )}\n                </Box>\n\n                {/* Actions */}\n                <Box sx={{ mt: 2, pt: 2, borderTop: 1, borderColor: 'divider' }}>\n                  <Stack direction=\"row\" spacing={2} justifyContent=\"flex-end\">\n                    <Button\n                      variant=\"outlined\"\n                      onClick={() => setThemeDrawerOpen(false)}\n                    >\n                      Done\n                    </Button>\n                    <Button\n                      variant=\"contained\"\n                      onClick={() => {\n                        // Apply theme and close\n                        setThemeDrawerOpen(false);\n                        showToast('Table theme applied successfully!', 'success');\n                      }}\n                    >\n                      Apply Theme\n                    </Button>\n                  </Stack>\n                </Box>\n              </Box>\n            </Drawer>\n\n            {/* Toast Snackbar */}\n            <Snackbar\n              open={toastOpen}\n              autoHideDuration={6000}\n              onClose={() => setToastOpen(false)}\n              anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n            >\n              <Alert \n                onClose={() => setToastOpen(false)} \n                severity={toastSeverity}\n                sx={{ width: '100%' }}\n              >\n                {toastMessage}\n              </Alert>\n            </Snackbar>\n\n            {/* Advanced Grid Modal */}\n            <AdvancedGridDialog\n              open={advancedGridOpen}\n              onClose={() => setAdvancedGridOpen(false)}\n              records={filteredAndSortedRecords}\n              recordType=\"baptism\"\n              onRefresh={() => {\n                fetchRecords(selectedRecordType, selectedChurch);\n                showToast('Records refreshed successfully!', 'success');\n              }}\n            />\n          </Box>\n    );\n};\n\nexport default BaptismRecordsPage;\n"],"names":["BorderStyle","createSvgIcon","_jsx","ChevronLeftIcon","ChevronRightIcon","Colorize","CropDin","FormatPaint","ViewColumn","ViewHeadline","orthodoxTheme","liturgicalThemes","useTableStyleStore","type","churchService","__async","response","data","churches","_a","error","_0","_1","_2","churchId","recordType","options","page","limit","search","sortField","sortDirection","params","_b","id","church","elementOptions","jsx","shadowOptions","TableControlPanel","selectedElement","onElementSelect","tableTheme","onBorderStyleChange","handleBorderWidthChange","event","newValue","width","handleBorderRadiusChange","radius","handleBorderColorChange","color","Box","jsxs","Typography","ButtonGroup","option","Button","Paper","Chip","opt","Slider","TextField","FormControl","InputLabel","Select","MenuItem","shadow","orthodoxTraditionalColors","liturgicalSeasonColors","recentColors","ColorPaletteSelector","selectedColor","onColorChange","liturgicalMode","theme","useTheme","customColor","setCustomColor","useState","paletteMode","setPaletteMode","colorPalettes","handleColorClick","handleThemeSelect","themeName","handleCustomColorChange","ColorSwatch","selected","onClick","tooltip","Tooltip","Palette","Grid","themeData","l","History","e","AdvancedGridDialog","open","onClose","datasets","counts","loading","records","displayRecords","recordCount","Dialog","DialogTitle","DialogContent","CircularProgress","RECORD_TYPES","FIELD_DEFINITIONS","parseJsonField","value","parsed","displayJsonField","arr","recordTypes","getColumnDefinitions","_c","getCellValue","record","column","bapFirst","bapMiddle","bapLast","formatRecordDate","father","mother","gFirst","gMiddle","gLast","bFirst","bMiddle","bLast","_d","dFirst","dLast","BaptismRecordsPage","setRecords","setChurches","setLoading","setError","setPage","rowsPerPage","setRowsPerPage","searchTerm","setSearchTerm","selectedChurch","setSelectedChurch","selectedRecordType","setSelectedRecordType","sortConfig","setSortConfig","dialogOpen","setDialogOpen","editingRecord","setEditingRecord","snackbarOpen","setSnackbarOpen","snackbarMessage","setSnackbarMessage","priestOptions","setPriestOptions","themeDrawerOpen","setThemeDrawerOpen","setSelectedElement","useAgGrid","setUseAgGrid","advancedGridOpen","setAdvancedGridOpen","viewDialogOpen","setViewDialogOpen","viewingRecord","setViewingRecord","viewingRecordIndex","setViewingRecordIndex","isFiltersCollapsed","setIsFiltersCollapsed","toastOpen","setToastOpen","toastMessage","setToastMessage","toastSeverity","setToastSeverity","showToast","message","severity","fetchChurches","churchData","err","fetchRecords","selectedType","recordData","fetchPriestOptions","tableName","validPriests","priest","a","b","useEffect","formData","setFormData","currentTheme","isLiturgicalMode","setHeaderColor","getTableHeaderStyle","getTableRowStyle","getTableCellStyle","useCallback","inputRecords","validRecords","originalRecord","index","fields","groomName","brideName","recordError","conversionError","filteredAndSortedRecords","useMemo","filtered","searchLower","recordA","recordB","aValue","bValue","paginatedRecords","sorted","startIndex","handleSort","key","prev","handleChangePage","_","newPage","handleChangeRowsPerPage","handleAddRecord","handleEditRecord","handleViewRecord","r","handlePreviousRecord","prevIndex","handleNextRecord","nextIndex","handleCloseViewDialog","handleEditFromView","handleGenerateCertificate","certUrl","getRecordDisplayName","handleDeleteRecord","recordId","handleSaveRecord","churchName","c","updatedRecord","__spreadProps","__spreadValues","newRecord","handleGenerateReport","reportUrl","handleExport","Alert","Card","CardContent","IconButton","IconChevronUp","Collapse","Stack","PaletteIcon","SearchIcon","AddIcon","TableChartIcon","LockIcon","LockOpenIcon","ExportIcon","ReportIcon","TableContainer","Table","TableHead","TableRow","TableCell","TableSortLabel","TableBody","colIndex","ViewIcon","EditIcon","DeleteIcon","TablePagination","Fragment","DialogActions","Drawer","Divider","element","Snackbar"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7]}