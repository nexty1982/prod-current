var we=Object.defineProperty,ve=Object.defineProperties;var be=Object.getOwnPropertyDescriptors;var te=Object.getOwnPropertySymbols;var Le=Object.prototype.hasOwnProperty,Ae=Object.prototype.propertyIsEnumerable;var re=(t,x,a)=>x in t?we(t,x,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[x]=a,y=(t,x)=>{for(var a in x||(x={}))Le.call(x,a)&&re(t,a,x[a]);if(te)for(var a of te(x))Ae.call(x,a)&&re(t,a,x[a]);return t},J=(t,x)=>ve(t,be(x));var m=(t,x,a)=>new Promise((b,w)=>{var h=f=>{try{L(a.next(f))}catch(F){w(F)}},v=f=>{try{L(a.throw(f))}catch(F){w(F)}},L=f=>f.done?b(f.value):Promise.resolve(f.value).then(h,v);L((a=a.apply(t,x)).next())});import{c as Fe,v as ke,j as e,B as o,L as Be,k as de,s as Pe,T as le,I as S,G as _,R as Me,d as n,e as Z,S as V,O as D,J as ie,Y as oe,A as se,K as ae,U as W,Q as R,a5 as Ie,$ as Ee}from"./index-CQJq875H.js";import{b as Ze,r as d}from"./vendor-DgfDxsY7.js";import{T as De,a as Se}from"./Tabs-Da3Qyh1W.js";import{B as _e}from"./BlankCard-C3rvyM6a.js";import{u as We}from"./user-1-D-7A9xHG.js";import{C as Re}from"./CardMedia-Dq-a13dI.js";import{I as Oe}from"./IconCamera-COFYqWdf.js";import{I as ne}from"./IconEdit-DVB0PrH1.js";import{B as Te}from"./Badge-DjvORn3y.js";import{I as Ue}from"./IconUpload-DKaIGqZn.js";import{A as ce}from"./Avatar-B9iJRGlM.js";/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M12 10m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-1"}],["path",{d:"M6.168 18.849a4 4 0 0 1 3.832 -2.849h4a4 4 0 0 1 3.834 2.855",key:"svg-2"}]],Ge=Fe("outline","user-circle","UserCircle",Ne),Ye=()=>{const t=ke(),[x,a]=Ze.useState(t.pathname),b=(h,v)=>{a(v)},w=[{label:"Profile",icon:e.jsx(Ge,{size:"20"}),to:"/user-profile"}];return e.jsx(o,{mt:1,sx:{mt:1,backgroundColor:h=>h.palette.grey[100]},children:e.jsx(o,{justifyContent:"end",display:"flex",sx:{overflow:"auto",width:{xs:"333px",sm:"auto"}},children:e.jsx(De,{value:x,onChange:b,"aria-label":"scrollable prevent tabs example",variant:"scrollable",scrollButtons:"auto",children:w.map(h=>e.jsx(Se,{iconPosition:"start",label:h.label,sx:{minHeight:"50px"},icon:h.icon,component:Be,to:h.to,value:h.to},h.label))})})})},$e=t=>{const{user:x,refreshAuth:a}=de(),[b,w]=d.useState(t),[h,v]=d.useState(null),[L,f]=d.useState(!1),[F,C]=d.useState(null),B=d.useCallback(()=>m(void 0,null,function*(){try{f(!0),C(null);const c=yield fetch("/api/user/profile",{credentials:"include"});if(c.ok){const i=yield c.json();if(i.success&&i.profile)return v(i.profile),i.profile.profile_image_url&&(w(i.profile.profile_image_url),localStorage.setItem("userProfileImage",i.profile.profile_image_url)),console.log("ðŸ“¸ Profile loaded from database:",i.profile),i.profile}}catch(c){console.error("Failed to load profile:",c),C("Failed to load profile");const i=localStorage.getItem("userProfileImage");i&&w(i)}finally{f(!1)}}),[]),A=d.useCallback(c=>m(void 0,null,function*(){try{if(f(!0),C(null),(yield fetch("/api/user/profile/images",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({profile_image_url:c})})).ok)w(c),localStorage.setItem("userProfileImage",c),v(u=>u?J(y({},u),{profile_image_url:c}):{profile_image_url:c}),window.dispatchEvent(new CustomEvent("profileImageUpdated",{detail:{imageUrl:c}})),a&&(yield a()),console.log("ðŸ“¸ Profile image synchronized across app:",c);else throw new Error("Failed to save profile image to database")}catch(i){throw console.error("Failed to update profile image:",i),C("Failed to update profile image"),i}finally{f(!1)}}),[a]),O=d.useCallback(c=>m(void 0,null,function*(){try{f(!0),C(null);const i=yield fetch("/api/user/profile",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(c)});if(i.ok){const u=yield i.json();if(u.success)v(j=>y(y({},j),c)),localStorage.setItem("userProfile",JSON.stringify(y(y({},h),c))),window.dispatchEvent(new CustomEvent("profileUpdated",{detail:{updates:c}})),a&&(c.display_name||c.first_name||c.last_name)&&(yield a()),console.log("ðŸ“¸ Profile data synchronized across app:",c);else throw new Error(u.message||"Failed to update profile")}else throw new Error("Failed to save profile to database")}catch(i){throw console.error("Failed to update profile:",i),C("Failed to update profile"),i}finally{f(!1)}}),[h,a]),p=d.useCallback(()=>m(void 0,null,function*(){yield B()}),[B]);return d.useEffect(()=>{B()},[B]),d.useEffect(()=>{const c=j=>{j.key==="userProfileImage"&&j.newValue&&w(j.newValue)},i=j=>{var P;(P=j.detail)!=null&&P.imageUrl&&w(j.detail.imageUrl)},u=j=>{var P;(P=j.detail)!=null&&P.updates&&v(H=>y(y({},H),j.detail.updates))};return window.addEventListener("storage",c),window.addEventListener("profileImageUpdated",i),window.addEventListener("profileUpdated",u),()=>{window.removeEventListener("storage",c),window.removeEventListener("profileImageUpdated",i),window.removeEventListener("profileUpdated",u)}},[]),{profileImage:b,profileData:h,updateProfileImage:A,updateProfile:O,refreshProfile:p,isLoading:L,error:F}},xe=({size:t=80})=>e.jsxs("svg",{width:t,height:t,viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("circle",{cx:"50",cy:"50",r:"50",fill:"#F5E6D3"}),e.jsx("circle",{cx:"50",cy:"45",r:"16",fill:"#D2A574"}),e.jsx("path",{d:"M34 35 C34 25, 42 20, 50 20 C58 20, 66 25, 66 35 L66 25 C66 20, 62 18, 58 18 L42 18 C38 18, 34 20, 34 25 Z",fill:"#1A1A1A"}),e.jsx("path",{d:"M38 55 C38 50, 43 48, 50 48 C57 48, 62 50, 62 55 L62 65 C62 68, 59 70, 56 70 L44 70 C41 70, 38 68, 38 65 Z",fill:"#4A3429"}),e.jsx("circle",{cx:"46",cy:"42",r:"1.5",fill:"#2C2C2C"}),e.jsx("circle",{cx:"54",cy:"42",r:"1.5",fill:"#2C2C2C"}),e.jsx("path",{d:"M49 45 L51 45 L50 48 Z",fill:"#C49464"}),e.jsx("rect",{x:"25",y:"70",width:"50",height:"30",rx:"5",fill:"#1A1A1A"})]}),Je=({size:t=80})=>e.jsxs("svg",{width:t,height:t,viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("circle",{cx:"50",cy:"50",r:"50",fill:"#F5E6D3"}),e.jsx("circle",{cx:"50",cy:"45",r:"16",fill:"#D2A574"}),e.jsx("path",{d:"M34 35 C34 25, 42 20, 50 20 C58 20, 66 25, 66 35 L66 25 C66 20, 62 18, 58 18 L42 18 C38 18, 34 20, 34 25 Z",fill:"#1A1A1A"}),e.jsx("path",{d:"M38 55 C38 50, 43 48, 50 48 C57 48, 62 50, 62 55 L62 68 C62 71, 59 73, 56 73 L44 73 C41 73, 38 71, 38 68 Z",fill:"#B8B8B8"}),e.jsx("circle",{cx:"46",cy:"42",r:"1.5",fill:"#2C2C2C"}),e.jsx("circle",{cx:"54",cy:"42",r:"1.5",fill:"#2C2C2C"}),e.jsx("path",{d:"M49 45 L51 45 L50 48 Z",fill:"#C49464"}),e.jsx("rect",{x:"25",y:"70",width:"50",height:"30",rx:"5",fill:"#1A1A1A"})]}),Ve=({size:t=80})=>e.jsxs("svg",{width:t,height:t,viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("circle",{cx:"50",cy:"50",r:"50",fill:"#F5E6D3"}),e.jsx("circle",{cx:"50",cy:"45",r:"16",fill:"#D2A574"}),e.jsx("path",{d:"M34 35 C34 25, 42 20, 50 20 C58 20, 66 25, 66 35 L66 25 C66 20, 62 18, 58 18 L42 18 C38 18, 34 20, 34 25 Z",fill:"#1A1A1A"}),e.jsx("path",{d:"M40 55 C40 50, 44 48, 50 48 C56 48, 60 50, 60 55 L60 64 C60 67, 57 69, 54 69 L46 69 C43 69, 40 67, 40 64 Z",fill:"#4A3429"}),e.jsx("circle",{cx:"46",cy:"42",r:"1.5",fill:"#2C2C2C"}),e.jsx("circle",{cx:"54",cy:"42",r:"1.5",fill:"#2C2C2C"}),e.jsx("path",{d:"M49 45 L51 45 L50 48 Z",fill:"#C49464"}),e.jsx("rect",{x:"25",y:"70",width:"50",height:"30",rx:"5",fill:"#1A1A1A"})]}),He=({size:t=80})=>e.jsxs("svg",{width:t,height:t,viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("circle",{cx:"50",cy:"50",r:"50",fill:"#F5E6D3"}),e.jsx("path",{d:"M25 30 C25 22, 35 18, 50 18 C65 18, 75 22, 75 30 L75 85 C75 90, 70 95, 65 95 L35 95 C30 95, 25 90, 25 85 Z",fill:"#1A1A1A"}),e.jsx("ellipse",{cx:"50",cy:"45",rx:"18",ry:"20",fill:"#E8C4A0"}),e.jsx("circle",{cx:"46",cy:"42",r:"1.5",fill:"#2C2C2C"}),e.jsx("circle",{cx:"54",cy:"42",r:"1.5",fill:"#2C2C2C"}),e.jsx("path",{d:"M49 45 L51 45 L50 48 Z",fill:"#D4A574"}),e.jsx("path",{d:"M44 50 Q50 52 56 50",stroke:"#C49464",strokeWidth:"1",fill:"none"})]}),Qe=({size:t=80})=>e.jsxs("svg",{width:t,height:t,viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("circle",{cx:"50",cy:"50",r:"50",fill:"#F5E6D3"}),e.jsx("circle",{cx:"50",cy:"45",r:"15",fill:"#D2A574"}),e.jsx("path",{d:"M30 30 C30 22, 38 18, 50 18 C62 18, 70 22, 70 30 L70 35 C70 40, 68 45, 65 48 L35 48 C32 45, 30 40, 30 35 Z",fill:"#6B4E7A"}),e.jsx("path",{d:"M35 35 C35 30, 42 28, 50 28 C58 28, 65 30, 65 35",fill:"#8B4513"}),e.jsx("circle",{cx:"46",cy:"42",r:"1.5",fill:"#2C2C2C"}),e.jsx("circle",{cx:"54",cy:"42",r:"1.5",fill:"#2C2C2C"}),e.jsx("path",{d:"M49 45 L51 45 L50 48 Z",fill:"#C49464"}),e.jsx("rect",{x:"25",y:"70",width:"50",height:"30",rx:"5",fill:"#2C3E50"})]}),qe=({size:t=80})=>e.jsxs("svg",{width:t,height:t,viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("circle",{cx:"50",cy:"50",r:"50",fill:"#F5E6D3"}),e.jsx("circle",{cx:"50",cy:"43",r:"15",fill:"#D2A574"}),e.jsx("path",{d:"M35 30 C35 22, 42 18, 50 18 C58 18, 65 22, 65 30 C65 35, 62 38, 58 40 L42 40 C38 38, 35 35, 35 30 Z",fill:"#8B4513"}),e.jsx("circle",{cx:"46",cy:"40",r:"1.5",fill:"#2C2C2C"}),e.jsx("circle",{cx:"54",cy:"40",r:"1.5",fill:"#2C2C2C"}),e.jsx("path",{d:"M49 43 L51 43 L50 46 Z",fill:"#C49464"}),e.jsx("rect",{x:"25",y:"65",width:"50",height:"35",rx:"5",fill:"#2C3E50"}),e.jsx("rect",{x:"35",y:"65",width:"30",height:"20",fill:"#FFFFFF"}),e.jsx("rect",{x:"47",y:"65",width:"6",height:"25",fill:"#8B0000"})]}),Ke=({size:t=80})=>e.jsxs("svg",{width:t,height:t,viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("circle",{cx:"50",cy:"50",r:"50",fill:"#F5E6D3"}),e.jsx("circle",{cx:"50",cy:"43",r:"15",fill:"#D2A574"}),e.jsx("path",{d:"M35 30 C35 22, 42 18, 50 18 C58 18, 65 22, 65 30 C65 35, 62 38, 58 40 L42 40 C38 38, 35 35, 35 30 Z",fill:"#8B4513"}),e.jsx("path",{d:"M40 53 C40 48, 44 46, 50 46 C56 46, 60 48, 60 53 L60 62 C60 65, 57 67, 54 67 L46 67 C43 67, 40 65, 40 62 Z",fill:"#4A3429"}),e.jsx("circle",{cx:"46",cy:"40",r:"1.5",fill:"#2C2C2C"}),e.jsx("circle",{cx:"54",cy:"40",r:"1.5",fill:"#2C2C2C"}),e.jsx("path",{d:"M49 43 L51 43 L50 46 Z",fill:"#C49464"}),e.jsx("rect",{x:"25",y:"70",width:"50",height:"30",rx:"5",fill:"#1A1A1A"}),e.jsx("path",{d:"M48 62 L52 62 L52 68 L48 68 Z M46 64 L54 64 L54 66 L46 66 Z",fill:"#FFD700"})]}),ze=({size:t=80})=>e.jsxs("svg",{width:t,height:t,viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("circle",{cx:"50",cy:"50",r:"50",fill:"#F5E6D3"}),e.jsx("circle",{cx:"50",cy:"43",r:"15",fill:"#D2A574"}),e.jsx("path",{d:"M35 30 C35 22, 42 18, 50 18 C58 18, 65 22, 65 30 C65 35, 62 38, 58 40 L42 40 C38 38, 35 35, 35 30 Z",fill:"#B8B8B8"}),e.jsx("path",{d:"M38 53 C38 48, 42 46, 50 46 C58 46, 62 48, 62 53 L62 67 C62 70, 59 72, 56 72 L44 72 C41 72, 38 70, 38 67 Z",fill:"#B8B8B8"}),e.jsx("circle",{cx:"46",cy:"40",r:"1.5",fill:"#2C2C2C"}),e.jsx("circle",{cx:"54",cy:"40",r:"1.5",fill:"#2C2C2C"}),e.jsx("path",{d:"M49 43 L51 43 L50 46 Z",fill:"#C49464"}),e.jsx("rect",{x:"25",y:"70",width:"50",height:"30",rx:"5",fill:"#1A1A1A"}),e.jsx("path",{d:"M48 62 L52 62 L52 68 L48 68 Z M46 64 L54 64 L54 66 L46 66 Z",fill:"#FFD700"})]}),Xe=({size:t=80})=>e.jsxs("svg",{width:t,height:t,viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("circle",{cx:"50",cy:"50",r:"50",fill:"#F5E6D3"}),e.jsx("circle",{cx:"50",cy:"43",r:"15",fill:"#D2A574"}),e.jsx("path",{d:"M35 30 C35 22, 42 18, 50 18 C58 18, 65 22, 65 30 C65 35, 62 38, 58 40 L42 40 C38 38, 35 35, 35 30 Z",fill:"#8B4513"}),e.jsx("path",{d:"M40 53 C40 48, 44 46, 50 46 C56 46, 60 48, 60 53 L60 62 C60 65, 57 67, 54 67 L46 67 C43 67, 40 65, 40 62 Z",fill:"#4A3429"}),e.jsx("circle",{cx:"46",cy:"40",r:"1.5",fill:"#2C2C2C"}),e.jsx("circle",{cx:"54",cy:"40",r:"1.5",fill:"#2C2C2C"}),e.jsx("path",{d:"M49 43 L51 43 L50 46 Z",fill:"#C49464"}),e.jsx("rect",{x:"20",y:"70",width:"60",height:"30",rx:"8",fill:"#FFD700"}),e.jsx("path",{d:"M38 78 L42 78 L42 82 L38 82 Z M36 80 L44 80 L44 81 L36 81 Z",fill:"#8B0000"}),e.jsx("path",{d:"M58 78 L62 78 L62 82 L58 82 Z M56 80 L64 80 L64 81 L56 81 Z",fill:"#8B0000"})]}),et=({size:t=80})=>e.jsxs("svg",{width:t,height:t,viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("circle",{cx:"50",cy:"50",r:"50",fill:"#F5E6D3"}),e.jsx("circle",{cx:"50",cy:"45",r:"16",fill:"#E8C4A0"}),e.jsx("path",{d:"M34 35 C34 25, 42 20, 50 20 C58 20, 66 25, 66 35 L66 25 C66 20, 62 18, 58 18 L42 18 C38 18, 34 20, 34 25 Z",fill:"#1A1A1A"}),e.jsx("path",{d:"M36 55 C36 50, 41 48, 50 48 C59 48, 64 50, 64 55 L64 70 C64 73, 61 75, 58 75 L42 75 C39 75, 36 73, 36 70 Z",fill:"#F5F5F5"}),e.jsx("circle",{cx:"46",cy:"42",r:"1.5",fill:"#2C2C2C"}),e.jsx("circle",{cx:"54",cy:"42",r:"1.5",fill:"#2C2C2C"}),e.jsx("path",{d:"M49 45 L51 45 L50 48 Z",fill:"#D4A574"}),e.jsx("rect",{x:"25",y:"75",width:"50",height:"25",rx:"5",fill:"#1A1A1A"})]}),tt=({size:t=80})=>e.jsxs("svg",{width:t,height:t,viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("circle",{cx:"50",cy:"50",r:"50",fill:"#F5E6D3"}),e.jsx("path",{d:"M25 30 C25 22, 35 18, 50 18 C65 18, 75 22, 75 30 L75 85 C75 90, 70 95, 65 95 L35 95 C30 95, 25 90, 25 85 Z",fill:"#1A1A1A"}),e.jsx("ellipse",{cx:"50",cy:"45",rx:"16",ry:"18",fill:"#D2A574"}),e.jsx("circle",{cx:"46",cy:"42",r:"1.5",fill:"#2C2C2C"}),e.jsx("circle",{cx:"54",cy:"42",r:"1.5",fill:"#2C2C2C"}),e.jsx("path",{d:"M49 45 L51 45 L50 48 Z",fill:"#C49464"}),e.jsx("path",{d:"M45 50 Q50 52 55 50",stroke:"#C49464",strokeWidth:"1",fill:"none"}),e.jsx("path",{d:"M48 65 L52 65 L52 72 L48 72 Z M46 68 L54 68 L54 70 L46 70 Z",fill:"#FFD700"})]}),rt=({size:t=80})=>e.jsxs("svg",{width:t,height:t,viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("circle",{cx:"50",cy:"50",r:"50",fill:"#F5E6D3"}),e.jsx("circle",{cx:"50",cy:"45",r:"16",fill:"#C49464"}),e.jsx("path",{d:"M34 35 C34 25, 42 20, 50 20 C58 20, 66 25, 66 35 L66 25 C66 20, 62 18, 58 18 L42 18 C38 18, 34 20, 34 25 Z",fill:"#1A1A1A"}),e.jsx("path",{d:"M38 55 C38 50, 43 48, 50 48 C57 48, 62 50, 62 55 L62 66 C62 69, 59 71, 56 71 L44 71 C41 71, 38 69, 38 66 Z",fill:"#4A3429"}),e.jsx("circle",{cx:"46",cy:"42",r:"1.5",fill:"#2C2C2C"}),e.jsx("circle",{cx:"54",cy:"42",r:"1.5",fill:"#2C2C2C"}),e.jsx("path",{d:"M49 45 L51 45 L50 48 Z",fill:"#B8956A"}),e.jsx("rect",{x:"25",y:"71",width:"50",height:"29",rx:"5",fill:"#1A1A1A"})]}),lt=({size:t=80})=>e.jsxs("svg",{width:t,height:t,viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("circle",{cx:"50",cy:"50",r:"50",fill:"#F5E6D3"}),e.jsx("circle",{cx:"50",cy:"43",r:"15",fill:"#D2A574"}),e.jsx("path",{d:"M35 30 C35 22, 42 18, 50 18 C58 18, 65 22, 65 30 C65 35, 62 38, 58 40 L42 40 C38 38, 35 35, 35 30 Z",fill:"#8B4513"}),e.jsx("path",{d:"M43 50 C45 48, 47 47, 50 47 C53 47, 55 48, 57 50",stroke:"#4A3429",strokeWidth:"2",fill:"none"}),e.jsx("circle",{cx:"46",cy:"40",r:"1.5",fill:"#2C2C2C"}),e.jsx("circle",{cx:"54",cy:"40",r:"1.5",fill:"#2C2C2C"}),e.jsx("path",{d:"M49 43 L51 43 L50 46 Z",fill:"#C49464"}),e.jsx("rect",{x:"25",y:"65",width:"50",height:"35",rx:"5",fill:"#2C3E50"}),e.jsx("rect",{x:"35",y:"65",width:"30",height:"20",fill:"#FFFFFF"}),e.jsx("rect",{x:"47",y:"65",width:"6",height:"25",fill:"#8B0000"})]}),it=({size:t=80})=>e.jsxs("svg",{width:t,height:t,viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("circle",{cx:"50",cy:"50",r:"50",fill:"#F5E6D3"}),e.jsx("circle",{cx:"50",cy:"43",r:"15",fill:"#D2A574"}),e.jsx("path",{d:"M35 30 C35 22, 42 18, 50 18 C58 18, 65 22, 65 30 C65 35, 62 38, 58 40 L42 40 C38 38, 35 35, 35 30 Z",fill:"#8B4513"}),e.jsx("circle",{cx:"46",cy:"40",r:"1.5",fill:"#2C2C2C"}),e.jsx("circle",{cx:"54",cy:"40",r:"1.5",fill:"#2C2C2C"}),e.jsx("path",{d:"M49 43 L51 43 L50 46 Z",fill:"#C49464"}),e.jsx("path",{d:"M45 48 Q50 50 55 48",stroke:"#C49464",strokeWidth:"1",fill:"none"}),e.jsx("rect",{x:"25",y:"65",width:"50",height:"35",rx:"5",fill:"#2C3E50"}),e.jsx("rect",{x:"35",y:"65",width:"30",height:"20",fill:"#FFFFFF"}),e.jsx("rect",{x:"47",y:"65",width:"6",height:"25",fill:"#1A5490"})]}),ot=({size:t=80})=>e.jsxs("svg",{width:t,height:t,viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("circle",{cx:"50",cy:"50",r:"50",fill:"#F5E6D3"}),e.jsx("circle",{cx:"50",cy:"43",r:"15",fill:"#E8C4A0"}),e.jsx("path",{d:"M35 30 C35 22, 42 18, 50 18 C58 18, 65 22, 65 30 C65 35, 62 38, 58 40 L42 40 C38 38, 35 35, 35 30 Z",fill:"#B8B8B8"}),e.jsx("path",{d:"M40 53 C40 48, 44 46, 50 46 C56 46, 60 48, 60 53 L60 65 C60 68, 57 70, 54 70 L46 70 C43 70, 40 68, 40 65 Z",fill:"#B8B8B8"}),e.jsx("circle",{cx:"46",cy:"40",r:"1.5",fill:"#2C2C2C"}),e.jsx("circle",{cx:"54",cy:"40",r:"1.5",fill:"#2C2C2C"}),e.jsx("path",{d:"M49 43 L51 43 L50 46 Z",fill:"#D4A574"}),e.jsx("rect",{x:"25",y:"70",width:"50",height:"30",rx:"5",fill:"#2C3E50"}),e.jsx("rect",{x:"35",y:"70",width:"30",height:"18",fill:"#FFFFFF"}),e.jsx("rect",{x:"47",y:"70",width:"6",height:"20",fill:"#8B0000"})]}),st=({size:t=80})=>e.jsxs("svg",{width:t,height:t,viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("circle",{cx:"50",cy:"50",r:"50",fill:"#F5E6D3"}),e.jsx("circle",{cx:"50",cy:"45",r:"16",fill:"#D2A574"}),e.jsx("path",{d:"M34 35 C34 25, 42 20, 50 20 C58 20, 66 25, 66 35 L66 25 C66 20, 62 18, 58 18 L42 18 C38 18, 34 20, 34 25 Z",fill:"#1A1A1A"}),e.jsx("path",{d:"M38 55 C38 50, 43 48, 50 48 C57 48, 62 50, 62 55 L62 68 C62 71, 59 73, 56 73 L44 73 C41 73, 38 71, 38 68 Z",fill:"#4A3429"}),e.jsx("circle",{cx:"46",cy:"42",r:"1.5",fill:"#2C2C2C"}),e.jsx("circle",{cx:"54",cy:"42",r:"1.5",fill:"#2C2C2C"}),e.jsx("path",{d:"M49 45 L51 45 L50 48 Z",fill:"#C49464"}),e.jsx("rect",{x:"25",y:"73",width:"50",height:"27",rx:"5",fill:"#1A1A1A"}),e.jsx("path",{d:"M48 68 L52 68 L52 75 L48 75 Z M46 71 L54 71 L54 73 L46 73 Z",fill:"#FFD700"})]}),at=({size:t=80})=>e.jsxs("svg",{width:t,height:t,viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("circle",{cx:"50",cy:"50",r:"50",fill:"#F5E6D3"}),e.jsx("circle",{cx:"50",cy:"43",r:"15",fill:"#D2A574"}),e.jsx("path",{d:"M35 30 C35 22, 42 18, 50 18 C58 18, 65 22, 65 30 C65 35, 62 38, 58 40 L42 40 C38 38, 35 35, 35 30 Z",fill:"#8B4513"}),e.jsx("path",{d:"M40 53 C40 48, 44 46, 50 46 C56 46, 60 48, 60 53 L60 62 C60 65, 57 67, 54 67 L46 67 C43 67, 40 65, 40 62 Z",fill:"#4A3429"}),e.jsx("circle",{cx:"46",cy:"40",r:"1.5",fill:"#2C2C2C"}),e.jsx("circle",{cx:"54",cy:"40",r:"1.5",fill:"#2C2C2C"}),e.jsx("path",{d:"M49 43 L51 43 L50 46 Z",fill:"#C49464"}),e.jsx("rect",{x:"25",y:"67",width:"50",height:"33",rx:"5",fill:"#1A1A1A"}),e.jsx("rect",{x:"40",y:"67",width:"20",height:"33",fill:"#FFD700"}),e.jsx("path",{d:"M45 72 L55 72 L55 74 L45 74 Z",fill:"#8B0000"}),e.jsx("path",{d:"M45 80 L55 80 L55 82 L45 82 Z",fill:"#8B0000"})]}),nt=({size:t=80})=>e.jsxs("svg",{width:t,height:t,viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("circle",{cx:"50",cy:"50",r:"50",fill:"#F5E6D3"}),e.jsx("circle",{cx:"50",cy:"43",r:"15",fill:"#E8C4A0"}),e.jsx("path",{d:"M35 30 C35 22, 42 18, 50 18 C58 18, 65 22, 65 30 C65 35, 62 38, 58 40 L42 40 C38 38, 35 35, 35 30 Z",fill:"#B8B8B8"}),e.jsx("path",{d:"M40 53 C40 48, 44 46, 50 46 C56 46, 60 48, 60 53 L60 65 C60 68, 57 70, 54 70 L46 70 C43 70, 40 68, 40 65 Z",fill:"#B8B8B8"}),e.jsx("circle",{cx:"46",cy:"40",r:"1.5",fill:"#2C2C2C"}),e.jsx("circle",{cx:"54",cy:"40",r:"1.5",fill:"#2C2C2C"}),e.jsx("path",{d:"M49 43 L51 43 L50 46 Z",fill:"#D4A574"}),e.jsx("rect",{x:"20",y:"70",width:"60",height:"30",rx:"8",fill:"#FFD700"}),e.jsx("path",{d:"M30 76 L34 76 L34 80 L30 80 Z M28 78 L36 78 L36 79 L28 79 Z",fill:"#8B0000"}),e.jsx("path",{d:"M46 76 L50 76 L50 80 L46 80 Z M44 78 L52 78 L52 79 L44 79 Z",fill:"#8B0000"}),e.jsx("path",{d:"M62 76 L66 76 L66 80 L62 80 Z M60 78 L68 78 L68 79 L60 79 Z",fill:"#8B0000"})]}),k=[{id:"young-priest-1",name:"Young Priest",type:"clergy",component:xe},{id:"elder-priest-1",name:"Elder Priest",type:"clergy",component:Je},{id:"young-priest-2",name:"Young Priest",type:"clergy",component:Ve},{id:"elderly-nun-1",name:"Elderly Nun",type:"religious",component:He},{id:"young-woman-purple",name:"Young Woman",type:"faithful",component:Qe},{id:"young-layman-1",name:"Young Layman",type:"faithful",component:qe},{id:"priest-with-cross-1",name:"Priest with Cross",type:"clergy",component:Ke},{id:"elder-priest-2",name:"Elder Priest",type:"clergy",component:ze},{id:"priest-golden-vestments",name:"Priest in Vestments",type:"clergy",component:Xe},{id:"elder-white-beard",name:"Elder Priest",type:"clergy",component:et},{id:"nun-with-cross",name:"Nun with Cross",type:"religious",component:tt},{id:"priest-black-kamilavka",name:"Priest",type:"clergy",component:rt},{id:"layman-mustache",name:"Layman with Mustache",type:"faithful",component:lt},{id:"young-layman-2",name:"Young Layman",type:"faithful",component:it},{id:"elder-layman-gray",name:"Elder Layman",type:"faithful",component:ot},{id:"priest-with-cross-2",name:"Priest with Cross",type:"clergy",component:st},{id:"deacon-golden-stole",name:"Deacon",type:"clergy",component:at},{id:"bishop-golden-vestments",name:"Bishop",type:"clergy",component:nt}],ct="/images/incode/profilebg.png",dt="linear-gradient(135deg, #667eea 0%, #764ba2 100%)";console.log("ProfileBanner - orthodoxAvatars imported:",{count:(k==null?void 0:k.length)||0,avatars:k,firstAvatar:k==null?void 0:k[0],testComponent:xe});const Lt=()=>{const{user:t}=de(),{profileImage:x,profileData:a,updateProfileImage:b,updateProfile:w}=$e(We),[h,v]=d.useState(ct),[L,f]=d.useState(null),[F,C]=d.useState(!1),[B,A]=d.useState(!1),[O,p]=d.useState(!1),[c,i]=d.useState(""),[u,j]=d.useState([]),[P,H]=d.useState(!1),[he,fe]=d.useState([]),[T,pe]=d.useState([]),[Q,ge]=d.useState([]),[U,N]=d.useState(!1),[M,G]=d.useState({}),q=d.useRef(null);d.useEffect(()=>{a&&(G(y({},a)),a.cover_image_url&&(v(a.cover_image_url),console.log("ðŸ“¸ Cover photo loaded from profile data:",a.cover_image_url))),me(),Y(),K()},[a]),d.useEffect(()=>{m(void 0,null,function*(){try{const s=yield(yield fetch("/api/global-images/public")).json();s&&s.images&&fe(s.images.map(g=>g.url||g.path||g))}catch(l){console.error("Failed to fetch profile images:",l)}})},[]);const me=()=>m(void 0,null,function*(){var r;try{console.log("ðŸ“¸ Fetching public global images...");const l=yield fetch("/api/admin/global-images/public");if(l.ok){const s=yield l.json();console.log("ðŸ“¸ Public global images response:",s),j(s.images||[]),console.log("ðŸ“¸ Set global images:",((r=s.images)==null?void 0:r.length)||0,"images")}else console.error("ðŸ“¸ Failed to fetch global images, status:",l.status)}catch(l){console.error("Failed to fetch global images:",l)}}),Y=()=>m(void 0,null,function*(){try{console.log("ðŸ“¸ Fetching orthodox avatars...");const r=yield fetch("/api/images/list?directory=orthodox/avatars");if(r.ok){const l=yield r.json();if(l.files&&Array.isArray(l.files)){const s=l.files.map(g=>`/images/orthodox/avatars/${g}`);pe(s),console.log("ðŸ“¸ Loaded orthodox avatars:",s.length)}}else console.log("ðŸ“¸ API not available, trying alternative method...")}catch(r){console.error("Failed to fetch orthodox avatars:",r)}}),K=()=>m(void 0,null,function*(){try{console.log("ðŸ“¸ Fetching orthodox banners...");const r=yield fetch("/api/images/list?directory=orthodox/banners");if(r.ok){const l=yield r.json();if(l.files&&Array.isArray(l.files)){const s=l.files.map(g=>`/images/orthodox/banners/${g}`);ge(s),console.log("ðŸ“¸ Loaded orthodox banners:",s.length)}}else console.log("ðŸ“¸ API not available, trying alternative method...")}catch(r){console.error("Failed to fetch orthodox banners:",r)}}),Ce=()=>m(void 0,null,function*(){try{yield w(M),N(!1),i("Profile updated successfully!"),p(!0),console.log("ðŸ“¸ Profile saved using sync hook")}catch(r){console.error("Failed to save profile:",r),i("Failed to update profile. Please try again."),p(!0)}}),ue=()=>{G(y({},t)),N(!1)},E=(r,l)=>{G(s=>J(y({},s),{[r]:l}))},je=Pe(o)(()=>({backgroundImage:"linear-gradient(#50b2fc,#f44c66)",borderRadius:"50%",width:"110px",height:"110px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto",position:"relative"})),ye=r=>m(void 0,null,function*(){var s;const l=(s=r.target.files)==null?void 0:s[0];if(l)try{const I=`profile_${Date.now()}_${l.name}`,$=new FormData;$.append("profile",l),$.append("fileName",I);const X=yield fetch("/api/upload/profile",{method:"POST",body:$});if(X.ok){const xt=yield X.json(),ee=`/images/profile/${I}`;yield b(ee),f(null),A(!1),i("Profile picture updated and saved!"),p(!0),console.log("ðŸ“¸ Profile image saved using sync hook:",ee)}else throw new Error("Failed to upload profile image")}catch(g){console.error("Error uploading profile:",g),i("Failed to upload profile picture. Please try again."),p(!0)}}),z=(r=100,l={},s)=>{if(L){const g=T.find(I=>String(I.id)===String(L));if(g){const I=g.component;return e.jsx(o,{sx:y({width:r,height:r,borderRadius:"50%",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",cursor:s?"pointer":"default"},l),onClick:s,children:e.jsx(I,{size:r*.9})})}}return console.log("Rendering avatar with image:",x),e.jsx(ce,{src:x,alt:"Profile Picture",sx:y({width:r,height:r,cursor:s?"pointer":"default"},l),onClick:s})};return e.jsxs(e.Fragment,{children:[e.jsxs(_e,{children:[e.jsxs(o,{sx:{position:"relative"},children:[e.jsx(Re,{component:"img",image:h,alt:"Cover Photo",onError:r=>{const l=r.target;l.style.display="none";const s=l.parentElement;if(s&&!s.querySelector(".fallback-gradient")){const g=document.createElement("div");g.className="fallback-gradient",g.style.cssText=`
                  width: 100%;
                  height: 300px;
                  background: ${dt};
                  cursor: pointer;
                `,g.onclick=()=>C(!0),s.appendChild(g)}},sx:{width:"100%",height:"300px",objectFit:"contain",cursor:"pointer"},onClick:()=>C(!0)}),e.jsx(le,{title:"Change Cover Photo",children:e.jsx(S,{sx:{position:"absolute",top:16,right:16,backgroundColor:"rgba(255, 255, 255, 0.9)","&:hover":{backgroundColor:"rgba(255, 255, 255, 1)"}},onClick:()=>{K(),C(!0)},children:e.jsx(Oe,{size:20})})})]}),e.jsxs(_,{container:!0,spacing:0,justifyContent:"center",alignItems:"center",children:[e.jsx(_,{sx:{order:{xs:"2",sm:"2",lg:"1"}},size:{lg:4,sm:12,md:5,xs:12},children:e.jsxs(Me,{sx:{p:3,m:2,backgroundColor:"background.paper"},children:[e.jsxs(o,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(n,{variant:"h6",fontWeight:"600",children:"Profile Information"}),U?e.jsxs(o,{sx:{display:"flex",gap:1},children:[e.jsx(Z,{variant:"contained",size:"small",onClick:Ce,children:"Save"}),e.jsx(Z,{variant:"outlined",size:"small",onClick:ue,children:"Cancel"})]}):e.jsx(Z,{variant:"outlined",size:"small",startIcon:e.jsx(ne,{}),onClick:()=>N(!0),children:"Edit"})]}),U?e.jsxs(V,{spacing:2,children:[e.jsx(D,{label:"Introduction",multiline:!0,rows:3,fullWidth:!0,value:M.introduction||"",onChange:r=>E("introduction",r.target.value),placeholder:"Tell us about yourself..."}),e.jsx(D,{label:"Institute/Organization",fullWidth:!0,value:M.institute_name||"",onChange:r=>E("institute_name",r.target.value),placeholder:"Your church, seminary, or organization"}),e.jsx(D,{label:"Website URL",fullWidth:!0,value:M.website_url||"",onChange:r=>E("website_url",r.target.value),placeholder:"https://your-website.com"}),e.jsx(D,{label:"Location",fullWidth:!0,value:M.location||"",onChange:r=>E("location",r.target.value),placeholder:"City, State/Province, Country"})]}):e.jsx(V,{spacing:2,children:e.jsxs(o,{children:[e.jsx(n,{variant:"body2",color:"text.secondary",sx:{fontWeight:500},children:"Email"}),e.jsx(n,{variant:"body1",children:t==null?void 0:t.email})]})})]})}),e.jsx(_,{sx:{order:{xs:"1",sm:"1",lg:"2"}},size:{lg:4,sm:12,xs:12},children:e.jsx(o,{display:"flex",alignItems:"center",textAlign:"center",justifyContent:"center",sx:{mt:"-85px"},children:e.jsxs(o,{children:[e.jsx(je,{children:e.jsx(Te,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:e.jsx(le,{title:"Change Profile Picture",children:e.jsx(S,{size:"small",sx:{backgroundColor:"primary.main",color:"white",width:32,height:32,"&:hover":{backgroundColor:"primary.dark"}},onClick:()=>{Y(),A(!0)},children:e.jsx(ne,{size:16})})}),children:z(100,{borderRadius:"50%",border:"4px solid #fff"},()=>{Y(),A(!0)})})}),e.jsx(o,{mt:1,children:U?e.jsx(o,{sx:{mt:2},children:e.jsx(D,{label:"Full Name",fullWidth:!0,value:M.full_name||"",onChange:r=>E("full_name",r.target.value),placeholder:"Your full name",size:"small"})}):e.jsxs(e.Fragment,{children:[e.jsxs(n,{fontWeight:600,variant:"h5",children:[t==null?void 0:t.first_name," ",t==null?void 0:t.last_name]}),e.jsx(n,{color:"textSecondary",variant:"h6",fontWeight:400,children:(t==null?void 0:t.role)||"Orthodox Faithful"}),e.jsx(n,{variant:"body1",children:t==null?void 0:t.email})]})})]})})}),e.jsx(_,{sx:{order:{xs:"3",sm:"3",lg:"3"}},size:{lg:4,sm:12,xs:12},children:e.jsx(V,{direction:"row",gap:2,alignItems:"center",justifyContent:"center",my:2,children:e.jsx(Z,{color:"primary",variant:"contained",children:"Contact"})})})]}),e.jsx(Ye,{})]}),e.jsxs(ie,{open:F,onClose:()=>C(!1),maxWidth:"sm",fullWidth:!0,children:[e.jsxs(oe,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:["Change Cover Photo",e.jsx(S,{onClick:()=>C(!1),children:e.jsx(se,{})})]}),e.jsx(ae,{children:e.jsxs(o,{sx:{textAlign:"center",py:2},children:[e.jsx(o,{sx:{mb:3},children:e.jsx("img",{src:h,alt:"Current Cover",style:{width:"100%",maxHeight:"200px",objectFit:"cover",borderRadius:"8px"}})}),e.jsx(n,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Select a banner image from the available options below"}),Q.length>0&&e.jsxs(o,{sx:{mt:4,mb:4},children:[e.jsx(n,{variant:"h6",gutterBottom:!0,sx:{textAlign:"center"},children:"Orthodox Banners"}),e.jsx(n,{variant:"body2",color:"text.secondary",sx:{textAlign:"center",mb:3},children:"Choose from available banner images"}),e.jsx(o,{sx:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:2},children:Q.map((r,l)=>e.jsxs(o,{sx:{textAlign:"center",cursor:"pointer",p:1,borderRadius:1,border:"2px solid",borderColor:h===r?"primary.main":"transparent","&:hover":{borderColor:"primary.main",backgroundColor:"action.hover"}},onClick:()=>m(void 0,null,function*(){try{if((yield fetch("/api/user/profile/images",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({cover_image_url:r})})).ok)v(r),localStorage.setItem("userBannerImage",r),i("Banner image updated and saved!"),p(!0),C(!1),console.log("ðŸ“¸ Banner image saved to database:",r);else throw new Error("Failed to save banner to database")}catch(s){console.error("Failed to save banner:",s),i("Failed to save banner image"),p(!0)}}),children:[e.jsx(o,{sx:{width:"100%",height:80,borderRadius:1,backgroundImage:`url(${r})`,backgroundSize:"cover",backgroundPosition:"center",mb:1}}),e.jsxs(n,{variant:"caption",display:"block",noWrap:!0,children:["Banner ",l+1]})]},l))})]}),u.length>0?e.jsxs(o,{sx:{mt:4},children:[e.jsx(n,{variant:"h6",gutterBottom:!0,sx:{textAlign:"center"},children:"Global Banner Images"}),e.jsx(n,{variant:"body2",color:"text.secondary",sx:{textAlign:"center",mb:3},children:"Choose from admin-uploaded global banner images"}),e.jsx(o,{sx:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:2},children:u.filter(r=>r.type==="banner").map(r=>e.jsxs(o,{sx:{textAlign:"center",cursor:"pointer",p:1,borderRadius:1,border:"2px solid",borderColor:h===r.url?"primary.main":"transparent","&:hover":{borderColor:"primary.main",backgroundColor:"action.hover"}},onClick:()=>m(void 0,null,function*(){try{if((yield fetch("/api/user/profile/images",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({cover_image_url:r.url})})).ok)v(r.url),localStorage.setItem("userBannerImage",r.url),i("Banner image updated and saved!"),p(!0),console.log("ðŸ“¸ Banner image saved to database:",r.url);else throw new Error("Failed to save banner to database")}catch(l){console.error("Failed to save banner:",l),i("Failed to save banner image"),p(!0)}}),children:[e.jsx(o,{sx:{width:"100%",height:80,borderRadius:1,backgroundImage:`url(${r.url})`,backgroundSize:"cover",backgroundPosition:"center",mb:1}}),e.jsx(n,{variant:"caption",display:"block",noWrap:!0,children:r.name})]},r.id))})]}):e.jsxs(o,{sx:{mt:4,textAlign:"center"},children:[e.jsx(n,{variant:"h6",gutterBottom:!0,color:"text.secondary",children:"No Banner Images Available"}),e.jsx(n,{variant:"body2",color:"text.secondary",children:"Contact your administrator to upload banner images."})]})]})})]}),e.jsxs(ie,{open:B,onClose:()=>A(!1),maxWidth:"md",fullWidth:!0,PaperProps:{sx:{maxHeight:"90vh",overflow:"hidden"}},children:[e.jsxs(oe,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:["Change Profile Picture",e.jsx(S,{onClick:()=>A(!1),children:e.jsx(se,{})})]}),e.jsx(ae,{sx:{overflow:"auto","&::-webkit-scrollbar":{width:"8px"},"&::-webkit-scrollbar-track":{background:"#f1f1f1"},"&::-webkit-scrollbar-thumb":{background:"#888",borderRadius:"4px"},"&::-webkit-scrollbar-thumb:hover":{background:"#555"}},children:e.jsxs(o,{sx:{py:2},children:[e.jsxs(o,{sx:{textAlign:"center",mb:4},children:[e.jsx(n,{variant:"h6",gutterBottom:!0,children:"Current Profile Picture"}),z(120,{mx:"auto",mb:2,border:"4px solid",borderColor:"primary.main"}),e.jsxs(n,{variant:"h5",fontWeight:600,sx:{mt:2},children:[t==null?void 0:t.first_name," ",t==null?void 0:t.last_name]}),e.jsx(n,{variant:"body2",color:"text.secondary",children:(t==null?void 0:t.role)||"Orthodox Faithful"})]}),e.jsx(W,{sx:{mb:4},children:e.jsxs(R,{sx:{textAlign:"center"},children:[e.jsx(n,{variant:"h6",gutterBottom:!0,children:"Upload Custom Image"}),e.jsx("input",{ref:q,type:"file",accept:"image/*",style:{display:"none"},onChange:ye}),e.jsx(Z,{variant:"contained",startIcon:e.jsx(Ue,{}),onClick:()=>{var r;return(r=q.current)==null?void 0:r.click()},size:"large",sx:{mb:2},children:"Upload Your Photo"}),e.jsx(n,{variant:"body2",color:"text.secondary",children:"Recommended: Square image, at least 200x200 pixels"})]})}),e.jsx(W,{sx:{mb:4},children:e.jsxs(R,{children:[e.jsx(n,{variant:"h6",gutterBottom:!0,sx:{textAlign:"center"},children:"Choose from Uploaded Profile Images"}),e.jsx(o,{sx:{display:"flex",flexWrap:"wrap",gap:2,justifyContent:"center"},children:he.map(r=>e.jsx(o,{sx:{border:x===r?"3px solid #1976d2":"2px solid #eee",borderRadius:"50%",p:1,cursor:"pointer",width:80,height:80,display:"flex",alignItems:"center",justifyContent:"center",background:"#fff"},onClick:()=>m(void 0,null,function*(){try{yield b(r),f(null),i("Profile image updated and saved!"),p(!0),console.log("ðŸ“¸ Profile image saved using sync hook:",r)}catch(l){console.error("Failed to save profile image:",l),i("Failed to save profile image"),p(!0)}}),children:e.jsx(ce,{src:r,sx:{width:60,height:60}})},r))})]})}),T.length>0&&e.jsx(W,{sx:{mb:4},children:e.jsxs(R,{children:[e.jsx(n,{variant:"h6",gutterBottom:!0,sx:{textAlign:"center"},children:"Orthodox Avatars"}),e.jsx(n,{variant:"body2",color:"text.secondary",sx:{textAlign:"center",mb:3},children:"Choose from available avatar images"}),e.jsx(o,{sx:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(100px, 1fr))",gap:2},children:T.map((r,l)=>e.jsxs(o,{sx:{textAlign:"center",cursor:"pointer",p:1,borderRadius:1,border:"2px solid",borderColor:x===r?"primary.main":"transparent","&:hover":{borderColor:"primary.main",backgroundColor:"action.hover"}},onClick:()=>m(void 0,null,function*(){try{yield b(r),f(null),i("Profile image updated and saved!"),p(!0),A(!1),console.log("ðŸ“¸ Orthodox avatar saved using sync hook:",r)}catch(s){console.error("Failed to save profile image:",s),i("Failed to save profile image"),p(!0)}}),children:[e.jsx(o,{sx:{width:60,height:60,borderRadius:"50%",backgroundImage:`url(${r})`,backgroundSize:"cover",backgroundPosition:"center",mx:"auto",mb:1}}),e.jsxs(n,{variant:"caption",display:"block",noWrap:!0,children:["Avatar ",l+1]})]},l))})]})}),u.length>0&&e.jsx(W,{sx:{mt:4},children:e.jsxs(R,{children:[e.jsx(n,{variant:"h6",gutterBottom:!0,sx:{textAlign:"center"},children:"Global Profile Images"}),e.jsx(n,{variant:"body2",color:"text.secondary",sx:{textAlign:"center",mb:3},children:"Choose from admin-uploaded global profile images"}),e.jsx(o,{sx:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(100px, 1fr))",gap:2},children:u.filter(r=>r.type==="profile").map(r=>e.jsxs(o,{sx:{textAlign:"center",cursor:"pointer",p:1,borderRadius:1,border:"2px solid",borderColor:x===r.url?"primary.main":"transparent","&:hover":{borderColor:"primary.main",backgroundColor:"action.hover"}},onClick:()=>m(void 0,null,function*(){try{yield b(r.url),f(null),i("Profile image updated and saved!"),p(!0),console.log("ðŸ“¸ Global profile image saved using sync hook:",r.url)}catch(l){console.error("Failed to save profile image:",l),i("Failed to save profile image"),p(!0)}}),children:[e.jsx(o,{sx:{width:60,height:60,borderRadius:"50%",backgroundImage:`url(${r.url})`,backgroundSize:"cover",backgroundPosition:"center",mx:"auto",mb:1}}),e.jsx(n,{variant:"caption",display:"block",noWrap:!0,children:r.name})]},r.id))})]})})]})})]}),e.jsx(Ie,{open:O,autoHideDuration:3e3,onClose:()=>p(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:e.jsx(Ee,{onClose:()=>p(!1),severity:"success",sx:{width:"100%"},children:c})})]})};export{Lt as P};
//# sourceMappingURL=ProfileBanner-C8H77DS9.js.map
