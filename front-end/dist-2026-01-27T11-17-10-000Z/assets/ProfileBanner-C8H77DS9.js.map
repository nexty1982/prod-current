{"version":3,"file":"ProfileBanner-C8H77DS9.js","sources":["../../node_modules/@tabler/icons-react/dist/esm/icons/IconUserCircle.mjs","../../src/components/apps/userprofile/profile/ProfileTab.tsx","../../src/hooks/useProfileSync.ts","../../src/components/avatars/OrthodoxAvatars.tsx","../../src/components/apps/userprofile/profile/ProfileBanner.tsx"],"sourcesContent":["/**\n * @license @tabler/icons-react v3.34.1 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createReactComponent from '../createReactComponent.mjs';\n\nconst __iconNode = [[\"path\", { \"d\": \"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0\", \"key\": \"svg-0\" }], [\"path\", { \"d\": \"M12 10m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0\", \"key\": \"svg-1\" }], [\"path\", { \"d\": \"M6.168 18.849a4 4 0 0 1 3.832 -2.849h4a4 4 0 0 1 3.834 2.855\", \"key\": \"svg-2\" }]];\nconst IconUserCircle = createReactComponent(\"outline\", \"user-circle\", \"UserCircle\", __iconNode);\n\nexport { __iconNode, IconUserCircle as default };\n//# sourceMappingURL=IconUserCircle.mjs.map\n","// eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n// @ts-ignore\r\nimport React from 'react';\r\nimport { Tabs, Tab, Box } from '@mui/material';\r\nimport { IconUserCircle } from '@tabler/icons-react';\r\nimport { Link, useLocation } from 'react-router-dom';\r\n\r\nconst ProfileTab = () => {\r\n  const location = useLocation();\r\n  const [value, setValue] = React.useState(location.pathname);\r\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n  // @ts-ignore\r\n  const handleChange = (event: React.SyntheticEvent, newValue: string) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n  interface profileType {\r\n    label: string;\r\n    icon: any;\r\n    to: string;\r\n  }\r\n\r\n  const ProfileTabs: profileType[] = [\r\n    {\r\n      label: 'Profile',\r\n      icon: <IconUserCircle size=\"20\" />,\r\n      to: '/user-profile',\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <Box mt={1} sx={{ mt: 1, backgroundColor: (theme) => theme.palette.grey[100] }}>\r\n      <Box justifyContent={'end'} display=\"flex\" sx={{ overflow: 'auto', width: { xs: '333px', sm: 'auto' } }}>\r\n        <Tabs value={value} onChange={handleChange} aria-label=\"scrollable prevent tabs example\" variant=\"scrollable\" scrollButtons=\"auto\">\r\n          {ProfileTabs.map((tab) => {\r\n            return (\r\n              <Tab\r\n                iconPosition=\"start\"\r\n                label={tab.label}\r\n                sx={{ minHeight: '50px' }}\r\n                icon={tab.icon}\r\n                component={Link}\r\n                to={tab.to}\r\n                value={tab.to}\r\n                key={tab.label}\r\n              />\r\n            );\r\n          })}\r\n        </Tabs>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default ProfileTab;\r\n","/**\r\n * Profile Synchronization Hook\r\n * Manages profile data synchronization across the application\r\n */\r\n\r\nimport { useState, useEffect, useCallback } from 'react';\r\nimport { useAuth } from '../context/AuthContext';\r\n\r\ninterface ProfileData {\r\n    profile_image_url?: string;\r\n    cover_image_url?: string;\r\n    display_name?: string;\r\n    bio?: string;\r\n    location?: string;\r\n    website?: string;\r\n    [key: string]: any;\r\n}\r\n\r\ninterface ProfileSyncReturn {\r\n    profileImage: string;\r\n    profileData: ProfileData | null;\r\n    updateProfileImage: (imageUrl: string) => Promise<void>;\r\n    updateProfile: (updates: Partial<ProfileData>) => Promise<void>;\r\n    refreshProfile: () => Promise<void>;\r\n    isLoading: boolean;\r\n    error: string | null;\r\n}\r\n\r\nexport const useProfileSync = (defaultImage?: string): ProfileSyncReturn => {\r\n    const { user, refreshAuth } = useAuth();\r\n    const [profileImage, setProfileImage] = useState(defaultImage || '/src/assets/images/profile/user-1.jpg');\r\n    const [profileData, setProfileData] = useState<ProfileData | null>(null);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [error, setError] = useState<string | null>(null);\r\n\r\n    // Load profile data from database\r\n    const loadProfile = useCallback(async () => {\r\n        try {\r\n            setIsLoading(true);\r\n            setError(null);\r\n\r\n            const response = await fetch('/api/user/profile', {\r\n                credentials: 'include'\r\n            });\r\n\r\n            if (response.ok) {\r\n                const data = await response.json();\r\n                if (data.success && data.profile) {\r\n                    setProfileData(data.profile);\r\n\r\n                    // Update profile image\r\n                    if (data.profile.profile_image_url) {\r\n                        setProfileImage(data.profile.profile_image_url);\r\n                        localStorage.setItem('userProfileImage', data.profile.profile_image_url);\r\n                    }\r\n\r\n                    console.log('ðŸ“¸ Profile loaded from database:', data.profile);\r\n                    return data.profile;\r\n                }\r\n            }\r\n        } catch (error) {\r\n            console.error('Failed to load profile:', error);\r\n            setError('Failed to load profile');\r\n\r\n            // Fallback to localStorage\r\n            const savedImage = localStorage.getItem('userProfileImage');\r\n            if (savedImage) {\r\n                setProfileImage(savedImage);\r\n            }\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    }, []);\r\n\r\n    // Update profile image\r\n    const updateProfileImage = useCallback(async (imageUrl: string) => {\r\n        try {\r\n            setIsLoading(true);\r\n            setError(null);\r\n\r\n            // Save to database\r\n            const response = await fetch('/api/user/profile/images', {\r\n                method: 'PUT',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                credentials: 'include',\r\n                body: JSON.stringify({ profile_image_url: imageUrl })\r\n            });\r\n\r\n            if (response.ok) {\r\n                // Update local state\r\n                setProfileImage(imageUrl);\r\n\r\n                // Update localStorage\r\n                localStorage.setItem('userProfileImage', imageUrl);\r\n\r\n                // Update profile data\r\n                setProfileData(prev => prev ? { ...prev, profile_image_url: imageUrl } : { profile_image_url: imageUrl });\r\n\r\n                // Notify other components\r\n                window.dispatchEvent(new CustomEvent('profileImageUpdated', {\r\n                    detail: { imageUrl }\r\n                }));\r\n\r\n                // Refresh auth context to sync user data\r\n                if (refreshAuth) {\r\n                    await refreshAuth();\r\n                }\r\n\r\n                console.log('ðŸ“¸ Profile image synchronized across app:', imageUrl);\r\n            } else {\r\n                throw new Error('Failed to save profile image to database');\r\n            }\r\n        } catch (error) {\r\n            console.error('Failed to update profile image:', error);\r\n            setError('Failed to update profile image');\r\n            throw error;\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    }, [refreshAuth]);\r\n\r\n    // Update profile data\r\n    const updateProfile = useCallback(async (updates: Partial<ProfileData>) => {\r\n        try {\r\n            setIsLoading(true);\r\n            setError(null);\r\n\r\n            const response = await fetch('/api/user/profile', {\r\n                method: 'PUT',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                credentials: 'include',\r\n                body: JSON.stringify(updates)\r\n            });\r\n\r\n            if (response.ok) {\r\n                const data = await response.json();\r\n                if (data.success) {\r\n                    // Update local state\r\n                    setProfileData(prev => ({ ...prev, ...updates }));\r\n\r\n                    // Update localStorage as backup\r\n                    localStorage.setItem('userProfile', JSON.stringify({ ...profileData, ...updates }));\r\n\r\n                    // Notify other components\r\n                    window.dispatchEvent(new CustomEvent('profileUpdated', {\r\n                        detail: { updates }\r\n                    }));\r\n\r\n                    // Refresh auth context if user data was updated\r\n                    if (refreshAuth && (updates.display_name || updates.first_name || updates.last_name)) {\r\n                        await refreshAuth();\r\n                    }\r\n\r\n                    console.log('ðŸ“¸ Profile data synchronized across app:', updates);\r\n                } else {\r\n                    throw new Error(data.message || 'Failed to update profile');\r\n                }\r\n            } else {\r\n                throw new Error('Failed to save profile to database');\r\n            }\r\n        } catch (error) {\r\n            console.error('Failed to update profile:', error);\r\n            setError('Failed to update profile');\r\n            throw error;\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    }, [profileData, refreshAuth]);\r\n\r\n    // Refresh profile data\r\n    const refreshProfile = useCallback(async () => {\r\n        await loadProfile();\r\n    }, [loadProfile]);\r\n\r\n    // Load profile on mount\r\n    useEffect(() => {\r\n        loadProfile();\r\n    }, [loadProfile]);\r\n\r\n    // Listen for localStorage changes (cross-tab synchronization)\r\n    useEffect(() => {\r\n        const handleStorageChange = (e: StorageEvent) => {\r\n            if (e.key === 'userProfileImage' && e.newValue) {\r\n                setProfileImage(e.newValue);\r\n            }\r\n        };\r\n\r\n        // Listen for custom profile update events\r\n        const handleProfileImageUpdate = (e: CustomEvent) => {\r\n            if (e.detail?.imageUrl) {\r\n                setProfileImage(e.detail.imageUrl);\r\n            }\r\n        };\r\n\r\n        const handleProfileUpdate = (e: CustomEvent) => {\r\n            if (e.detail?.updates) {\r\n                setProfileData(prev => ({ ...prev, ...e.detail.updates }));\r\n            }\r\n        };\r\n\r\n        window.addEventListener('storage', handleStorageChange);\r\n        window.addEventListener('profileImageUpdated', handleProfileImageUpdate as EventListener);\r\n        window.addEventListener('profileUpdated', handleProfileUpdate as EventListener);\r\n\r\n        return () => {\r\n            window.removeEventListener('storage', handleStorageChange);\r\n            window.removeEventListener('profileImageUpdated', handleProfileImageUpdate as EventListener);\r\n            window.removeEventListener('profileUpdated', handleProfileUpdate as EventListener);\r\n        };\r\n    }, []);\r\n\r\n    return {\r\n        profileImage,\r\n        profileData,\r\n        updateProfileImage,\r\n        updateProfile,\r\n        refreshProfile,\r\n        isLoading,\r\n        error\r\n    };\r\n};\r\n","import React from 'react';\r\n\r\n// Image 1, Row 1, Position 1: Young Priest with Black Kamilavka\r\nexport const YoungPriest1: React.FC<{ size?: number }> = ({ size = 80 }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 100 100\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <circle cx=\"50\" cy=\"50\" r=\"50\" fill=\"#F5E6D3\"/>\r\n    <circle cx=\"50\" cy=\"45\" r=\"16\" fill=\"#D2A574\"/>\r\n    <path d=\"M34 35 C34 25, 42 20, 50 20 C58 20, 66 25, 66 35 L66 25 C66 20, 62 18, 58 18 L42 18 C38 18, 34 20, 34 25 Z\" fill=\"#1A1A1A\"/>\r\n    <path d=\"M38 55 C38 50, 43 48, 50 48 C57 48, 62 50, 62 55 L62 65 C62 68, 59 70, 56 70 L44 70 C41 70, 38 68, 38 65 Z\" fill=\"#4A3429\"/>\r\n    <circle cx=\"46\" cy=\"42\" r=\"1.5\" fill=\"#2C2C2C\"/>\r\n    <circle cx=\"54\" cy=\"42\" r=\"1.5\" fill=\"#2C2C2C\"/>\r\n    <path d=\"M49 45 L51 45 L50 48 Z\" fill=\"#C49464\"/>\r\n    <rect x=\"25\" y=\"70\" width=\"50\" height=\"30\" rx=\"5\" fill=\"#1A1A1A\"/>\r\n  </svg>\r\n);\r\n\r\n// Image 1, Row 1, Position 2: Elder Priest with Gray Beard\r\nexport const ElderPriest1: React.FC<{ size?: number }> = ({ size = 80 }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 100 100\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <circle cx=\"50\" cy=\"50\" r=\"50\" fill=\"#F5E6D3\"/>\r\n    <circle cx=\"50\" cy=\"45\" r=\"16\" fill=\"#D2A574\"/>\r\n    <path d=\"M34 35 C34 25, 42 20, 50 20 C58 20, 66 25, 66 35 L66 25 C66 20, 62 18, 58 18 L42 18 C38 18, 34 20, 34 25 Z\" fill=\"#1A1A1A\"/>\r\n    <path d=\"M38 55 C38 50, 43 48, 50 48 C57 48, 62 50, 62 55 L62 68 C62 71, 59 73, 56 73 L44 73 C41 73, 38 71, 38 68 Z\" fill=\"#B8B8B8\"/>\r\n    <circle cx=\"46\" cy=\"42\" r=\"1.5\" fill=\"#2C2C2C\"/>\r\n    <circle cx=\"54\" cy=\"42\" r=\"1.5\" fill=\"#2C2C2C\"/>\r\n    <path d=\"M49 45 L51 45 L50 48 Z\" fill=\"#C49464\"/>\r\n    <rect x=\"25\" y=\"70\" width=\"50\" height=\"30\" rx=\"5\" fill=\"#1A1A1A\"/>\r\n  </svg>\r\n);\r\n\r\n// Image 1, Row 1, Position 3: Young Priest (variant)\r\nexport const YoungPriest2: React.FC<{ size?: number }> = ({ size = 80 }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 100 100\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <circle cx=\"50\" cy=\"50\" r=\"50\" fill=\"#F5E6D3\"/>\r\n    <circle cx=\"50\" cy=\"45\" r=\"16\" fill=\"#D2A574\"/>\r\n    <path d=\"M34 35 C34 25, 42 20, 50 20 C58 20, 66 25, 66 35 L66 25 C66 20, 62 18, 58 18 L42 18 C38 18, 34 20, 34 25 Z\" fill=\"#1A1A1A\"/>\r\n    <path d=\"M40 55 C40 50, 44 48, 50 48 C56 48, 60 50, 60 55 L60 64 C60 67, 57 69, 54 69 L46 69 C43 69, 40 67, 40 64 Z\" fill=\"#4A3429\"/>\r\n    <circle cx=\"46\" cy=\"42\" r=\"1.5\" fill=\"#2C2C2C\"/>\r\n    <circle cx=\"54\" cy=\"42\" r=\"1.5\" fill=\"#2C2C2C\"/>\r\n    <path d=\"M49 45 L51 45 L50 48 Z\" fill=\"#C49464\"/>\r\n    <rect x=\"25\" y=\"70\" width=\"50\" height=\"30\" rx=\"5\" fill=\"#1A1A1A\"/>\r\n  </svg>\r\n);\r\n\r\n// Image 1, Row 2, Position 1: Elderly Nun\r\nexport const ElderlyNun1: React.FC<{ size?: number }> = ({ size = 80 }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 100 100\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <circle cx=\"50\" cy=\"50\" r=\"50\" fill=\"#F5E6D3\"/>\r\n    <path d=\"M25 30 C25 22, 35 18, 50 18 C65 18, 75 22, 75 30 L75 85 C75 90, 70 95, 65 95 L35 95 C30 95, 25 90, 25 85 Z\" fill=\"#1A1A1A\"/>\r\n    <ellipse cx=\"50\" cy=\"45\" rx=\"18\" ry=\"20\" fill=\"#E8C4A0\"/>\r\n    <circle cx=\"46\" cy=\"42\" r=\"1.5\" fill=\"#2C2C2C\"/>\r\n    <circle cx=\"54\" cy=\"42\" r=\"1.5\" fill=\"#2C2C2C\"/>\r\n    <path d=\"M49 45 L51 45 L50 48 Z\" fill=\"#D4A574\"/>\r\n    <path d=\"M44 50 Q50 52 56 50\" stroke=\"#C49464\" strokeWidth=\"1\" fill=\"none\"/>\r\n  </svg>\r\n);\r\n\r\n// Image 1, Row 2, Position 2: Young Woman with Purple Headcovering\r\nexport const YoungWomanPurple: React.FC<{ size?: number }> = ({ size = 80 }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 100 100\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <circle cx=\"50\" cy=\"50\" r=\"50\" fill=\"#F5E6D3\"/>\r\n    <circle cx=\"50\" cy=\"45\" r=\"15\" fill=\"#D2A574\"/>\r\n    <path d=\"M30 30 C30 22, 38 18, 50 18 C62 18, 70 22, 70 30 L70 35 C70 40, 68 45, 65 48 L35 48 C32 45, 30 40, 30 35 Z\" fill=\"#6B4E7A\"/>\r\n    <path d=\"M35 35 C35 30, 42 28, 50 28 C58 28, 65 30, 65 35\" fill=\"#8B4513\"/>\r\n    <circle cx=\"46\" cy=\"42\" r=\"1.5\" fill=\"#2C2C2C\"/>\r\n    <circle cx=\"54\" cy=\"42\" r=\"1.5\" fill=\"#2C2C2C\"/>\r\n    <path d=\"M49 45 L51 45 L50 48 Z\" fill=\"#C49464\"/>\r\n    <rect x=\"25\" y=\"70\" width=\"50\" height=\"30\" rx=\"5\" fill=\"#2C3E50\"/>\r\n  </svg>\r\n);\r\n\r\n// Image 1, Row 2, Position 3: Young Layman in Suit\r\nexport const YoungLayman1: React.FC<{ size?: number }> = ({ size = 80 }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 100 100\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <circle cx=\"50\" cy=\"50\" r=\"50\" fill=\"#F5E6D3\"/>\r\n    <circle cx=\"50\" cy=\"43\" r=\"15\" fill=\"#D2A574\"/>\r\n    <path d=\"M35 30 C35 22, 42 18, 50 18 C58 18, 65 22, 65 30 C65 35, 62 38, 58 40 L42 40 C38 38, 35 35, 35 30 Z\" fill=\"#8B4513\"/>\r\n    <circle cx=\"46\" cy=\"40\" r=\"1.5\" fill=\"#2C2C2C\"/>\r\n    <circle cx=\"54\" cy=\"40\" r=\"1.5\" fill=\"#2C2C2C\"/>\r\n    <path d=\"M49 43 L51 43 L50 46 Z\" fill=\"#C49464\"/>\r\n    <rect x=\"25\" y=\"65\" width=\"50\" height=\"35\" rx=\"5\" fill=\"#2C3E50\"/>\r\n    <rect x=\"35\" y=\"65\" width=\"30\" height=\"20\" fill=\"#FFFFFF\"/>\r\n    <rect x=\"47\" y=\"65\" width=\"6\" height=\"25\" fill=\"#8B0000\"/>\r\n  </svg>\r\n);\r\n\r\n// Image 1, Row 3, Position 1: Priest with Cross\r\nexport const PriestWithCross1: React.FC<{ size?: number }> = ({ size = 80 }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 100 100\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <circle cx=\"50\" cy=\"50\" r=\"50\" fill=\"#F5E6D3\"/>\r\n    <circle cx=\"50\" cy=\"43\" r=\"15\" fill=\"#D2A574\"/>\r\n    <path d=\"M35 30 C35 22, 42 18, 50 18 C58 18, 65 22, 65 30 C65 35, 62 38, 58 40 L42 40 C38 38, 35 35, 35 30 Z\" fill=\"#8B4513\"/>\r\n    <path d=\"M40 53 C40 48, 44 46, 50 46 C56 46, 60 48, 60 53 L60 62 C60 65, 57 67, 54 67 L46 67 C43 67, 40 65, 40 62 Z\" fill=\"#4A3429\"/>\r\n    <circle cx=\"46\" cy=\"40\" r=\"1.5\" fill=\"#2C2C2C\"/>\r\n    <circle cx=\"54\" cy=\"40\" r=\"1.5\" fill=\"#2C2C2C\"/>\r\n    <path d=\"M49 43 L51 43 L50 46 Z\" fill=\"#C49464\"/>\r\n    <rect x=\"25\" y=\"70\" width=\"50\" height=\"30\" rx=\"5\" fill=\"#1A1A1A\"/>\r\n    <path d=\"M48 62 L52 62 L52 68 L48 68 Z M46 64 L54 64 L54 66 L46 66 Z\" fill=\"#FFD700\"/>\r\n  </svg>\r\n);\r\n\r\n// Image 1, Row 3, Position 2: Elder Priest with Cross\r\nexport const ElderPriest2: React.FC<{ size?: number }> = ({ size = 80 }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 100 100\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <circle cx=\"50\" cy=\"50\" r=\"50\" fill=\"#F5E6D3\"/>\r\n    <circle cx=\"50\" cy=\"43\" r=\"15\" fill=\"#D2A574\"/>\r\n    <path d=\"M35 30 C35 22, 42 18, 50 18 C58 18, 65 22, 65 30 C65 35, 62 38, 58 40 L42 40 C38 38, 35 35, 35 30 Z\" fill=\"#B8B8B8\"/>\r\n    <path d=\"M38 53 C38 48, 42 46, 50 46 C58 46, 62 48, 62 53 L62 67 C62 70, 59 72, 56 72 L44 72 C41 72, 38 70, 38 67 Z\" fill=\"#B8B8B8\"/>\r\n    <circle cx=\"46\" cy=\"40\" r=\"1.5\" fill=\"#2C2C2C\"/>\r\n    <circle cx=\"54\" cy=\"40\" r=\"1.5\" fill=\"#2C2C2C\"/>\r\n    <path d=\"M49 43 L51 43 L50 46 Z\" fill=\"#C49464\"/>\r\n    <rect x=\"25\" y=\"70\" width=\"50\" height=\"30\" rx=\"5\" fill=\"#1A1A1A\"/>\r\n    <path d=\"M48 62 L52 62 L52 68 L48 68 Z M46 64 L54 64 L54 66 L46 66 Z\" fill=\"#FFD700\"/>\r\n  </svg>\r\n);\r\n\r\n// Image 1, Row 3, Position 3: Priest in Golden Vestments\r\nexport const PriestGoldenVestments: React.FC<{ size?: number }> = ({ size = 80 }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 100 100\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <circle cx=\"50\" cy=\"50\" r=\"50\" fill=\"#F5E6D3\"/>\r\n    <circle cx=\"50\" cy=\"43\" r=\"15\" fill=\"#D2A574\"/>\r\n    <path d=\"M35 30 C35 22, 42 18, 50 18 C58 18, 65 22, 65 30 C65 35, 62 38, 58 40 L42 40 C38 38, 35 35, 35 30 Z\" fill=\"#8B4513\"/>\r\n    <path d=\"M40 53 C40 48, 44 46, 50 46 C56 46, 60 48, 60 53 L60 62 C60 65, 57 67, 54 67 L46 67 C43 67, 40 65, 40 62 Z\" fill=\"#4A3429\"/>\r\n    <circle cx=\"46\" cy=\"40\" r=\"1.5\" fill=\"#2C2C2C\"/>\r\n    <circle cx=\"54\" cy=\"40\" r=\"1.5\" fill=\"#2C2C2C\"/>\r\n    <path d=\"M49 43 L51 43 L50 46 Z\" fill=\"#C49464\"/>\r\n    <rect x=\"20\" y=\"70\" width=\"60\" height=\"30\" rx=\"8\" fill=\"#FFD700\"/>\r\n    <path d=\"M38 78 L42 78 L42 82 L38 82 Z M36 80 L44 80 L44 81 L36 81 Z\" fill=\"#8B0000\"/>\r\n    <path d=\"M58 78 L62 78 L62 82 L58 82 Z M56 80 L64 80 L64 81 L56 81 Z\" fill=\"#8B0000\"/>\r\n  </svg>\r\n);\r\n\r\n// Image 2, Row 1, Position 1: Elder with White Beard\r\nexport const ElderWhiteBeard: React.FC<{ size?: number }> = ({ size = 80 }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 100 100\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <circle cx=\"50\" cy=\"50\" r=\"50\" fill=\"#F5E6D3\"/>\r\n    <circle cx=\"50\" cy=\"45\" r=\"16\" fill=\"#E8C4A0\"/>\r\n    <path d=\"M34 35 C34 25, 42 20, 50 20 C58 20, 66 25, 66 35 L66 25 C66 20, 62 18, 58 18 L42 18 C38 18, 34 20, 34 25 Z\" fill=\"#1A1A1A\"/>\r\n    <path d=\"M36 55 C36 50, 41 48, 50 48 C59 48, 64 50, 64 55 L64 70 C64 73, 61 75, 58 75 L42 75 C39 75, 36 73, 36 70 Z\" fill=\"#F5F5F5\"/>\r\n    <circle cx=\"46\" cy=\"42\" r=\"1.5\" fill=\"#2C2C2C\"/>\r\n    <circle cx=\"54\" cy=\"42\" r=\"1.5\" fill=\"#2C2C2C\"/>\r\n    <path d=\"M49 45 L51 45 L50 48 Z\" fill=\"#D4A574\"/>\r\n    <rect x=\"25\" y=\"75\" width=\"50\" height=\"25\" rx=\"5\" fill=\"#1A1A1A\"/>\r\n  </svg>\r\n);\r\n\r\n// Image 2, Row 1, Position 2: Nun with Cross\r\nexport const NunWithCross: React.FC<{ size?: number }> = ({ size = 80 }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 100 100\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <circle cx=\"50\" cy=\"50\" r=\"50\" fill=\"#F5E6D3\"/>\r\n    <path d=\"M25 30 C25 22, 35 18, 50 18 C65 18, 75 22, 75 30 L75 85 C75 90, 70 95, 65 95 L35 95 C30 95, 25 90, 25 85 Z\" fill=\"#1A1A1A\"/>\r\n    <ellipse cx=\"50\" cy=\"45\" rx=\"16\" ry=\"18\" fill=\"#D2A574\"/>\r\n    <circle cx=\"46\" cy=\"42\" r=\"1.5\" fill=\"#2C2C2C\"/>\r\n    <circle cx=\"54\" cy=\"42\" r=\"1.5\" fill=\"#2C2C2C\"/>\r\n    <path d=\"M49 45 L51 45 L50 48 Z\" fill=\"#C49464\"/>\r\n    <path d=\"M45 50 Q50 52 55 50\" stroke=\"#C49464\" strokeWidth=\"1\" fill=\"none\"/>\r\n    <path d=\"M48 65 L52 65 L52 72 L48 72 Z M46 68 L54 68 L54 70 L46 70 Z\" fill=\"#FFD700\"/>\r\n  </svg>\r\n);\r\n\r\n// Image 2, Row 1, Position 3: Priest with Black Kamilavka\r\nexport const PriestBlackKamilavka: React.FC<{ size?: number }> = ({ size = 80 }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 100 100\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <circle cx=\"50\" cy=\"50\" r=\"50\" fill=\"#F5E6D3\"/>\r\n    <circle cx=\"50\" cy=\"45\" r=\"16\" fill=\"#C49464\"/>\r\n    <path d=\"M34 35 C34 25, 42 20, 50 20 C58 20, 66 25, 66 35 L66 25 C66 20, 62 18, 58 18 L42 18 C38 18, 34 20, 34 25 Z\" fill=\"#1A1A1A\"/>\r\n    <path d=\"M38 55 C38 50, 43 48, 50 48 C57 48, 62 50, 62 55 L62 66 C62 69, 59 71, 56 71 L44 71 C41 71, 38 69, 38 66 Z\" fill=\"#4A3429\"/>\r\n    <circle cx=\"46\" cy=\"42\" r=\"1.5\" fill=\"#2C2C2C\"/>\r\n    <circle cx=\"54\" cy=\"42\" r=\"1.5\" fill=\"#2C2C2C\"/>\r\n    <path d=\"M49 45 L51 45 L50 48 Z\" fill=\"#B8956A\"/>\r\n    <rect x=\"25\" y=\"71\" width=\"50\" height=\"29\" rx=\"5\" fill=\"#1A1A1A\"/>\r\n  </svg>\r\n);\r\n\r\n// Image 2, Row 2, Position 1: Layman with Mustache\r\nexport const LaymanMustache: React.FC<{ size?: number }> = ({ size = 80 }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 100 100\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <circle cx=\"50\" cy=\"50\" r=\"50\" fill=\"#F5E6D3\"/>\r\n    <circle cx=\"50\" cy=\"43\" r=\"15\" fill=\"#D2A574\"/>\r\n    <path d=\"M35 30 C35 22, 42 18, 50 18 C58 18, 65 22, 65 30 C65 35, 62 38, 58 40 L42 40 C38 38, 35 35, 35 30 Z\" fill=\"#8B4513\"/>\r\n    <path d=\"M43 50 C45 48, 47 47, 50 47 C53 47, 55 48, 57 50\" stroke=\"#4A3429\" strokeWidth=\"2\" fill=\"none\"/>\r\n    <circle cx=\"46\" cy=\"40\" r=\"1.5\" fill=\"#2C2C2C\"/>\r\n    <circle cx=\"54\" cy=\"40\" r=\"1.5\" fill=\"#2C2C2C\"/>\r\n    <path d=\"M49 43 L51 43 L50 46 Z\" fill=\"#C49464\"/>\r\n    <rect x=\"25\" y=\"65\" width=\"50\" height=\"35\" rx=\"5\" fill=\"#2C3E50\"/>\r\n    <rect x=\"35\" y=\"65\" width=\"30\" height=\"20\" fill=\"#FFFFFF\"/>\r\n    <rect x=\"47\" y=\"65\" width=\"6\" height=\"25\" fill=\"#8B0000\"/>\r\n  </svg>\r\n);\r\n\r\n// Image 2, Row 2, Position 2: Young Layman\r\nexport const YoungLayman2: React.FC<{ size?: number }> = ({ size = 80 }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 100 100\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <circle cx=\"50\" cy=\"50\" r=\"50\" fill=\"#F5E6D3\"/>\r\n    <circle cx=\"50\" cy=\"43\" r=\"15\" fill=\"#D2A574\"/>\r\n    <path d=\"M35 30 C35 22, 42 18, 50 18 C58 18, 65 22, 65 30 C65 35, 62 38, 58 40 L42 40 C38 38, 35 35, 35 30 Z\" fill=\"#8B4513\"/>\r\n    <circle cx=\"46\" cy=\"40\" r=\"1.5\" fill=\"#2C2C2C\"/>\r\n    <circle cx=\"54\" cy=\"40\" r=\"1.5\" fill=\"#2C2C2C\"/>\r\n    <path d=\"M49 43 L51 43 L50 46 Z\" fill=\"#C49464\"/>\r\n    <path d=\"M45 48 Q50 50 55 48\" stroke=\"#C49464\" strokeWidth=\"1\" fill=\"none\"/>\r\n    <rect x=\"25\" y=\"65\" width=\"50\" height=\"35\" rx=\"5\" fill=\"#2C3E50\"/>\r\n    <rect x=\"35\" y=\"65\" width=\"30\" height=\"20\" fill=\"#FFFFFF\"/>\r\n    <rect x=\"47\" y=\"65\" width=\"6\" height=\"25\" fill=\"#1A5490\"/>\r\n  </svg>\r\n);\r\n\r\n// Image 2, Row 2, Position 3: Elder Layman with Gray Beard\r\nexport const ElderLaymanGray: React.FC<{ size?: number }> = ({ size = 80 }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 100 100\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <circle cx=\"50\" cy=\"50\" r=\"50\" fill=\"#F5E6D3\"/>\r\n    <circle cx=\"50\" cy=\"43\" r=\"15\" fill=\"#E8C4A0\"/>\r\n    <path d=\"M35 30 C35 22, 42 18, 50 18 C58 18, 65 22, 65 30 C65 35, 62 38, 58 40 L42 40 C38 38, 35 35, 35 30 Z\" fill=\"#B8B8B8\"/>\r\n    <path d=\"M40 53 C40 48, 44 46, 50 46 C56 46, 60 48, 60 53 L60 65 C60 68, 57 70, 54 70 L46 70 C43 70, 40 68, 40 65 Z\" fill=\"#B8B8B8\"/>\r\n    <circle cx=\"46\" cy=\"40\" r=\"1.5\" fill=\"#2C2C2C\"/>\r\n    <circle cx=\"54\" cy=\"40\" r=\"1.5\" fill=\"#2C2C2C\"/>\r\n    <path d=\"M49 43 L51 43 L50 46 Z\" fill=\"#D4A574\"/>\r\n    <rect x=\"25\" y=\"70\" width=\"50\" height=\"30\" rx=\"5\" fill=\"#2C3E50\"/>\r\n    <rect x=\"35\" y=\"70\" width=\"30\" height=\"18\" fill=\"#FFFFFF\"/>\r\n    <rect x=\"47\" y=\"70\" width=\"6\" height=\"20\" fill=\"#8B0000\"/>\r\n  </svg>\r\n);\r\n\r\n// Image 2, Row 3, Position 1: Priest with Cross\r\nexport const PriestWithCross2: React.FC<{ size?: number }> = ({ size = 80 }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 100 100\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <circle cx=\"50\" cy=\"50\" r=\"50\" fill=\"#F5E6D3\"/>\r\n    <circle cx=\"50\" cy=\"45\" r=\"16\" fill=\"#D2A574\"/>\r\n    <path d=\"M34 35 C34 25, 42 20, 50 20 C58 20, 66 25, 66 35 L66 25 C66 20, 62 18, 58 18 L42 18 C38 18, 34 20, 34 25 Z\" fill=\"#1A1A1A\"/>\r\n    <path d=\"M38 55 C38 50, 43 48, 50 48 C57 48, 62 50, 62 55 L62 68 C62 71, 59 73, 56 73 L44 73 C41 73, 38 71, 38 68 Z\" fill=\"#4A3429\"/>\r\n    <circle cx=\"46\" cy=\"42\" r=\"1.5\" fill=\"#2C2C2C\"/>\r\n    <circle cx=\"54\" cy=\"42\" r=\"1.5\" fill=\"#2C2C2C\"/>\r\n    <path d=\"M49 45 L51 45 L50 48 Z\" fill=\"#C49464\"/>\r\n    <rect x=\"25\" y=\"73\" width=\"50\" height=\"27\" rx=\"5\" fill=\"#1A1A1A\"/>\r\n    <path d=\"M48 68 L52 68 L52 75 L48 75 Z M46 71 L54 71 L54 73 L46 73 Z\" fill=\"#FFD700\"/>\r\n  </svg>\r\n);\r\n\r\n// Image 2, Row 3, Position 2: Deacon with Golden Stole\r\nexport const DeaconGoldenStole: React.FC<{ size?: number }> = ({ size = 80 }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 100 100\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <circle cx=\"50\" cy=\"50\" r=\"50\" fill=\"#F5E6D3\"/>\r\n    <circle cx=\"50\" cy=\"43\" r=\"15\" fill=\"#D2A574\"/>\r\n    <path d=\"M35 30 C35 22, 42 18, 50 18 C58 18, 65 22, 65 30 C65 35, 62 38, 58 40 L42 40 C38 38, 35 35, 35 30 Z\" fill=\"#8B4513\"/>\r\n    <path d=\"M40 53 C40 48, 44 46, 50 46 C56 46, 60 48, 60 53 L60 62 C60 65, 57 67, 54 67 L46 67 C43 67, 40 65, 40 62 Z\" fill=\"#4A3429\"/>\r\n    <circle cx=\"46\" cy=\"40\" r=\"1.5\" fill=\"#2C2C2C\"/>\r\n    <circle cx=\"54\" cy=\"40\" r=\"1.5\" fill=\"#2C2C2C\"/>\r\n    <path d=\"M49 43 L51 43 L50 46 Z\" fill=\"#C49464\"/>\r\n    <rect x=\"25\" y=\"67\" width=\"50\" height=\"33\" rx=\"5\" fill=\"#1A1A1A\"/>\r\n    <rect x=\"40\" y=\"67\" width=\"20\" height=\"33\" fill=\"#FFD700\"/>\r\n    <path d=\"M45 72 L55 72 L55 74 L45 74 Z\" fill=\"#8B0000\"/>\r\n    <path d=\"M45 80 L55 80 L55 82 L45 82 Z\" fill=\"#8B0000\"/>\r\n  </svg>\r\n);\r\n\r\n// Image 2, Row 3, Position 3: Bishop in Golden Vestments\r\nexport const BishopGoldenVestments: React.FC<{ size?: number }> = ({ size = 80 }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 100 100\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <circle cx=\"50\" cy=\"50\" r=\"50\" fill=\"#F5E6D3\"/>\r\n    <circle cx=\"50\" cy=\"43\" r=\"15\" fill=\"#E8C4A0\"/>\r\n    <path d=\"M35 30 C35 22, 42 18, 50 18 C58 18, 65 22, 65 30 C65 35, 62 38, 58 40 L42 40 C38 38, 35 35, 35 30 Z\" fill=\"#B8B8B8\"/>\r\n    <path d=\"M40 53 C40 48, 44 46, 50 46 C56 46, 60 48, 60 53 L60 65 C60 68, 57 70, 54 70 L46 70 C43 70, 40 68, 40 65 Z\" fill=\"#B8B8B8\"/>\r\n    <circle cx=\"46\" cy=\"40\" r=\"1.5\" fill=\"#2C2C2C\"/>\r\n    <circle cx=\"54\" cy=\"40\" r=\"1.5\" fill=\"#2C2C2C\"/>\r\n    <path d=\"M49 43 L51 43 L50 46 Z\" fill=\"#D4A574\"/>\r\n    <rect x=\"20\" y=\"70\" width=\"60\" height=\"30\" rx=\"8\" fill=\"#FFD700\"/>\r\n    <path d=\"M30 76 L34 76 L34 80 L30 80 Z M28 78 L36 78 L36 79 L28 79 Z\" fill=\"#8B0000\"/>\r\n    <path d=\"M46 76 L50 76 L50 80 L46 80 Z M44 78 L52 78 L52 79 L44 79 Z\" fill=\"#8B0000\"/>\r\n    <path d=\"M62 76 L66 76 L66 80 L62 80 Z M60 78 L68 78 L68 79 L60 79 Z\" fill=\"#8B0000\"/>\r\n  </svg>\r\n);\r\n\r\n// Orthodox Avatars Array - All 18 authentic characters from your images\r\nexport const orthodoxAvatars = [\r\n  { id: 'young-priest-1', name: 'Young Priest', type: 'clergy', component: YoungPriest1 },\r\n  { id: 'elder-priest-1', name: 'Elder Priest', type: 'clergy', component: ElderPriest1 },\r\n  { id: 'young-priest-2', name: 'Young Priest', type: 'clergy', component: YoungPriest2 },\r\n  { id: 'elderly-nun-1', name: 'Elderly Nun', type: 'religious', component: ElderlyNun1 },\r\n  { id: 'young-woman-purple', name: 'Young Woman', type: 'faithful', component: YoungWomanPurple },\r\n  { id: 'young-layman-1', name: 'Young Layman', type: 'faithful', component: YoungLayman1 },\r\n  { id: 'priest-with-cross-1', name: 'Priest with Cross', type: 'clergy', component: PriestWithCross1 },\r\n  { id: 'elder-priest-2', name: 'Elder Priest', type: 'clergy', component: ElderPriest2 },\r\n  { id: 'priest-golden-vestments', name: 'Priest in Vestments', type: 'clergy', component: PriestGoldenVestments },\r\n  { id: 'elder-white-beard', name: 'Elder Priest', type: 'clergy', component: ElderWhiteBeard },\r\n  { id: 'nun-with-cross', name: 'Nun with Cross', type: 'religious', component: NunWithCross },\r\n  { id: 'priest-black-kamilavka', name: 'Priest', type: 'clergy', component: PriestBlackKamilavka },\r\n  { id: 'layman-mustache', name: 'Layman with Mustache', type: 'faithful', component: LaymanMustache },\r\n  { id: 'young-layman-2', name: 'Young Layman', type: 'faithful', component: YoungLayman2 },\r\n  { id: 'elder-layman-gray', name: 'Elder Layman', type: 'faithful', component: ElderLaymanGray },\r\n  { id: 'priest-with-cross-2', name: 'Priest with Cross', type: 'clergy', component: PriestWithCross2 },\r\n  { id: 'deacon-golden-stole', name: 'Deacon', type: 'clergy', component: DeaconGoldenStole },\r\n  { id: 'bishop-golden-vestments', name: 'Bishop', type: 'clergy', component: BishopGoldenVestments },\r\n];\r\n\r\nexport default orthodoxAvatars;\r\n","import React, { useState, useRef, useEffect } from 'react';\r\nimport {\r\n  Grid,\r\n  Box,\r\n  Typography,\r\n  Button,\r\n  Avatar,\r\n  Stack,\r\n  CardMedia,\r\n  styled,\r\n  Fab,\r\n  IconButton,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  Card,\r\n  CardContent,\r\n  Tooltip,\r\n  Badge,\r\n  Alert,\r\n  Snackbar,\r\n  TextField,\r\n  Paper\r\n} from '@mui/material';\r\nimport {\r\n  IconFileDescription,\r\n  IconUserCheck,\r\n  IconUserCircle,\r\n  IconCamera,\r\n  IconEdit,\r\n  IconUpload,\r\n  IconX,\r\n} from '@tabler/icons-react';\r\nimport ProfileTab from './ProfileTab';\r\nimport BlankCard from '../../../shared/BlankCard';\r\nimport OrthodoxAvatarSelector from './OrthodoxAvatarSelector';\r\nimport { useAuth } from 'src/context/AuthContext';\r\nimport { useProfileSync } from '../../../../lib/useProfileSync';\r\n\r\n// Default images - with fallback handling\r\nconst profilecover = '/images/incode/profilebg.png';\r\nconst defaultGradient = 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';\r\nimport userimg from 'src/assets/images/profile/user-1.jpg';\r\n\r\n// Import Orthodox avatars\r\nimport { orthodoxAvatars, YoungPriest1 } from '../../../avatars/OrthodoxAvatars';\r\n\r\n// Simple test avatar component\r\nconst TestAvatar: React.FC<{ size?: number }> = ({ size = 60 }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 100 100\" style={{ border: '1px solid red' }}>\r\n    <circle cx=\"50\" cy=\"50\" r=\"40\" fill=\"blue\" />\r\n    <text x=\"50\" y=\"55\" textAnchor=\"middle\" fill=\"white\" fontSize=\"12\">TEST</text>\r\n  </svg>\r\n);\r\n\r\n// Debug logging\r\nconsole.log('ProfileBanner - orthodoxAvatars imported:', {\r\n  count: orthodoxAvatars?.length || 0,\r\n  avatars: orthodoxAvatars,\r\n  firstAvatar: orthodoxAvatars?.[0],\r\n  testComponent: YoungPriest1\r\n});\r\n\r\nconst ProfileBanner = () => {\r\n  const { user } = useAuth();\r\n  const {\r\n    profileImage: avatarImage,\r\n    profileData,\r\n    updateProfileImage,\r\n    updateProfile,\r\n    refreshProfile,\r\n    isLoading: profileLoading\r\n  } = useProfileSync(userimg);\r\n\r\n  const [coverPhoto, setCoverPhoto] = useState(profilecover);\r\n  const [selectedAvatarId, setSelectedAvatarId] = useState<number | null>(null);\r\n  const [coverUploadOpen, setCoverUploadOpen] = useState(false);\r\n  const [avatarUploadOpen, setAvatarUploadOpen] = useState(false);\r\n  const [snackbarOpen, setSnackbarOpen] = useState(false);\r\n  const [snackbarMessage, setSnackbarMessage] = useState('');\r\n  const [globalImages, setGlobalImages] = useState<any[]>([]);\r\n  const [showGlobalImages, setShowGlobalImages] = useState(false);\r\n  const [profileImages, setProfileImages] = useState<string[]>([]);\r\n  const [orthodoxAvatars, setOrthodoxAvatars] = useState<string[]>([]);\r\n  const [orthodoxBanners, setOrthodoxBanners] = useState<string[]>([]);\r\n\r\n  // Edit mode state\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [editedProfile, setEditedProfile] = useState<any>({});\r\n\r\n  const avatarInputRef = useRef<HTMLInputElement>(null);\r\n\r\n  // Sync with profile data from the hook\r\n  useEffect(() => {\r\n    if (profileData) {\r\n      setEditedProfile({ ...profileData });\r\n\r\n      // Set cover photo from database if available\r\n      if (profileData.cover_image_url) {\r\n        setCoverPhoto(profileData.cover_image_url);\r\n        console.log('ðŸ“¸ Cover photo loaded from profile data:', profileData.cover_image_url);\r\n      }\r\n    }\r\n\r\n    // Load global images\r\n    fetchGlobalImages();\r\n    // Load orthodox images\r\n    fetchOrthodoxAvatars();\r\n    fetchOrthodoxBanners();\r\n  }, [profileData]);\r\n\r\n  // Fetch all available profile images from the backend\r\n  useEffect(() => {\r\n    const fetchProfileImages = async () => {\r\n      try {\r\n        const response = await fetch('/api/global-images/public');\r\n        const data = await response.json();\r\n        if (data && data.images) {\r\n          setProfileImages(data.images.map((img: any) => img.url || img.path || img));\r\n        }\r\n      } catch (error) {\r\n        console.error('Failed to fetch profile images:', error);\r\n      }\r\n    };\r\n    fetchProfileImages();\r\n  }, []);\r\n\r\n  // Fetch all global images (both profile and banner)\r\n  const fetchGlobalImages = async () => {\r\n    try {\r\n      console.log('ðŸ“¸ Fetching public global images...');\r\n      const response = await fetch('/api/admin/global-images/public');\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        console.log('ðŸ“¸ Public global images response:', data);\r\n        setGlobalImages(data.images || []);\r\n        console.log('ðŸ“¸ Set global images:', data.images?.length || 0, 'images');\r\n      } else {\r\n        console.error('ðŸ“¸ Failed to fetch global images, status:', response.status);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to fetch global images:', error);\r\n    }\r\n  };\r\n\r\n  // Fetch orthodox avatars from public directory\r\n  const fetchOrthodoxAvatars = async () => {\r\n    try {\r\n      console.log('ðŸ“¸ Fetching orthodox avatars...');\r\n      const response = await fetch('/api/images/list?directory=orthodox/avatars');\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        if (data.files && Array.isArray(data.files)) {\r\n          const avatarPaths = data.files.map((file: string) => `/images/orthodox/avatars/${file}`);\r\n          setOrthodoxAvatars(avatarPaths);\r\n          console.log('ðŸ“¸ Loaded orthodox avatars:', avatarPaths.length);\r\n        }\r\n      } else {\r\n        // Fallback: try to fetch from a manifest or use common image extensions\r\n        console.log('ðŸ“¸ API not available, trying alternative method...');\r\n        // We'll handle this in the dialog by trying common filenames\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to fetch orthodox avatars:', error);\r\n    }\r\n  };\r\n\r\n  // Fetch orthodox banners from public directory\r\n  const fetchOrthodoxBanners = async () => {\r\n    try {\r\n      console.log('ðŸ“¸ Fetching orthodox banners...');\r\n      const response = await fetch('/api/images/list?directory=orthodox/banners');\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        if (data.files && Array.isArray(data.files)) {\r\n          const bannerPaths = data.files.map((file: string) => `/images/orthodox/banners/${file}`);\r\n          setOrthodoxBanners(bannerPaths);\r\n          console.log('ðŸ“¸ Loaded orthodox banners:', bannerPaths.length);\r\n        }\r\n      } else {\r\n        console.log('ðŸ“¸ API not available, trying alternative method...');\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to fetch orthodox banners:', error);\r\n    }\r\n  };\r\n\r\n  // Save profile changes to database using the sync hook\r\n  const handleSaveProfile = async () => {\r\n    try {\r\n      await updateProfile(editedProfile);\r\n      setIsEditing(false);\r\n      setSnackbarMessage('Profile updated successfully!');\r\n      setSnackbarOpen(true);\r\n      console.log('ðŸ“¸ Profile saved using sync hook');\r\n    } catch (error) {\r\n      console.error('Failed to save profile:', error);\r\n      setSnackbarMessage('Failed to update profile. Please try again.');\r\n      setSnackbarOpen(true);\r\n    }\r\n  };\r\n\r\n  // Cancel edit mode\r\n  const handleCancelEdit = () => {\r\n    setEditedProfile({ ...user });\r\n    setIsEditing(false);\r\n  };\r\n\r\n  // Handle input changes\r\n  const handleInputChange = (field: string, value: string) => {\r\n    setEditedProfile((prev: any) => ({\r\n      ...prev,\r\n      [field]: value\r\n    }));\r\n  };\r\n\r\n  const ProfileImage = styled(Box)(() => ({\r\n    backgroundImage: 'linear-gradient(#50b2fc,#f44c66)',\r\n    borderRadius: '50%',\r\n    width: '110px',\r\n    height: '110px',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: '0 auto',\r\n    position: 'relative'\r\n  }));\r\n\r\n\r\n\r\n  const handleAvatarUpload = async (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = event.target.files?.[0];\r\n    if (file) {\r\n      try {\r\n        // Create a unique filename\r\n        const timestamp = Date.now();\r\n        const fileName = `profile_${timestamp}_${file.name}`;\r\n\r\n        // Create FormData to send the file\r\n        const formData = new FormData();\r\n        formData.append('profile', file);\r\n        formData.append('fileName', fileName);\r\n\r\n        // Send to server to save in shared directory\r\n        const response = await fetch('/api/upload/profile', {\r\n          method: 'POST',\r\n          body: formData,\r\n        });\r\n\r\n        if (response.ok) {\r\n          const result = await response.json();\r\n          const imageUrl = `/images/profile/${fileName}`;\r\n\r\n          // Use the sync hook to update profile image\r\n          await updateProfileImage(imageUrl);\r\n\r\n          setSelectedAvatarId(null); // Reset Orthodox avatar selection\r\n          setAvatarUploadOpen(false);\r\n\r\n          setSnackbarMessage('Profile picture updated and saved!');\r\n          setSnackbarOpen(true);\r\n          console.log('ðŸ“¸ Profile image saved using sync hook:', imageUrl);\r\n        } else {\r\n          throw new Error('Failed to upload profile image');\r\n        }\r\n      } catch (error) {\r\n        console.error('Error uploading profile:', error);\r\n        setSnackbarMessage('Failed to upload profile picture. Please try again.');\r\n        setSnackbarOpen(true);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handlePresetAvatarSelect = (avatar: any) => {\r\n    setSelectedAvatarId(avatar.id);\r\n    setAvatarUploadOpen(false);\r\n    setSnackbarMessage(`Profile picture changed to ${avatar.name}!`);\r\n    setSnackbarOpen(true);\r\n  };\r\n\r\n  // Function to render the current avatar (either uploaded image or Orthodox SVG)\r\n  const renderCurrentAvatar = (size: number = 100, sx: any = {}, onClick?: () => void) => {\r\n    if (selectedAvatarId) {\r\n      const selectedAvatar = orthodoxAvatars.find(avatar => String(avatar.id) === String(selectedAvatarId));\r\n      if (selectedAvatar) {\r\n        const AvatarComponent = selectedAvatar.component;\r\n        return (\r\n          <Box\r\n            sx={{\r\n              width: size,\r\n              height: size,\r\n              borderRadius: '50%',\r\n              overflow: 'hidden',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              cursor: onClick ? 'pointer' : 'default',\r\n              ...sx\r\n            }}\r\n            onClick={onClick}\r\n          >\r\n            <AvatarComponent size={size * 0.9} />\r\n          </Box>\r\n        );\r\n      }\r\n    }\r\n\r\n    // Fallback to uploaded image\r\n    console.log('Rendering avatar with image:', avatarImage);\r\n    return (\r\n      <Avatar\r\n        src={avatarImage}\r\n        alt=\"Profile Picture\"\r\n        sx={{\r\n          width: size,\r\n          height: size,\r\n          cursor: onClick ? 'pointer' : 'default',\r\n          ...sx\r\n        }}\r\n        onClick={onClick}\r\n      />\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <BlankCard>\r\n        <Box sx={{ position: 'relative' }}>\r\n          <CardMedia\r\n            component=\"img\"\r\n            image={coverPhoto}\r\n            alt=\"Cover Photo\"\r\n            onError={(e) => {\r\n              // Fallback to gradient if image fails to load\r\n              const target = e.target as HTMLImageElement;\r\n              target.style.display = 'none';\r\n              const parent = target.parentElement;\r\n              if (parent && !parent.querySelector('.fallback-gradient')) {\r\n                const gradient = document.createElement('div');\r\n                gradient.className = 'fallback-gradient';\r\n                gradient.style.cssText = `\r\n                  width: 100%;\r\n                  height: 300px;\r\n                  background: ${defaultGradient};\r\n                  cursor: pointer;\r\n                `;\r\n                gradient.onclick = () => setCoverUploadOpen(true);\r\n                parent.appendChild(gradient);\r\n              }\r\n            }}\r\n            sx={{\r\n              width: \"100%\",\r\n              height: \"300px\",\r\n              objectFit: \"contain\",\r\n              cursor: 'pointer'\r\n            }}\r\n            onClick={() => setCoverUploadOpen(true)}\r\n          />\r\n\r\n          {/* Cover Photo Edit Button */}\r\n          <Tooltip title=\"Change Cover Photo\">\r\n            <IconButton\r\n              sx={{\r\n                position: 'absolute',\r\n                top: 16,\r\n                right: 16,\r\n                backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n                '&:hover': {\r\n                  backgroundColor: 'rgba(255, 255, 255, 1)',\r\n                }\r\n              }}\r\n              onClick={() => {\r\n                fetchOrthodoxBanners(); // Refresh banners when opening dialog\r\n                setCoverUploadOpen(true);\r\n              }}\r\n            >\r\n              <IconCamera size={20} />\r\n            </IconButton>\r\n          </Tooltip>\r\n        </Box>\r\n\r\n        <Grid container spacing={0} justifyContent=\"center\" alignItems=\"center\">\r\n          {/* Editable Profile Information */}\r\n          <Grid\r\n            sx={{\r\n              order: {\r\n                xs: '2',\r\n                sm: '2',\r\n                lg: '1',\r\n              },\r\n            }}\r\n            size={{\r\n              lg: 4,\r\n              sm: 12,\r\n              md: 5,\r\n              xs: 12\r\n            }}>\r\n            <Paper sx={{ p: 3, m: 2, backgroundColor: 'background.paper' }}>\r\n              <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 2 }}>\r\n                <Typography variant=\"h6\" fontWeight=\"600\">\r\n                  Profile Information\r\n                </Typography>\r\n                {!isEditing ? (\r\n                  <Button\r\n                    variant=\"outlined\"\r\n                    size=\"small\"\r\n                    startIcon={<IconEdit />}\r\n                    onClick={() => setIsEditing(true)}\r\n                  >\r\n                    Edit\r\n                  </Button>\r\n                ) : (\r\n                  <Box sx={{ display: 'flex', gap: 1 }}>\r\n                    <Button\r\n                      variant=\"contained\"\r\n                      size=\"small\"\r\n                      onClick={handleSaveProfile}\r\n                    >\r\n                      Save\r\n                    </Button>\r\n                    <Button\r\n                      variant=\"outlined\"\r\n                      size=\"small\"\r\n                      onClick={handleCancelEdit}\r\n                    >\r\n                      Cancel\r\n                    </Button>\r\n                  </Box>\r\n                )}\r\n              </Box>\r\n\r\n              {!isEditing ? (\r\n                <Stack spacing={2}>\r\n                  {/* No extra fields available on User object. Only name, email, role, etc. */}\r\n                  <Box>\r\n                    <Typography variant=\"body2\" color=\"text.secondary\" sx={{ fontWeight: 500 }}>\r\n                      Email\r\n                    </Typography>\r\n                    <Typography variant=\"body1\">\r\n                      {user?.email}\r\n                    </Typography>\r\n                  </Box>\r\n                </Stack>\r\n              ) : (\r\n                <Stack spacing={2}>\r\n                  <TextField\r\n                    label=\"Introduction\"\r\n                    multiline\r\n                    rows={3}\r\n                    fullWidth\r\n                    value={editedProfile.introduction || ''}\r\n                    onChange={(e) => handleInputChange('introduction', e.target.value)}\r\n                    placeholder=\"Tell us about yourself...\"\r\n                  />\r\n\r\n                  <TextField\r\n                    label=\"Institute/Organization\"\r\n                    fullWidth\r\n                    value={editedProfile.institute_name || ''}\r\n                    onChange={(e) => handleInputChange('institute_name', e.target.value)}\r\n                    placeholder=\"Your church, seminary, or organization\"\r\n                  />\r\n\r\n                  <TextField\r\n                    label=\"Website URL\"\r\n                    fullWidth\r\n                    value={editedProfile.website_url || ''}\r\n                    onChange={(e) => handleInputChange('website_url', e.target.value)}\r\n                    placeholder=\"https://your-website.com\"\r\n                  />\r\n\r\n                  <TextField\r\n                    label=\"Location\"\r\n                    fullWidth\r\n                    value={editedProfile.location || ''}\r\n                    onChange={(e) => handleInputChange('location', e.target.value)}\r\n                    placeholder=\"City, State/Province, Country\"\r\n                  />\r\n                </Stack>\r\n              )}\r\n            </Paper>\r\n          </Grid>\r\n\r\n          {/* about profile */}\r\n          <Grid\r\n            sx={{\r\n              order: {\r\n                xs: '1',\r\n                sm: '1',\r\n                lg: '2',\r\n              },\r\n            }}\r\n            size={{\r\n              lg: 4,\r\n              sm: 12,\r\n              xs: 12\r\n            }}>\r\n            <Box\r\n              display=\"flex\"\r\n              alignItems=\"center\"\r\n              textAlign=\"center\"\r\n              justifyContent=\"center\"\r\n              sx={{\r\n                mt: '-85px',\r\n              }}\r\n            >\r\n              <Box>\r\n                <ProfileImage>\r\n                  <Badge\r\n                    overlap=\"circular\"\r\n                    anchorOrigin={{ vertical: 'bottom', horizontal: 'right' }}\r\n                    badgeContent={\r\n                      <Tooltip title=\"Change Profile Picture\">\r\n                        <IconButton\r\n                          size=\"small\"\r\n                          sx={{\r\n                            backgroundColor: 'primary.main',\r\n                            color: 'white',\r\n                            width: 32,\r\n                            height: 32,\r\n                            '&:hover': {\r\n                              backgroundColor: 'primary.dark',\r\n                            }\r\n                          }}\r\n                          onClick={() => {\r\n                            fetchOrthodoxAvatars(); // Refresh avatars when opening dialog\r\n                            setAvatarUploadOpen(true);\r\n                          }}\r\n                        >\r\n                          <IconEdit size={16} />\r\n                        </IconButton>\r\n                      </Tooltip>\r\n                    }\r\n                  >\r\n                    {renderCurrentAvatar(100, {\r\n                      borderRadius: '50%',\r\n                      border: '4px solid #fff'\r\n                    }, () => {\r\n                      fetchOrthodoxAvatars(); // Refresh avatars when opening dialog\r\n                      setAvatarUploadOpen(true);\r\n                    })}\r\n                  </Badge>\r\n                </ProfileImage>\r\n                <Box mt={1}>\r\n                  {!isEditing ? (\r\n                    <>\r\n                      <Typography fontWeight={600} variant=\"h5\">{user?.first_name} {user?.last_name}</Typography>\r\n                      <Typography color=\"textSecondary\" variant=\"h6\" fontWeight={400}>{user?.role || 'Orthodox Faithful'}</Typography>\r\n                      <Typography variant=\"body1\">{user?.email}</Typography>\r\n                    </>\r\n                  ) : (\r\n                    <Box sx={{ mt: 2 }}>\r\n                      <TextField\r\n                        label=\"Full Name\"\r\n                        fullWidth\r\n                        value={editedProfile.full_name || ''}\r\n                        onChange={(e) => handleInputChange('full_name', e.target.value)}\r\n                        placeholder=\"Your full name\"\r\n                        size=\"small\"\r\n                      />\r\n                    </Box>\r\n                  )}\r\n                </Box>\r\n              </Box>\r\n            </Box>\r\n          </Grid>\r\n          {/* Profile Actions */}\r\n          <Grid\r\n            sx={{\r\n              order: {\r\n                xs: '3',\r\n                sm: '3',\r\n                lg: '3',\r\n              },\r\n            }}\r\n            size={{\r\n              lg: 4,\r\n              sm: 12,\r\n              xs: 12\r\n            }}>\r\n            <Stack direction={'row'} gap={2} alignItems=\"center\" justifyContent=\"center\" my={2}>\r\n              <Button color=\"primary\" variant=\"contained\">\r\n                Contact\r\n              </Button>\r\n            </Stack>\r\n          </Grid>\r\n        </Grid>\r\n\r\n        {/**TabbingPart**/}\r\n        <ProfileTab />\r\n      </BlankCard>\r\n\r\n      {/* Cover Photo Upload Dialog */}\r\n      <Dialog\r\n        open={coverUploadOpen}\r\n        onClose={() => setCoverUploadOpen(false)}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n      >\r\n        <DialogTitle sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n          Change Cover Photo\r\n          <IconButton onClick={() => setCoverUploadOpen(false)}>\r\n            <IconX />\r\n          </IconButton>\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <Box sx={{ textAlign: 'center', py: 2 }}>\r\n            <Box sx={{ mb: 3 }}>\r\n              <img\r\n                src={coverPhoto}\r\n                alt=\"Current Cover\"\r\n                style={{\r\n                  width: '100%',\r\n                  maxHeight: '200px',\r\n                  objectFit: 'cover',\r\n                  borderRadius: '8px'\r\n                }}\r\n              />\r\n            </Box>\r\n\r\n            <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 3 }}>\r\n              Select a banner image from the available options below\r\n            </Typography>\r\n\r\n            {/* Orthodox Banners from public directory */}\r\n            {orthodoxBanners.length > 0 && (\r\n              <Box sx={{ mt: 4, mb: 4 }}>\r\n                <Typography variant=\"h6\" gutterBottom sx={{ textAlign: 'center' }}>\r\n                  Orthodox Banners\r\n                </Typography>\r\n                <Typography variant=\"body2\" color=\"text.secondary\" sx={{ textAlign: 'center', mb: 3 }}>\r\n                  Choose from available banner images\r\n                </Typography>\r\n                <Box sx={{\r\n                  display: 'grid',\r\n                  gridTemplateColumns: 'repeat(auto-fill, minmax(200px, 1fr))',\r\n                  gap: 2\r\n                }}>\r\n                  {orthodoxBanners.map((bannerPath, index) => (\r\n                    <Box\r\n                      key={index}\r\n                      sx={{\r\n                        textAlign: 'center',\r\n                        cursor: 'pointer',\r\n                        p: 1,\r\n                        borderRadius: 1,\r\n                        border: '2px solid',\r\n                        borderColor: coverPhoto === bannerPath ? 'primary.main' : 'transparent',\r\n                        '&:hover': {\r\n                          borderColor: 'primary.main',\r\n                          backgroundColor: 'action.hover'\r\n                        }\r\n                      }}\r\n                      onClick={async () => {\r\n                        try {\r\n                          const updateResponse = await fetch('/api/user/profile/images', {\r\n                            method: 'PUT',\r\n                            headers: {\r\n                              'Content-Type': 'application/json',\r\n                            },\r\n                            credentials: 'include',\r\n                            body: JSON.stringify({ cover_image_url: bannerPath })\r\n                          });\r\n\r\n                          if (updateResponse.ok) {\r\n                            setCoverPhoto(bannerPath);\r\n                            localStorage.setItem('userBannerImage', bannerPath);\r\n                            setSnackbarMessage('Banner image updated and saved!');\r\n                            setSnackbarOpen(true);\r\n                            setCoverUploadOpen(false);\r\n                            console.log('ðŸ“¸ Banner image saved to database:', bannerPath);\r\n                          } else {\r\n                            throw new Error('Failed to save banner to database');\r\n                          }\r\n                        } catch (error) {\r\n                          console.error('Failed to save banner:', error);\r\n                          setSnackbarMessage('Failed to save banner image');\r\n                          setSnackbarOpen(true);\r\n                        }\r\n                      }}\r\n                    >\r\n                      <Box\r\n                        sx={{\r\n                          width: '100%',\r\n                          height: 80,\r\n                          borderRadius: 1,\r\n                          backgroundImage: `url(${bannerPath})`,\r\n                          backgroundSize: 'cover',\r\n                          backgroundPosition: 'center',\r\n                          mb: 1\r\n                        }}\r\n                      />\r\n                      <Typography variant=\"caption\" display=\"block\" noWrap>\r\n                        Banner {index + 1}\r\n                      </Typography>\r\n                    </Box>\r\n                  ))}\r\n                </Box>\r\n              </Box>\r\n            )}\r\n\r\n            {/* Banner Images */}\r\n            {globalImages.length > 0 ? (\r\n              <Box sx={{ mt: 4 }}>\r\n                <Typography variant=\"h6\" gutterBottom sx={{ textAlign: 'center' }}>\r\n                  Global Banner Images\r\n                </Typography>\r\n\r\n                <Typography variant=\"body2\" color=\"text.secondary\" sx={{ textAlign: 'center', mb: 3 }}>\r\n                  Choose from admin-uploaded global banner images\r\n                </Typography>\r\n\r\n                <Box sx={{\r\n                  display: 'grid',\r\n                  gridTemplateColumns: 'repeat(auto-fill, minmax(200px, 1fr))',\r\n                  gap: 2\r\n                }}>\r\n                  {globalImages.filter(img => img.type === 'banner').map((image) => (\r\n                    <Box\r\n                      key={image.id}\r\n                      sx={{\r\n                        textAlign: 'center',\r\n                        cursor: 'pointer',\r\n                        p: 1,\r\n                        borderRadius: 1,\r\n                        border: '2px solid',\r\n                        borderColor: coverPhoto === image.url ? 'primary.main' : 'transparent',\r\n                        '&:hover': {\r\n                          borderColor: 'primary.main',\r\n                          backgroundColor: 'action.hover'\r\n                        }\r\n                      }}\r\n                      onClick={async () => {\r\n                        try {\r\n                          // Save to database immediately\r\n                          const updateResponse = await fetch('/api/user/profile/images', {\r\n                            method: 'PUT',\r\n                            headers: {\r\n                              'Content-Type': 'application/json',\r\n                            },\r\n                            credentials: 'include',\r\n                            body: JSON.stringify({ cover_image_url: image.url })\r\n                          });\r\n\r\n                          if (updateResponse.ok) {\r\n                            setCoverPhoto(image.url);\r\n                            localStorage.setItem('userBannerImage', image.url);\r\n                            setSnackbarMessage('Banner image updated and saved!');\r\n                            setSnackbarOpen(true);\r\n                            console.log('ðŸ“¸ Banner image saved to database:', image.url);\r\n                          } else {\r\n                            throw new Error('Failed to save banner to database');\r\n                          }\r\n                        } catch (error) {\r\n                          console.error('Failed to save banner:', error);\r\n                          setSnackbarMessage('Failed to save banner image');\r\n                          setSnackbarOpen(true);\r\n                        }\r\n                      }}\r\n                    >\r\n                      <Box\r\n                        sx={{\r\n                          width: '100%',\r\n                          height: 80,\r\n                          borderRadius: 1,\r\n                          backgroundImage: `url(${image.url})`,\r\n                          backgroundSize: 'cover',\r\n                          backgroundPosition: 'center',\r\n                          mb: 1\r\n                        }}\r\n                      />\r\n                      <Typography variant=\"caption\" display=\"block\" noWrap>\r\n                        {image.name}\r\n                      </Typography>\r\n                    </Box>\r\n                  ))}\r\n                </Box>\r\n              </Box>\r\n            ) : (\r\n              <Box sx={{ mt: 4, textAlign: 'center' }}>\r\n                <Typography variant=\"h6\" gutterBottom color=\"text.secondary\">\r\n                  No Banner Images Available\r\n                </Typography>\r\n                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                  Contact your administrator to upload banner images.\r\n                </Typography>\r\n              </Box>\r\n            )}\r\n          </Box>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Avatar Upload Dialog */}\r\n      <Dialog\r\n        open={avatarUploadOpen}\r\n        onClose={() => setAvatarUploadOpen(false)}\r\n        maxWidth=\"md\"\r\n        fullWidth\r\n        PaperProps={{\r\n          sx: {\r\n            maxHeight: '90vh',\r\n            overflow: 'hidden'\r\n          }\r\n        }}\r\n      >\r\n        <DialogTitle sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n          Change Profile Picture\r\n          <IconButton onClick={() => setAvatarUploadOpen(false)}>\r\n            <IconX />\r\n          </IconButton>\r\n        </DialogTitle>\r\n        <DialogContent sx={{\r\n          overflow: 'auto',\r\n          '&::-webkit-scrollbar': {\r\n            width: '8px',\r\n          },\r\n          '&::-webkit-scrollbar-track': {\r\n            background: '#f1f1f1',\r\n          },\r\n          '&::-webkit-scrollbar-thumb': {\r\n            background: '#888',\r\n            borderRadius: '4px',\r\n          },\r\n          '&::-webkit-scrollbar-thumb:hover': {\r\n            background: '#555',\r\n          },\r\n        }}>\r\n          <Box sx={{ py: 2 }}>\r\n            {/* Current Avatar */}\r\n            <Box sx={{ textAlign: 'center', mb: 4 }}>\r\n              <Typography variant=\"h6\" gutterBottom>Current Profile Picture</Typography>\r\n              {renderCurrentAvatar(120, {\r\n                mx: 'auto',\r\n                mb: 2,\r\n                border: '4px solid',\r\n                borderColor: 'primary.main'\r\n              })}\r\n              <Typography variant=\"h5\" fontWeight={600} sx={{ mt: 2 }}>\r\n                {user?.first_name} {user?.last_name}\r\n              </Typography>\r\n              <Typography variant=\"body2\" color=\"text.secondary\">\r\n                {user?.role || 'Orthodox Faithful'}\r\n              </Typography>\r\n            </Box>\r\n\r\n            {/* Upload Custom Image */}\r\n            <Card sx={{ mb: 4 }}>\r\n              <CardContent sx={{ textAlign: 'center' }}>\r\n                <Typography variant=\"h6\" gutterBottom>Upload Custom Image</Typography>\r\n\r\n                <input\r\n                  ref={avatarInputRef}\r\n                  type=\"file\"\r\n                  accept=\"image/*\"\r\n                  style={{ display: 'none' }}\r\n                  onChange={handleAvatarUpload}\r\n                />\r\n\r\n                <Button\r\n                  variant=\"contained\"\r\n                  startIcon={<IconUpload />}\r\n                  onClick={() => avatarInputRef.current?.click()}\r\n                  size=\"large\"\r\n                  sx={{ mb: 2 }}\r\n                >\r\n                  Upload Your Photo\r\n                </Button>\r\n\r\n                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                  Recommended: Square image, at least 200x200 pixels\r\n                </Typography>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            {/* Uploaded Profile Images Section */}\r\n            <Card sx={{ mb: 4 }}>\r\n              <CardContent>\r\n                <Typography variant=\"h6\" gutterBottom sx={{ textAlign: 'center' }}>\r\n                  Choose from Uploaded Profile Images\r\n                </Typography>\r\n                <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 2, justifyContent: 'center' }}>\r\n                  {profileImages.map((img: string) => (\r\n                    <Box\r\n                      key={img}\r\n                      sx={{\r\n                        border: avatarImage === img ? '3px solid #1976d2' : '2px solid #eee',\r\n                        borderRadius: '50%',\r\n                        p: 1,\r\n                        cursor: 'pointer',\r\n                        width: 80,\r\n                        height: 80,\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'center',\r\n                        background: '#fff',\r\n                      }}\r\n                      onClick={async () => {\r\n                        try {\r\n                          // Use the sync hook to update profile image\r\n                          await updateProfileImage(img);\r\n                          setSelectedAvatarId(null);\r\n                          setSnackbarMessage('Profile image updated and saved!');\r\n                          setSnackbarOpen(true);\r\n                          console.log('ðŸ“¸ Profile image saved using sync hook:', img);\r\n                        } catch (error) {\r\n                          console.error('Failed to save profile image:', error);\r\n                          setSnackbarMessage('Failed to save profile image');\r\n                          setSnackbarOpen(true);\r\n                        }\r\n                      }}\r\n                    >\r\n                      <Avatar src={img} sx={{ width: 60, height: 60 }} />\r\n                    </Box>\r\n                  ))}\r\n                </Box>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            {/* Orthodox Avatars from public directory */}\r\n            {orthodoxAvatars.length > 0 && (\r\n              <Card sx={{ mb: 4 }}>\r\n                <CardContent>\r\n                  <Typography variant=\"h6\" gutterBottom sx={{ textAlign: 'center' }}>\r\n                    Orthodox Avatars\r\n                  </Typography>\r\n                  <Typography variant=\"body2\" color=\"text.secondary\" sx={{ textAlign: 'center', mb: 3 }}>\r\n                    Choose from available avatar images\r\n                  </Typography>\r\n                  <Box sx={{\r\n                    display: 'grid',\r\n                    gridTemplateColumns: 'repeat(auto-fill, minmax(100px, 1fr))',\r\n                    gap: 2\r\n                  }}>\r\n                    {orthodoxAvatars.map((avatarPath, index) => (\r\n                      <Box\r\n                        key={index}\r\n                        sx={{\r\n                          textAlign: 'center',\r\n                          cursor: 'pointer',\r\n                          p: 1,\r\n                          borderRadius: 1,\r\n                          border: '2px solid',\r\n                          borderColor: avatarImage === avatarPath ? 'primary.main' : 'transparent',\r\n                          '&:hover': {\r\n                            borderColor: 'primary.main',\r\n                            backgroundColor: 'action.hover'\r\n                          }\r\n                        }}\r\n                        onClick={async () => {\r\n                          try {\r\n                            await updateProfileImage(avatarPath);\r\n                            setSelectedAvatarId(null);\r\n                            setSnackbarMessage('Profile image updated and saved!');\r\n                            setSnackbarOpen(true);\r\n                            setAvatarUploadOpen(false);\r\n                            console.log('ðŸ“¸ Orthodox avatar saved using sync hook:', avatarPath);\r\n                          } catch (error) {\r\n                            console.error('Failed to save profile image:', error);\r\n                            setSnackbarMessage('Failed to save profile image');\r\n                            setSnackbarOpen(true);\r\n                          }\r\n                        }}\r\n                      >\r\n                        <Box\r\n                          sx={{\r\n                            width: 60,\r\n                            height: 60,\r\n                            borderRadius: '50%',\r\n                            backgroundImage: `url(${avatarPath})`,\r\n                            backgroundSize: 'cover',\r\n                            backgroundPosition: 'center',\r\n                            mx: 'auto',\r\n                            mb: 1\r\n                          }}\r\n                        />\r\n                        <Typography variant=\"caption\" display=\"block\" noWrap>\r\n                          Avatar {index + 1}\r\n                        </Typography>\r\n                      </Box>\r\n                    ))}\r\n                  </Box>\r\n                </CardContent>\r\n              </Card>\r\n            )}\r\n\r\n            {/* Global Images Section */}\r\n            {globalImages.length > 0 && (\r\n              <Card sx={{ mt: 4 }}>\r\n                <CardContent>\r\n                  <Typography variant=\"h6\" gutterBottom sx={{ textAlign: 'center' }}>\r\n                    Global Profile Images\r\n                  </Typography>\r\n\r\n                  <Typography variant=\"body2\" color=\"text.secondary\" sx={{ textAlign: 'center', mb: 3 }}>\r\n                    Choose from admin-uploaded global profile images\r\n                  </Typography>\r\n\r\n                  <Box sx={{\r\n                    display: 'grid',\r\n                    gridTemplateColumns: 'repeat(auto-fill, minmax(100px, 1fr))',\r\n                    gap: 2\r\n                  }}>\r\n                    {globalImages.filter(img => img.type === 'profile').map((image) => (\r\n                      <Box\r\n                        key={image.id}\r\n                        sx={{\r\n                          textAlign: 'center',\r\n                          cursor: 'pointer',\r\n                          p: 1,\r\n                          borderRadius: 1,\r\n                          border: '2px solid',\r\n                          borderColor: avatarImage === image.url ? 'primary.main' : 'transparent',\r\n                          '&:hover': {\r\n                            borderColor: 'primary.main',\r\n                            backgroundColor: 'action.hover'\r\n                          }\r\n                        }}\r\n                        onClick={async () => {\r\n                          try {\r\n                            // Use the sync hook to update profile image\r\n                            await updateProfileImage(image.url);\r\n                            setSelectedAvatarId(null);\r\n                            setSnackbarMessage('Profile image updated and saved!');\r\n                            setSnackbarOpen(true);\r\n                            console.log('ðŸ“¸ Global profile image saved using sync hook:', image.url);\r\n                          } catch (error) {\r\n                            console.error('Failed to save profile image:', error);\r\n                            setSnackbarMessage('Failed to save profile image');\r\n                            setSnackbarOpen(true);\r\n                          }\r\n                        }}\r\n                      >\r\n                        <Box\r\n                          sx={{\r\n                            width: 60,\r\n                            height: 60,\r\n                            borderRadius: '50%',\r\n                            backgroundImage: `url(${image.url})`,\r\n                            backgroundSize: 'cover',\r\n                            backgroundPosition: 'center',\r\n                            mx: 'auto',\r\n                            mb: 1\r\n                          }}\r\n                        />\r\n                        <Typography variant=\"caption\" display=\"block\" noWrap>\r\n                          {image.name}\r\n                        </Typography>\r\n                      </Box>\r\n                    ))}\r\n                  </Box>\r\n                </CardContent>\r\n              </Card>\r\n            )}\r\n          </Box>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Success Snackbar */}\r\n      <Snackbar\r\n        open={snackbarOpen}\r\n        autoHideDuration={3000}\r\n        onClose={() => setSnackbarOpen(false)}\r\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\r\n      >\r\n        <Alert\r\n          onClose={() => setSnackbarOpen(false)}\r\n          severity=\"success\"\r\n          sx={{ width: '100%' }}\r\n        >\r\n          {snackbarMessage}\r\n        </Alert>\r\n      </Snackbar>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProfileBanner;\r\n"],"names":["__iconNode","IconUserCircle","createReactComponent","ProfileTab","location","useLocation","value","setValue","React","handleChange","event","newValue","ProfileTabs","jsx","Box","theme","Tabs","tab","Tab","Link","useProfileSync","defaultImage","user","refreshAuth","useAuth","profileImage","setProfileImage","useState","profileData","setProfileData","isLoading","setIsLoading","error","setError","loadProfile","useCallback","__async","response","data","savedImage","updateProfileImage","imageUrl","prev","__spreadProps","__spreadValues","updateProfile","updates","refreshProfile","useEffect","handleStorageChange","e","handleProfileImageUpdate","_a","handleProfileUpdate","YoungPriest1","size","jsxs","ElderPriest1","YoungPriest2","ElderlyNun1","YoungWomanPurple","YoungLayman1","PriestWithCross1","ElderPriest2","PriestGoldenVestments","ElderWhiteBeard","NunWithCross","PriestBlackKamilavka","LaymanMustache","YoungLayman2","ElderLaymanGray","PriestWithCross2","DeaconGoldenStole","BishopGoldenVestments","orthodoxAvatars","profilecover","defaultGradient","ProfileBanner","avatarImage","userimg","coverPhoto","setCoverPhoto","selectedAvatarId","setSelectedAvatarId","coverUploadOpen","setCoverUploadOpen","avatarUploadOpen","setAvatarUploadOpen","snackbarOpen","setSnackbarOpen","snackbarMessage","setSnackbarMessage","globalImages","setGlobalImages","showGlobalImages","setShowGlobalImages","profileImages","setProfileImages","setOrthodoxAvatars","orthodoxBanners","setOrthodoxBanners","isEditing","setIsEditing","editedProfile","setEditedProfile","avatarInputRef","useRef","fetchGlobalImages","fetchOrthodoxAvatars","fetchOrthodoxBanners","img","avatarPaths","file","bannerPaths","handleSaveProfile","handleCancelEdit","handleInputChange","field","ProfileImage","styled","handleAvatarUpload","fileName","formData","result","renderCurrentAvatar","sx","onClick","selectedAvatar","avatar","AvatarComponent","Avatar","Fragment","BlankCard","CardMedia","target","parent","gradient","Tooltip","IconButton","IconCamera","Grid","Paper","Typography","Button","IconEdit","Stack","TextField","Badge","Dialog","DialogTitle","IconX","DialogContent","bannerPath","index","image","Card","CardContent","IconUpload","avatarPath","Snackbar","Alert"],"mappings":"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","x_google_ignoreList":[0]}