var P=Object.defineProperty,w=Object.defineProperties;var T=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var W=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var g=(a,r,t)=>r in a?P(a,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[r]=t,C=(a,r)=>{for(var t in r||(r={}))W.call(r,t)&&g(a,t,r[t]);if(v)for(var t of v(r))A.call(r,t)&&g(a,t,r[t]);return a},S=(a,r)=>w(a,T(r));var y=(a,r,t)=>new Promise((o,l)=>{var c=n=>{try{x(t.next(n))}catch(d){l(d)}},f=n=>{try{x(t.throw(n))}catch(d){l(d)}},x=n=>n.done?o(n.value):Promise.resolve(n.value).then(c,f);x((t=t.apply(a,r)).next())});import{aK as z,l as D,j as e,B as h,C as R,$ as E,U as G,Q as H,d as p,e as j,R as N,G as k,O as K}from"./index-CQJq875H.js";import{r as u}from"./vendor-DgfDxsY7.js";import{E as L}from"./Error-VZtOLRJ4.js";import{C as O}from"./CheckCircle-CGfB6RRc.js";const X=()=>{var b;const{token:a}=z(),r=D(),[t,o]=u.useState(!1),[l,c]=u.useState(null),[f,x]=u.useState(!1),[n,d]=u.useState({}),[i,q]=u.useState(null),[Q,U]=u.useState(0);u.useEffect(()=>{a&&y(void 0,null,function*(){try{o(!0),c(null),q({title:"Interactive Report Submission",fields:[{name:"name",label:"Name",type:"text",required:!0},{name:"email",label:"Email",type:"email",required:!0},{name:"comments",label:"Comments",type:"textarea",required:!1}]})}catch(m){c(m instanceof Error?m.message:"Failed to load report form")}finally{o(!1)}})},[a]);const B=()=>y(void 0,null,function*(){try{o(!0),c(null),setTimeout(()=>{x(!0),o(!1)},1e3)}catch(s){c(s instanceof Error?s.message:"Failed to submit report"),o(!1)}}),F=(s,m)=>{d(I=>S(C({},I),{[s]:m}))};return t&&!i?e.jsx(h,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:e.jsx(R,{})}):l&&!i?e.jsx(h,{sx:{p:3,maxWidth:600,mx:"auto"},children:e.jsx(E,{severity:"error",icon:e.jsx(L,{}),children:l})}):f?e.jsx(h,{sx:{p:3,maxWidth:600,mx:"auto"},children:e.jsx(G,{children:e.jsxs(H,{sx:{textAlign:"center",p:4},children:[e.jsx(O,{sx:{fontSize:64,color:"success.main",mb:2}}),e.jsx(p,{variant:"h5",gutterBottom:!0,children:"Report Submitted Successfully"}),e.jsx(p,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Thank you for your submission. Your report has been received and will be reviewed."}),e.jsx(j,{variant:"contained",onClick:()=>r("/"),children:"Return to Home"})]})})}):e.jsx(h,{sx:{p:3,maxWidth:800,mx:"auto"},children:e.jsxs(N,{sx:{p:3},children:[e.jsx(p,{variant:"h4",gutterBottom:!0,children:(i==null?void 0:i.title)||"Interactive Report Submission"}),e.jsx(p,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Please fill out the form below to submit your report."}),l&&e.jsx(E,{severity:"error",sx:{mb:3},onClose:()=>c(null),children:l}),e.jsx(k,{container:!0,spacing:3,children:(b=i==null?void 0:i.fields)==null?void 0:b.map(s=>e.jsx(k,{item:!0,xs:12,children:e.jsx(K,{fullWidth:!0,label:s.label,type:s.type==="textarea"?void 0:s.type,multiline:s.type==="textarea",rows:s.type==="textarea"?4:void 0,required:s.required,value:n[s.name]||"",onChange:m=>F(s.name,m.target.value)})},s.name))}),e.jsxs(h,{sx:{display:"flex",justifyContent:"flex-end",gap:2,mt:3},children:[e.jsx(j,{variant:"outlined",onClick:()=>r("/"),disabled:t,children:"Cancel"}),e.jsx(j,{variant:"contained",onClick:B,disabled:t,children:t?e.jsx(R,{size:20}):"Submit Report"})]})]})})};export{X as default};
//# sourceMappingURL=RecipientSubmissionPage-D3PXrf9r.js.map
