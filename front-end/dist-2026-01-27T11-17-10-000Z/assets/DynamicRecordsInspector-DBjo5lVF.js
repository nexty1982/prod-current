var Y=Object.defineProperty,Z=Object.defineProperties;var ee=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var B=(r,l,s)=>l in r?Y(r,l,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[l]=s,D=(r,l)=>{for(var s in l||(l={}))A.call(l,s)&&B(r,s,l[s]);if(f)for(var s of f(l))E.call(l,s)&&B(r,s,l[s]);return r},F=(r,l)=>Z(r,ee(l));var $=(r,l)=>{var s={};for(var t in r)A.call(r,t)&&l.indexOf(t)<0&&(s[t]=r[t]);if(r!=null&&f)for(var t of f(r))l.indexOf(t)<0&&E.call(r,t)&&(s[t]=r[t]);return s};var v=(r,l,s)=>new Promise((t,h)=>{var j=n=>{try{x(s.next(n))}catch(o){h(o)}},y=n=>{try{x(s.throw(n))}catch(o){h(o)}},x=n=>n.done?t(n.value):Promise.resolve(n.value).then(j,y);x((s=s.apply(r,l)).next())});import{j as e,B as d,R as se,d as b,G as u,a0 as w,a1 as N,a2 as P,f as W,O as re,$ as g,C as z,U as L,Q as M,h as T,e as ae}from"./index-CQJq875H.js";import{r as i}from"./vendor-DgfDxsY7.js";import{T as V}from"./TableChart-LTyax9WU.js";import{S as le}from"./Search-PdWkGsoG.js";import{T as te,a as G}from"./Tabs-Da3Qyh1W.js";import{S as ne}from"./Assessment-KEdDJA2e.js";import{T as ie,a as ce,b as oe,c as H,d as de}from"./TableRow-DCPT_a5G.js";import{T as c}from"./TableCell-MgPOxDnu.js";import"./KeyboardArrowRight-Z7vVVss9.js";function O(r){const j=r,{children:l,value:s,index:t}=j,h=$(j,["children","value","index"]);return e.jsx("div",F(D({role:"tabpanel",hidden:s!==t,id:`inspector-tabpanel-${t}`,"aria-labelledby":`inspector-tab-${t}`},h),{children:s===t&&e.jsx(d,{sx:{p:3},children:l})}))}const ve=()=>{var S,R,I;const[r,l]=i.useState("all"),[s,t]=i.useState("all"),[h,j]=i.useState(""),[y,x]=i.useState(!1),[n,o]=i.useState(null),[m,Q]=i.useState(0),[p,U]=i.useState(null),[C,_]=i.useState([]),k=[{value:"all",label:"All Records"},{value:"baptism",label:"Baptism"},{value:"marriage",label:"Marriage"},{value:"funeral",label:"Funeral"}],q=()=>v(void 0,null,function*(){try{x(!0),o(null),U({totalRecords:0,byType:{baptism:0,marriage:0,funeral:0},byChurch:{},recentActivity:[]})}catch(a){o(a instanceof Error?a.message:"Failed to load statistics")}finally{x(!1)}}),J=()=>v(void 0,null,function*(){try{x(!0),o(null),_([])}catch(a){o(a instanceof Error?a.message:"Failed to load records")}finally{x(!1)}});i.useEffect(()=>{q()},[r,s]),i.useEffect(()=>{m===1&&J()},[m,r,s,h]);const K=(a,X)=>{Q(X)};return e.jsx(d,{sx:{p:3},children:e.jsxs(se,{sx:{p:3},children:[e.jsx(d,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:3},children:e.jsxs(d,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(V,{sx:{fontSize:40}}),e.jsxs(d,{children:[e.jsx(b,{variant:"h4",gutterBottom:!0,children:"Dynamic Records Inspector"}),e.jsx(b,{variant:"body2",color:"text.secondary",children:"Advanced inspection and analysis tool for records"})]})]})}),e.jsxs(u,{container:!0,spacing:2,sx:{mb:3},children:[e.jsx(u,{item:!0,xs:12,md:4,children:e.jsxs(w,{fullWidth:!0,children:[e.jsx(N,{children:"Record Type"}),e.jsx(P,{value:r,label:"Record Type",onChange:a=>l(a.target.value),children:k.map(a=>e.jsx(W,{value:a.value,children:a.label},a.value))})]})}),e.jsx(u,{item:!0,xs:12,md:4,children:e.jsxs(w,{fullWidth:!0,children:[e.jsx(N,{children:"Church"}),e.jsx(P,{value:s,label:"Church",onChange:a=>t(a.target.value),children:e.jsx(W,{value:"all",children:"All Churches"})})]})}),e.jsx(u,{item:!0,xs:12,md:4,children:e.jsx(re,{fullWidth:!0,label:"Search",value:h,onChange:a=>j(a.target.value),InputProps:{startAdornment:e.jsx(le,{sx:{mr:1,color:"text.secondary"}})}})})]}),n&&e.jsx(g,{severity:"error",sx:{mb:3},onClose:()=>o(null),children:n}),e.jsx(d,{sx:{borderBottom:1,borderColor:"divider"},children:e.jsxs(te,{value:m,onChange:K,children:[e.jsx(G,{icon:e.jsx(ne,{}),label:"Statistics"}),e.jsx(G,{icon:e.jsx(V,{}),label:"Records"})]})}),e.jsx(O,{value:m,index:0,children:y?e.jsx(d,{sx:{display:"flex",justifyContent:"center",p:3},children:e.jsx(z,{})}):p?e.jsxs(u,{container:!0,spacing:3,children:[e.jsx(u,{item:!0,xs:12,md:4,children:e.jsx(L,{children:e.jsxs(M,{children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Total Records"}),e.jsx(b,{variant:"h3",children:p.totalRecords||0})]})})}),e.jsx(u,{item:!0,xs:12,md:8,children:e.jsx(L,{children:e.jsxs(M,{children:[e.jsx(b,{variant:"h6",gutterBottom:!0,children:"Records by Type"}),e.jsxs(d,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[e.jsx(T,{label:`Baptism: ${((S=p.byType)==null?void 0:S.baptism)||0}`,color:"primary"}),e.jsx(T,{label:`Marriage: ${((R=p.byType)==null?void 0:R.marriage)||0}`,color:"secondary"}),e.jsx(T,{label:`Funeral: ${((I=p.byType)==null?void 0:I.funeral)||0}`,color:"default"})]})]})})})]}):e.jsx(g,{severity:"info",children:"No statistics available"})}),e.jsx(O,{value:m,index:1,children:y?e.jsx(d,{sx:{display:"flex",justifyContent:"center",p:3},children:e.jsx(z,{})}):C.length===0?e.jsx(g,{severity:"info",children:"No records found. Try adjusting your filters."}):e.jsx(ie,{children:e.jsxs(ce,{children:[e.jsx(oe,{children:e.jsxs(H,{children:[e.jsx(c,{children:"ID"}),e.jsx(c,{children:"Type"}),e.jsx(c,{children:"Church"}),e.jsx(c,{children:"Created"}),e.jsx(c,{children:"Actions"})]})}),e.jsx(de,{children:C.map(a=>e.jsxs(H,{children:[e.jsx(c,{children:a.id}),e.jsx(c,{children:e.jsx(T,{label:a.type,size:"small"})}),e.jsx(c,{children:a.churchName||"N/A"}),e.jsx(c,{children:new Date(a.createdAt).toLocaleDateString()}),e.jsx(c,{children:e.jsx(ae,{size:"small",variant:"outlined",children:"View Details"})})]},a.id))})]})})})]})})};export{ve as default};
//# sourceMappingURL=DynamicRecordsInspector-DBjo5lVF.js.map
