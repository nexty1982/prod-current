var P=Object.defineProperty;var R=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable;var k=(t,r,o)=>r in t?P(t,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[r]=o,I=(t,r)=>{for(var o in r||(r={}))U.call(r,o)&&k(t,o,r[o]);if(R)for(var o of R(r))Y.call(r,o)&&k(t,o,r[o]);return t};var D=(t,r,o)=>new Promise((S,p)=>{var c=l=>{try{f(o.next(l))}catch(u){p(u)}},x=l=>{try{f(o.throw(l))}catch(u){p(u)}},f=l=>l.done?S(l.value):Promise.resolve(l.value).then(c,x);f((o=o.apply(t,r)).next())});import{k as X,l as G,j as e,s as i,B as s,d as g,F as q,aJ as H,O as J,e as K}from"./index-CQJq875H.js";import{r as d}from"./vendor-DgfDxsY7.js";const Q=i(s)(()=>({fontFamily:"Georgia, Times New Roman, serif",height:"100vh",background:"linear-gradient(135deg, #f7f5ff 0%, #f0ebff 100%)",display:"flex",overflow:"hidden",position:"relative"})),V=i(s)({display:"flex",width:"100%",height:"100vh",position:"relative",zIndex:2}),Z=i(s)({flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"3rem",position:"relative"}),ee=i(s)({width:"120px",height:"140px",marginBottom:"2rem",position:"relative",display:"flex",alignItems:"center",justifyContent:"center","&::before":{content:'""',position:"absolute",width:"8px",height:"120px",background:"#D4AF37",borderRadius:"4px",zIndex:1},"&::after":{content:'""',position:"absolute",top:"50px",width:"70px",height:"7px",background:"#D4AF37",borderRadius:"3px",zIndex:2},"& .upper-bar":{position:"absolute",top:"25px",width:"45px",height:"5px",background:"#D4AF37",borderRadius:"2px",zIndex:2},"& .lower-bar":{position:"absolute",top:"95px",width:"50px",height:"6px",background:"#D4AF37",borderRadius:"3px",transform:"rotate(-15deg)",zIndex:2}}),te=i(g)({color:"#9A7FC7",fontSize:"2.5rem",fontWeight:400,marginBottom:"0.5rem",textAlign:"center"}),oe=i(g)({color:"#D4AF37",fontSize:"1.2rem",fontWeight:300,marginBottom:"1rem",textAlign:"center"}),ne=i(g)({color:"#666",fontSize:"1rem",textAlign:"center",maxWidth:"500px",lineHeight:1.6,marginBottom:"2rem"}),re=i(s)({flex:"0 0 450px",background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(10px)",borderLeft:"1px solid rgba(154, 127, 199, 0.15)",display:"flex",alignItems:"center",justifyContent:"center",padding:"3rem",boxShadow:"-5px 0 20px rgba(0,0,0,0.05)"}),ae=i(s)({width:"100%",maxWidth:"350px"}),L=i(g)({color:"#9A7FC7",fontSize:"2rem",fontWeight:400,marginBottom:"0.5rem",textAlign:"center"}),M=i(g)({color:"#666",fontSize:"1rem",marginBottom:"2.5rem",textAlign:"center"}),B=i(J)({marginBottom:"1.5rem","& .MuiOutlinedInput-root":{borderRadius:"8px","& fieldset":{borderColor:"rgba(154, 127, 199, 0.3)"},"&:hover fieldset":{borderColor:"#9A7FC7"},"&.Mui-focused fieldset":{borderColor:"#9A7FC7"}},"& .MuiInputLabel-root":{color:"#333",fontWeight:500}}),ie=i(s)({display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"}),se=i(K)({width:"100%",padding:"1rem",background:"linear-gradient(135deg, #D4AF37, #F4D03F)",color:"white",borderRadius:"8px",fontWeight:600,fontSize:"1rem",textShadow:"1px 1px 2px rgba(0,0,0,0.2)","&:hover":{background:"linear-gradient(135deg, #B8941F, #D4AF37)",transform:"translateY(-2px)",boxShadow:"0 5px 15px rgba(212, 175, 55, 0.4)"}}),le=i(s)({textAlign:"center",marginTop:"2rem",color:"#666",fontSize:"0.95rem","& a":{color:"#9A7FC7",textDecoration:"none",fontWeight:500,"&:hover":{textDecoration:"underline"}}}),de=`
  @keyframes float-right {
    0% { transform: translateX(-100px); opacity: 0; }
    10% { opacity: 1; }
    90% { opacity: 1; }
    100% { transform: translateX(calc(100vw + 100px)); opacity: 0; }
  }
  
  @keyframes float-left {
    0% { transform: translateX(calc(100vw + 100px)); opacity: 0; }
    10% { opacity: 1; }
    90% { opacity: 1; }
    100% { transform: translateX(-100px); opacity: 0; }
  }
  
  @keyframes float-up {
    0% { transform: translateY(100vh); opacity: 0; }
    10% { opacity: 1; }
    90% { opacity: 1; }
    100% { transform: translateY(-100px); opacity: 0; }
  }
  
  @keyframes float-down {
    0% { transform: translateY(-100px); opacity: 0; }
    10% { opacity: 1; }
    90% { opacity: 1; }
    100% { transform: translateY(100vh); opacity: 0; }
  }
  
  @media (max-width: 768px) {
    .login-container {
      flex-direction: column;
    }
    .right-section {
      flex: none !important;
      border-left: none !important;
      border-top: 1px solid rgba(154, 127, 199, 0.15) !important;
    }
  }
`,pe=()=>{const{user:t,authenticated:r,loading:o,login:S}=X(),p=(t==null?void 0:t.full_name)||(t!=null&&t.first_name&&(t!=null&&t.last_name)?`${t.first_name} ${t.last_name}`:null),c=G(),[x,f]=d.useState(""),[l,u]=d.useState(""),[W,T]=d.useState(!1),[w,j]=d.useState(!1),[C,F]=d.useState(""),[_,E]=d.useState(!1),[N,v]=d.useState([]);d.useEffect(()=>{!o&&r&&t&&(E(!0),setTimeout(()=>{t.role==="priest"&&t.church_id?c(`/apps/records/baptism?church_id=${t.church_id}`):c("/dashboards/super")},2e3))},[r,t,o,c]);const A=["á¼Î³Î¹Î¿Ï‚ á½ Î˜ÎµÏŒÏ‚","ÐŸÑ€Ð°Ð²Ð¾ÑÐ»Ð°Ð²Ð½Ð°Ñ","ÎšÏÏÎ¹Îµ á¼Î»Î­Î·ÏƒÎ¿Î½","ÐœÐ¾Ð½Ð°ÑÑ‚Ð¸Ñ€","MÄƒnÄƒstire","Î‘Î³Î¹Î¿Î³ÏÎ±Ï†Î¯Î±","Ð¡Ð²ÐµÑ‚Ð° Ð›Ð¸Ñ‚ÑƒÑ€Ð³Ð¸Ñ˜Ð°","Î Î±Î½Î±Î³Î¯Î±","Î†Î³Î¹Î¿Ï‚ ÎÎ¹ÎºÏŒÎ»Î±Î¿Ï‚","ÐŸÑ€ÐµÐ¿Ð¾Ð´Ð¾Ð±Ð½Ñ‹Ð¹","Î˜ÎµÎ¿Ï„ÏŒÎºÎ¿Ï‚","ÐŸÐ°Ñ‚Ñ€Ð¸Ð°Ñ€Ñ…","Î•ÎºÎºÎ»Î·ÏƒÎ¯Î±","Î§ÏÎ¹ÏƒÏ„ÏŒÏ‚ á¼€Î½Î­ÏƒÏ„Î·","Ð’Ð¾ÑÐºÑ€ÐµÑÐµ Ð¥Ñ€Ð¸ÑÑ‚Ð¾Ñ","Hristos a Ã®nviat","ÎšÏÏÎ¹Î¿Ï‚ Î¼ÎµÏ„á½° ÏƒÎ¿á¿¦","Ð‘Ð¾Ð³ Ñ Ð²Ð°Ð¼Ð¸","Domnul sÄƒ fie cu tine","á¼ˆÎ¼Î®Î½","Ð¡Ð»Ð°Ð²Ð° Ð‘Ð¾Ð³Ñƒ","SlavÄƒ Domnului","á¼Î³Î¹Î¿Ï‚ á¼Î³Î¹Î¿Ï‚","Ð¡Ð²ÑÑ‚Ñ‹Ð¹ Ð¡Ð²ÑÑ‚Ñ‹Ð¹","SfÃ¢nt SfÃ¢nt","Î•á¼°ÏÎ®Î½Î· Ï€á¾¶ÏƒÎ¹","ÐœÐ¸Ñ€ Ð²ÑÐµÐ¼","Pace tuturor"],z=["right","left","up","down"],b=["small","","large"];d.useEffect(()=>{const a=document.createElement("style");a.textContent=de,document.head.appendChild(a),v([{text:"á¼Î³Î¹Î¿Ï‚ á½ Î˜ÎµÏŒÏ‚",top:"10%",animation:"float-right 25s infinite linear"},{text:"ÐŸÑ€Ð°Ð²Ð¾ÑÐ»Ð°Ð²Ð½Ð°Ñ",top:"20%",animation:"float-left 30s infinite linear",size:"large",delay:"-5s"},{text:"ÎšÏÏÎ¹Îµ á¼Î»Î­Î·ÏƒÎ¿Î½",top:"30%",animation:"float-right 20s infinite linear",size:"small",delay:"-10s"},{text:"ÐœÐ¾Ð½Ð°ÑÑ‚Ð¸Ñ€",top:"40%",animation:"float-up 28s infinite linear",delay:"-3s"},{text:"MÄƒnÄƒstire",top:"50%",animation:"float-left 35s infinite linear",size:"large",delay:"-15s"},{text:"Î‘Î³Î¹Î¿Î³ÏÎ±Ï†Î¯Î±",top:"60%",animation:"float-down 22s infinite linear",size:"small",delay:"-8s"},{text:"Ð¡Ð²ÐµÑ‚Ð° Ð›Ð¸Ñ‚ÑƒÑ€Ð³Ð¸Ñ˜Ð°",top:"70%",animation:"float-right 26s infinite linear",delay:"-12s"},{text:"Î Î±Î½Î±Î³Î¯Î±",top:"80%",animation:"float-left 32s infinite linear",size:"large",delay:"-18s"}].map((n,m)=>({id:m,text:n.text,style:{top:n.top,animation:n.animation,animationDelay:n.delay||"0s",fontSize:n.size==="large"?"2rem":n.size==="small"?"0.9rem":"1.2rem",color:n.size==="large"?"rgba(212, 175, 55, 0.12)":"rgba(154, 127, 199, 0.15)"}})));const y=setInterval(()=>{const n={id:Date.now(),text:A[Math.floor(Math.random()*A.length)],style:{top:Math.random()*80+10+"%",left:Math.random()*80+10+"%",animation:`float-${z[Math.floor(Math.random()*z.length)]} ${20+Math.random()*20}s infinite linear`,animationDelay:`-${Math.random()*20}s`,fontSize:b[Math.floor(Math.random()*b.length)]==="large"?"2rem":b[Math.floor(Math.random()*b.length)]==="small"?"0.9rem":"1.2rem",color:"rgba(154, 127, 199, 0.15)"}};v(m=>[...m,n]),setTimeout(()=>{v(m=>m.filter($=>$.id!==n.id))},4e4)},3e3);return()=>{clearInterval(y),document.head.removeChild(a)}},[]);const O=a=>D(void 0,null,function*(){a.preventDefault(),j(!0),F("");try{const h=yield S(x,l);console.log("ðŸ”‘ Login successful! Checking for redirect URL..."),console.log("ðŸ”‘ User email:",x),console.log("ðŸ”‘ Redirect URL:",h.redirectUrl);const y=localStorage.getItem("auth_user"),n=y?JSON.parse(y):null;if((n==null?void 0:n.role)==="priest"&&(n!=null&&n.church_id)){const m=`/apps/records/baptism?church_id=${n.church_id}`;console.log("ðŸ”‘ Priest user detected, redirecting to:",m),c(m);return}h.redirectUrl?(console.log("ðŸ”‘ Redirecting to:",h.redirectUrl),c(h.redirectUrl)):(console.log('ðŸ”‘ No redirect URL provided, using default navigation to "/"'),c("/"))}catch(h){F(h.message||"Login failed")}finally{j(!1)}});return e.jsxs(Q,{className:"login-container",children:[N.map(a=>e.jsx(s,{sx:I({position:"absolute",fontWeight:300,pointerEvents:"none",whiteSpace:"nowrap",zIndex:1},a.style),children:a.text},a.id)),e.jsxs(V,{children:[e.jsxs(Z,{children:[e.jsxs(ee,{children:[e.jsx(s,{className:"upper-bar"}),e.jsx(s,{className:"lower-bar"})]}),e.jsx(te,{children:"Orthodox Metrics LLC."}),e.jsx(oe,{children:"Recording the Saints Among Us"}),e.jsx(ne,{children:"Google vision powered OCR with intelligent text recognition and data extraction, topped off with versatile digital reporting and analytics. Preserving our sacred heritage for future generations through cutting-edge technology. digitization of handwritten Orthodox records in Greek, Russian, Romanian, and more."})]}),e.jsx(re,{className:"right-section",children:e.jsx(ae,{children:_?e.jsxs(e.Fragment,{children:[e.jsx(L,{children:"Already Logged In"}),e.jsx(M,{children:t!=null&&t.church_id?"Redirecting to Records UI...":"Redirecting to dashboard..."}),e.jsx(s,{sx:{mt:3,textAlign:"center"},children:e.jsx(g,{variant:"body2",color:"textSecondary",children:p?`Welcome back, ${p}`:"Welcome back"})})]}):e.jsxs(e.Fragment,{children:[e.jsx(L,{children:p?`Welcome back, ${p}`:"Welcome"}),e.jsx(M,{children:"Sign in to your dashboard"}),e.jsxs("form",{onSubmit:O,children:[e.jsx(B,{fullWidth:!0,type:"email",label:"Email Address",placeholder:"Enter your email",value:x,onChange:a=>f(a.target.value),required:!0,variant:"outlined",inputProps:{autoComplete:"username"}}),e.jsx(B,{fullWidth:!0,type:"password",label:"Password",placeholder:"Enter your password",value:l,onChange:a=>u(a.target.value),required:!0,variant:"outlined",inputProps:{autoComplete:"current-password"}}),C&&e.jsx(g,{color:"error",sx:{mb:2,textAlign:"center"},children:C}),e.jsxs(ie,{children:[e.jsx(q,{control:e.jsx(H,{checked:W,onChange:a=>T(a.target.checked),sx:{color:"#9A7FC7"}}),label:"Remember me",sx:{color:"#666"}}),e.jsx(g,{component:"a",href:"#",sx:{color:"#9A7FC7",textDecoration:"none",fontSize:"0.9rem","&:hover":{textDecoration:"underline"}},children:"Forgot password?"})]}),e.jsx(se,{type:"submit",disabled:w,variant:"contained",children:w?"Signing In...":"Sign In"})]}),e.jsxs(le,{children:["Don't have an account? ",e.jsx("a",{href:"#",children:"Create one here"})]})]})})})]})]})};export{pe as default};
//# sourceMappingURL=OrthodoxLogin-CysEL10M.js.map
