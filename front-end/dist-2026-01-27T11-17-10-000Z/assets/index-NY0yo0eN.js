var _=Object.defineProperty,C=Object.defineProperties;var b=Object.getOwnPropertyDescriptors;var w=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var p=(o,i,n)=>i in o?_(o,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[i]=n,E=(o,i)=>{for(var n in i||(i={}))B.call(i,n)&&p(o,n,i[n]);if(w)for(var n of w(i))S.call(i,n)&&p(o,n,i[n]);return o},h=(o,i)=>C(o,b(i));var c=(o,i,n)=>new Promise((P,u)=>{var y=a=>{try{d(n.next(a))}catch(v){u(v)}},I=a=>{try{d(n.throw(a))}catch(v){u(v)}},d=a=>a.done?P(a.value):Promise.resolve(a.value).then(y,I);d((n=n.apply(o,i)).next())});import{j as k,aM as D}from"./index-CQJq875H.js";import{r as s}from"./vendor-DgfDxsY7.js";const x=s.createContext(void 0),Q=()=>{const o=s.useContext(x);if(!o)throw new Error("useInvoiceContext must be used within an InvoiceProvider");return o},U=({children:o})=>{const[i,n]=s.useState([]),[P,u]=s.useState(!0),[y,I]=s.useState(null),[d,a]=s.useState(0),[v,F]=s.useState(1),[g,f]=s.useState({page:1,limit:10,status:void 0,church_id:void 0,date_from:void 0,date_to:void 0,search:void 0}),l=()=>c(void 0,null,function*(){try{u(!0),I(null);const e=yield metricsAPI.invoices.getAll(h(E({},g),{page:v}));n(e.data),a(e.pagination.total)}catch(e){I(e),console.error("Error fetching invoices:",e)}finally{u(!1)}});s.useEffect(()=>{l()},[g,v]);const A={invoices:i,loading:P,error:y,totalCount:d,currentPage:v,setCurrentPage:F,filters:g,setFilters:f,fetchInvoices:l,getInvoiceById:e=>c(void 0,null,function*(){try{return yield metricsAPI.invoices.getById(e)}catch(r){return console.error("Error fetching invoice:",r),null}}),getInvoiceByNumber:e=>c(void 0,null,function*(){try{return yield metricsAPI.invoices.getByInvoiceNumber(e)}catch(r){return console.error("Error fetching invoice by number:",r),null}}),createInvoice:e=>c(void 0,null,function*(){try{const r=yield metricsAPI.invoices.create(e);return yield l(),r}catch(r){return console.error("Error creating invoice:",r),null}}),updateInvoice:(e,r)=>c(void 0,null,function*(){try{const t=yield metricsAPI.invoices.update(e,r);return yield l(),t}catch(t){return console.error("Error updating invoice:",t),null}}),deleteInvoice:e=>c(void 0,null,function*(){try{return yield metricsAPI.invoices.delete(e),yield l(),!0}catch(r){return console.error("Error deleting invoice:",r),!1}}),markInvoiceAsPaid:(e,r)=>c(void 0,null,function*(){try{const t=yield metricsAPI.invoices.markPaid(e,r);return yield l(),t}catch(t){return console.error("Error marking invoice as paid:",t),null}}),generateInvoicePDF:e=>c(void 0,null,function*(){try{return yield metricsAPI.invoices.generatePDF(e)}catch(r){return console.error("Error generating PDF:",r),null}}),generateClientSidePDF:(e,r)=>c(void 0,null,function*(){try{const{generateInvoicePDF:t}=yield D(()=>c(void 0,null,function*(){const{generateInvoicePDF:m}=yield import("./invoicePDFGenerator-CLBCW_4j.js");return{generateInvoicePDF:m}}),[]);return yield t(e,r)}catch(t){throw console.error("Error generating client-side PDF:",t),t}}),downloadClientSidePDF:(e,r)=>c(void 0,null,function*(){try{const{downloadInvoicePDF:t}=yield D(()=>c(void 0,null,function*(){const{downloadInvoicePDF:m}=yield import("./invoicePDFGenerator-CLBCW_4j.js");return{downloadInvoicePDF:m}}),[]);yield t(e,r)}catch(t){throw console.error("Error downloading client-side PDF:",t),t}}),sendInvoiceEmail:(e,r)=>c(void 0,null,function*(){try{return yield metricsAPI.invoices.sendEmail(e,r),!0}catch(t){return console.error("Error sending invoice email:",t),!1}}),exportInvoices:e=>c(void 0,null,function*(){try{return yield metricsAPI.invoices.export(g,e)}catch(r){return console.error("Error exporting invoices:",r),null}})};return k.jsx(x.Provider,{value:A,children:o})};export{U as I,x as a,Q as u};
//# sourceMappingURL=index-NY0yo0eN.js.map
