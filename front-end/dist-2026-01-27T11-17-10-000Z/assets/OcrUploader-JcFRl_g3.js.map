{"version":3,"file":"OcrUploader-JcFRl_g3.js","sources":["../../src/features/ocr/OcrUploader.tsx"],"sourcesContent":["/**\r\n * OcrUploader Component\r\n * \r\n * Upload interface for OCR document processing.\r\n * Allows users to upload images or PDFs for OCR processing.\r\n * \r\n * Route: /apps/ocr/upload\r\n */\r\n\r\nimport React, { useState } from 'react';\r\nimport {\r\n  Box,\r\n  Typography,\r\n  Paper,\r\n  Button,\r\n  Alert,\r\n  LinearProgress,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemSecondaryAction,\r\n  IconButton,\r\n  Card,\r\n  CardContent,\r\n} from '@mui/material';\r\nimport {\r\n  CloudUpload as UploadIcon,\r\n  Delete as DeleteIcon,\r\n  CheckCircle as CheckIcon,\r\n} from '@mui/icons-material';\r\nimport { EnhancedOCRUploader } from '../devel-tools/om-ocr/EnhancedOCRUploader';\r\n\r\nconst OcrUploader: React.FC = () => {\r\n  const [uploadedFiles, setUploadedFiles] = useState<File[]>([]);\r\n  const [uploading, setUploading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const handleFileSelect = (files: File[]) => {\r\n    setUploadedFiles(prev => [...prev, ...files]);\r\n  };\r\n\r\n  const handleRemoveFile = (index: number) => {\r\n    setUploadedFiles(prev => prev.filter((_, i) => i !== index));\r\n  };\r\n\r\n  const handleUpload = async () => {\r\n    if (uploadedFiles.length === 0) {\r\n      setError('Please select at least one file to upload');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setUploading(true);\r\n      setError(null);\r\n      \r\n      // TODO: Implement actual upload logic\r\n      // const formData = new FormData();\r\n      // uploadedFiles.forEach(file => formData.append('files', file));\r\n      // const response = await fetch('/api/ocr/upload', {\r\n      //   method: 'POST',\r\n      //   body: formData,\r\n      // });\r\n      \r\n      // Simulate upload\r\n      await new Promise(resolve => setTimeout(resolve, 2000));\r\n      \r\n      setUploadedFiles([]);\r\n      setUploading(false);\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'Failed to upload files');\r\n      setUploading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box sx={{ p: 3 }}>\r\n      <Paper sx={{ p: 3 }}>\r\n        <Typography variant=\"h4\" gutterBottom>\r\n          OCR Document Upload\r\n        </Typography>\r\n        <Typography variant=\"body1\" color=\"text.secondary\" sx={{ mb: 3 }}>\r\n          Upload images or PDFs to process with Optical Character Recognition (OCR).\r\n        </Typography>\r\n\r\n        {error && (\r\n          <Alert severity=\"error\" sx={{ mb: 3 }} onClose={() => setError(null)}>\r\n            {error}\r\n          </Alert>\r\n        )}\r\n\r\n        {/* Use Enhanced OCR Uploader if available */}\r\n        <Box sx={{ mb: 3 }}>\r\n          <EnhancedOCRUploader />\r\n        </Box>\r\n\r\n        {/* File List */}\r\n        {uploadedFiles.length > 0 && (\r\n          <Card sx={{ mb: 3 }}>\r\n            <CardContent>\r\n              <Typography variant=\"h6\" gutterBottom>\r\n                Selected Files ({uploadedFiles.length})\r\n              </Typography>\r\n              <List>\r\n                {uploadedFiles.map((file, index) => (\r\n                  <ListItem key={index}>\r\n                    <ListItemText\r\n                      primary={file.name}\r\n                      secondary={`${(file.size / 1024 / 1024).toFixed(2)} MB`}\r\n                    />\r\n                    <ListItemSecondaryAction>\r\n                      <IconButton\r\n                        edge=\"end\"\r\n                        onClick={() => handleRemoveFile(index)}\r\n                        color=\"error\"\r\n                      >\r\n                        <DeleteIcon />\r\n                      </IconButton>\r\n                    </ListItemSecondaryAction>\r\n                  </ListItem>\r\n                ))}\r\n              </List>\r\n            </CardContent>\r\n          </Card>\r\n        )}\r\n\r\n        {uploading && (\r\n          <Box sx={{ mb: 3 }}>\r\n            <LinearProgress />\r\n            <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mt: 1 }}>\r\n              Uploading and processing files...\r\n            </Typography>\r\n          </Box>\r\n        )}\r\n\r\n        <Box sx={{ display: 'flex', justifyContent: 'flex-end', gap: 2 }}>\r\n          <Button\r\n            variant=\"outlined\"\r\n            onClick={() => setUploadedFiles([])}\r\n            disabled={uploading || uploadedFiles.length === 0}\r\n          >\r\n            Clear All\r\n          </Button>\r\n          <Button\r\n            variant=\"contained\"\r\n            startIcon={<UploadIcon />}\r\n            onClick={handleUpload}\r\n            disabled={uploading || uploadedFiles.length === 0}\r\n          >\r\n            {uploading ? 'Processing...' : 'Upload & Process'}\r\n          </Button>\r\n        </Box>\r\n      </Paper>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default OcrUploader;\r\n"],"names":["OcrUploader","uploadedFiles","setUploadedFiles","useState","uploading","setUploading","error","setError","handleRemoveFile","index","prev","_","i","handleUpload","__async","resolve","err","jsx","Box","jsxs","Paper","Typography","Alert","EnhancedOCRUploader","Card","CardContent","List","file","ListItem","ListItemText","ListItemSecondaryAction","IconButton","DeleteIcon","LinearProgress","Button","UploadIcon"],"mappings":"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"}