{"version":3,"file":"Logs-DZqY6QnZ.js","sources":["../../src/features/system/apps/logs/Logs.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  Box,\n  Card,\n  CardContent,\n  Typography,\n  Button,\n  Grid,\n  TextField,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Alert,\n  CircularProgress,\n  IconButton,\n  Tooltip,\n  Chip,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Paper,\n  Switch,\n  FormControlLabel,\n  Select,\n  MenuItem,\n  FormControl,\n  InputLabel,\n} from '@mui/material';\nimport {\n  Refresh as RefreshIcon,\n  Visibility as VisibilityIcon,\n  Settings as SettingsIcon,\n  BugReport as BugReportIcon,\n  Info as InfoIcon,\n  Warning as WarningIcon,\n  Error as ErrorIcon,\n  Clear as ClearIcon,\n} from '@mui/icons-material';\nimport { adminAPI } from '@/admin.api';\n\n// Types\ninterface LogEntry {\n    id: string;\n    timestamp: string;\n    level: 'debug' | 'info' | 'warn' | 'error' | 'fatal';\n    component: string;\n    message: string;\n    details?: any;\n    userId?: string;\n    ip?: string;\n    method?: string;\n    url?: string;\n    statusCode?: number;\n    duration?: number;\n}\n\ninterface LogLevel {\n    component: string;\n    level: 'debug' | 'info' | 'warn' | 'error' | 'fatal';\n    enabled: boolean;\n}\n\ninterface ComponentInfo {\n    name: string;\n    icon: React.ReactNode;\n    description: string;\n    logCount: number;\n    lastActivity: string;\n}\n\n// Styled components\nconst LogContainer = styled(Box)(({ theme }) => ({\n    fontFamily: 'monospace',\n    fontSize: '12px',\n    backgroundColor: theme.palette.grey[900],\n    color: theme.palette.common.white,\n    padding: theme.spacing(1),\n    borderRadius: theme.shape.borderRadius,\n    maxHeight: '500px',\n    overflowY: 'auto',\n    border: `1px solid ${theme.palette.grey[700]}`,\n}));\n\nconst LogLine = styled(Box)<{ level: string }>(({ theme, level }) => {\n    const colors = {\n        debug: theme.palette.grey[400],\n        info: theme.palette.info.main,\n        warn: theme.palette.warning.main,\n        error: theme.palette.error.main,\n        fatal: theme.palette.error.dark,\n    };\n\n    return {\n        display: 'flex',\n        alignItems: 'flex-start',\n        padding: theme.spacing(0.5, 1),\n        borderLeft: `3px solid ${colors[level as keyof typeof colors]}`,\n        marginBottom: theme.spacing(0.5),\n        backgroundColor: `${colors[level as keyof typeof colors]}15`,\n        '&:hover': {\n            backgroundColor: `${colors[level as keyof typeof colors]}25`,\n        },\n    };\n});\n\nconst Logs: React.FC = () => {\n    const [activeTab, setActiveTab] = useState(0);\n    const [logs, setLogs] = useState<LogEntry[]>([]);\n    const [filteredLogs, setFilteredLogs] = useState<LogEntry[]>([]);\n    const [logLevels, setLogLevels] = useState<LogLevel[]>([]);\n    const [selectedComponent, setSelectedComponent] = useState<string>('all');\n    const [selectedLevel, setSelectedLevel] = useState<string>('all');\n    const [selectedSource, setSelectedSource] = useState<string>('both'); // 'memory', 'file', 'both'\n    const [searchTerm, setSearchTerm] = useState('');\n    const [isRealTime, setIsRealTime] = useState(true);\n    const [autoScroll, setAutoScroll] = useState(true);\n    const [page, setPage] = useState(0);\n    const [rowsPerPage, setRowsPerPage] = useState(25);\n    const [snackbarOpen, setSnackbarOpen] = useState(false);\n    const [snackbarMessage, setSnackbarMessage] = useState('');\n    const [availableComponents, setAvailableComponents] = useState<ComponentInfo[]>([]);\n    const logContainerRef = useRef<HTMLDivElement>(null);\n    const intervalRef = useRef<NodeJS.Timeout | EventSource | null>(null);\n\n    const components: ComponentInfo[] = [\n        {\n            name: 'Authentication',\n            icon: <IconShield size={20} />,\n            description: 'User authentication and authorization',\n            logCount: 0,\n            lastActivity: new Date().toISOString(),\n        },\n        {\n            name: 'Database',\n            icon: <IconDatabase size={20} />,\n            description: 'Database queries and operations',\n            logCount: 0,\n            lastActivity: new Date().toISOString(),\n        },\n        {\n            name: 'API Server',\n            icon: <IconServer size={20} />,\n            description: 'REST API endpoints and middleware',\n            logCount: 0,\n            lastActivity: new Date().toISOString(),\n        },\n        {\n            name: 'Email Service',\n            icon: <IconMail size={20} />,\n            description: 'Email sending and notifications',\n            logCount: 0,\n            lastActivity: new Date().toISOString(),\n        },\n        {\n            name: 'File Upload',\n            icon: <IconUpload size={20} />,\n            description: 'File uploads and processing',\n            logCount: 0,\n            lastActivity: new Date().toISOString(),\n        },\n        {\n            name: 'OCR Service',\n            icon: <IconFileText size={20} />,\n            description: 'OCR processing and document analysis',\n            logCount: 0,\n            lastActivity: new Date().toISOString(),\n        },\n        {\n            name: 'Frontend',\n            icon: <IconTerminal size={20} />,\n            description: 'Frontend application logs',\n            logCount: 0,\n            lastActivity: new Date().toISOString(),\n        },\n        {\n            name: 'Backend',\n            icon: <IconServer size={20} />,\n            description: 'Backend application server logs',\n            logCount: 0,\n            lastActivity: new Date().toISOString(),\n        },\n        {\n            name: 'Error Logs',\n            icon: <IconBug size={20} />,\n            description: 'System error logs',\n            logCount: 0,\n            lastActivity: new Date().toISOString(),\n        },\n        {\n            name: 'Combined',\n            icon: <IconAdjustments size={20} />,\n            description: 'All logs combined',\n            logCount: 0,\n            lastActivity: new Date().toISOString(),\n        },\n    ];\n\n    useEffect(() => {\n        initializeLogLevels();\n        loadInitialLogs();\n\n        if (isRealTime) {\n            startRealTimeLogging();\n        } else {\n            stopRealTimeLogging();\n        }\n\n        return () => stopRealTimeLogging();\n    }, [isRealTime]);\n\n    useEffect(() => {\n        filterLogs();\n    }, [logs, selectedComponent, selectedLevel, searchTerm]);\n\n    useEffect(() => {\n        loadInitialLogs();\n    }, [selectedSource, selectedComponent, selectedLevel]);\n\n    useEffect(() => {\n        if (autoScroll && logContainerRef.current) {\n            logContainerRef.current.scrollTop = logContainerRef.current.scrollHeight;\n        }\n    }, [filteredLogs, autoScroll]);\n\n    const initializeLogLevels = async () => {\n        try {\n            const response = await fetch('/api/logs/components', {\n                method: 'GET',\n                credentials: 'include',\n            });\n\n            if (response.ok) {\n                const data = await response.json();\n                const levels: LogLevel[] = data.components.map((comp: any) => ({\n                    component: comp.name,\n                    level: comp.level,\n                    enabled: comp.enabled,\n                }));\n                setLogLevels(levels);\n            } else {\n                // Fallback to initial levels\n                const initialLevels: LogLevel[] = components.map(component => ({\n                    component: component.name,\n                    level: 'info',\n                    enabled: true,\n                }));\n                setLogLevels(initialLevels);\n            }\n        } catch (error) {\n            console.error('Error initializing log levels:', error);\n            // Fallback to initial levels\n            const initialLevels: LogLevel[] = components.map(component => ({\n                component: component.name,\n                level: 'info',\n                enabled: true,\n            }));\n            setLogLevels(initialLevels);\n        }\n    };\n\n    const loadInitialLogs = async () => {\n        try {\n            const params = new URLSearchParams({\n                limit: '100',\n                offset: '0',\n                source: selectedSource,\n                component: selectedComponent,\n                level: selectedLevel\n            });\n\n            const response = await fetch(`/api/logs?${params}`, {\n                method: 'GET',\n                credentials: 'include',\n            });\n\n            if (response.ok) {\n                const data = await response.json();\n                setLogs(data.logs);\n                \n                // Update available components from server\n                if (data.components) {\n                    setAvailableComponents(data.components);\n                }\n            } else {\n                console.error('Failed to load logs');\n            }\n        } catch (error) {\n            console.error('Error loading logs:', error);\n        }\n    };\n\n    const startRealTimeLogging = () => {\n        if (typeof EventSource !== 'undefined') {\n            const eventSource = new EventSource(`/api/logs/stream?component=${selectedComponent}&level=${selectedLevel}`);\n\n            eventSource.onmessage = (event) => {\n                const data = JSON.parse(event.data);\n                if (data.type === 'log') {\n                    setLogs(prev => [...prev, data.data].slice(-1000));\n                }\n            };\n\n            eventSource.onerror = (error) => {\n                console.error('EventSource failed:', error);\n                eventSource.close();\n                // Fallback to polling\n                intervalRef.current = setInterval(() => {\n                    fetchNewLogs();\n                }, 2000);\n            };\n\n            // Store reference for cleanup\n            intervalRef.current = eventSource as any;\n        } else {\n            // Fallback to polling for browsers without EventSource\n            intervalRef.current = setInterval(() => {\n                fetchNewLogs();\n            }, 2000);\n        }\n    };\n\n    const stopRealTimeLogging = () => {\n        if (intervalRef.current) {\n            if (intervalRef.current instanceof EventSource) {\n                intervalRef.current.close();\n            } else {\n                clearInterval(intervalRef.current);\n            }\n            intervalRef.current = null;\n        }\n    };\n\n    const fetchNewLogs = async () => {\n        try {\n            const params = new URLSearchParams({\n                limit: '10',\n                offset: '0',\n                component: selectedComponent,\n                level: selectedLevel,\n                source: selectedSource\n            });\n\n            const response = await fetch(`/api/logs?${params}`, {\n                method: 'GET',\n                credentials: 'include',\n            });\n\n            if (response.ok) {\n                const data = await response.json();\n                if (data.logs.length > 0) {\n                    setLogs(prev => {\n                        const newLogs = data.logs.filter((newLog: LogEntry) =>\n                            !prev.some(existingLog => existingLog.id === newLog.id)\n                        );\n                        return [...prev, ...newLogs].slice(-1000);\n                    });\n                }\n            }\n        } catch (error) {\n            console.error('Error fetching new logs:', error);\n        }\n    };\n\n    const filterLogs = () => {\n        let filtered = logs;\n\n        if (selectedComponent !== 'all') {\n            filtered = filtered.filter(log => log.component === selectedComponent);\n        }\n\n        if (selectedLevel !== 'all') {\n            filtered = filtered.filter(log => log.level === selectedLevel);\n        }\n\n        if (searchTerm) {\n            filtered = filtered.filter(log =>\n                log.message.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                log.component.toLowerCase().includes(searchTerm.toLowerCase())\n            );\n        }\n\n        setFilteredLogs(filtered);\n    };\n\n    const updateLogLevel = async (component: string, level: string) => {\n        try {\n            const response = await fetch(`/api/logs/shared/ui/legacy/${component}/level`, {\n                method: 'PUT',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                credentials: 'include',\n                body: JSON.stringify({ level }),\n            });\n\n            if (response.ok) {\n                setLogLevels(prev => prev.map(item =>\n                    item.component === component ? { ...item, level: level as any } : item\n                ));\n\n                setSnackbarMessage(`Log level updated for ${component}`);\n                setSnackbarOpen(true);\n            } else {\n                throw new Error('Failed to update log level');\n            }\n        } catch (error) {\n            console.error('Error updating log level:', error);\n            setSnackbarMessage('Failed to update log level');\n            setSnackbarOpen(true);\n        }\n    };\n\n    const toggleComponent = async (component: string) => {\n        try {\n            const response = await fetch(`/api/logs/shared/ui/legacy/${component}/toggle`, {\n                method: 'PUT',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                credentials: 'include',\n            });\n\n            if (response.ok) {\n                setLogLevels(prev => prev.map(item =>\n                    item.component === component ? { ...item, enabled: !item.enabled } : item\n                ));\n\n                const currentState = logLevels.find(l => l.component === component);\n                setSnackbarMessage(`Logging ${currentState?.enabled ? 'disabled' : 'enabled'} for ${component}`);\n                setSnackbarOpen(true);\n            } else {\n                throw new Error('Failed to toggle component logging');\n            }\n        } catch (error) {\n            console.error('Error toggling component:', error);\n            setSnackbarMessage('Failed to toggle component logging');\n            setSnackbarOpen(true);\n        }\n    };\n\n    const clearLogs = async () => {\n        try {\n            const response = await fetch('/api/logs', {\n                method: 'DELETE',\n                credentials: 'include',\n            });\n\n            if (response.ok) {\n                setLogs([]);\n                setSnackbarMessage('Logs cleared');\n                setSnackbarOpen(true);\n            } else {\n                throw new Error('Failed to clear logs');\n            }\n        } catch (error) {\n            console.error('Error clearing logs:', error);\n            setSnackbarMessage('Failed to clear logs');\n            setSnackbarOpen(true);\n        }\n    };\n\n    const exportLogs = () => {\n        const dataStr = JSON.stringify(filteredLogs, null, 2);\n        const dataBlob = new Blob([dataStr], { type: 'application/json' });\n        const url = URL.createObjectURL(dataBlob);\n        const link = document.createElement('a');\n        link.href = url;\n        link.download = `logs-${new Date().toISOString().split('T')[0]}.json`;\n        link.click();\n        URL.revokeObjectURL(url);\n\n        setSnackbarMessage('Logs exported successfully');\n        setSnackbarOpen(true);\n    };\n\n    const generateTestLogs = async () => {\n        try {\n            const response = await fetch('/api/logs/test', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                credentials: 'include',\n                body: JSON.stringify({ count: 10, component: 'API Server' }),\n            });\n\n            if (response.ok) {\n                setSnackbarMessage('Test logs generated successfully');\n                setSnackbarOpen(true);\n                // Refresh logs to see the new entries\n                loadInitialLogs();\n            } else {\n                throw new Error('Failed to generate test logs');\n            }\n        } catch (error) {\n            console.error('Error generating test logs:', error);\n            setSnackbarMessage('Failed to generate test logs');\n            setSnackbarOpen(true);\n        }\n    };\n\n    const getLevelIcon = (level: string) => {\n        switch (level) {\n            case 'debug': return <IconBug size={16} />;\n            case 'info': return <IconInfoCircle size={16} />;\n            case 'warn': return <IconAlertTriangle size={16} />;\n            case 'error': return <IconX size={16} />;\n            case 'fatal': return <IconX size={16} />;\n            default: return <IconInfoCircle size={16} />;\n        }\n    };\n\n    const getLevelColor = (level: string) => {\n        switch (level) {\n            case 'debug': return 'default';\n            case 'info': return 'info';\n            case 'warn': return 'warning';\n            case 'error': return 'error';\n            case 'fatal': return 'error';\n            default: return 'default';\n        }\n    };\n\n    const getLogStats = () => {\n        const stats = {\n            debug: 0,\n            info: 0,\n            warn: 0,\n            error: 0,\n            fatal: 0,\n            total: logs.length\n        };\n        \n        logs.forEach(log => {\n            if (stats.hasOwnProperty(log.level)) {\n                stats[log.level as keyof typeof stats]++;\n            }\n        });\n        \n        return stats;\n    };\n\n    const logStats = getLogStats();\n\n    const BCrumb = [\n        {\n            to: '/',\n            title: 'Home',\n        },\n        {\n            title: 'Logs',\n        },\n    ];\n\n    return (\n        <PageContainer title=\"Logs\" description=\"System logs and monitoring\">\n            <Breadcrumb title=\"System Logs\" items={BCrumb} />\n\n            <Card>\n                <CardContent>\n                    <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={3}>\n                        <Typography variant=\"h4\">System Logs</Typography>\n                        <Box display=\"flex\" gap={1}>\n                            <FormControlLabel\n                                control={\n                                    <Switch\n                                        checked={isRealTime}\n                                        onChange={(e) => setIsRealTime(e.target.checked)}\n                                    />\n                                }\n                                label=\"Real-time\"\n                            />\n                            <FormControlLabel\n                                control={\n                                    <Switch\n                                        checked={autoScroll}\n                                        onChange={(e) => setAutoScroll(e.target.checked)}\n                                    />\n                                }\n                                label=\"Auto-scroll\"\n                            />\n                            <Button\n                                variant=\"outlined\"\n                                size=\"small\"\n                                startIcon={<IconRefresh />}\n                                onClick={loadInitialLogs}\n                            >\n                                Refresh\n                            </Button>\n                            <Button\n                                variant=\"outlined\"\n                                size=\"small\"\n                                startIcon={<IconDownload />}\n                                onClick={exportLogs}\n                            >\n                                Export\n                            </Button>\n                            <Button\n                                variant=\"outlined\"\n                                size=\"small\"\n                                color=\"error\"\n                                startIcon={<IconClearAll />}\n                                onClick={clearLogs}\n                            >\n                                Clear\n                            </Button>\n                            <Button\n                                variant=\"outlined\"\n                                size=\"small\"\n                                color=\"warning\"\n                                startIcon={<IconBug />}\n                                onClick={() => generateTestLogs()}\n                                sx={{ ml: 1 }}\n                            >\n                                Test Logs\n                            </Button>\n                        </Box>\n                    </Box>\n\n                    <Tabs value={activeTab} onChange={(_e, value) => setActiveTab(value)} sx={{ mb: 3 }}>\n                        <Tab\n                            label={\n                                <Box display=\"flex\" alignItems=\"center\" gap={1}>\n                                    <IconTerminal size={16} />\n                                    Site Logs\n                                    <Badge badgeContent={filteredLogs.length} color=\"primary\" max={999} />\n                                </Box>\n                            }\n                        />\n                        <Tab\n                            label={\n                                <Box display=\"flex\" alignItems=\"center\" gap={1}>\n                                    <IconAdjustments size={16} />\n                                    Component Logs\n                                </Box>\n                            }\n                        />\n                        <Tab\n                            label={\n                                <Box display=\"flex\" alignItems=\"center\" gap={1}>\n                                    <IconSettings size={16} />\n                                    Log Levels\n                                </Box>\n                            }\n                        />\n                    </Tabs>\n\n                    {/* Site Logs Tab */}\n                    {activeTab === 0 && (\n                        <Box>\n                            {/* Filters */}\n                            <Box mb={3}>\n                                <Box display=\"flex\" gap={2} flexWrap=\"wrap\" alignItems=\"center\">\n                                    <Box minWidth=\"200px\">\n                                        <FormControl fullWidth size=\"small\">\n                                            <InputLabel>Log Level</InputLabel>\n                                            <Select\n                                                value={selectedLevel}\n                                                label=\"Log Level\"\n                                                onChange={(e) => setSelectedLevel(e.target.value)}\n                                            >\n                                                <MenuItem value=\"all\">All Levels</MenuItem>\n                                                <MenuItem value=\"debug\">Debug</MenuItem>\n                                                <MenuItem value=\"info\">Info</MenuItem>\n                                                <MenuItem value=\"warn\">Warning</MenuItem>\n                                                <MenuItem value=\"error\">Error</MenuItem>\n                                                <MenuItem value=\"fatal\">Fatal</MenuItem>\n                                            </Select>\n                                        </FormControl>\n                                    </Box>\n                                    <Box minWidth=\"200px\">\n                                        <FormControl fullWidth size=\"small\">\n                                            <InputLabel>Component</InputLabel>\n                                            <Select\n                                                value={selectedComponent}\n                                                label=\"Component\"\n                                                onChange={(e) => setSelectedComponent(e.target.value)}\n                                            >\n                                                <MenuItem value=\"all\">All Components</MenuItem>\n                                                {components.map((component) => (\n                                                    <MenuItem key={component.name} value={component.name}>\n                                                        <Box display=\"flex\" alignItems=\"center\" gap={1}>\n                                                            {component.icon}\n                                                            {component.name}\n                                                        </Box>\n                                                    </MenuItem>\n                                                ))}\n                                            </Select>\n                                        </FormControl>\n                                    </Box>\n                                    <Box minWidth=\"200px\">\n                                        <FormControl fullWidth size=\"small\">\n                                            <InputLabel>Log Source</InputLabel>\n                                            <Select\n                                                value={selectedSource}\n                                                label=\"Log Source\"\n                                                onChange={(e) => setSelectedSource(e.target.value)}\n                                            >\n                                                <MenuItem value=\"both\">\n                                                    <Box display=\"flex\" alignItems=\"center\" gap={1}>\n                                                        <IconAdjustments size={16} />\n                                                        All Sources\n                                                    </Box>\n                                                </MenuItem>\n                                                <MenuItem value=\"memory\">\n                                                    <Box display=\"flex\" alignItems=\"center\" gap={1}>\n                                                        <IconTerminal size={16} />\n                                                        Real-time (Memory)\n                                                    </Box>\n                                                </MenuItem>\n                                                <MenuItem value=\"file\">\n                                                    <Box display=\"flex\" alignItems=\"center\" gap={1}>\n                                                        <IconFileText size={16} />\n                                                        Log Files\n                                                    </Box>\n                                                </MenuItem>\n                                            </Select>\n                                        </FormControl>\n                                    </Box>\n                                    <Box flexGrow={1} minWidth=\"300px\">\n                                        <TextField\n                                            fullWidth\n                                            size=\"small\"\n                                            placeholder=\"Search logs...\"\n                                            value={searchTerm}\n                                            onChange={(e) => setSearchTerm(e.target.value)}\n                                            InputProps={{\n                                                startAdornment: <IconSearch size={16} style={{ marginRight: 8 }} />,\n                                            }}\n                                        />\n                                    </Box>\n                                </Box>\n                            </Box>\n\n                            {/* Log Statistics */}\n                            <Box mb={2} display=\"flex\" gap={2} flexWrap=\"wrap\" alignItems=\"center\">\n                                <Typography variant=\"body2\" color=\"textSecondary\" sx={{ fontWeight: 'bold' }}>\n                                    Log Statistics:\n                                </Typography>\n                                <Chip size=\"small\" label={`Total: ${logStats.total}`} variant=\"outlined\" />\n                                <Chip size=\"small\" label={`Debug: ${logStats.debug}`} color=\"default\" variant=\"outlined\" />\n                                <Chip size=\"small\" label={`Info: ${logStats.info}`} color=\"info\" variant=\"outlined\" />\n                                <Chip size=\"small\" label={`Warn: ${logStats.warn}`} color=\"warning\" variant=\"outlined\" />\n                                <Chip size=\"small\" label={`Error: ${logStats.error}`} color=\"error\" variant=\"outlined\" />\n                                <Chip size=\"small\" label={`Fatal: ${logStats.fatal}`} color=\"error\" variant=\"outlined\" />\n                                {(selectedLevel !== 'all' || selectedComponent !== 'all' || searchTerm) && (\n                                    <Chip \n                                        size=\"small\" \n                                        label={`Filtered: ${filteredLogs.length}`} \n                                        color=\"secondary\" \n                                        variant=\"filled\"\n                                    />\n                                )}\n                            </Box>\n\n                            {/* Real-time Log Display */}\n                            <LogContainer ref={logContainerRef}>\n                                {filteredLogs.length === 0 ? (\n                                    <Box textAlign=\"center\" py={4}>\n                                        <Typography variant=\"body2\" color=\"textSecondary\">\n                                            No logs found matching the current filters\n                                        </Typography>\n                                    </Box>\n                                ) : (\n                                    filteredLogs.map((log) => (\n                                        <LogLine key={log.id} level={log.level}>\n                                            <Box mr={2} display=\"flex\" alignItems=\"center\" minWidth=\"120px\">\n                                                <Typography variant=\"caption\" sx={{ fontFamily: 'monospace' }}>\n                                                    {new Date(log.timestamp).toLocaleTimeString()}\n                                                </Typography>\n                                            </Box>\n                                            <Box mr={2} display=\"flex\" alignItems=\"center\" minWidth=\"80px\">\n                                                <Chip\n                                                    size=\"small\"\n                                                    label={log.level.toUpperCase()}\n                                                    color={getLevelColor(log.level) as any}\n                                                    icon={getLevelIcon(log.level)}\n                                                    sx={{ fontSize: '10px', height: '20px' }}\n                                                />\n                                            </Box>\n                                            <Box mr={2} minWidth=\"120px\">\n                                                <Typography variant=\"caption\" sx={{ fontWeight: 'bold' }}>\n                                                    {log.component}\n                                                </Typography>\n                                            </Box>\n                                            <Box mr={2} minWidth=\"60px\">\n                                                <Chip\n                                                    size=\"small\"\n                                                    label={(log as any).source === 'file' ? 'FILE' : 'LIVE'}\n                                                    color={(log as any).source === 'file' ? 'secondary' : 'success'}\n                                                    sx={{ fontSize: '9px', height: '18px', minWidth: '50px' }}\n                                                />\n                                            </Box>\n                                            <Box flexGrow={1}>\n                                                <Typography variant=\"caption\">{log.message}</Typography>\n                                                {log.details && (\n                                                    <Box mt={0.5}>\n                                                        <Typography variant=\"caption\" sx={{ opacity: 0.7 }}>\n                                                            {JSON.stringify(log.details)}\n                                                        </Typography>\n                                                    </Box>\n                                                )}\n                                            </Box>\n                                        </LogLine>\n                                    ))\n                                )}\n                            </LogContainer>\n\n                            {/* Pagination for table view */}\n                            <Box mt={2}>\n                                <TablePagination\n                                    component=\"div\"\n                                    count={filteredLogs.length}\n                                    page={page}\n                                    onPageChange={(_e, newPage) => setPage(newPage)}\n                                    rowsPerPage={rowsPerPage}\n                                    onRowsPerPageChange={(e) => setRowsPerPage(parseInt(e.target.value, 10))}\n                                    rowsPerPageOptions={[10, 25, 50, 100]}\n                                />\n                            </Box>\n\n                            {/* Log Level Statistics */}\n                            <Box mt={3}>\n                                <Typography variant=\"subtitle1\" gutterBottom>\n                                    Log Level Statistics\n                                </Typography>\n                                <Box display=\"flex\" gap={2}>\n                                    <Chip label={`Total: ${logStats.total}`} color=\"default\" />\n                                    <Chip label={`Debug: ${logStats.debug}`} color=\"info\" />\n                                    <Chip label={`Info: ${logStats.info}`} color=\"primary\" />\n                                    <Chip label={`Warning: ${logStats.warn}`} color=\"warning\" />\n                                    <Chip label={`Error: ${logStats.error}`} color=\"error\" />\n                                    <Chip label={`Fatal: ${logStats.fatal}`} color=\"error\" variant=\"outlined\" />\n                                </Box>\n                            </Box>\n                        </Box>\n                    )}\n\n                    {/* Component Logs Tab */}\n                    {activeTab === 1 && (\n                        <Box>\n                            <Typography variant=\"h6\" gutterBottom>\n                                Component Log Sources\n                            </Typography>\n                            <Typography variant=\"body2\" color=\"textSecondary\" mb={3}>\n                                View logs from different components and sources. Each component may have both real-time logs and historical log files.\n                            </Typography>\n\n                            <Box display=\"grid\" gridTemplateColumns=\"repeat(auto-fit, minmax(350px, 1fr))\" gap={2} mb={3}>\n                                {components.map((component) => {\n                                    const componentLogs = filteredLogs.filter(log => log.component === component.name);\n                                    const fileLogs = componentLogs.filter(log => (log as any).source === 'file');\n                                    const liveLogs = componentLogs.filter(log => (log as any).source !== 'file');\n                                    \n                                    return (\n                                        <Card key={component.name} variant=\"outlined\" sx={{ \n                                            cursor: 'pointer',\n                                            '&:hover': { bgcolor: 'action.hover' }\n                                        }}\n                                        onClick={() => setSelectedComponent(component.name)}>\n                                            <CardContent>\n                                                <Box display=\"flex\" alignItems=\"center\" gap={2} mb={2}>\n                                                    {component.icon}\n                                                    <Box flexGrow={1}>\n                                                        <Typography variant=\"h6\">{component.name}</Typography>\n                                                        <Typography variant=\"caption\" color=\"textSecondary\">\n                                                            {component.description}\n                                                        </Typography>\n                                                    </Box>\n                                                    <Badge badgeContent={componentLogs.length} color=\"primary\" max={999} />\n                                                </Box>\n                                                \n                                                <Box display=\"flex\" gap={1} mb={1}>\n                                                    <Chip \n                                                        size=\"small\" \n                                                        label={`${liveLogs.length} Live`}\n                                                        color=\"success\"\n                                                        variant=\"outlined\"\n                                                    />\n                                                    <Chip \n                                                        size=\"small\" \n                                                        label={`${fileLogs.length} File`}\n                                                        color=\"secondary\"\n                                                        variant=\"outlined\"\n                                                    />\n                                                </Box>\n                                                \n                                                {componentLogs.length > 0 && (\n                                                    <Typography variant=\"caption\" color=\"textSecondary\">\n                                                        Last activity: {new Date(componentLogs[0].timestamp).toLocaleString()}\n                                                    </Typography>\n                                                )}\n                                            </CardContent>\n                                        </Card>\n                                    );\n                                })}\n                            </Box>\n\n                            {selectedComponent !== 'all' && (\n                                <Card variant=\"outlined\">\n                                    <CardContent>\n                                        <Box display=\"flex\" alignItems=\"center\" gap={2} mb={3}>\n                                            <Typography variant=\"h6\">\n                                                {selectedComponent} Logs\n                                            </Typography>\n                                            <Button \n                                                size=\"small\" \n                                                onClick={() => setSelectedComponent('all')}\n                                                variant=\"outlined\"\n                                            >\n                                                Back to All\n                                            </Button>\n                                        </Box>\n                                        \n                                        <LogContainer>\n                                            {filteredLogs\n                                                .filter(log => log.component === selectedComponent)\n                                                .map((log) => (\n                                                    <LogLine key={log.id} level={log.level}>\n                                                        <Box mr={2} display=\"flex\" alignItems=\"center\" minWidth=\"120px\">\n                                                            <Typography variant=\"caption\" sx={{ fontFamily: 'monospace' }}>\n                                                                {new Date(log.timestamp).toLocaleTimeString()}\n                                                            </Typography>\n                                                        </Box>\n                                                        <Box mr={2} display=\"flex\" alignItems=\"center\" minWidth=\"80px\">\n                                                            <Chip\n                                                                size=\"small\"\n                                                                label={log.level.toUpperCase()}\n                                                                color={getLevelColor(log.level) as any}\n                                                                icon={getLevelIcon(log.level)}\n                                                                sx={{ fontSize: '10px', height: '20px' }}\n                                                            />\n                                                        </Box>\n                                                        <Box mr={2} minWidth=\"60px\">\n                                                            <Chip\n                                                                size=\"small\"\n                                                                label={(log as any).source === 'file' ? 'FILE' : 'LIVE'}\n                                                                color={(log as any).source === 'file' ? 'secondary' : 'success'}\n                                                                sx={{ fontSize: '9px', height: '18px', minWidth: '50px' }}\n                                                            />\n                                                        </Box>\n                                                        <Box flexGrow={1}>\n                                                            <Typography variant=\"caption\">{log.message}</Typography>\n                                                            {log.details && (\n                                                                <Box mt={0.5}>\n                                                                    <Typography variant=\"caption\" sx={{ opacity: 0.7 }}>\n                                                                        {JSON.stringify(log.details)}\n                                                                    </Typography>\n                                                                </Box>\n                                                            )}\n                                                        </Box>\n                                                    </LogLine>\n                                                ))}\n                                        </LogContainer>\n                                    </CardContent>\n                                </Card>\n                            )}\n                        </Box>\n                    )}\n\n                    {/* Log Levels Tab */}\n                    {activeTab === 2 && (\n                        <Box>\n                            <Typography variant=\"h6\" gutterBottom>\n                                Configure Log Levels\n                            </Typography>\n                            <Typography variant=\"body2\" color=\"textSecondary\" mb={3}>\n                                Set the minimum log level for each component. Logs below the selected level will not be captured.\n                            </Typography>\n\n                            {components.map((component) => {\n                                const logLevel = logLevels.find(l => l.component === component.name);\n                                return (\n                                    <Accordion key={component.name}>\n                                        <AccordionSummary expandIcon={<IconChevronDown />}>\n                                            <Box display=\"flex\" alignItems=\"center\" gap={2} width=\"100%\">\n                                                {component.icon}\n                                                <Box flexGrow={1}>\n                                                    <Typography variant=\"h6\">{component.name}</Typography>\n                                                    <Typography variant=\"caption\" color=\"textSecondary\">\n                                                        {component.description}\n                                                    </Typography>\n                                                </Box>\n                                                <Box display=\"flex\" alignItems=\"center\" gap={2}>\n                                                    <Chip\n                                                        label={logLevel?.level?.toUpperCase() || 'INFO'}\n                                                        color={getLevelColor(logLevel?.level || 'info') as any}\n                                                        size=\"small\"\n                                                    />\n                                                    <Switch\n                                                        checked={logLevel?.enabled || false}\n                                                        onChange={() => toggleComponent(component.name)}\n                                                        onClick={(e) => e.stopPropagation()}\n                                                    />\n                                                </Box>\n                                            </Box>\n                                        </AccordionSummary>\n                                        <AccordionDetails>\n                                            <Box display=\"flex\" flexDirection=\"column\" gap={2}>\n                                                <FormControl fullWidth>\n                                                    <InputLabel>Log Level</InputLabel>\n                                                    <Select\n                                                        value={logLevel?.level || 'info'}\n                                                        label=\"Log Level\"\n                                                        onChange={(e) => updateLogLevel(component.name, e.target.value)}\n                                                    >\n                                                        <MenuItem value=\"debug\">\n                                                            <Box display=\"flex\" alignItems=\"center\" gap={1}>\n                                                                <IconBug size={16} />\n                                                                Debug - All messages\n                                                            </Box>\n                                                        </MenuItem>\n                                                        <MenuItem value=\"info\">\n                                                            <Box display=\"flex\" alignItems=\"center\" gap={1}>\n                                                                <IconInfoCircle size={16} />\n                                                                Info - General information\n                                                            </Box>\n                                                        </MenuItem>\n                                                        <MenuItem value=\"warn\">\n                                                            <Box display=\"flex\" alignItems=\"center\" gap={1}>\n                                                                <IconAlertTriangle size={16} />\n                                                                Warning - Potential issues\n                                                            </Box>\n                                                        </MenuItem>\n                                                        <MenuItem value=\"error\">\n                                                            <Box display=\"flex\" alignItems=\"center\" gap={1}>\n                                                                <IconX size={16} />\n                                                                Error - Error messages only\n                                                            </Box>\n                                                        </MenuItem>\n                                                        <MenuItem value=\"fatal\">\n                                                            <Box display=\"flex\" alignItems=\"center\" gap={1}>\n                                                                <IconX size={16} />\n                                                                Fatal - Critical errors only\n                                                            </Box>\n                                                        </MenuItem>\n                                                    </Select>\n                                                </FormControl>\n\n                                                <Alert severity=\"info\" sx={{ mt: 1 }}>\n                                                    Current setting: Only <strong>{logLevel?.level || 'info'}</strong> level\n                                                    and above will be logged for {component.name}.\n                                                </Alert>\n                                            </Box>\n                                        </AccordionDetails>\n                                    </Accordion>\n                                );\n                            })}\n                        </Box>\n                    )}\n                </CardContent>\n            </Card>\n\n            <Snackbar\n                open={snackbarOpen}\n                autoHideDuration={3000}\n                onClose={() => setSnackbarOpen(false)}\n                message={snackbarMessage}\n            />\n        </PageContainer>\n    );\n};\n\nexport default Logs;\n"],"names":["LogContainer","Box","theme","LogLine","level","colors","Logs","activeTab","setActiveTab","useState","logs","setLogs","filteredLogs","setFilteredLogs","logLevels","setLogLevels","selectedComponent","setSelectedComponent","selectedLevel","setSelectedLevel","selectedSource","setSelectedSource","searchTerm","setSearchTerm","isRealTime","setIsRealTime","autoScroll","setAutoScroll","page","setPage","rowsPerPage","setRowsPerPage","snackbarOpen","setSnackbarOpen","snackbarMessage","setSnackbarMessage","availableComponents","setAvailableComponents","logContainerRef","intervalRef","components","jsx","useEffect","initializeLogLevels","loadInitialLogs","startRealTimeLogging","stopRealTimeLogging","filterLogs","__async","response","levels","comp","initialLevels","component","error","params","data","eventSource","event","prev","fetchNewLogs","newLogs","newLog","existingLog","filtered","log","updateLogLevel","item","__spreadProps","__spreadValues","toggleComponent","currentState","l","clearLogs","exportLogs","dataStr","dataBlob","url","link","generateTestLogs","getLevelIcon","getLevelColor","logStats","stats","BCrumb","jsxs","Card","CardContent","Typography","FormControlLabel","Switch","e","Button","_e","value","FormControl","InputLabel","Select","MenuItem","TextField","Chip","newPage","componentLogs","fileLogs","liveLogs","logLevel","_a","Alert"],"mappings":"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"}