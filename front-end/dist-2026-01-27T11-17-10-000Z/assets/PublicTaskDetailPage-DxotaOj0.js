var f=(n,d,r)=>new Promise((m,x)=>{var o=a=>{try{i(r.next(a))}catch(c){x(c)}},u=a=>{try{i(r.throw(a))}catch(c){x(c)}},i=a=>a.done?m(a.value):Promise.resolve(a.value).then(o,u);i((r=r.apply(n,d)).next())});import{aK as b,l as w,j as e,B as s,C,$ as I,e as g,b3 as y,R as P,d as t,h as k,D as v,G as l}from"./index-CQJq875H.js";import{r as h}from"./vendor-DgfDxsY7.js";import{C as D}from"./Container-G5_yDdAc.js";import{T as A}from"./Assignment-C2pQDTWC.js";import{P as S}from"./Person-CYu5Al8v.js";import{C as B}from"./CalendarToday-CrP4f2MR.js";const _=()=>{const{id:n}=b(),d=w(),[r,m]=h.useState(null),[x,o]=h.useState(!0),[u,i]=h.useState(null);h.useEffect(()=>{f(void 0,null,function*(){if(!n){i("Task ID is required"),o(!1);return}o(!0);try{yield new Promise(T=>setTimeout(T,500));const j={id:parseInt(n),title:"Update Church Records",description:"Review and update baptism records for Q1 2024",fullDescription:"This task involves reviewing all baptism records from the first quarter of 2024, verifying their accuracy, and updating any missing information. Please ensure all records are properly documented and filed.",assignedTo:"John Doe",dueDate:"2024-02-15",status:"in_progress",priority:"high",createdAt:"2024-01-10",updatedAt:"2024-01-20"};m(j),i(null)}catch(j){i("Failed to load task. Please try again later."),console.error("Error fetching task:",j)}finally{o(!1)}})},[n]);const a=p=>{switch(p){case"completed":return"success";case"in_progress":return"info";case"pending":return"warning";default:return"default"}},c=p=>{switch(p){case"high":return"error";case"medium":return"warning";case"low":return"info";default:return"default"}};return x?e.jsx(s,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},children:e.jsx(C,{})}):u||!r?e.jsxs(D,{maxWidth:"md",sx:{py:8},children:[e.jsx(I,{severity:"error",sx:{mb:2},children:u||"Task not found"}),e.jsx(g,{startIcon:e.jsx(y,{}),onClick:()=>d("/tasks"),children:"Back to Tasks"})]}):e.jsx(s,{sx:{py:8},children:e.jsxs(D,{maxWidth:"md",children:[e.jsx(g,{startIcon:e.jsx(y,{}),onClick:()=>d("/tasks"),sx:{mb:4},children:"Back to Tasks"}),e.jsxs(P,{sx:{p:4},children:[e.jsxs(s,{sx:{mb:3},children:[e.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[e.jsx(A,{sx:{fontSize:40,color:"primary.main"}}),e.jsxs(s,{sx:{flexGrow:1},children:[e.jsx(t,{variant:"h4",gutterBottom:!0,children:r.title}),e.jsxs(s,{sx:{display:"flex",gap:1,flexWrap:"wrap",mt:1},children:[e.jsx(k,{label:r.status.replace("_"," "),color:a(r.status),size:"small"}),r.priority&&e.jsx(k,{label:`Priority: ${r.priority}`,color:c(r.priority),size:"small",variant:"outlined"})]})]})]}),e.jsx(v,{sx:{my:3}})]}),e.jsxs(l,{container:!0,spacing:3,sx:{mb:3},children:[r.assignedTo&&e.jsx(l,{item:!0,xs:12,sm:6,children:e.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(S,{color:"action"}),e.jsxs(s,{children:[e.jsx(t,{variant:"caption",color:"text.secondary",children:"Assigned To"}),e.jsx(t,{variant:"body1",children:r.assignedTo})]})]})}),r.dueDate&&e.jsx(l,{item:!0,xs:12,sm:6,children:e.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(B,{color:"action"}),e.jsxs(s,{children:[e.jsx(t,{variant:"caption",color:"text.secondary",children:"Due Date"}),e.jsx(t,{variant:"body1",children:new Date(r.dueDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]})}),r.createdAt&&e.jsx(l,{item:!0,xs:12,sm:6,children:e.jsxs(s,{children:[e.jsx(t,{variant:"caption",color:"text.secondary",children:"Created At"}),e.jsx(t,{variant:"body2",children:new Date(r.createdAt).toLocaleDateString()})]})}),r.updatedAt&&e.jsx(l,{item:!0,xs:12,sm:6,children:e.jsxs(s,{children:[e.jsx(t,{variant:"caption",color:"text.secondary",children:"Last Updated"}),e.jsx(t,{variant:"body2",children:new Date(r.updatedAt).toLocaleDateString()})]})})]}),e.jsx(v,{sx:{my:3}}),e.jsxs(s,{children:[e.jsx(t,{variant:"h6",gutterBottom:!0,children:"Description"}),e.jsx(t,{variant:"body1",color:"text.secondary",paragraph:!0,children:r.description}),r.fullDescription&&e.jsx(t,{variant:"body2",color:"text.secondary",children:r.fullDescription})]})]})]})})};export{_ as default};
//# sourceMappingURL=PublicTaskDetailPage-DxotaOj0.js.map
